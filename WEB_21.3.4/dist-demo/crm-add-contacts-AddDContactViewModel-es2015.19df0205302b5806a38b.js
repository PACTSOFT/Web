(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{"13BN":function(t,e,s){"use strict";s.d(e,"a",(function(){return n}));var i=s("Do2H"),a=s("Lp6j");class n{constructor(){this.PreferredID=0,this.AccountID=0,this.CustomerID=0,this.DetailContactID=0,this.FeatureID=0,this.FeatureNodeID=0,this.SelectedNodeID=0,this.IsEmail=!1,this.IsBulkMail=!1,this.IsMail=!1,this.IsPhone=!1,this.IsFax=!1,this.IsGroup=!1,this.ActivityXml=""}SaveDContact(){0==this.DetailContactID&&(this.GUID=a.e.NewGuid());let t=[];return t.push(this.FeatureID),t.push(this.FeatureNodeID),t.push(this.AccountID),t.push(this.CustomerID),t.push(this.DetailContactID),t.push(this.FName),t.push(this.MName),t.push(this.LName),t.push(this.XML),t.push(this.Status),t.push(this.IsGroup),t.push(!1),t.push(this.CCMapXML),t.push(this.AttachmetsXML),t.push(this.NotesXML),t.push(this.ActivityXml),t.push(this.CustomFieldsQuery),t.push(this.CustomCostCenterFieldsQuery),t.push(this.SelectedNodeID),t.push(i.a.SessionManager.CompanyGUID),t.push(this.GUID),t.push(i.a.SessionManager.UserName),t.push(i.a.SessionManager.RoleID),t.push(i.a.SessionManager.LanguageID),i.a.crmService.SaveDContact(t)}GetContactDetails(){let t=[];t.push(this.DetailContactID),t.push(i.a.SessionManager.UserID),t.push(i.a.SessionManager.RoleID),t.push(i.a.SessionManager.LanguageID);let e="?param="+JSON.stringify(t);return i.a.crmService.GetContactDetails(e)}GetContactSearchDetails(t){Logger.InfoLog("DContact:: Inside GetContactDetails");let e=[];e.push(t),e.push(i.a.SessionManager.UserID),e.push(i.a.SessionManager.LanguageID);let s="?param="+JSON.stringify(e),a=i.a.crmService.GetContactSearchDetails(s);return Logger.InfoLog("DContact:: Success: BaseService.crmService.GetContactDetails "+t.toString()),a}DeleteContact(t){Logger.InfoLog("Contact:: Entering DeleteContact");try{let e=[];return e.push(t),e.push(i.a.SessionManager.RoleID),Logger.InfoLog("Asset:: Exiting DeleteContact"),i.a.crmService.DeleteContact(e)}catch(e){return Logger.ErrorLog("Contact::DeleteContact"+e.stack),""}}}},"2mtM":function(t,e,s){"use strict";s.d(e,"a",(function(){return r}));var i=s("Do2H"),a=s("Lp6j"),n=s("ScVY"),h=s("8B8H"),o=s("ockk");class r extends n.b{constructor(t){super(),this.ListObj=new h.a,this.ColumnSpan="4",this.Parent=t,this.ListObj.Table=[],this.ListObj.Columns=[],this.ListObj.ColumnSpan=4,this.ListObj.TableColumns.push("AssignFrom"),this.ListObj.TableColumns.push("AssignTo"),this.ListObj.TableColumns.push("Date"),this.ListObj.TableColumns.push("Time");let e=new o.a;e.Header="Assign From",e.DisplayMember="AssignFrom",e.Width=250,e.ReadOnly=!0,this.ListObj.Columns.push(e),e=new o.a,e.Header="AssignTo",e.DisplayMember="AssignTo",e.Width=250,e.ReadOnly=!0,this.ListObj.Columns.push(e),e=new o.a,e.Header="Date",e.DisplayMember="Date",e.Width=250,e.ReadOnly=!0,this.ListObj.Columns.push(e),e=new o.a,e.Header="Time",e.DisplayMember="Time",e.Width=250,e.ReadOnly=!0,this.ListObj.Columns.push(e)}LoadHistroy_1(t,e){try{let t;if(this.ListObj.Clear(),null!=t&&t.Tables.length>0&&t.Tables[0].length>0)for(let e=0;e<t.Tables[0].length;e++){let s=this.ListObj.NewRow();s.AssignFrom=t.Tables[0][e].ASSIGNEDFROM.toString(),s.AssignTo=t.Tables[0][e].ASSIGNEDTO.toString(),s.Date=new Date(t.Tables[0][e].DATE).ToString(i.a.SessionManager.Preferences["Date Format"].toString()),a.e.IsEmpty(t.Tables[0][e].TIME.toString())||(s.Time=new Date(t.Tables[0][e].TIME).ToString("hh:mm:ss tt")),this.ListObj.addRow(s)}}catch(s){Logger.InfoLog("ViewAssignHistroyViewModel::Exiting LoadHistroy")}Logger.InfoLog("ViewAssignHistroyViewModel::Exiting LoadHistroy")}LoadHistroy_2(t){try{if(this.ListObj.Clear(),null!=t&&t.length>0)for(let e=0;e<t.length;e++){let s=this.ListObj.NewRow();s.AssignFrom=t[e].ASSIGNEDFROM.toString(),s.AssignTo=t[e].ASSIGNEDTO.toString(),s.Date=new Date(t[e].DATE).ToString(i.a.SessionManager.Preferences["Date Format"].toString()),a.e.IsEmpty(t[e].TIME.toString())||(s.Time=new Date(t[e].TIME).ToString("hh:mm:ss tt")),this.ListObj.addRow(s)}}catch(e){}}}},EggS:function(t,e,s){"use strict";s.d(e,"a",(function(){return h}));var i=s("Do2H"),a=s("Lp6j"),n=s("eQJW");class h{constructor(){this.CustomerID=0,this.CustomerTypeID=0,this.StatusID=0,this.AccountID=0,this.ParentID=0,this.SelectedNodeID=0,this.CodeNumber=0,this.IsGroup=!1,this.CreditDays=0,this.CreditLimit=0,this.DebitDays=0,this.Debitlimit=0,this.IsCode=!1,this.ActivityXml="",this.CCXML=""}SaveCustomerQuick(){try{let t=[];return t.push(this.CustomerID),t.push(null!=this.CustomerCode?this.CustomerCode:""),t.push(null!=this.CustomerName?this.CustomerName:""),t.push(this.StatusID),t.push(this.CodePrefix),t.push(this.CodeNumber),t.push(this.StaticFieldsQuery),t.push(this.CustomFieldsQuery),t.push(this.CustomCostCenterFieldsQuery),t.push(i.a.SessionManager.CompanyGUID),t.push(this.GUID),t.push(""),t.push(i.a.SessionManager.UserName),t.push(i.a.SessionManager.RoleID),t.push(i.a.SessionManager.LanguageID),i.a.crmService.SetCustomerQuick(t)}catch(t){return Logger.ErrorLog("Account:: SaveAccountQuick"+t.stack),""}}SaveCustomer(){Logger.InfoLog("Customer:: Inside SaveCustomer");try{0==this.CustomerID&&(this.GUID=a.e.NewGuid());let t=[];return t.push(this.CustomerID),t.push(null!=this.CustomerCode?this.CustomerCode:""),t.push(null!=this.CustomerName?this.CustomerName:""),t.push(null!=this.AliasName?this.AliasName:""),t.push(this.CustomerTypeID),t.push(this.StatusID),t.push(this.AccountID),t.push(this.SelectedNodeID),t.push(this.IsGroup),t.push(this.CreditDays),t.push(this.CreditLimit),t.push(null!=this.UserName?this.UserName:""),t.push(null!=this.Password?this.Password:""),t.push(null!=this.OnlineCustType?this.OnlineCustType:""),t.push(i.a.SessionManager.CompanyGUID),t.push(null!=this.GUID?this.GUID:"GUID"),t.push(""),t.push(i.a.SessionManager.UserName),t.push(this.CustomFieldsQuery),t.push(this.CustomCostCenterFieldsQuery),t.push(this.ContactsXML),t.push(this.AttachmetsXML),t.push(this.NotesXML),t.push(this.AddressXML),t.push(this.ActivityXml),t.push(this.CCXML),t.push(!1),t.push(null==this.PrimaryContactQuery?"":this.PrimaryContactQuery),t.push(i.a.SessionManager.RoleID),t.push(i.a.SessionManager.LanguageID),t.push(null!=this.CodePrefix?this.CodePrefix:""),t.push(this.CodeNumber),t.push(this.IsCode),i.a.crmService.SaveCustomer(t)}catch(t){return Logger.ErrorLog("Customer:: SaveCustomer"+t.stack),""}}GetCustomerDetails(){let t=i.a.crmService.GetCustomerInfo("?UserID="+i.a.SessionManager.UserID+"&RoleID="+i.a.SessionManager.RoleID+"&LangID="+i.a.SessionManager.LangID+"&CustomerID="+this.CustomerID);return!t.Columns[0].Contains("ErrorMessage")&&t.Tables.length>0&&t.Tables[0].length>0&&(this.CustomerID=parseInt(t.Tables[0][0].CustomerID),this.CustomerCode=a.e.String(t.Tables[0][0].CustomerCode),this.CustomerName=a.e.String(t.Tables[0][0].CustomerName),this.AliasName=a.e.String(t.Tables[0][0].AliasName),a.e.IsEmpty(t.Tables[0][0].CustomerTypeID)||(this.CustomerTypeID=parseInt(t.Tables[0][0].CustomerTypeID)),this.StatusID=parseInt(t.Tables[0][0].StatusID),a.e.IsEmpty(t.Tables[0][0].AccountID)||(this.AccountID=parseInt(t.Tables[0][0].AccountID)),this.IsGroup=Object(n.j)(t.Tables[0][0].IsGroup),a.e.IsEmpty(t.Tables[0][0].CreditDays)||(this.CreditDays=parseInt(t.Tables[0][0].CreditDays)),a.e.IsEmpty(t.Tables[0][0].CreditLimit)||(this.CreditLimit=parseFloat(t.Tables[0][0].CreditLimit)),this.ParentID=parseInt(t.Tables[0][0].ParentID),this.GUID=a.e.String(t.Tables[0][0].GUID),this.Description=a.e.String(t.Tables[0][0].Description),this.CodePrefix=a.e.String(t.Tables[0][0].CodePrefix),this.UserName=a.e.String(t.Tables[0][0].UserName),this.OnlineCustType=a.e.String(t.Tables[0][0].OnlineCustType),this.Password=a.e.String(t.Tables[0][0].Password),a.e.IsEmpty(t.Tables[0][0].CodeNumber)||(this.CodeNumber=parseInt(t.Tables[0][0].CodeNumber))),t}DeleteCustomer(t,e){try{let s=[];return s.push(t),s.push(e),s.push(i.a.SessionManager.RoleID),s.push(i.a.SessionManager.LanguageID),Logger.InfoLog("Customer:: Success: DBH.DeleteCustomer "+t.toString()),i.a.crmService.RemoveCustomer(s)}catch(s){return Logger.ErrorLog("LEAD::DeleteLead"+s.stack),""}}}},wJuo:function(t,e,s){"use strict";s.d(e,"a",(function(){return l}));var i=s("Do2H"),a=s("Lp6j"),n=s("eQJW"),h=s("4HhE"),o=s("OvA8"),r=s("xnJf");class l{constructor(){this.parent=null,this.SubmitClick=new h.b,this._AttachmentVisibility=!1,this.ClassName="PopupAttachmentsViewModel"}get ProductPhoto(){return this._ProductPhoto}set ProductPhoto(t){t!=this._ProductPhoto&&(this._ProductPhoto=t)}get AttachmentVisibility(){return this._AttachmentVisibility}set AttachmentVisibility(t){t!=this._AttachmentVisibility&&(this._AttachmentVisibility=t)}get Attachment(){return this._Attachment}set Attachment(t){t!=this._Attachment&&(this._Attachment=t)}get ViewAttachments(){return this._ViewAttachments}set ViewAttachments(t){t!=this._ViewAttachments&&(this._ViewAttachments=t)}OnShowAttachment(){Logger.InfoLog("AddProductViewModel::Entering OnShowAttachment"),Logger.InfoLog("AddProductViewModel::Exiting OnShowAttachment")}OnAddAttachment(){Logger.InfoLog("AddProductViewModel::Entering AddAttachment"),this.Attachment=new r.AddAttachmentViewModel,this.Attachment.AddAttachmentViewModel_2(this),Logger.InfoLog("AddProductViewModel::Entering AddAttachment")}PopupAttachmentsViewModel_1(t,e,s){var i,h,l;this.parent=s,this.AttachmentVisibility=!0,this.OnAddAttachment(),this.CostCenterID=t,this.NID=e,this._ViewAttachments=new o.ViewAttachmentViewModel(this),this.SubmitClick.Subscribe(this,"ListAttachments");let m=0,c="",u="";if("AddProductScreenViewModel"==(null===(i=this.parent)||void 0===i?void 0:i.ClassName)?(m=s.FileID,c=s.ProductPhoto,u=s.FileDescription):"AddEditAccountViewModel"==(null===(h=this.parent)||void 0===h?void 0:h.ClassName)||"AddUsersViewModel"==(null===(l=this.parent)||void 0===l?void 0:l.ClassName)?(m=s.FileID,c=s.AccountPhoto):(m=this.parent.FileID,c=this.parent.AccountPhoto,u=this.parent.FileDescription),null!=s){if(!a.e.IsEmpty(c)){let t=new r.AddAttachmentViewModel;if(t.AddAttachmentViewModel_2(this),t.AttachmentID=m,m>0){let e=null;"AddProductScreenViewModel"==this.parent.ClassName||"AddEditAccountViewModel"==this.parent.ClassName?e=s.ds.Tables[4].filter(t=>t.FileID==m):"AddUsersViewModel"==this.parent.ClassName||"AddCostCenterViewModel"==this.parent.ClassName?e=this.parent.ds.Tables[3].filter(t=>t.FileID==m):"AddEditEmpMasterViewModel"==this.parent.ClassName?e=this.parent.dsEdit.Tables[3].filter(t=>t.FileID==m):"AddEditPropertyViewModel"==s.ClassName?e=s.ds.Tables[18].filter(t=>t.FileID==m):"AddEditUnitsViewModel"==s.ClassName?e=s.ds.Tables[6].filter(t=>t.FileID==m):"AddEditTenantViewModel"==s.ClassName&&(e=s.Dset.Tables[4].filter(t=>t.FileID==m)),e.length>0&&(t.ActualFileName=e[0].ActualFileName.toString(),t.FileExtension=e[0].FileExtension.toString(),t.FileDescription=e[0].FileDescription.toString(),t.FilePath="",t.Guid=e[0].GUID.toString(),t.RelativeFileName=e[0].RelativeFileName.toString(),t.MainFilePath=e[0].FilePath.toString(),t.IsProductImage=!0,t.IsDefaultImage=!0,t.IsDefaultImageVisible=!0,t.CancelVisible=!1,t.Guid=e[0].GUID.toString(),a.e.hasprop(e[0],"HasThumb")&&(t.HasThumb=Object(n.j)(e[0].HasThumb)))}else{t.FilePath=c,t.MainFilePath=c,t.RelativeFileName=c,t.ActualFileName=t.FilePath.substr(t.FilePath.lastIndexOf("\\")+1);let e=t.FilePath.split("."),s="";e.length>1&&(s=e[e.length-1]),t.FileExtension=s,t.FileDescription=u,t.IsProductImage=!0,t.IsDefaultImage=!0,t.IsDefaultImageVisible=!0,t.CancelVisible=!1,t.Guid=this.parent.guid}this.ViewAttachments.AttachmentsList.push(t)}let t=[];(a.e.IsType(s,"IAttachment")||a.e.hasprop(s,"ViewAttachments"))&&(t=this.parent.ViewAttachments.AttachmentsList),t.forEach(t=>{if(t.IsProductImage){let e=new r.AddAttachmentViewModel;e.AddAttachmentViewModel_2(this),e.AttachmentID=t.AttachmentID,e.ActualFileName=t.ActualFileName,e.FileExtension=t.FileExtension,e.FileDescription=t.FileDescription,e.MainFilePath=t.MainFilePath,e.FilePath=t.FilePath,e.Guid=t.guid,e.RelativeFileName=t.RelativeFileName,e.IsProductImage=t.IsProductImage,e.IsDefaultImage=t.IsDefaultImage,e.IsDefaultImageVisible=!0,e.HasThumb=t.HasThumb,this.ViewAttachments.AttachmentsList.push(e)}})}}ListAttachments(t){if("Submit"==t.toString()){if("AddProductScreenViewModel"==this.parent.ClassName){let t=0;this.ViewAttachments.AttachmentsList.forEach(e=>{var s=this.parent.ViewAttachments.AttachmentsList.filter(t=>t.RelativeFileName==e.RelativeFileName);e.IsDefaultImage?(t++,null!=s&&s.length>0&&this.parent.ViewAttachments.AttachmentsList.Remove(s),(a.e.IsEmpty(e.FilePath)||this.parent.ProductPhoto==e.FilePath)&&this.parent.ProductPhoto.Contains(a.e.GetPath(e.guid+"."+e.FileExtension))||(this.parent.FileID=e.AttachmentID,this.parent.ProductPhoto=a.e.IsEmpty(e.guid)?e.FilePath:a.e.GetPath(e.guid+"."+e.FileExtension),this.parent.ActualFileName=e.ActualFileName,this.parent.ThumbnailPhoto=e.ThumbnailPhoto,this.parent.guid=e.guid,this.parent.Guid=e.guid,this.parent.FileExtension=e.FileExtension,this.parent.IsPhotoChanged=!0,this.parent.PhotoTextVisibility=!1,this.parent.DisplayMessage="",this.parent.MessageVisibility=!1,this.parent.FileDescription=e.FileDescription),e.IsModified=!0):null==s||0==s.length?(e.AttachmentID>0?(e.IsModified=!0,null!=(s=this.parent.ViewAttachments.AttachmentsList.filter(t=>t.AttachmentID==e.AttachmentID))&&this.parent.ViewAttachments.AttachmentsList.Remove(s)):(e.IsModified=!1,e._Flg=!0),this.parent.ViewAttachments.AttachmentsList.push(e)):(s.FileDescription=e.FileDescription,s.IsModified=!0)}),0==t&&(this.parent.ProductPhoto="",this.parent.ActualFileName="",this.parent.ThumbnailPhoto="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.DialogResult=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage="",this.parent.FileDescription=""),this.ViewAttachments.DeletedAttachments.forEach(t=>{this.parent.ViewAttachments.DeletedAttachments.push(t);let e=this.parent.ViewAttachments.AttachmentsList.find(e=>e.AttachmentID==t.AttachmentID);null!=e&&this.parent.ViewAttachments.AttachmentsList.Remove(e)})}else if("AddEditAccountViewModel"==this.parent.ClassName){let t=0;this.ViewAttachments.AttachmentsList.forEach(e=>{var s=this.parent.ViewAttachments.AttachmentsList.filter(t=>t.RelativeFileName==e.RelativeFileName);e.IsDefaultImage?(t++,null!=s&&s.length>0&&this.parent.ViewAttachments.AttachmentsList.Remove(s),(a.e.IsEmpty(e.FilePath)||this.parent.AccountPhoto==e.FilePath)&&this.parent.AccountPhoto.Contains(a.e.GetPath(e.guid+"."+e.FileExtension))||(this.parent.FileID=e.AttachmentID,this.parent.AccountPhoto=a.e.IsEmpty(e.guid)?e.FilePath:a.e.GetPath(e.guid+"."+e.FileExtension),this.parent.ActualFileName=e.ActualFileName,this.parent.guid=e.guid,this.parent.Guid=e.guid,this.parent.FileExtension=e.FileExtension,this.parent.IsPhotoChanged=!0,this.parent.PhotoTextVisibility=!1,this.parent.DisplayMessage="",this.parent.MessageVisibility=!1),e.IsModified=!0):null==s||0==s.length?(e.AttachmentID>0?(e.IsModified=!0,null!=(s=this.parent.ViewAttachments.AttachmentsList.filter(t=>t.AttachmentID==e.AttachmentID))&&this.parent.ViewAttachments.AttachmentsList.Remove(s)):(e.IsModified=!1,e._Flg=!0),this.parent.ViewAttachments.AttachmentsList.push(e)):(s.FileDescription=e.FileDescription,s.IsModified=!0)}),0==t&&(this.parent.AccountPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage=""),this.ViewAttachments.DeletedAttachments.forEach(t=>{this.parent.ViewAttachments.DeletedAttachments.push(t);let e=this.parent.ViewAttachments.AttachmentsList.filter(e=>e.AttachmentID==t.AttachmentID);null!=e&&this.parent.ViewAttachments.AttachmentsList.Remove(e)})}else if("AddUsersViewModel"==this.parent.ClassName){let t=0;this.ViewAttachments.AttachmentsList.forEach(e=>{var s=this.parent.ViewAttachments.AttachmentsList.filter(t=>t.RelativeFileName==e.RelativeFileName);e.IsDefaultImage?(t++,null!=s&&s.length>0&&this.parent.ViewAttachments.AttachmentsList.Remove(s),(a.e.IsEmpty(e.FilePath)||this.parent.AccountPhoto==e.FilePath)&&this.parent.AccountPhoto.Contains(a.e.GetPath(e.guid+"."+e.FileExtension))||(this.parent.FileID=e.AttachmentID,this.parent.AccountPhoto=a.e.IsEmpty(e.guid)?e.FilePath:a.e.GetPath(e.guid+"."+e.FileExtension),this.parent.ActualFileName=e.ActualFileName,this.parent.IsPhotoChanged=!0,this.parent.PhotoTextVisibility=!1,this.parent.DisplayMessage="",this.parent.MessageVisibility=!1),e.IsModified=!0):null==s||0==s.length?(e.AttachmentID>0?(e.IsModified=!0,null!=(s=this.parent.ViewAttachments.AttachmentsList.filter(t=>t.AttachmentID==e.AttachmentID))&&this.parent.ViewAttachments.AttachmentsList.Remove(s)):(e.IsModified=!1,e._Flg=!0),this.parent.ViewAttachments.AttachmentsList.push(e)):(s.FileDescription=e.FileDescription,s.IsModified=!0)}),0==t&&(this.parent.AccountPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.DialogResult=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage=""),this.ViewAttachments.DeletedAttachments.forEach(t=>{this.parent.ViewAttachments.DeletedAttachments.push(t);let e=this.parent.ViewAttachments.AttachmentsList.find(e=>e.AttachmentID==t.AttachmentID);e&&this.parent.ViewAttachments.AttachmentsList.Remove(e)})}else if("AddCostCenterViewModel"==this.parent.ClassName){let t=0;this.ViewAttachments.AttachmentsList.forEach(e=>{var s=this.parent.ViewAttachments.AttachmentsList.filter(t=>t.RelativeFileName==e.RelativeFileName);e.IsDefaultImage?(t++,null!=s&&s.length>0&&this.parent.ViewAttachments.AttachmentsList.Remove(s),(a.e.IsEmpty(e.FilePath)||this.parent.AccountPhoto==e.FilePath)&&this.parent.AccountPhoto.Contains(a.e.GetPath(e.guid))||(this.parent.FileID=e.AttachmentID,this.parent.AccountPhoto=a.e.IsEmpty(e.guid)?e.FilePath:a.e.GetPath(e.guid),this.parent.ThumbnailPhoto=e.ThumbnailPhoto,this.parent.ActualFileName=e.ActualFileName,this.parent.guid=e.guid,this.parent.Guid=e.guid,this.parent.FileExtension=e.FileExtension,this.parent.IsPhotoChanged=!0,this.parent.PhotoTextVisibility=!1,this.parent.DisplayMessage="",this.parent.MessageVisibility=!1),e.IsModified=!0):null==s||0==s.length?(e.AttachmentID>0?(e.IsModified=!0,null!=(s=this.parent.ViewAttachments.AttachmentsList.filter(t=>t.AttachmentID==e.AttachmentID))&&this.parent.ViewAttachments.AttachmentsList.Remove(s)):(e.IsModified=!1,e._Flg=!0),this.parent.ViewAttachments.AttachmentsList.push(e)):(s.FileDescription=e.FileDescription,s.IsModified=!0)}),0==t&&(this.parent.AccountPhoto="",this.parent.ThumbnailPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage=""),this.ViewAttachments.DeletedAttachments.forEach(t=>{this.parent.ViewAttachments.DeletedAttachments.push(t);let e=this.parent.ViewAttachments.AttachmentsList.find(e=>e.AttachmentID==t.AttachmentID);e&&this.parent.ViewAttachments.AttachmentsList.Remove(e)})}else if("AddEditEmpMasterViewModel"==this.parent.ClassName||"AddEditPropertyViewModel"==this.parent.ClassName||"AddEditUnitsViewModel"==this.parent.ClassName||"AddEditTenantViewModel"==this.parent.ClassName){let t=0;this.ViewAttachments.AttachmentsList.forEach(e=>{var s=this.parent.ViewAttachments.AttachmentsList.filter(t=>t.RelativeFileName==e.RelativeFileName);e.IsDefaultImage?(t++,null!=s&&this.parent.ViewAttachments.AttachmentsList.Remove(s),(a.e.IsEmpty(e.FilePath)||this.parent.AccountPhoto==e.FilePath)&&this.parent.AccountPhoto.Contains(a.e.GetPath(e.guid+"."+e.FileExtension))||(this.parent.FileID=e.AttachmentID,this.parent.AccountPhoto=a.e.IsEmpty(e.guid)?e.FilePath:a.e.GetPath(e.guid+"."+e.FileExtension),this.parent.ActualFileName=e.ActualFileName,this.parent.IsPhotoChanged=!0,this.parent.PhotoTextVisibility=!1,this.parent.EmpAttachmentguid=e.guid.toString(),this.parent.DisplayMessage="",this.parent.FileExtension=e.FileExtension,this.parent.MessageVisibility=!1,this.parent.FileDescription=e.FileDescription),e.IsModified=!0):null==s||0==s.length?(e.AttachmentID>0?(e.IsModified=!0,null!=(s=this.parent.ViewAttachments.AttachmentsList.filter(t=>t.AttachmentID==e.AttachmentID))&&this.parent.ViewAttachments.AttachmentsList.Remove(s)):(e.IsModified=!1,e._Flg=!0),this.parent.ViewAttachments.AttachmentsList.push(e)):(s.FileDescription=e.FileDescription,s.IsModified=!0)}),0==t&&(this.parent.AccountPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage="",this.parent.FileDescription=""),this.ViewAttachments.DeletedAttachments.forEach(t=>{this.parent.ViewAttachments.DeletedAttachments.push(t);let e=this.parent.ViewAttachments.AttachmentsList.filter(e=>e.AttachmentID==t.AttachmentID);null!=e&&this.parent.ViewAttachments.AttachmentsList.Remove(e)})}i.a.page.HideDialog()}else i.a.page.HideDialog()}}}}]);