(window.webpackJsonp=window.webpackJsonp||[]).push([[196],{"7Uhj":function(e,t,s){"use strict";s.r(t),s.d(t,"POSDocumentViewModel",(function(){return l}));var i=s("1Cra"),n=s("Do2H"),o=s("n56n"),a=s("Lp6j"),r=s("3WaB");class l extends i.AddEditDocumentViewModel{constructor(e,t,s,i=null,n=0){super(e,t,s,i,"POSDocumentViewModel",n),this.numPad=!0,this.RateEditable=!0,this.QtyEditable=!0,this.ConfigureScreen(),this.FillUserWiseDimensions(),this.TouchVisibility&&(this.TouchView=new r.a(this))}get FooterRow(){return this._FooterRow}set FooterRow(e){e!=this._FooterRow&&(a.e.StringIsNullOrEmpty(this.NUmpadBindingPath)&&(this.NUmpadBindingPath=""),this._FooterRow=e)}ConfigureScreen(){let e=0;for(let s=0;s<this.ButtonsLeft.length;s++)this.ButtonsLeft[s].ToolTipDescription="Pay"==this.ButtonsLeft[s].ComParam?"#df4b33":e/6==1?"#08A160":e/6==2?"#5ac360":"#057A4A",this.ButtonsLeft[s].Row=e/6,this.ButtonsLeft[s].Column=e%2,this.ButtonsLeft[s].Visible&&"Pay"!=this.ButtonsLeft[s].ComParam&&e++;var t=this.ScreenObject.ColumnSource.find(e=>"rate"==e.DisplayMember.toLowerCase());null!=t&&t.ReadOnly&&(this.RateEditable=!1),null!=(t=this.ScreenObject.ColumnSource.find(e=>"quantity"==e.DisplayMember.toLowerCase()))&&t.ReadOnly&&(this.QtyEditable=!1),this.ScreenObject.Preferences.ContainsKey("DisableNumPad")&&"True"==this.ScreenObject.Preferences.DisableNumPad&&(this.numPad=!1)}FillUserWiseDimensions(){let e=null;n.a.SessionManager.Preferences.ContainsKey("Dimension List")&&(e=n.a.SessionManager.Preferences["Dimension List"].split(",")),this.ScreenObject._CCFields.forEach(t=>{if(e&&t instanceof o.b&&e.Contains(t.CCID.toString())&&0==t.SelectedValue){let e=n.a.SessionManager.ListViewDef.filter(e=>e.CostCenterID==t.CCID);if(e=e.filter(t.TypeID>0?e=>e.ListViewTypeID==t.TypeID.toString():e=>1==e.ListViewTypeID),n.a.SessionManager.ListViewDef.Columns.Contains("ColumnType")&&(e=e.filter(e=>1==e.ColumnType)),e.length>0){let s;s=t.CustomWhere&&t.CustomWhere.startsWith("  JOIN")?n.a.admin.GetCostCenterListViewData(parseInt(e[0].ListViewID.toString()),"a."+e[0].SysColumnName.toString(),e[0].SysColumnName.toString(),5,t.CustomWhere):n.a.admin.GetCostCenterListViewData(parseInt(e[0].ListViewID.toString()),"a."+e[0].SysColumnName.toString(),e[0].SysColumnName.toString(),5),null!=s&&s.Tables.Count>0&&!s.Tables[0].Columns.Contains("ErrorMessage")&&1==s.Tables[0].Rows.Count&&(t.SelectedValue=parseInt(s.Tables[0].Rows[0][s.Columns[0][0]]),t.DefaultValue=s.Tables[0].Rows[0][s.Columns[0][0]].toString(),t.Text=t.SelectedValueText=s.Tables[0].Rows[0][s.Columns[0][1]].toString())}}})}}}}]);