function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var o,n=_getPrototypeOf(e);if(t){var a=_getPrototypeOf(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return _possibleConstructorReturn(this,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[167,75,77,89,113,121,141,148,150,160,210,212],{EggS:function(e,t,o){"use strict";o.d(t,"a",(function(){return l}));var n=o("Do2H"),a=o("Lp6j"),i=o("eQJW"),l=function(){function e(){_classCallCheck(this,e),this.CustomerID=0,this.CustomerTypeID=0,this.StatusID=0,this.AccountID=0,this.ParentID=0,this.SelectedNodeID=0,this.CodeNumber=0,this.IsGroup=!1,this.CreditDays=0,this.CreditLimit=0,this.DebitDays=0,this.Debitlimit=0,this.IsCode=!1,this.ActivityXml="",this.CCXML=""}return _createClass(e,[{key:"SaveCustomerQuick",value:function(){try{var e=[];return e.push(this.CustomerID),e.push(null!=this.CustomerCode?this.CustomerCode:""),e.push(null!=this.CustomerName?this.CustomerName:""),e.push(this.StatusID),e.push(this.CodePrefix),e.push(this.CodeNumber),e.push(this.StaticFieldsQuery),e.push(this.CustomFieldsQuery),e.push(this.CustomCostCenterFieldsQuery),e.push(n.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(""),e.push(n.a.SessionManager.UserName),e.push(n.a.SessionManager.RoleID),e.push(n.a.SessionManager.LanguageID),n.a.crmService.SetCustomerQuick(e)}catch(t){return Logger.ErrorLog("Account:: SaveAccountQuick"+t.stack),""}}},{key:"SaveCustomer",value:function(){Logger.InfoLog("Customer:: Inside SaveCustomer");try{0==this.CustomerID&&(this.GUID=a.e.NewGuid());var e=[];return e.push(this.CustomerID),e.push(null!=this.CustomerCode?this.CustomerCode:""),e.push(null!=this.CustomerName?this.CustomerName:""),e.push(null!=this.AliasName?this.AliasName:""),e.push(this.CustomerTypeID),e.push(this.StatusID),e.push(this.AccountID),e.push(this.SelectedNodeID),e.push(this.IsGroup),e.push(this.CreditDays),e.push(this.CreditLimit),e.push(null!=this.UserName?this.UserName:""),e.push(null!=this.Password?this.Password:""),e.push(null!=this.OnlineCustType?this.OnlineCustType:""),e.push(n.a.SessionManager.CompanyGUID),e.push(null!=this.GUID?this.GUID:"GUID"),e.push(""),e.push(n.a.SessionManager.UserName),e.push(this.CustomFieldsQuery),e.push(this.CustomCostCenterFieldsQuery),e.push(this.ContactsXML),e.push(this.AttachmetsXML),e.push(this.NotesXML),e.push(this.AddressXML),e.push(this.ActivityXml),e.push(this.CCXML),e.push(!1),e.push(null==this.PrimaryContactQuery?"":this.PrimaryContactQuery),e.push(n.a.SessionManager.RoleID),e.push(n.a.SessionManager.LanguageID),e.push(null!=this.CodePrefix?this.CodePrefix:""),e.push(this.CodeNumber),e.push(this.IsCode),n.a.crmService.SaveCustomer(e)}catch(t){return Logger.ErrorLog("Customer:: SaveCustomer"+t.stack),""}}},{key:"GetCustomerDetails",value:function(){var e=n.a.crmService.GetCustomerInfo("?UserID="+n.a.SessionManager.UserID+"&RoleID="+n.a.SessionManager.RoleID+"&LangID="+n.a.SessionManager.LangID+"&CustomerID="+this.CustomerID);return!e.Columns[0].Contains("ErrorMessage")&&e.Tables.length>0&&e.Tables[0].length>0&&(this.CustomerID=parseInt(e.Tables[0][0].CustomerID),this.CustomerCode=a.e.String(e.Tables[0][0].CustomerCode),this.CustomerName=a.e.String(e.Tables[0][0].CustomerName),this.AliasName=a.e.String(e.Tables[0][0].AliasName),a.e.IsEmpty(e.Tables[0][0].CustomerTypeID)||(this.CustomerTypeID=parseInt(e.Tables[0][0].CustomerTypeID)),this.StatusID=parseInt(e.Tables[0][0].StatusID),a.e.IsEmpty(e.Tables[0][0].AccountID)||(this.AccountID=parseInt(e.Tables[0][0].AccountID)),this.IsGroup=Object(i.j)(e.Tables[0][0].IsGroup),a.e.IsEmpty(e.Tables[0][0].CreditDays)||(this.CreditDays=parseInt(e.Tables[0][0].CreditDays)),a.e.IsEmpty(e.Tables[0][0].CreditLimit)||(this.CreditLimit=parseFloat(e.Tables[0][0].CreditLimit)),this.ParentID=parseInt(e.Tables[0][0].ParentID),this.GUID=a.e.String(e.Tables[0][0].GUID),this.Description=a.e.String(e.Tables[0][0].Description),this.CodePrefix=a.e.String(e.Tables[0][0].CodePrefix),this.UserName=a.e.String(e.Tables[0][0].UserName),this.OnlineCustType=a.e.String(e.Tables[0][0].OnlineCustType),this.Password=a.e.String(e.Tables[0][0].Password),a.e.IsEmpty(e.Tables[0][0].CodeNumber)||(this.CodeNumber=parseInt(e.Tables[0][0].CodeNumber))),e}},{key:"DeleteCustomer",value:function(e,t){try{var o=[];return o.push(e),o.push(t),o.push(n.a.SessionManager.RoleID),o.push(n.a.SessionManager.LanguageID),Logger.InfoLog("Customer:: Success: DBH.DeleteCustomer "+e.toString()),n.a.crmService.RemoveCustomer(o)}catch(a){return Logger.ErrorLog("LEAD::DeleteLead"+a.stack),""}}}]),e}()},IRiK:function(e,t,o){"use strict";o.r(t),o.d(t,"GSTModule",(function(){return at}));var n,a,i=o("ofXK"),l=o("PCNd"),C=o("3Pt+"),s=o("Do2H"),r=o("Lp6j"),p=o("JIg3"),T=o("ockk"),u=o("ScVY"),D=o("vTM8"),d=o("8B8H"),m=o("4ADR"),c=o("mvPR"),I=o("ThYU"),h=o("MCLT"),y=function e(){_classCallCheck(this,e),this.CompanyStartRow=0,this.CompanyEndRow=0,this.DataStartRow=0,this.DataEndRow=0,this.TotalStartRow=0},S=function(e){return e[e.None=0]="None",e[e.GSTR1Summary=1]="GSTR1Summary",e}({}),b=((n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"ColumnsXML",value:function(t,o){if(o==S.GSTR1Summary)return e.GSTSummaryColumnsXML(t);if(e.dicReports.ContainsKey(t))return e.dicReports[t];var n="";return"ANX1_B2C"==t?n+="<XML GroupBy='PoS,Rate'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN of Recipient</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place of Supply*</Caption></Col>\n<Col ID='DifferentialTaxRate' Width='120' IsReadOnly='1'><Caption>Differential % of Tax Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='SupplyUnderSec7' Width='155' IsReadOnly='1'><Caption>Supply Covered Under Sec 7 of IGST Act*</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_B2B"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120' InUse='0'><Caption>Reverse Charge</Caption></Col>\n<Col ID='PartyType' Width='100' Combo='TEXT' InUse='0'><Caption>Party Type</Caption></Col>\n<Col ID='SaleType' Width='100' Combo='TEXT' InUse='0'><Caption>Sale Type</Caption></Col>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN/UIN of Recipient*</Caption></Col>\n<Col ID='ReceiverName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Trade/Legal  Name</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='ANX1_B2BDocType'><Caption>Document Type*</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Document Number*</Caption></Col>\n<Col ID='DocDate' Width='110' IsReadOnly='1'><Caption>Document Date*</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Document Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place of Supply*</Caption></Col>\n<Col ID='DifferentialTaxRate' Width='120' IsReadOnly='1'><Caption>Differential % of Tax Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='SupplyUnderSec7' Width='155' IsReadOnly='1'><Caption>Supply Covered Under Sec 7 of IGST Act*</Caption></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_EXP"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN/UIN of Recipient*</Caption></Col>\n<Col ID='PartyType' Width='100' Combo='TEXT' InUse='0'><Caption>Party Type</Caption></Col>\n<Col ID='SaleType' Width='100' Combo='TEXT' InUse='0'><Caption>Sale Type</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='ANX1_B2BDocType'><Caption>Document Type*</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Document Number*</Caption></Col>\n<Col ID='DocDate' Width='110' IsReadOnly='1'><Caption>Document Date*</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Document Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='ExportType' Width='140' Combo='TEXT'><Caption>Export Type*</Caption></Col>\n<Col ID='PortCode' Combo='TEXT' Width='120'><Caption>Port Code</Caption></Col>\n<Col ID='ShipBillNo' Combo='TEXT' Width='160'><Caption>Shipping Bill Number</Caption></Col>\n<Col ID='ShipBillDate' Combo='DATE' Width='150'><Caption>Shipping Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code*</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_SEZ"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='PartyType' Width='100' Combo='TEXT' InUse='0'><Caption>Party Type</Caption></Col>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN/UIN of Recipient*</Caption></Col>\n<Col ID='ReceiverName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Trade/Legal  Name</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='ANX1_B2BDocType'><Caption>Document Type*</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Document Number*</Caption></Col>\n<Col ID='DocDate' Width='110' IsReadOnly='1'><Caption>Document Date*</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Document Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place of Supply*</Caption></Col>\n<Col ID='GSTPaymentType' Width='140' Combo='TEXT'><Caption>GST Payment Type*</Caption></Col>\n<Col ID='DifferentialTaxRate' Width='120' IsReadOnly='1'><Caption>Differential % of Tax Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='WouldClaimRefund' Width='110' IsReadOnly='1'><Caption>Would You Claim Refund*</Caption></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code*</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_DE"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='PartyType' Width='100' Combo='TEXT' InUse='0'><Caption>Party Type</Caption></Col>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN/UIN of Recipient*</Caption></Col>\n<Col ID='ReceiverName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Trade/Legal  Name</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='ANX1_B2BDocType'><Caption>Document Type*</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Document Number*</Caption></Col>\n<Col ID='DocDate' Width='110' IsReadOnly='1'><Caption>Document Date*</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Document Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place of Supply*</Caption></Col>\n<Col ID='DifferentialTaxRate' Width='120' IsReadOnly='1'><Caption>Differential % of Tax Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='SupplyUnderSec7' Width='155' IsReadOnly='1'><Caption>Supply Covered Under Sec 7 of IGST Act*</Caption></Col>\n<Col ID='WouldClaimRefund' Width='110' IsReadOnly='1'><Caption>Would You Claim Refund*</Caption></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code*</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_ECOM"==t?n+="<XML GroupBy='RecipientGSTIN'>\n<Col ID='IsEcomCustomer' Width='110' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>Is Ecom Customer</Caption></Col>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN of E-com*</Caption></Col>\n<Col ID='ReceiverName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Trade/Legal  Name</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='ANX1_B2BDocType'><Caption>Document Type*</Caption></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Value of supplies made*</Caption><DType>FLOAT</DType></Col>\n<Col ID='RetInvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Value of Suppies Returned*</Caption><DType>FLOAT</DType></Col>\n<Col ID='NetValue' Combo='NUM' Width='120' IsReadOnly='1'><Caption>Net Value of Supplies</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_REV"==t?n+="<XML GroupBy='SupplierGSTIN,hsnCode,Rate'>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120' InUse='0'><Caption>Reverse Charge</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='ANX1_B2BDocType' InUse='0'><Caption>Document Type*</Caption></Col>\n\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN/PAN of Supplier*</Caption></Col>\n<Col ID='SupplierName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Trade/Legal  Name</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place of Supply*</Caption></Col>\n<Col ID='DifferentialTaxRate' Width='120' IsReadOnly='1'><Caption>Differential % of Tax Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='SupplyUnderSec7' Width='155' IsReadOnly='1'><Caption>Supply Covered Under Sec 7 of IGST Act*</Caption></Col>\n<Col ID='SupplyType' Width='100' Combo='TEXT'><Caption>Supply Type</Caption></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_IMPS"==t?n+="<XML GroupBy='PoS,hsnCode,Rate'>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120' InUse='0'><Caption>Reverse Charge</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='ANX1_B2BDocType' InUse='0'><Caption>Document Type*</Caption></Col>\n\n<Col ID='SupplierName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Trade/Legal  Name</Caption></Col>\n<Col ID='SupplyType' Width='100' Combo='TEXT'><Caption>Supply Type</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place of Supply*</Caption></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_IMPG"==t?n+="<XML GroupBy='PoS,hsnCode,BillNo,Rate'>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120' InUse='0'><Caption>Reverse Charge</Caption></Col>\n<Col ID='PartyType' Width='100' Combo='TEXT' InUse='0'><Caption>Party Type</Caption></Col>\n\n<Col ID='IMPGDocType' Width='110' IsReadOnly='1'><Caption>Document Type*</Caption></Col>\n<Col ID='PortCode' Combo='TEXT' Width='90'><Caption>Port Code*</Caption></Col>\n<Col ID='BillNo' Combo='TEXT' Width='160'><Caption>Bill of Entry Number*</Caption></Col>\n<Col ID='BillDate' Combo='DATE' Width='150'><Caption>Bill of Entry Date*</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Bill of Entry Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place of Supply*</Caption></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code*</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_IMPGSEZ"==t?n+="<XML GroupBy='SupplierGSTIN,PoS,PortCode,hsnCode,Rate'>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120' InUse='0'><Caption>Reverse Charge</Caption></Col>\n<Col ID='PartyType' Width='100' Combo='TEXT' InUse='0'><Caption>Party Type</Caption></Col>\n\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN/PAN of Supplier*</Caption></Col>\n<Col ID='SupplierName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Trade/Legal  Name</Caption></Col>\n<Col ID='IMPGDocType' Width='110' IsReadOnly='1'><Caption>Document Type*</Caption></Col>\n<Col ID='PortCode' Combo='TEXT' Width='90'><Caption>Port Code*</Caption></Col>\n<Col ID='BillNo' Combo='TEXT' Width='160'><Caption>Bill of Entry Number*</Caption></Col>\n<Col ID='BillDate' Combo='DATE' Width='150'><Caption>Bill of Entry Date*</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Bill of Entry Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place of Supply*</Caption></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code*</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_PurchaseRegister"==t?n+="<XML GroupBy='SupplierGSTIN,BillNo'>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN of supplier *</Caption></Col>\n<Col ID='SupplierName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Trade/Legal name</Caption></Col>\n<Col ID='InwardSuppType' Combo='TEXT' Width='160'><Caption>Type of inward supplies *</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='ANX1_B2BDocType'><Caption>Document Type*</Caption></Col>\n\n<Col ID='BillNo' Combo='TEXT' Width='160'><Caption>Document number *</Caption></Col>\n<Col ID='BillDate' Combo='DATE' Width='150'><Caption>Document date *</Caption><DType>DATE</DType></Col>\n\n<Col ID='TotalTax' Combo='NUM' Width='110' Agg='SUM'><Caption>TotalTax*</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"b2b"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='ReceiverName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Receiver Name</Caption></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120'><Caption>Reverse Charge</Caption></Col>\n<Col ID='ApplicableTaxRate' Combo='NUM' Width='130' IsOptional='1'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='InvType' Combo='TEXT' Width='110'><Caption>Invoice Type</Caption></Col>\n<Col ID='ECommGSTIN' Combo='TEXT' ComboDefValue='2' Width='140'><Caption>E-Commerce GSTIN</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='GSTTaxType' ComboDefValue='3' Combo='TEXT' Width='130' IsOptional='1' InUse='0'><Caption>GST Tax Type</Caption></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"b2cl"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='ApplicableTaxRate' Combo='NUM' Width='130' IsOptional='1'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='ECommGSTIN' Combo='TEXT' ComboDefValue='2' Width='140'><Caption>E-Commerce GSTIN</Caption></Col>\n<Col ID='GSTTaxType' ComboDefValue='3' Combo='TEXT' Width='130' IsOptional='1' InUse='0'><Caption>GST Tax Type</Caption></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"b2cs"==t?n+="<XML GroupBy='Type,PoS,Rate'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' InUse='0' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='Type' Width='110' Combo='TEXT'><Caption>Type</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='ApplicableTaxRate' Combo='NUM' Width='130' IsOptional='1'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='ECommGSTIN' Combo='TEXT' ComboDefValue='2' Width='140'><Caption>E-Commerce GSTIN</Caption></Col>\n<Col ID='GSTTaxType' ComboDefValue='3' Combo='TEXT' Width='130' IsOptional='1' InUse='0'><Caption>GST Tax Type</Caption></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"cdnr"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='ReceiverName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Receiver Name</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Note Number</Caption></Col>\n<Col ID='DocDate' Width='110' IsReadOnly='1'><Caption>Note Date</Caption><DType>DATE</DType></Col>\n<Col ID='DocumentType' Width='110' Combo='cdnrDocumentType'><Caption>Note Type</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120'><Caption>Reverse Charge</Caption></Col>\n<Col ID='InvType' Combo='TEXT' Width='160'><Caption>Note Supply Type</Caption></Col>\n<Col ID='InvValue' Combo='NUM' Width='140' IsOptional='1'><Caption>Note Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='ApplicableTaxRate' Combo='NUM' Width='130' IsOptional='1'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='GSTTaxType' ComboDefValue='3' Combo='TEXT' Width='130' IsOptional='1' InUse='0'><Caption>GST Tax Type</Caption></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"cdnur"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='URType' Width='140' Combo='TEXT'><Caption>UR Type</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Note Number</Caption></Col>\n<Col ID='DocDate' Width='110' IsReadOnly='1'><Caption>Note Date</Caption><DType>DATE</DType></Col>\n<Col ID='DocumentType' Width='110' Combo='cdnrDocumentType'><Caption>Note Type</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='InvValue' Combo='NUM' Width='140' IsOptional='1'><Caption>Note Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='ApplicableTaxRate' Combo='NUM' Width='130' IsOptional='1'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='GSTTaxType' ComboDefValue='3' Combo='TEXT' Width='130' IsOptional='1' InUse='0'><Caption>GST Tax Type</Caption></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"exp"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='ExportType' Width='140' Combo='TEXT'><Caption>Export Type</Caption></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PortCode' Combo='TEXT' Width='120'><Caption>Port Code</Caption></Col>\n<Col ID='ShipBillNo' Combo='TEXT' Width='160'><Caption>Shipping Bill Number</Caption></Col>\n<Col ID='ShipBillDate' Combo='DATE' Width='150'><Caption>Shipping Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"at"==t?n+="<XML GroupBy='PoS,Rate'>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='ApplicableTaxRate' Combo='NUM' Width='130' IsOptional='1'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvReceived' Combo='NUM' Width='150' Agg='SUM'><Caption>Gross Advance Received</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"atadj"==t?n+="<XML GroupBy='PoS,Rate'>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='ApplicableTaxRate' Combo='NUM' Width='130' IsOptional='1'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvReceived' Combo='NUM' Width='150' Agg='SUM' InUse='0'><Caption>Gross Advance Received</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvAdjusted' Combo='NUM' Width='150' Agg='SUM' IsReadOnly='1'><Caption>Gross Advance Adjusted</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"exemp"==t?n+="<XML>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120' InUse='0'><Caption>Place Of Supply</Caption></Col>\n<Col ID='Description' Width='240' IsReadOnly='1'><Caption>Description</Caption></Col>\n<Col ID='Value' Combo='NUM' Width='120' Agg='SUM' InUse='0'><Caption>Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='NilRated' ComboDefValue='3' Combo='TEXT' Width='140' Agg='SUM'><Caption>Nil Rated Supplies</Caption><DType>FLOAT</DType></Col>\n<Col ID='Exempted' ComboDefValue='3' Combo='TEXT' Width='180' Agg='SUM'><Caption>Exempted(other than nil rated/non GST supply)</Caption><DType>FLOAT</DType></Col>\n<Col ID='NonGST' ComboDefValue='3' Combo='TEXT' Width='140' Agg='SUM'><Caption>Non-GST supplies</Caption><DType>FLOAT</DType></Col>\n</XML>":"hsn"==t?n+="<XML GroupBy='HSN,UQC,Rate'>\n<Col ID='HSN' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>HSN</Caption></Col>\n<Col ID='Description' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Description</Caption></Col>\n<Col ID='PRType' Width='160' Combo='TEXT' ComboDefValue='3' IsOptional='1'><Caption>Product Type</Caption></Col>\n<Col ID='UQC' Width='160' Combo='TEXTUOM' IsOptional='1'><Caption>UQC</Caption></Col>\n<Col ID='TotalQty' Combo='NUM' Width='120' Agg='SUM'><Caption>Total Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='TotalValue' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Total Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Agg='SUM' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"docs"==t?n+="<XML>\n<Col ID='NatureofDocument' Width='280' Combo='NatureofDocument'><Caption>Nature of Document</Caption></Col>\n<Col ID='SrNoFrom' Width='120' IsReadOnly='1'><Caption>Sr. No. From</Caption></Col>\n<Col ID='SrNoTo' Width='120' IsReadOnly='1'><Caption>Sr. No. To</Caption></Col>\n<Col ID='TotalNumber' Width='120' IsReadOnly='1' Decimals='0'><Caption>Total Number</Caption><DType>FLOAT</DType></Col>\n<Col ID='Cancelled' Width='110' IsReadOnly='1' Decimals='0'><Caption>Cancelled</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR1Summary"==t?n+="<XML>\n<Col ID='Particulars' Width='200' IsOptional='1' IsReadOnly='1'><Caption>Particulars</Caption></Col>\n<Col ID='Cnt' Width='80' IsOptional='1' IsReadOnly='1'><Caption>Count</Caption></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>State Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1' IsReadOnly='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n</XML>":"CT01"==t?n+="<XML OrderBy='DocDate,VoucherNo'>\n<Col ID='DocDate' Width='100' IsReadOnly='1' CT='transaction_date'><Caption>Invoice Date</Caption><DType>DATE</DType></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1' CT='id'><Caption>Invoice Number</Caption></Col>\n<Col ID='RecipientName' Width='160' Combo='TEXT' ComboDefValue='2' IsOptional='1' CT='receiver.name'><Caption>Customer Billing Name</Caption></Col>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' CT='receiver.gstin'><Caption>Customer Billing GSTIN</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='130' CT='place_of_supply'><Caption>State Place of Supply</Caption></Col>\n\n<Col ID='ItemGorS' Width='185' Combo='TEXT' ComboDefValue='3' CT='gst_type'><Caption>Is the item a GOOD (G) or SERVICE (S)</Caption></Col>\n<Col ID='ItemDescription' Width='160' Combo='TEXT' ComboDefValue='3' CT='description'><Caption>Item Description</Caption></Col>\n<Col ID='HSN' Width='140' Combo='TEXT' ComboDefValue='3'><Caption>HSN or SAC code</Caption></Col>\n<Col ID='ItemQty' Combo='NUM' Width='110' Agg='SUM' CT='quantity'><Caption>Item Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='UQC' Width='160' Combo='TEXTUOM' CT='unit_of_measurement'><Caption>Item Unit of Measurement</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' CT='unit_price'><Caption>Item Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Discount' Combo='NUM' Width='135' IsOptional='1' CT='discount'><Caption>Total Item Discount Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='130' Agg='SUM' CT='taxable_val'><Caption>Item Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='CGSTRate' Combo='NUM' Width='110' CT='cgst_rate'><Caption>CGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='cgst_val'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTRate' Combo='NUM' Width='110' CT='sgst_rate'><Caption>SGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='sgst_val'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTRate' Combo='NUM' Width='110' CT='igst_rate'><Caption>IGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='igst_val'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessRate' Combo='NUM' Width='110' IsOptional='1' CT='cess_rate'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' CT='cess_val'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IsBillOfSupply' Combo='TEXT' Width='130' IsOptional='1'><Caption>Is this a Bill of Supply?</Caption></Col>\n<Col ID='ReverseCharge' Combo='TEXT' Width='130' IsOptional='1' CT='reverse_charge_applicable'><Caption>Is Reverse Charge Applicable?</Caption></Col>\n<Col ID='IsNilRatedExmNonGST' Combo='TEXT' Width='140' IsOptional='1'><Caption>Is this a Nil Rated/Exempt/NonGST item?</Caption></Col>\n\n<Col ID='OrgDocDate' Width='120' IsOptional='1' Combo='DATE'><Caption>Original Invoice Date (In case of amendment)</Caption><DType>DATE</DType></Col>\n<Col ID='OrgVoucherNo' Width='130' IsOptional='1' Combo='TEXT'><Caption>Original Invoice Number (In case of amendment)</Caption></Col>\n<Col ID='OrgRecipientName' Width='180' Combo='TEXT' ComboDefValue='2' IsOptional='1'><Caption>Original Customer Billing GSTIN (In case of amendment)</Caption></Col>\n\n<Col ID='ECommGSTIN' Combo='TEXT' ComboDefValue='2' Width='160' IsOptional='1'><Caption>GSTIN of Ecommerce Marketplace</Caption></Col>\n\n<Col ID='LinkAdvDocDate' Width='150' IsOptional='1' Combo='DATE'><Caption>Date of Linked Advance Receipt</Caption><DType>DATE</DType></Col>\n<Col ID='LinkAdvVoucherNo' Width='160' IsOptional='1' Combo='TEXT'><Caption>Voucher Number of Linked Advance Receipt</Caption></Col>\n<Col ID='LinkAdvAdjAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Adjustment Amount of the Linked Advance Receipt</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='ExportType' Combo='TEXT' Width='140' IsOptional='1'><Caption>Type of Export</Caption></Col>\n<Col ID='PortCode' Combo='TEXT' Width='160' IsOptional='1'><Caption>Shipping Port Code - Export</Caption></Col>\n<Col ID='ShipBillNo' Combo='TEXT' Width='150' IsOptional='1'><Caption>Shipping Bill Number - Export</Caption></Col>\n<Col ID='ShipBillDate' Combo='DATE' Width='150' IsOptional='1'><Caption>Shipping Bill Date - Export</Caption><DType>DATE</DType></Col>\n\n<Col ID='HasGSTTDSDeducted' Combo='TEXT' Width='160' IsOptional='1'><Caption>Has GST/IDT TDS been deducted</Caption></Col>\n\n<Col ID='RecipientBillAddress' Combo='TEXT' Width='160' IsOptional='1' CT='receiver.address'><Caption>Customer Billing Address</Caption></Col>\n<Col ID='RecipientBillCity' Combo='TEXT' Width='140' IsOptional='1' CT='receiver.city'><Caption>Customer Billing City</Caption></Col>\n<Col ID='RecipientBillState' Combo='TEXT' Width='140' IsOptional='1' CT='receiver.state'><Caption>Customer Billing State</Caption></Col>\n\n\n<Col ID='MyGSTIN' Combo='TEXT' Width='140' CT='seller.gstin'><Caption>My GSTIN</Caption></Col>\n<Col ID='SellerState' Combo='TEXT' Width='140' IsOptional='1' CT='seller.state'><Caption>My State</Caption></Col>\n\n<Col ID='IsDocCancelled' Combo='TEXT' Width='165' IsOptional='1' CT='is_canceled'><Caption>Is this document cancelled?</Caption></Col>\n\n\n<Col ID='ItemCode' Width='160' Combo='TEXT' ComboDefValue='3' CT='item_code' InUse='0'><Caption>Item Code</Caption></Col>\n</XML>":"CT02"==t?n+="<XML OrderBy='DocDate,VoucherNo'>\n<Col ID='DocDate' Width='130' IsReadOnly='1' CT='transaction_date'><Caption>Credit/Debit Note Date</Caption><DType>DATE</DType></Col>\n<Col ID='VoucherNo' Width='140' IsReadOnly='1' CT='id'><Caption>Credit/Debit Note Number</Caption></Col>\n<Col ID='CrDrNoteType' Width='170' Combo='TEXT'><Caption>Credit (C)/Debit (D) Note Type</Caption></Col>\n<Col ID='LinkDocDate' Width='100' IsReadOnly='1' CT='original_invoice_date'><Caption>Invoice Date</Caption><DType>DATE</DType></Col>\n<Col ID='LinkVoucherNo' Width='110' IsReadOnly='1' CT='original_invoice_serial_num'><Caption>Invoice Number</Caption></Col>\n\n<Col ID='RecipientName' Width='160' Combo='TEXT' ComboDefValue='2' IsOptional='1' CT='receiver.name'><Caption>Customer Billing Name</Caption></Col>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' CT='receiver.gstin'><Caption>Customer Billing GSTIN</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='130' CT='place_of_supply'><Caption>State Place of Supply</Caption></Col>\n\n<Col ID='ItemGorS' Width='185' Combo='TEXT' ComboDefValue='3' CT='gst_type'><Caption>Is the item a GOOD (G) or SERVICE (S)</Caption></Col>\n<Col ID='ItemDescription' Width='160' Combo='TEXT' ComboDefValue='3' CT='description'><Caption>Item Description</Caption></Col>\n<Col ID='HSN' Width='140' Combo='TEXT' ComboDefValue='3'><Caption>HSN or SAC code</Caption></Col>\n<Col ID='ItemQty' Combo='NUM' Width='110' Agg='SUM' CT='quantity'><Caption>Item Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='UQC' Width='160' Combo='TEXTUOM' CT='unit_of_measurement'><Caption>Item Unit of Measurement</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' CT='unit_price'><Caption>Item Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Discount' Combo='NUM' Width='140' IsOptional='1' CT='discount'><Caption>Total Item Discount Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='130' Agg='SUM' CT='taxable_val'><Caption>Item Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='CGSTRate' Combo='NUM' Width='110' CT='cgst_rate'><Caption>CGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='cgst_val'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTRate' Combo='NUM' Width='110' CT='sgst_rate'><Caption>SGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='sgst_val'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTRate' Combo='NUM' Width='110' CT='igst_rate'><Caption>IGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='igst_val'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessRate' Combo='NUM' Width='110' IsOptional='1' CT='cess_rate'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' CT='cess_val'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='ReverseCharge' Combo='TEXT' Width='130' IsOptional='1' CT='reverse_charge_applicable'><Caption>Is Reverse Charge Applicable?</Caption></Col>\n<Col ID='IsNilRatedExmNonGST' Combo='TEXT' Width='140' IsOptional='1'><Caption>Is this a Nil Rated/Exempt/NonGST item?</Caption></Col>\n\n<Col ID='OrgDocDate' Width='120' IsOptional='1' Combo='DATE' CT='original_note_date'><Caption>Original Credit/Debit Note Date (In case of amendment)</Caption><DType>DATE</DType></Col>\n<Col ID='OrgVoucherNo' Width='130' IsOptional='1' Combo='TEXT'><Caption>Original Credit/Debit Note Number (In case of amendment)</Caption></Col>\n<Col ID='OrgRecipientName' Width='180' Combo='TEXT' ComboDefValue='2' IsOptional='1'><Caption>Original Customer Billing GSTIN (In Case of amendment)</Caption></Col>\n\n<Col ID='MyGSTIN' Combo='TEXT' Width='140' CT='seller.gstin'><Caption>My GSTIN</Caption></Col>\n<Col ID='MyState' Combo='TEXT' Width='140' IsOptional='1' CT='seller.state'><Caption>My State</Caption></Col>\n\n<Col ID='RecipientBillAddress' Combo='TEXT' Width='160' IsOptional='1' CT='receiver.address'><Caption>Customer Billing Address</Caption></Col>\n<Col ID='RecipientBillCity' Combo='TEXT' Width='140' IsOptional='1' CT='receiver.city'><Caption>Customer Billing City</Caption></Col>\n<Col ID='RecipientBillState' Combo='TEXT' Width='140' IsOptional='1' CT='receiver.state'><Caption>Customer Billing State</Caption></Col>\n\n<Col ID='IsDocCancelled' Combo='TEXT' Width='165' IsOptional='1' CT='is_canceled'><Caption>Is this document cancelled?</Caption></Col>\n</XML>":"CT03"==t?n+="<XML OrderBy='DocDate,VoucherNo'>\n<Col ID='DocDate' Width='140' IsReadOnly='1' CT='transaction_date'><Caption>Advance Receipt Voucher Date</Caption><DType>DATE</DType></Col>\n<Col ID='VoucherNo' Width='150' IsReadOnly='1' CT='id'><Caption>Advance Receipt Voucher Number</Caption></Col>\n<Col ID='RecipientName' Width='160' Combo='TEXT' ComboDefValue='2' IsOptional='1' CT='receiver.name'><Caption>Customer Billing Name</Caption></Col>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' CT='receiver.gstin'><Caption>Customer Billing GSTIN</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='130' CT='place_of_supply'><Caption>State Place of Supply</Caption></Col>\n\n<Col ID='ItemGorS' Width='185' Combo='TEXT' ComboDefValue='3' CT='gst_type'><Caption>Is the item a GOOD (G) or SERVICE (S)</Caption></Col>\n<Col ID='ItemDescription' Width='160' Combo='TEXT' ComboDefValue='3' CT='description'><Caption>Item Description</Caption></Col>\n<Col ID='HSN' Width='140' Combo='TEXT' ComboDefValue='3'><Caption>HSN or SAC code</Caption></Col>\n<Col ID='ItemQty' Combo='NUM' Width='110' Agg='SUM' CT='quantity'><Caption>Item Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='UQC' Width='160' Combo='TEXTUOM' CT='unit_of_measurement'><Caption>Item Unit of Measurement</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' CT='unit_price'><Caption>Item Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Discount' Combo='NUM' Width='140' IsOptional='1' CT='discount'><Caption>Total Item Discount Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='130' Agg='SUM' CT='taxable_val'><Caption>Item Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='CGSTRate' Combo='NUM' Width='110' CT='cgst_rate'><Caption>CGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='cgst_val'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTRate' Combo='NUM' Width='110' CT='sgst_rate'><Caption>SGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='sgst_val'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTRate' Combo='NUM' Width='110' CT='igst_rate'><Caption>IGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='igst_val'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessRate' Combo='NUM' Width='110' IsOptional='1' CT='cess_rate'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' CT='cess_val'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='ReverseCharge' Combo='TEXT' Width='130' IsOptional='1' CT='reverse_charge_applicable'><Caption>Is Reverse Charge Applicable?</Caption></Col>\n\n<Col ID='OrgDocDate' Width='120' IsOptional='1' Combo='DATE'><Caption>Original Advance Receipt Date (In case of amendment)</Caption><DType>DATE</DType></Col>\n<Col ID='OrgVoucherNo' Width='130' IsOptional='1' Combo='TEXT' CT='original_invoice_serial_num'><Caption>Original Advance Receipt Voucher Number (In case of amendment)</Caption></Col>\n<Col ID='OrgRecipientName' Width='180' Combo='TEXT' ComboDefValue='2' IsOptional='1'><Caption>Original Customer Billing GSTIN (In case of amendment)</Caption></Col>\n\n<Col ID='MyGSTIN' Combo='TEXT' Width='140' CT='seller.gstin'><Caption>My GSTIN</Caption></Col>\n<Col ID='MyState' Combo='TEXT' Width='140' IsOptional='1' CT='seller.state'><Caption>My State</Caption></Col>\n\n<Col ID='RecipientBillAddress' Combo='TEXT' Width='160' IsOptional='1' CT='receiver.address'><Caption>Customer Billing Address</Caption></Col>\n<Col ID='RecipientBillCity' Combo='TEXT' Width='140' IsOptional='1' CT='receiver.city'><Caption>Customer Billing City</Caption></Col>\n<Col ID='RecipientBillState' Combo='TEXT' Width='140' IsOptional='1' CT='receiver.state'><Caption>Customer Billing State</Caption></Col>\n\n<Col ID='IsDocCancelled' Combo='TEXT' Width='165' IsOptional='1' CT='is_canceled'><Caption>Is this document cancelled?</Caption></Col>\n</XML>":"CT04"==t?n+="<XML OrderBy='DocDate,VoucherNo'>\n<Col ID='DocDate' Width='100' IsReadOnly='1' CT='transaction_date'><Caption>Invoice Date</Caption><DType>DATE</DType></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1' CT='id'><Caption>Invoice Number</Caption></Col>\n<Col ID='SupplierName' Width='160' Combo='TEXT' ComboDefValue='2' IsOptional='1' CT='seller.name'><Caption>Supplier Name</Caption></Col>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' CT='seller.gstin'><Caption>Supplier GSTIN</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='130' CT='place_of_supply'><Caption>State Place of Supply</Caption></Col>\n\n<Col ID='ItemGorS' Width='185' Combo='TEXT' ComboDefValue='3' CT='gst_type'><Caption>Is the item a GOOD (G) or SERVICE (S)</Caption></Col>\n<Col ID='ItemDescription' Width='160' Combo='TEXT' ComboDefValue='3' CT='description'><Caption>Item Description</Caption></Col>\n<Col ID='HSN' Width='140' Combo='TEXT' ComboDefValue='3'><Caption>HSN or SAC code</Caption></Col>\n<Col ID='ItemQty' Combo='NUM' Width='110' Agg='SUM' CT='quantity'><Caption>Item Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='UQC' Width='160' Combo='TEXTUOM' CT='unit_of_measurement'><Caption>Item Unit of Measurement</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' CT='unit_price'><Caption>Item Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Discount' Combo='NUM' Width='135' IsOptional='1' CT='discount'><Caption>Total Item Discount Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='130' Agg='SUM' CT='taxable_val'><Caption>Item Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='CGSTRate' Combo='NUM' Width='110' CT='cgst_rate'><Caption>CGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='cgst_val'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTRate' Combo='NUM' Width='110' CT='sgst_rate'><Caption>SGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='sgst_val'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTRate' Combo='NUM' Width='110' CT='igst_rate'><Caption>IGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='igst_val'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessRate' Combo='NUM' Width='110' IsOptional='1' CT='cess_rate'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' CT='cess_val'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='ITCClaimType' Combo='TEXT' Width='110' IsOptional='1'><Caption>ITC Claim Type</Caption></Col>\n<Col ID='CGSTITCClaimAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CGST ITC Claim Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTITCClaimAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>SGST ITC Claim Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTITCClaimAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>IGST ITC Claim Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessITCClaimAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS ITC Claim Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IsBillOfSupply' Combo='TEXT' Width='130' IsOptional='1'><Caption>Is this a Bill of Supply?</Caption></Col>\n<Col ID='ReverseCharge' Combo='TEXT' Width='130' IsOptional='1' CT='reverse_charge_applicable'><Caption>Is Reverse Charge Applicable?</Caption></Col>\n<Col ID='IsNilRatedExmNonGST' Combo='TEXT' Width='140' IsOptional='1'><Caption>Is this a Nil Rated/Exempt/NonGST item?</Caption></Col>\n\n<Col ID='OrgDocDate' Width='120' IsOptional='1' Combo='DATE'><Caption>Original Invoice Date (In case of amendment)</Caption><DType>DATE</DType></Col>\n<Col ID='OrgVoucherNo' Width='130' IsOptional='1' Combo='TEXT'><Caption>Original Invoice Number (In case of amendment)</Caption></Col>\n<Col ID='OrgSupplierName' Width='180' Combo='TEXT' ComboDefValue='2' IsOptional='1'><Caption>Original Supplier GSTIN (In case of amendment)</Caption></Col>\n\n<Col ID='LinkAdvDocDate' Width='150' IsOptional='1' Combo='DATE'><Caption>Date of Linked Advance Payment</Caption><DType>DATE</DType></Col>\n<Col ID='LinkAdvVoucherNo' Width='160' IsOptional='1' Combo='TEXT'><Caption>Voucher Number of Linked Advance Payment</Caption></Col>\n<Col ID='LinkAdvAdjAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Adjustment Amount of Linked Advance Payment</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='TypeofImport' Combo='TEXT' Width='140' IsOptional='1'><Caption>Type of Import (Goods, Services, SEZ)</Caption></Col>\n<Col ID='PortCode' Combo='TEXT' Width='160' IsOptional='1'><Caption>Bill of Entry Port Code</Caption></Col>\n<Col ID='PivBillNo' Combo='TEXT' Width='150' IsOptional='1'><Caption>Bill of Entry Number</Caption></Col>\n<Col ID='PivBillDate' Combo='DATE' Width='150' IsOptional='1'><Caption>Bill of Entry Date</Caption><DType>DATE</DType></Col>\n\n<Col ID='MyGSTIN' Combo='TEXT' Width='140' CT='receiver.gstin'><Caption>My GSTIN</Caption></Col>\n<Col ID='MyStae' Combo='TEXT' Width='140' CT='receiver.state'><Caption>My State</Caption></Col>\n\n<Col ID='SupplierBillAddress' Combo='TEXT' Width='160' IsOptional='1' CT='seller.address'><Caption>Supplier Address</Caption></Col>\n<Col ID='SupplierBillCity' Combo='TEXT' Width='140' IsOptional='1' CT='seller.city'><Caption>Supplier City</Caption></Col>\n<Col ID='SupplierBillState' Combo='TEXT' Width='140' IsOptional='1' CT='seller.state'><Caption>Supplier State</Caption></Col>\n\n<Col ID='GRNNo' Combo='TEXT' Width='150' IsOptional='1'><Caption>Goods Receipt Note Number</Caption></Col>\n<Col ID='GRNDate' Combo='DATE' Width='150' IsOptional='1'><Caption>Goods Receipt Note Date</Caption><DType>DATE</DType></Col>\n<Col ID='GRNQty' Combo='NUM' Width='110' Agg='SUM'><Caption>Goods Receipt Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='GRNAmt' Combo='NUM' Width='110' Agg='SUM'><Caption>Goods Receipt Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IsDocCancelled' Combo='TEXT' Width='165' IsOptional='1' CT='is_canceled'><Caption>Is this document cancelled?</Caption></Col>\n</XML>":"CT05"==t?n+="<XML OrderBy='DocDate,VoucherNo'>\n<Col ID='DocDate' Width='100' IsReadOnly='1' CT='transaction_date'><Caption>Credit/Debit Note Date</Caption><DType>DATE</DType></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1' CT='id'><Caption>Credit/Debit Note Number</Caption></Col>\n<Col ID='CrDrNoteType' Width='170' Combo='TEXT'><Caption>Credit (C)/Debit (D) Note Type</Caption></Col>\n<Col ID='LinkDocDate' Width='100' IsReadOnly='1' CT='original_invoice_date'><Caption>Linked Invoice Date</Caption><DType>DATE</DType></Col>\n<Col ID='LinkVoucherNo' Width='110' IsReadOnly='1' CT='original_invoice_serial_num'><Caption>Linked Invoice Number</Caption></Col>\n\n<Col ID='SupplierName' Width='160' Combo='TEXT' ComboDefValue='2' IsOptional='1' CT='seller.name'><Caption>Supplier Name</Caption></Col>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' CT='seller.gstin'><Caption>Supplier GSTIN</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='130' CT='place_of_supply'><Caption>State Place of Supply</Caption></Col>\n\n<Col ID='ItemGorS' Width='185' Combo='TEXT' ComboDefValue='3' CT='gst_type'><Caption>Is the item a GOOD (G) or SERVICE (S)</Caption></Col>\n<Col ID='ItemDescription' Width='160' Combo='TEXT' ComboDefValue='3' CT='description'><Caption>Item Description</Caption></Col>\n<Col ID='HSN' Width='140' Combo='TEXT' ComboDefValue='3'><Caption>HSN or SAC code</Caption></Col>\n<Col ID='ItemQty' Combo='NUM' Width='110' Agg='SUM' CT='quantity'><Caption>Item Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='UQC' Width='160' Combo='TEXTUOM' CT='unit_of_measurement'><Caption>Item Unit of Measurement</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' CT='unit_price'><Caption>Item Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Discount' Combo='NUM' Width='135' IsOptional='1' CT='discount'><Caption>Total Item Discount Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='130' Agg='SUM' CT='taxable_val'><Caption>Item Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='CGSTRate' Combo='NUM' Width='110' CT='cgst_rate'><Caption>CGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='cgst_val'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTRate' Combo='NUM' Width='110' CT='sgst_rate'><Caption>SGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='sgst_val'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTRate' Combo='NUM' Width='110' CT='igst_rate'><Caption>IGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='igst_val'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessRate' Combo='NUM' Width='110' IsOptional='1' CT='cess_rate'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' CT='cess_val'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='ITCClaimType' Combo='TEXT' Width='110' IsOptional='1'><Caption>ITC Claim Type</Caption></Col>\n<Col ID='CGSTITCClaimAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CGST ITC Claim Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTITCClaimAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>SGST ITC Claim Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTITCClaimAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>IGST ITC Claim Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessITCClaimAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS ITC Claim Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='ReverseCharge' Combo='TEXT' Width='130' IsOptional='1' CT='reverse_charge_applicable'><Caption>Is Reverse Charge Applicable?</Caption></Col>\n<Col ID='IsNilRatedExmNonGST' Combo='TEXT' Width='140' IsOptional='1'><Caption>Is this a Nil Rated/Exempt/NonGST item?</Caption></Col>\n\n<Col ID='OrgDocDate' Width='120' IsOptional='1' Combo='DATE' CT='original_note_date'><Caption>Original Credit/Debit Note Date (In case of amendment)</Caption><DType>DATE</DType></Col>\n<Col ID='OrgVoucherNo' Width='130' IsOptional='1' Combo='TEXT'><Caption>Original Credit/Debit Note Number (In case of amendment)</Caption></Col>\n<Col ID='OrgSupplierName' Width='180' Combo='TEXT' ComboDefValue='2' IsOptional='1'><Caption>Original Supplier GSTIN (In case of amendment)</Caption></Col>\n\n<Col ID='LinkAdvDocDate' Width='150' IsOptional='1' Combo='DATE'><Caption>Date of Linked Advance Payment</Caption><DType>DATE</DType></Col>\n<Col ID='LinkAdvVoucherNo' Width='160' IsOptional='1' Combo='TEXT'><Caption>Voucher Number of Linked Advance Payment</Caption></Col>\n<Col ID='LinkAdvAdjAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Adjustment Amount of Linked Advance Payment</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='MyGSTIN' Combo='TEXT' Width='140' CT='receiver.gstin'><Caption>My GSTIN</Caption></Col>\n<Col ID='MyState' Combo='TEXT' Width='140' IsOptional='1' CT='receiver.state'><Caption>My State</Caption></Col>\n\n<Col ID='SupplierBillAddress' Combo='TEXT' Width='160' IsOptional='1' CT='seller.address'><Caption>Supplier Address</Caption></Col>\n<Col ID='SupplierBillCity' Combo='TEXT' Width='140' IsOptional='1' CT='seller.city'><Caption>Supplier City</Caption></Col>\n<Col ID='SupplierBillState' Combo='TEXT' Width='140' IsOptional='1' CT='seller.state'><Caption>Supplier State</Caption></Col>\n\n<Col ID='IsDocCancelled' Combo='TEXT' Width='165' IsOptional='1' CT='is_canceled'><Caption>Is this document cancelled?</Caption></Col>\n</XML>":"CT06"==t?n+="<XML OrderBy='DocDate,VoucherNo'>\n<Col ID='DocDate' Width='100' IsReadOnly='1' CT='transaction_date'><Caption>Advance Payment Date</Caption><DType>DATE</DType></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1' CT='id'><Caption>Advance Payment Voucher Number</Caption></Col>\n\n<Col ID='SupplierName' Width='160' Combo='TEXT' ComboDefValue='2' IsOptional='1' CT='seller.name'><Caption>Supplier Name</Caption></Col>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' CT='seller.gstin'><Caption>Supplier GSTIN</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='130' CT='place_of_supply'><Caption>State Place of Supply</Caption></Col>\n\n<Col ID='ItemGorS' Width='185' Combo='TEXT' ComboDefValue='3' CT='gst_type'><Caption>Is the item a GOOD (G) or SERVICE (S)</Caption></Col>\n<Col ID='ItemDescription' Width='160' Combo='TEXT' ComboDefValue='3' CT='description'><Caption>Item Description</Caption></Col>\n<Col ID='HSN' Width='140' Combo='TEXT' ComboDefValue='3'><Caption>HSN/SAC code</Caption></Col>\n<Col ID='ItemQty' Combo='NUM' Width='110' Agg='SUM' CT='quantity'><Caption>Item Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='UQC' Width='160' Combo='TEXTUOM' CT='unit_of_measurement'><Caption>Item Unit of Measurement</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' CT='unit_price'><Caption>Item Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Discount' Combo='NUM' Width='135' IsOptional='1' CT='discount'><Caption>Total Item Discount Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='130' Agg='SUM' CT='taxable_val'><Caption>Item Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='CGSTRate' Combo='NUM' Width='110' CT='cgst_rate'><Caption>CGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='cgst_val'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTRate' Combo='NUM' Width='110' CT='sgst_rate'><Caption>SGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='sgst_val'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTRate' Combo='NUM' Width='110' CT='igst_rate'><Caption>IGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='igst_val'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessRate' Combo='NUM' Width='110' IsOptional='1' CT='cess_rate'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' CT='cess_val'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IsAdvForSupply' Combo='TEXT' Width='130' IsOptional='1'><Caption>Is this Advance for a Bill of Supply?</Caption></Col>\n<Col ID='ReverseCharge' Combo='TEXT' Width='130' IsOptional='1' CT='reverse_charge_applicable'><Caption>Is Reverse Charge Applicable?</Caption></Col>\n\n<Col ID='OrgDocDate' Width='120' IsOptional='1' Combo='DATE'><Caption>Original Advance Payment Date (In case of amendment)</Caption><DType>DATE</DType></Col>\n<Col ID='OrgVoucherNo' Width='130' IsOptional='1' Combo='TEXT'><Caption>Original Advance Payment Voucher Number (In case of amendment)</Caption></Col>\n<Col ID='OrgSupplierName' Width='180' Combo='TEXT' ComboDefValue='2' IsOptional='1'><Caption>Original Supplier GSTIN (In case of amendment)</Caption></Col>\n\n<Col ID='MyGSTIN' Combo='TEXT' Width='140' CT='receiver.gstin'><Caption>MY GSTIN</Caption></Col>\n<Col ID='MyState' Combo='TEXT' Width='140' IsOptional='1' CT='receiver.state'><Caption>My State</Caption></Col>\n\n<Col ID='SupplierBillAddress' Combo='TEXT' Width='160' IsOptional='1' CT='seller.address'><Caption>Supplier Address</Caption></Col>\n<Col ID='SupplierBillCity' Combo='TEXT' Width='140' IsOptional='1' CT='seller.city'><Caption>Supplier City</Caption></Col>\n<Col ID='SupplierBillState' Combo='TEXT' Width='140' IsOptional='1' CT='seller.state'><Caption>Supplier State</Caption></Col>\n\n<Col ID='IsDocCancelled' Combo='TEXT' Width='165' IsOptional='1' CT='is_canceled'><Caption>Is this document cancelled?</Caption></Col>\n</XML>":"GSTR2_b2b"==t?n+="<XML GroupBy='BillDate,BillNo,Rate,ITCEligible,GSTTaxType'>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN of Supplier</Caption></Col>\n<Col ID='GSTTaxType' ComboDefValue='3' Combo='TEXT' Width='130' InUse='0'><Caption>GST Tax Type</Caption></Col>\n<Col ID='GSTRegistrationType' ComboDefValue='2' Combo='TEXT' Width='130' InUse='0'><Caption>Registration Type</Caption></Col>\n<Col ID='BillNo' Combo='TEXTALL' Width='110' IsOptional='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='BillDate' Combo='DATE' Width='100' IsOptional='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120'><Caption>Reverse Charge</Caption></Col>\n<Col ID='InvType' Combo='TEXT' Width='110'><Caption>Invoice Type</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Integrated Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Central Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>State/UT Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCEligible' Combo='TEXT' Width='110' ComboDefValue='3'><Caption>Eligibility For ITC</Caption></Col>\n<Col ID='ITCIntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCTaxAmt' Combo='NUM' Width='140' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCSTaxAmt' Combo='NUM' Width='140' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCessAmt' Combo='NUM' Width='110' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_b2bur"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate,ITCEligible,GSTTaxType'>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN of Supplier</Caption></Col>\n<Col ID='GSTTaxType' ComboDefValue='3' Combo='TEXT' Width='130' InUse='0'><Caption>GST Tax Type</Caption></Col>\n<Col ID='GSTRegistrationType' ComboDefValue='2' Combo='TEXT' Width='130' InUse='0'><Caption>Registration Type</Caption></Col>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120' InUse='0'><Caption>Reverse Charge</Caption></Col>\n<Col ID='SupplierName' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>Supplier Name</Caption></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='SupplyType' Combo='TEXT' Width='110' IgnoreInQuery='1'><Caption>Supply Type</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Integrated Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Central Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>State/UT Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCEligible' Combo='TEXT' Width='110' ComboDefValue='3'><Caption>Eligibility For ITC</Caption></Col>\n<Col ID='ITCIntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCTaxAmt' Combo='NUM' Width='140' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCSTaxAmt' Combo='NUM' Width='140' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCessAmt' Combo='NUM' Width='110' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_imps"==t?n+="<XML GroupBy='BillDate,BillNo,Rate,ITCEligible'>\n<Col ID='BillNo' Combo='TEXTALL' Width='110' IsOptional='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='BillDate' Combo='DATE' Width='100' IsOptional='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM'><Caption>Integrated Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCEligible' Combo='TEXT' Width='110' ComboDefValue='3'><Caption>Eligibility For ITC</Caption></Col>\n<Col ID='ITCIntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCessAmt' Combo='NUM' Width='110' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_impg"==t?n+="<XML GroupBy='BillDate,BillNo,Rate,Documenttype,ITCEligible'>\n<Col ID='PortCode' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>Port Code</Caption></Col>\n<Col ID='BillNo' Combo='TEXTALL' Width='110' IsOptional='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='BillDate' Combo='DATE' Width='100' IsOptional='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Bill Of Entry Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='Documenttype' Combo='TEXT' Width='110' ComboDefValue='2'><Caption>Document type</Caption></Col>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN Of SEZ Supplier</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM'><Caption>Integrated Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCEligible' Combo='TEXT' Width='110' ComboDefValue='3'><Caption>Eligibility For ITC</Caption></Col>\n<Col ID='ITCIntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCessAmt' Combo='NUM' Width='110' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_cdnr"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN of Supplier</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Note/Refund Voucher Number</Caption></Col>\n<Col ID='DocDate' Width='110' IsReadOnly='1'><Caption>Note/Refund Voucher date</Caption><DType>DATE</DType></Col>\n<Col ID='LinkVoucherNo' Combo='TEXTALL' Width='160' IsOptional='1'><Caption>Invoice/Advance Payment Voucher Number</Caption></Col>\n<Col ID='LinkDocDate' Combo='DATE' Width='120' IsOptional='1'><Caption>Invoice/Advance Payment Voucher date</Caption><DType>DATE</DType></Col>\n\n<Col ID='PreGST' Width='80' IsReadOnly='1'><Caption>Pre GST</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='cdnrDocumentType'><Caption>Document Type</Caption></Col>\n<Col ID='ReasonForIssDoc' Width='180' Combo='TEXT'><Caption>Reason For Issuing document</Caption></Col>\n<Col ID='SupplyType' Combo='TEXT' Width='110' IsOptional='1'><Caption>Supply Type</Caption></Col>\n\n<Col ID='InvValue' Combo='NUM' Width='140' IsOptional='1'><Caption>Note/Refund Voucher Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Integrated Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Central Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>State/UT Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCEligible' Combo='TEXT' Width='110' ComboDefValue='3'><Caption>Eligibility For ITC</Caption></Col>\n<Col ID='ITCIntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCTaxAmt' Combo='NUM' Width='140' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCSTaxAmt' Combo='NUM' Width='140' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCessAmt' Combo='NUM' Width='110' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_cdnur"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN of Supplier</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Note/Refund Voucher Number</Caption></Col>\n<Col ID='DocDate' Width='110' IsReadOnly='1'><Caption>Note/Refund Voucher date</Caption><DType>DATE</DType></Col>\n<Col ID='LinkVoucherNo' Combo='TEXTALL' Width='160' IsOptional='1'><Caption>Invoice/Advance Payment Voucher Number</Caption></Col>\n<Col ID='LinkDocDate' Combo='DATE' Width='120' IsOptional='1'><Caption>Invoice/Advance Payment Voucher date</Caption><DType>DATE</DType></Col>\n\n<Col ID='PreGST' Width='80' IsReadOnly='1'><Caption>Pre GST</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='cdnrDocumentType'><Caption>Document Type</Caption></Col>\n<Col ID='ReasonForIssDoc' Width='180' Combo='TEXT'><Caption>Reason For Issuing document</Caption></Col>\n<Col ID='SupplyType' Combo='TEXT' Width='110' IsOptional='1'><Caption>Supply Type</Caption></Col>\n\n<Col ID='InvValue' Combo='NUM' Width='140' IsOptional='1'><Caption>Note/Refund Voucher Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Integrated Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Central Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>State/UT Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCEligible' Combo='TEXT' Width='110' ComboDefValue='3'><Caption>Eligibility For ITC</Caption></Col>\n<Col ID='ITCIntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCTaxAmt' Combo='NUM' Width='140' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCSTaxAmt' Combo='NUM' Width='140' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCessAmt' Combo='NUM' Width='110' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_at"==t?n+="<XML GroupBy='PoS,Rate'>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120' InUse='0'><Caption>Reverse Charge</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvReceived' Combo='NUM' Width='150' Agg='SUM'><Caption>Gross Advance Received</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_atadj"==t?n+="<XML GroupBy='PoS,Rate'>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120' InUse='0'><Caption>Reverse Charge</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvReceived' Combo='NUM' Width='150' Agg='SUM' InUse='0'><Caption>Gross Advance Received</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvAdjusted' Combo='NUM' Width='150' Agg='SUM' IsReadOnly='1'><Caption>Gross Advance Adjusted</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_exemp"==t?n+="<XML>\n<Col ID='PoS' Combo='DIM' Width='120' InUse='0'><Caption>Place Of Supply</Caption></Col>\n<Col ID='Description' Width='240' IsReadOnly='1'><Caption>Description</Caption></Col>\n<Col ID='Value' Combo='NUM' Width='120' Agg='SUM' InUse='0'><Caption>Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='CompositTaxPer' ComboDefValue='2' Combo='TEXT' Width='180' Agg='SUM'><Caption>Composition taxable person</Caption><DType>FLOAT</DType></Col>\n<Col ID='NilRated' ComboDefValue='3' Combo='TEXT' Width='140' Agg='SUM'><Caption>Nil Rated Supplies</Caption><DType>FLOAT</DType></Col>\n<Col ID='Exempted' ComboDefValue='3' Combo='TEXT' Width='180' Agg='SUM'><Caption>Exempted (other than nil rated/non GST supply )</Caption><DType>FLOAT</DType></Col>\n<Col ID='NonGST' ComboDefValue='3' Combo='TEXT' Width='140' Agg='SUM'><Caption>Non-GST supplies</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_itcr"==t?n+="<XML>\n<Col ID='Value' Combo='NUM' Width='120' Agg='SUM' InUse='0'><Caption>Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Integrated Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Central Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>State/UT Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Paid</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_hsnsum"==t?n+="<XML GroupBy='HSN,UQC'>\n<Col ID='HSN' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>HSN</Caption></Col>\n<Col ID='Description' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Description</Caption></Col>\n<Col ID='UQC' Width='160' Combo='TEXTUOM' IsOptional='1'><Caption>UQC</Caption></Col>\n<Col ID='TotalQty' Combo='NUM' Width='120' Agg='SUM'><Caption>Total Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='TotalValue' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Total Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"VATAED1"==t?n+="<XML>\n<Col ID='Section' Width='30' IsOptional='1' IsReadOnly='1'><Caption></Caption></Col>\n<Col ID='Description' Width='280' IsOptional='1' IsReadOnly='1'><Caption></Caption></Col>\n<Col ID='TaxableValue' Combo='NUMFC' Width='160' IsOptional='1' IsReadOnly='1' Decimals='"+s.a.SessionManager.Preferences.DecimalsinAmount+"'><Caption></Caption><DType>FLOAT</DType></Col>\n<Col ID='VATAmount' Combo='NUMFC' Width='130' IsOptional='1' IsReadOnly='1' Decimals='"+s.a.SessionManager.Preferences.DecimalsinAmount+"'><Caption></Caption><DType>FLOAT</DType></Col>\n<Col ID='Adjustment' Combo='NUMFC' Width='130' IsOptional='1' IsReadOnly='1' Decimals='"+s.a.SessionManager.Preferences.DecimalsinAmount+"'><Caption></Caption><DType>FLOAT</DType></Col>\n</XML>":"VATFATPurchaseList"==t?n+="<XML OrderBy='DocDate,VoucherNo,DocSeqNo'>\n<Col ID='SupplierName' Width='180' Combo='TEXT' ComboDefValue='2'><Caption>SupplierName</Caption></Col>\n<Col ID='SupplierTIN' Width='160' Combo='TEXT' ComboDefValue='2' CT='SupplierTINTRN'><Caption>SupplierTIN/TRN</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1' CT='InvoiceDate'><Caption>InvoiceDate</Caption><DType>DATE</DType></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1' CT='InvoiceNo'><Caption>InvoiceNo</Caption></Col>\n<Col ID='PermitNo' Combo='TEXT' Width='120' IsOptional='1'><Caption>PermitNo</Caption></Col>\n<Col ID='DocSeqNo' Width='70' IsReadOnly='1' CT='LineNo'><Caption>LineNo</Caption></Col>\n<Col ID='ProductDescription' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>ProductDescription</Caption></Col>\n<Col ID='PurchaseValueAED' Combo='NUMFC' Width='110' Agg='SUM'><Caption>PurchaseValueAED</Caption><DType>FLOAT</DType></Col>\n<Col ID='VATValueAED' Combo='NUMFC' Width='110' Agg='SUM'><Caption>VATValueAED</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxCode' Combo='TEXT' Width='120'><Caption>TaxCode</Caption></Col>\n<Col ID='FCYCode' Combo='TEXT' Width='120' IsOptional='1' ComboDefValue='12'><Caption>FCY Code</Caption></Col>\n<Col ID='PurchaseFCY' Combo='NUMFC' Width='110' Agg='SUM' IsOptional='1'><Caption>PurchaseFCY</Caption><DType>FLOAT</DType></Col>\n<Col ID='AEDFCY' Combo='NUMFC' Width='110' Agg='SUM' IsOptional='1'><Caption>AEDFCY</Caption><DType>FLOAT</DType></Col>\n</XML>":"VATFATSupplyList"==t?n+="<XML OrderBy='DocDate,VoucherNo,DocSeqNo'>\n<Col ID='CustomerName' Width='180' Combo='TEXT' ComboDefValue='2'><Caption>Customer Name</Caption></Col>\n<Col ID='CustomerTIN' Width='160' Combo='TEXT' ComboDefValue='2' CT='CustomerTINTRN'><Caption>CustomerTIN/TRN</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1' CT='InvoiceDate'><Caption>InvoiceDate</Caption><DType>DATE</DType></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1' CT='InvoiceNo'><Caption>InvoiceNo</Caption></Col>\n<Col ID='DocSeqNo' Width='70' IsReadOnly='1' CT='LineNo'><Caption>LineNo</Caption></Col>\n<Col ID='ProductDescription' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>ProductDescription</Caption></Col>\n<Col ID='SupplyValueAED' Combo='NUMFC' Width='110' Agg='SUM'><Caption>SupplyValueAED</Caption><DType>FLOAT</DType></Col>\n<Col ID='VATValueAED' Combo='NUMFC' Width='110' Agg='SUM'><Caption>VATValueAED</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxCode' Combo='TEXT' Width='120'><Caption>TaxCode</Caption></Col>\n<Col ID='Country' Combo='DIM' Width='120' ComboDefValue='50058'><Caption>Country</Caption></Col>\n<Col ID='FCYCode' Combo='TEXT' Width='120' IsOptional='1' ComboDefValue='12'><Caption>FCYCode</Caption></Col>\n<Col ID='SupplyFCY' Combo='NUMFC' Width='110' Agg='SUM' IsOptional='1'><Caption>SupplyFCY</Caption><DType>FLOAT</DType></Col>\n<Col ID='VATFCY' Combo='NUMFC' Width='110' Agg='SUM' IsOptional='1'><Caption>VATFCY</Caption><DType>FLOAT</DType></Col>\n</XML>":"VATSAS1"==t?n+="<XML>\n<Col ID='Section' Width='30' IsOptional='1' IsReadOnly='1'><Caption></Caption></Col>\n<Col ID='Description' Width='280' IsOptional='1' IsReadOnly='1'><Caption></Caption></Col>\n<Col ID='TaxableValue' Combo='NUMFC' Width='130' IsOptional='1' IsReadOnly='1' Decimals='"+s.a.SessionManager.Preferences.DecimalsinAmount+"'><Caption>Amount (SAR)</Caption><DType>FLOAT</DType></Col>\n<Col ID='Adjustment' Combo='NUMFC' Width='130' IsOptional='1' IsReadOnly='1' Decimals='"+s.a.SessionManager.Preferences.DecimalsinAmount+"'><Caption>Adjustment (SAR)</Caption><DType>FLOAT</DType></Col>\n<Col ID='VATAmount' Combo='NUMFC' Width='130' IsOptional='1' IsReadOnly='1' Decimals='"+s.a.SessionManager.Preferences.DecimalsinAmount+"'><Caption>VAT Amount (SAR)</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR3_GSTR3B_Outward"==t?n+="<XML GroupBy='PoS,GSTTaxType,GSTRegistrationType,GSTPartyType'>\n<Col ID='DocumentType' Width='115' Combo='GSTR3IsReturn' InUse='0'><Caption>Is Return Document</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='110' InUse='0'><Caption>Place Of Supply</Caption></Col>\n<Col ID='GSTTaxType' ComboDefValue='3' Combo='TEXT' Width='130' InUse='0'><Caption>GST Tax Type</Caption></Col>\n<Col ID='GSTRegistrationType' ComboDefValue='2' Combo='TEXT' Width='130' InUse='0'><Caption>Registration Type</Caption></Col>\n<Col ID='GSTPartyType' ComboDefValue='2' Combo='TEXT' Width='130' InUse='0'><Caption>Party Type</Caption></Col>\n\n<Col ID='Description' Width='260' IsReadOnly='1' IgnoreInQuery='1'><Caption>Description</Caption></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='125' Agg='SUM'><Caption>Total Taxable value</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR3_GSTR3B_OutwardDetail"==t?n+="<XML GroupBy=''>\n<Col ID='PoS' Width='320' IsReadOnly='1'><Caption>Place of Supply(State/UT)</Caption></Col>\n<Col ID='TaxableValueUnregistered' Combo='NUM' Width='180' Agg='SUM'><Caption>Taxable value(Unregistered)</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmtUnregistered' Combo='NUM' Width='180' Agg='SUM' IsOptional='1'><Caption>Integrated Tax(Unregistered)</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValueComposition' Combo='NUM' Width='180' Agg='SUM'><Caption>Taxable value(Composition)</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmtComposition' Combo='NUM' Width='175' Agg='SUM' IsOptional='1'><Caption>Integrated Tax(Composition)</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValueUINholders' Combo='NUM' Width='180' Agg='SUM'><Caption>Taxable value(UIN holders)</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmtUINholders' Combo='NUM' Width='170' Agg='SUM' IsOptional='1'><Caption>Integrated Tax(UIN holders)</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR3_GSTR3B_EligibleITC"==t?n+="<XML GroupBy=''>\n<Col ID='Details' Width='270' IsReadOnly='1'><Caption>Details</Caption></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR3_GSTR3B_5"==t?n+="<XML GroupBy=''>\n<Col ID='Natureofsupplies' Width='260' IsReadOnly='1'><Caption>Nature of supplies</Caption></Col>\n<Col ID='InterState' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Inter-state supplies</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntraState' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Intra-state supplies</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR3_GSTR3B_5_1"==t?n+="<XML GroupBy=''>\n<Col ID='Description' Width='230' IsReadOnly='1'><Caption>Description</Caption></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GENEWAYBILL"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='supplyType' Width='160' Combo='TEXT' ComboDefValue='2' IsReadOnly='1'><Caption>Supply Type</Caption></Col>\n<Col ID='subSupplyType' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Sub Supply Type</Caption></Col>\n\n<Col ID='docType' Combo='TEXT' Width='110'><Caption>Doc Type</Caption></Col>\n<Col ID='docNo' Width='110' IsReadOnly='1'><Caption>Doc No</Caption></Col>\n<Col ID='docDate' Width='100' IsReadOnly='1'><Caption>Doc Date</Caption><DType>DATE</DType></Col>\n\n<Col ID='fromGstin' Combo='TEXT' Width='140'><Caption>From GSTIN</Caption></Col>\n<Col ID='fromTrdName' Combo='TEXT' Width='140'><Caption>From TradeName</Caption></Col>\n<Col ID='fromAddr1' Combo='TEXT' Width='140'><Caption>From Address1</Caption></Col>\n<Col ID='fromAddr2' Combo='TEXT' Width='140'><Caption>From Address2</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromPincode' Combo='TEXT' Width='140'><Caption>From Pincode</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='dispAddr1' Combo='TEXT' Width='140'><Caption>Dispatch Address1</Caption></Col>\n<Col ID='dispAddr2' Combo='TEXT' Width='140'><Caption>Dispatch Address2</Caption></Col>\n<Col ID='dispPlace' Combo='TEXT' Width='140'><Caption>Dispatch Place</Caption></Col>\n<Col ID='dispPincode' Combo='TEXT' Width='140'><Caption>Dispatch Pincode</Caption></Col>\n<Col ID='dispStateCode' Combo='TEXT' Width='140'><Caption>Dispatch State</Caption></Col>\n\n<Col ID='gstReg' Combo='TEXT' Width='140'><Caption>GST Registration</Caption></Col>\n<Col ID='toGstin' Combo='TEXT' Width='140'><Caption>To GSTIN</Caption></Col>\n<Col ID='toTrdName' Combo='TEXT' Width='140'><Caption>To TradeName</Caption></Col>\n<Col ID='toAddr1' Combo='TEXT' Width='140'><Caption>To Address1</Caption></Col>\n<Col ID='toAddr2' Combo='TEXT' Width='140'><Caption>To Address2</Caption></Col>\n<Col ID='toPlace' Combo='TEXT' Width='140'><Caption>To Place</Caption></Col>\n<Col ID='toPincode' Combo='TEXT' Width='140'><Caption>To Pincode</Caption></Col>\n<Col ID='toStateCode' Combo='TEXT' Width='140'><Caption>To State</Caption></Col>\n<Col ID='shipAddr1' Combo='TEXT' Width='140'><Caption>Ship To Address1</Caption></Col>\n<Col ID='shipAddr2' Combo='TEXT' Width='140'><Caption>Ship To Address2</Caption></Col>\n<Col ID='shipPlace' Combo='TEXT' Width='140'><Caption>Ship To Place</Caption></Col>\n<Col ID='shipPincode' Combo='TEXT' Width='140'><Caption>Ship To Pincode</Caption></Col>\n<Col ID='shipStateCode' Combo='TEXT' Width='140'><Caption>Ship To State</Caption></Col>\n\n<Col ID='transactionType' Combo='TEXT' Width='140'><Caption>Transaction Type</Caption></Col>\n\n<Col ID='productName' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Product</Caption></Col>\n<Col ID='productDesc' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Description</Caption></Col>\n<Col ID='hsnCode' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>HSN Code</Caption></Col>\n<Col ID='qtyUnit' Width='160' Combo='TEXTUOM' IsOptional='1'><Caption>Unit</Caption></Col>\n<Col ID='quantity' Combo='NUM' Width='120' Agg='SUM'><Caption>Qty</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='cgstRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgstRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>SGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='igstRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>IGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessAdvol' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS Advol</Caption></Col>\n<Col ID='taxableAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='totValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Total Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='cgstValue' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgstValue' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='igstValue' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessValue' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='totInvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Total Invoice Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Transport Mode</Caption></Col>\n<Col ID='transDistance' Combo='TEXT' Width='110'><Caption>Distance (Km)</Caption><DType>FLOAT</DType></Col>\n<Col ID='transporterId' Combo='TEXT' Width='110'><Caption>Transporter ID</Caption></Col>\n<Col ID='transporterName' Combo='TEXT' Width='110'><Caption>Transporter Name</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Transport DocNo</Caption></Col>\n<Col ID='transDocDate' Combo='TEXT' Width='100' IsReadOnly='1'><Caption>Transport Date</Caption><DType>DATE</DType></Col>\n<Col ID='vehicleNo' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='vehicleType' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Vehicle Type</Caption></Col>\n\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Eway Bill No</Caption></Col>\n<Col ID='ewayBillDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Eway Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='alert' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Alert</Caption></Col>\n</XML>":"VEHEWB"==t?n+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='vehicleNo' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='vehicleType' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Vehicle Type</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='reasonRem' Combo='TEXT' Width='140'><Caption>Reason Remarks</Caption></Col>\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Transport Mode</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Transport DocNo</Caption></Col>\n<Col ID='transDocDate' Width='100' IsReadOnly='1'><Caption>Transport Date</Caption><DType>DATE</DType></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='vehUpdDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Updated Date</Caption><DType>DATE</DType></Col>\n</XML>":"GENCEWB"==t?n+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='vehicleNo' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Transport Mode</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Transport DocNo</Caption></Col>\n<Col ID='transDocDate' Width='100' IsReadOnly='1'><Caption>Transport Date</Caption><DType>DATE</DType></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='cEwbNo' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Consolidate EWB No</Caption></Col>\n<Col ID='cEWBDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Consolidate Date</Caption><DType>DATE</DType></Col>\n</XML>":"REGENTRIPSHEET"==t?n+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='tripSheetNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='vehicleNo' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='reasonRem' Combo='TEXT' Width='140'><Caption>Reason Remarks</Caption></Col>\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Transport Mode</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Transport DocNo</Caption></Col>\n<Col ID='transDocDate' Width='100' IsReadOnly='1'><Caption>Transport Date</Caption><DType>DATE</DType></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='newtripSheetNo' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>New Con EWB No</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Eway Bill Nos</Caption></Col>\n</XML>":"EXTENDVALIDITY"==t?n+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='vehicleNo' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='remainingDistance' Combo='NUM' Width='110'><Caption>Distance (Km)</Caption><DType>FLOAT</DType></Col>\n<Col ID='extnRemarks' Combo='TEXT' Width='140'><Caption>Extended Remarks</Caption></Col>\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Transport Mode</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Transport DocNo</Caption></Col>\n<Col ID='transDocDate' Width='100' IsReadOnly='1'><Caption>Transport Date</Caption><DType>DATE</DType></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='updatedDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Updated Date</Caption><DType>DATE</DType></Col>\n</XML>":"MULTIVEHMOVINT"==t?n+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>To State</Caption></Col>\n<Col ID='toPlace' Combo='TEXT' Width='140'><Caption>To Place</Caption></Col>\n<Col ID='toState' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Transport Mode</Caption></Col>\n<Col ID='totalQuantity' Combo='NUM' Width='110'><Caption>Total Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='unitCode' Combo='TEXT' Width='110'><Caption>Unit Code</Caption></Col>\n<Col ID='reasonRem' Combo='TEXT' Width='140'><Caption>Reason Remarks</Caption></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='createdDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Created Date</Caption><DType>DATE</DType></Col>\n</XML>":"MULTIVEHADD"==t?n+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='vehicleNo' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Transport DocNo</Caption></Col>\n<Col ID='transDocDate' Width='100' IsReadOnly='1'><Caption>Transport Date</Caption><DType>DATE</DType></Col>\n<Col ID='quantity' Combo='NUM' Width='110'><Caption>Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='vehAddedDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Vehicle Added Date</Caption><DType>DATE</DType></Col>\n</XML>":"MULTIVEHUPD"==t?n+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='oldvehicleNo' Width='110' IsReadOnly='1'><Caption>Old Vehicle No</Caption></Col>\n<Col ID='newVehicleNo' Width='110' ><Caption>New Vehicle No</Caption></Col>\n<Col ID='oldTranNo' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Old Transport DocNo</Caption></Col>\n<Col ID='newTranNo' Combo='TEXT' Width='110'><Caption>New Transport DocNo</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>From Place</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>From State</Caption></Col>\n<Col ID='reasonRem' Combo='TEXT' Width='140'><Caption>Reason Remarks</Caption></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='vehUpdDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Vehicle Updated Date</Caption><DType>DATE</DType></Col>\n</XML>":"UPDATETRANSPORTER"==t?n+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='transporterId' Combo='TEXT' Width='110'><Caption>Transporter ID</Caption></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='transUpdateDate' Width='140' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Transporter Update Date</Caption><DType>DATE</DType></Col>\n</XML>":"CANEWB"==t?n+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='cancelRmrk' Combo='TEXT' Width='140'><Caption>Cancel Remarks</Caption></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='cancelDate' Width='140' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Cancel Date</Caption><DType>DATE</DType></Col>\n</XML>":"REJEWB"==t?n+="<XML>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='ewbRejectedDate' Width='140' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Rejected Date</Caption><DType>DATE</DType></Col>\n</XML>":"GetEwayBill"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='supplyType' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>Supply Type</Caption></Col>\n<Col ID='subSupplyType' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Sub Type</Caption></Col>\n<Col ID='docType' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Doc Type</Caption></Col>\n<Col ID='docNo' Width='110' IsReadOnly='1'><Caption>Doc No</Caption></Col>\n<Col ID='docDate' Width='100' IsReadOnly='1'><Caption>Doc Date</Caption><DType>DATE</DType></Col>\n\n<Col ID='fromTrdName' Combo='TEXT' Width='140'><Caption>From_OtherPartyName</Caption></Col>\n<Col ID='fromGstin' Combo='TEXT' Width='140'><Caption>From_GSTIN</Caption></Col>\n<Col ID='fromAddr1' Combo='TEXT' Width='140'><Caption>From_Address1</Caption></Col>\n<Col ID='fromAddr2' Combo='TEXT' Width='140'><Caption>From_Address2</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From_Place</Caption></Col>\n<Col ID='fromPincode' Combo='TEXT' Width='140'><Caption>From_Pin Code</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>From_State</Caption></Col>\n<Col ID='dispStateCode' Combo='TEXT' Width='140'><Caption>Dispatch State</Caption></Col>\n\n<Col ID='toTrdName' Combo='TEXT' Width='140'><Caption>To_OtherPartyName</Caption></Col>\n<Col ID='toGstin' Combo='TEXT' Width='140'><Caption>To_GSTIN</Caption></Col>\n<Col ID='toAddr1' Combo='TEXT' Width='140'><Caption>To_Address1</Caption></Col>\n<Col ID='toAddr2' Combo='TEXT' Width='140'><Caption>To_Address2</Caption></Col>\n<Col ID='toPlace' Combo='TEXT' Width='140'><Caption>To_Place</Caption></Col>\n<Col ID='toPincode' Combo='TEXT' Width='140'><Caption>To_Pin Code</Caption></Col>\n<Col ID='toStateCode' Combo='TEXT' Width='140'><Caption>To_State</Caption></Col>\n<Col ID='shipStateCode' Combo='TEXT' Width='140'><Caption>Ship To State</Caption></Col>\n\n<Col ID='totValue' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Total Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='cgstValue' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgstValue' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='igstValue' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessValue' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessNonAdvolValue' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Non Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='otherValue' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Other Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='totInvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Total Invoice Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='transactionType' Width='110' IsReadOnly='1'><Caption>Trans Type</Caption></Col>\n<Col ID='transporterName' Combo='TEXT' Width='110'><Caption>Trans Name</Caption></Col>\n<Col ID='transporterId' Combo='TEXT' Width='110'><Caption>Trans ID</Caption></Col>\n<Col ID='vehicleType' Width='110' IsReadOnly='1'><Caption>Vehicle Type</Caption></Col>\n\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='ewayBillDate' Width='100' IsReadOnly='1'><Caption>Eway Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='noValidDays' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>Valid Days</Caption></Col>\n<Col ID='rejectStatus' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>Reject Status</Caption></Col>\n<Col ID='actualDist' Combo='NUM' Width='110'><Caption>Distance (Km)</Caption><DType>FLOAT</DType></Col>\n<Col ID='extendedTimes' Combo='TEXT' Width='160'><Caption>extended Times</Caption></Col>\n<Col ID='genMode' Combo='TEXT' Width='140'><Caption>Mode</Caption></Col>\n<Col ID='status' Combo='TEXT' Width='140'  ><Caption>Status</Caption></Col>\n\n<Col ID='itemNo' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Item No</Caption></Col>\n<Col ID='productId' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Product Id</Caption></Col>\n<Col ID='productName' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Product</Caption></Col>\n<Col ID='productDesc' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Description</Caption></Col>\n<Col ID='hsnCode' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>HSN</Caption></Col>\n<Col ID='qtyUnit' Width='160' Combo='TEXTUOM' IsOptional='1'><Caption>Unit</Caption></Col>\n<Col ID='quantity' Combo='NUM' Width='120' Agg='SUM'><Caption>Qty</Caption><DType>FLOAT</DType></Col>\n<Col ID='taxableAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='cgstRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgstRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>SGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='igstRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>IGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessNonAdvol' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Non</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='updMode' Combo='TEXT' Width='110'><Caption>Upd Mode</Caption></Col>\n<Col ID='vehicleNo' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='vfromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromState' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='tripshtNo' Combo='TEXT' Width='140'><Caption>Tripsht No</Caption></Col>\n<Col ID='userGSTINTransin' Combo='TEXT' Width='140'><Caption>User GSTIN</Caption></Col>\n<Col ID='enteredDate' Width='100' IsReadOnly='1'><Caption>Entered Date</Caption><DType>DATE</DType></Col>\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Trans Mode</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Trans DocNo</Caption></Col>\n<Col ID='transDocDate' Width='100' IsReadOnly='1'><Caption>Trans Date</Caption><DType>DATE</DType></Col>\n<Col ID='groupNo' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Group No</Caption></Col>\n\n</XML>":"GetEwayBillGeneratedByConsigner"==t?n+="<XML>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='ewayBillDate' Width='100' IsReadOnly='1'><Caption>Eway Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='alert' Combo='TEXT' Width='140'  ><Caption>Alert</Caption></Col>\n</XML>":"GetEwayBillsByDate"==t||"GetEwayBillsForTransporter"==t||"GetEwayBillsForTransporterByGstin"==t||"GetEwayBillsForTransporterByState"==t||"GetEwayBillsRejectedByOthers"==t?(n+="<XML>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='ewayBillDate' Width='100' IsReadOnly='1'><Caption>Eway Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='genGstin' Combo='TEXT' Width='140'><Caption>GSTIN</Caption></Col>\n<Col ID='docNo' Width='110' IsReadOnly='1'><Caption>Doc No</Caption></Col>\n<Col ID='docDate' Width='100' IsReadOnly='1'><Caption>Doc Date</Caption><DType>DATE</DType></Col>",n+="GetEwayBillsRejectedByOthers"==t?"\n<Col ID='validUpto' Width='100' IsReadOnly='1'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='status' Combo='TEXT' Width='140'  ><Caption>Status</Caption></Col>\n<Col ID='rejectStatus' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>Reject Status</Caption></Col>\n<Col ID='rejectedDate' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>Reject Date</Caption><DType>DATE</DType></Col>\n</XML>":"<Col ID='delPinCode' Combo='TEXT' Width='140'><Caption>Pin Code</Caption></Col>\n<Col ID='delStateCode' Combo='TEXT' Width='140'><Caption>State Code</Caption></Col>\n<Col ID='delPlace' Combo='TEXT' Width='140'><Caption>Place</Caption></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='extendedTimes' Combo='TEXT' Width='160'><Caption>extended Times</Caption></Col>\n<Col ID='status' Combo='TEXT' Width='140'  ><Caption>Status</Caption></Col>\n<Col ID='rejectStatus' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>Reject Status</Caption></Col>\n</XML>"):"GetEwayBillsofOtherParty"==t?n+="<XML>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='ewayBillDate' Width='100' IsReadOnly='1'><Caption>Eway Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='genMode' Combo='TEXT' Width='140'><Caption>Mode</Caption></Col>\n<Col ID='genGstin' Combo='TEXT' Width='140'><Caption>GSTIN</Caption></Col>\n<Col ID='docNo' Width='110' IsReadOnly='1'><Caption>Doc No</Caption></Col>\n<Col ID='docDate' Width='100' IsReadOnly='1'><Caption>Doc Date</Caption><DType>DATE</DType></Col>\n<Col ID='fromTradeName' Combo='TEXT' Width='140'><Caption>From Trade Name</Caption></Col>\n<Col ID='fromGstin' Combo='TEXT' Width='140'><Caption>From GSTIN</Caption></Col>\n<Col ID='toTradeName' Combo='TEXT' Width='140'><Caption>To Trade Name</Caption></Col>\n<Col ID='toGstin' Combo='TEXT' Width='140'><Caption>To GSTIN</Caption></Col>\n<Col ID='totInvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Total Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code</Caption></Col>\n<Col ID='hsnDesc' Combo='TEXT' Width='140'><Caption>HSN Description</Caption></Col>\n<Col ID='status' Combo='TEXT' Width='140'  ><Caption>Status</Caption></Col>\n<Col ID='rejectStatus' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>Reject Status</Caption></Col>\n</XML>":"GetTripSheet"==t?n+="<XML>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='ewayBillDate' Width='100' IsReadOnly='1'><Caption>Eway Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='userGstin' Combo='TEXT' Width='140'><Caption>GSTIN</Caption></Col>\n<Col ID='docNo' Width='110' IsReadOnly='1'><Caption>Doc No</Caption></Col>\n<Col ID='docDate' Width='100' IsReadOnly='1'><Caption>Doc Date</Caption><DType>DATE</DType></Col>\n<Col ID='fromTradeName' Combo='TEXT' Width='140'><Caption>From Trade Name</Caption></Col>\n<Col ID='fromGstin' Combo='TEXT' Width='140'><Caption>From GSTIN</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='toTradeName' Combo='TEXT' Width='140'><Caption>To Trade Name</Caption></Col>\n<Col ID='toGstin' Combo='TEXT' Width='140'><Caption>To GSTIN</Caption></Col>\n<Col ID='totInvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Total Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='transMode' Combo='TEXT' Width='140'><Caption>Trans Mode</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Trans DocNo</Caption></Col>\n<Col ID='transDocDate' Width='100' IsReadOnly='1'><Caption>Trans Date</Caption><DType>DATE</DType></Col>\n<Col ID='vehicleNo' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='enteredDate' Width='100' IsReadOnly='1'><Caption>Entered Date</Caption><DType>DATE</DType></Col>\n<Col ID='tripSheetNo' Combo='TEXT' Width='140'><Caption>Trip Sheet No</Caption></Col>\n<Col ID='status' Combo='TEXT' Width='140'><Caption>Status</Caption></Col>\n<Col ID='ComStatus' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>Complete Status</Caption></Col>\n</XML>":"GetErrorList"==t?n+="<XML>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='errorCode' Combo='TEXT' Width='100'><Caption>Code</Caption></Col>\n<Col ID='errorDesc' Combo='TEXT' Width='250'><Caption>Description</Caption></Col>\n</XML>":"GetHsnDetailsByHsnCode"==t?n+="<XML>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code</Caption></Col>\n<Col ID='hsnDesc' Combo='TEXT' Width='140'><Caption>HSN Description</Caption></Col>\n</XML>":"GetGSTINDetails"==t||"GetTransporterDetails"==t?(n+="<XML>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='gstin' Combo='TEXT' Width='140'><Caption>GSTIN</Caption></Col>\n<Col ID='legalName' Combo='TEXT' Width='140'><Caption>Legal Name</Caption></Col>\n<Col ID='tradeName' Combo='TEXT' Width='140'><Caption>Trade Name</Caption></Col>\n<Col ID='address1' Combo='TEXT' Width='140'><Caption>Address1</Caption></Col>\n<Col ID='address2' Combo='TEXT' Width='140'><Caption>Address2</Caption></Col>\n<Col ID='pinCode' Combo='TEXT' Width='140'><Caption>Pin Code</Caption></Col>\n<Col ID='stateCode' Combo='TEXT' Width='140'><Caption>State Code</Caption></Col>","GetGSTINDetails"==t&&(n+="<Col ID='txpType' Combo='TEXT' Width='140'><Caption>Tax Type</Caption></Col>",n+="<Col ID='status' Combo='TEXT' Width='140'><Caption>Status</Caption></Col>",n+="<Col ID='blkStatus' Combo='TEXT' Width='140'><Caption>blk Status</Caption></Col>"),n+="</XML>"):"INVOICE"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='SupTyp' Width='140' Combo='TEXT' ComboDefValue='2' IsReadOnly='1'><Caption>Supply Type</Caption></Col>\n<Col ID='RegRev' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Reverse Charge</Caption></Col>\n<Col ID='EcmGstin' Width='140' Combo='TEXT' ComboDefValue='2' IsReadOnly='1'><Caption>Ecom GSTIN</Caption></Col>\n<Col ID='IgstOnIntra' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Igst On Intra</Caption></Col>\n\n<Col ID='docType' Combo='TEXT' Width='110'><Caption>Doc Type</Caption></Col>\n<Col ID='docNo' Width='110' IsReadOnly='1'><Caption>Doc No</Caption></Col>\n<Col ID='docDate' Width='100' IsReadOnly='1'><Caption>Doc Date</Caption><DType>DATE</DType></Col>\n\n<Col ID='fromGstin' Combo='TEXT' Width='140'><Caption>From GSTIN</Caption></Col>\n<Col ID='fromLglName' Combo='TEXT' Width='140'><Caption>From LegalName</Caption></Col>\n<Col ID='fromTrdName' Combo='TEXT' Width='140'><Caption>From TradeName</Caption></Col>\n<Col ID='fromAddr1' Combo='TEXT' Width='140'><Caption>From Address1</Caption></Col>\n<Col ID='fromAddr2' Combo='TEXT' Width='140'><Caption>From Address2</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromPincode' Combo='TEXT' Width='140'><Caption>From Pincode</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='fromPhone' Combo='TEXT' Width='140'><Caption>From Phone</Caption></Col>\n<Col ID='fromEmail' Combo='TEXT' Width='140'><Caption>From Email</Caption></Col>\n\n<Col ID='dispLglName' Combo='TEXT' Width='140'><Caption>Dispatch LegalName</Caption></Col>\n<Col ID='dispAddr1' Combo='TEXT' Width='140'><Caption>Dispatch Address1</Caption></Col>\n<Col ID='dispAddr2' Combo='TEXT' Width='140'><Caption>Dispatch Address2</Caption></Col>\n<Col ID='dispPlace' Combo='TEXT' Width='140'><Caption>Dispatch Place</Caption></Col>\n<Col ID='dispPincode' Combo='TEXT' Width='140'><Caption>Dispatch Pincode</Caption></Col>\n<Col ID='dispStateCode' Combo='TEXT' Width='140'><Caption>Dispatch State</Caption></Col>\n\n<Col ID='gstReg' Combo='TEXT' Width='140'><Caption>GST Registration</Caption></Col>\n<Col ID='toGstin' Combo='TEXT' Width='140'><Caption>To GSTIN</Caption></Col>\n<Col ID='toLglName' Combo='TEXT' Width='140'><Caption>To LegalName</Caption></Col>\n<Col ID='toTrdName' Combo='TEXT' Width='140'><Caption>To TradeName</Caption></Col>\n<Col ID='Pos' Combo='TEXT' Width='140'><Caption>Pos</Caption></Col>\n<Col ID='toAddr1' Combo='TEXT' Width='140'><Caption>To Address1</Caption></Col>\n<Col ID='toAddr2' Combo='TEXT' Width='140'><Caption>To Address2</Caption></Col>\n<Col ID='toPlace' Combo='TEXT' Width='140'><Caption>To Place</Caption></Col>\n<Col ID='toPincode' Combo='TEXT' Width='140'><Caption>To Pincode</Caption></Col>\n<Col ID='toStateCode' Combo='TEXT' Width='140'><Caption>To State</Caption></Col>\n<Col ID='toPhone' Combo='TEXT' Width='140'><Caption>To Phone</Caption></Col>\n<Col ID='toEmail' Combo='TEXT' Width='140'><Caption>To Email</Caption></Col>\n\n<Col ID='shipGstin' Combo='TEXT' Width='140'><Caption>Ship To GSTIN</Caption></Col>\n<Col ID='shipLglName' Combo='TEXT' Width='140'><Caption>Ship To LegalName</Caption></Col>\n<Col ID='shipTrdName' Combo='TEXT' Width='140'><Caption>Ship To TradeName</Caption></Col>\n<Col ID='shipAddr1' Combo='TEXT' Width='140'><Caption>Ship To Address1</Caption></Col>\n<Col ID='shipAddr2' Combo='TEXT' Width='140'><Caption>Ship To Address2</Caption></Col>\n<Col ID='shipPlace' Combo='TEXT' Width='140'><Caption>Ship To Place</Caption></Col>\n<Col ID='shipPincode' Combo='TEXT' Width='140'><Caption>Ship To Pincode</Caption></Col>\n<Col ID='shipStateCode' Combo='TEXT' Width='140'><Caption>Ship To State</Caption></Col>\n\n<Col ID='productDesc' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Description</Caption></Col>\n<Col ID='isService' Width='120' Combo='TEXT' ComboDefValue='3'><Caption>Service</Caption></Col>\n<Col ID='hsnCode' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>HSN Code</Caption></Col>\n<Col ID='barCode' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Barcode</Caption></Col>\n<Col ID='qtyUnit' Width='160' Combo='TEXTUOM' IsOptional='1'><Caption>Unit</Caption></Col>\n<Col ID='quantity' Combo='NUM' Width='120' Agg='SUM'><Caption>Qty</Caption><DType>FLOAT</DType></Col>\n<Col ID='freeQty' Combo='NUM' Width='120' Agg='SUM'><Caption>Free Qty</Caption><DType>FLOAT</DType></Col>\n<Col ID='unitPrice' Combo='NUM' Width='120' Agg='SUM'><Caption>Unit Price</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='discount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>Discount</Caption><DType>FLOAT</DType></Col>\n<Col ID='preTaxVal' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>Pre Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='taxableAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='gstRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>GST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='cgstAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgstAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='igstAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='cessRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessNonAdvlAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS Advol</Caption></Col>\n<Col ID='stateCessRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>State CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='stateCessAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>State CESS Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='stateCessNonAdvlAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>State CESS Advol</Caption></Col>\n<Col ID='OtherCharges' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Other Charges</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='ordLineRef' Width='120' Combo='TEXT' ComboDefValue='3'><Caption>Order Ref</Caption></Col>\n<Col ID='orgCountry' Width='120' Combo='TEXT' ComboDefValue='3'><Caption>Origin Country</Caption></Col>\n<Col ID='serialNo' Width='120' Combo='TEXT' ComboDefValue='3'><Caption>Product Serial No</Caption></Col>\n<Col ID='batchName' Width='120' Combo='TEXT' IsOptional='1'><Caption>Batch Name</Caption></Col>\n<Col ID='batchExpDate' Width='120' Combo='TEXT' ComboDefValue='3'><Caption>Batch Exp Date</Caption></Col>\n<Col ID='batchWarDate' Width='120' Combo='TEXT' IsOptional='1'><Caption>Batch War Date</Caption></Col>\n<Col ID='attributeName' Width='120' Combo='TEXT' IsOptional='1'><Caption>Attribute Name</Caption></Col>\n\n<Col ID='totValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Total Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='cgstValue' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Total CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgstValue' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Total SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='igstValue' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Total IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessValue' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Total CESS Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='stateCessValue' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Total State CESS Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='totDiscount' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Total Discount</Caption><DType>FLOAT</DType></Col>\n<Col ID='totOtherCharges' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Total Other Charges</Caption><DType>FLOAT</DType></Col>\n<Col ID='roundOffAmout' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Round Off</Caption><DType>FLOAT</DType></Col>\n<Col ID='totInvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Total Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='totInvValueFC' Combo='NUM' Width='120' IsOptional='1'><Caption>Total Invoice Value(FC)</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='PayeeName' Combo='TEXT' Width='110'><Caption>Payee Name</Caption></Col>\n<Col ID='AccountNumber' Combo='TEXT' Width='110'><Caption>Account Number</Caption><DType>FLOAT</DType></Col>\n<Col ID='ModeOfPayment' Combo='TEXT' Width='110'><Caption>Mode Of Payment</Caption></Col>\n<Col ID='IFSCCode' Combo='TEXT' Width='110'><Caption>IFSC Code</Caption></Col>\n<Col ID='PaymentTerms' Combo='TEXT' Width='110'><Caption>Payment Terms</Caption></Col>\n<Col ID='PaymentInstruction' Combo='TEXT' Width='100' IsReadOnly='1'><Caption>Payment Instruction</Caption><DType>DATE</DType></Col>\n<Col ID='CreditTransfer' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Credit Transfer</Caption><DType>FLOAT</DType></Col>\n<Col ID='DirectDebit' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Direct Debit</Caption><DType>FLOAT</DType></Col>\n<Col ID='CreditDays' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Credit Days</Caption><DType>FLOAT</DType></Col>\n<Col ID='PaidAmount' Combo='NUM' Width='110' IsOptional='1'><Caption>Paid Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='PaymentDue' Combo='NUM' Width='110' IsOptional='1'><Caption>Payment Due</Caption><DType>FLOAT</DType></Col>\n\n\n\n<Col ID='ShipBillNo' Combo='TEXT' Width='110'><Caption>Ship Bill No</Caption></Col>\n<Col ID='ShipBillDate' Combo='TEXT' Width='110'><Caption>Ship Bill Date</Caption><DType>FLOAT</DType></Col>\n<Col ID='Port' Combo='TEXT' Width='110'><Caption>Port</Caption></Col>\n<Col ID='RefClm' Combo='TEXT' Width='110'><Caption>Claiming Refund</Caption></Col>\n<Col ID='ForCur' Combo='TEXT' Width='110'><Caption>Currency</Caption></Col>\n<Col ID='CntCode' Combo='TEXT' Width='100' IsReadOnly='1'><Caption>Country</Caption><DType>DATE</DType></Col>\n<Col ID='ExpDuty' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Export Duty</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Transport Mode</Caption></Col>\n<Col ID='transDistance' Combo='TEXT' Width='110'><Caption>Distance (Km)</Caption><DType>FLOAT</DType></Col>\n<Col ID='transporterId' Combo='TEXT' Width='110'><Caption>Transporter ID</Caption></Col>\n<Col ID='transporterName' Combo='TEXT' Width='110'><Caption>Transporter Name</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Transport DocNo</Caption></Col>\n<Col ID='transDocDate' Combo='TEXT' Width='100' IsReadOnly='1'><Caption>Transport Date</Caption><DType>DATE</DType></Col>\n<Col ID='vehicleNo' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='vehicleType' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Vehicle Type</Caption></Col>\n\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='AckNo' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Acknowledge No</Caption></Col>\n<Col ID='AckDt' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Acknowledge Date</Caption><DType>DATE</DType></Col>\n<Col ID='Irn' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Irn</Caption><DType>DATE</DType></Col>\n<Col ID='SignedInvoice' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Signed Invoice</Caption></Col>\n<Col ID='SignedQRCode' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Signed QR Code</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Eway Bill No</Caption></Col>\n<Col ID='ewayBillDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Eway Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='Remarks' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Remarks</Caption></Col>\n<Col ID='Status' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Status</Caption></Col>\n</XML>":"EWAYBILL"==t?n+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='Irn' Width='150' IsReadOnly='1'><Caption>IRN</Caption></Col>\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Transport Mode</Caption></Col>\n<Col ID='transDistance' Combo='TEXT' Width='110'><Caption>Distance (Km)</Caption><DType>FLOAT</DType></Col>\n<Col ID='transporterId' Combo='TEXT' Width='110'><Caption>Transporter ID</Caption></Col>\n<Col ID='transporterName' Combo='TEXT' Width='110'><Caption>Transporter Name</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Transport DocNo</Caption></Col>\n<Col ID='transDocDate' Combo='TEXT' Width='100' IsReadOnly='1'><Caption>Transport Date</Caption><DType>DATE</DType></Col>\n<Col ID='vehicleNo' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='vehicleType' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Vehicle Type</Caption></Col>\n\n<Col ID='shipAddr1' Combo='TEXT' Width='140'><Caption>Ship To Address1</Caption></Col>\n<Col ID='shipAddr2' Combo='TEXT' Width='140'><Caption>Ship To Address2</Caption></Col>\n<Col ID='shipPlace' Combo='TEXT' Width='140'><Caption>Ship To Place</Caption></Col>\n<Col ID='shipPincode' Combo='TEXT' Width='140'><Caption>Ship To Pincode</Caption></Col>\n<Col ID='shipStateCode' Combo='TEXT' Width='140'><Caption>Ship To State</Caption></Col>\n\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Eway Bill No</Caption></Col>\n<Col ID='ewayBillDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Eway Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='Remarks' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Remarks</Caption></Col>\n</XML>":"INVOICE/CANCEL"==t?n+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='Irn' Width='150' IsReadOnly='1'><Caption>IRN</Caption></Col>\n<Col ID='cancelRmrk' Combo='TEXT' Width='140'><Caption>Cancel Remarks</Caption></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='cancelDate' Width='140' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Cancel Date</Caption><DType>DATE</DType></Col>\n</XML>":"EWAYAPI"==t&&(n+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='150' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='cancelRmrk' Combo='TEXT' Width='140'><Caption>Cancel Remarks</Caption></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='cancelDate' Width='140' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Cancel Date</Caption><DType>DATE</DType></Col>\n</XML>"),e.dicReports.push(t,n.toString()),e.dicReports[t]}},{key:"GSTSummaryColumnsXML",value:function(e){var t="";return"b2b"==e?t+="<XML GroupBy='VoucherNo'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"b2cl"==e?t+="<XML GroupBy='VoucherNo'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"b2cs"==e?t+="<XML GroupBy='Type'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' InUse='0' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='Type' Width='110' Combo='TEXT'><Caption>Type</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='ECommGSTIN' Combo='TEXT' ComboDefValue='2' Width='140'><Caption>E-Commerce GSTIN</Caption></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"cdnr"==e?t+="<XML GroupBy='VoucherNo'>\n<Col ID='LinkVoucherNo' Width='150' IsReadOnly='1'><Caption>Invoice/Advance Receipt Number</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Note/Refund Voucher Number</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='cdnrDocumentType'><Caption>Document Type</Caption></Col>\n<Col ID='InvValue' Combo='NUM' Width='140' IsOptional='1'><Caption>Note/Refund Voucher Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"exp"==e?t+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='ExportType' Width='140' Combo='TEXT'><Caption>Export Type</Caption></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PortCode' Combo='TEXT' Width='120'><Caption>Port Code</Caption></Col>\n<Col ID='ShipBillNo' Combo='TEXT' Width='160'><Caption>Shipping Bill Number</Caption></Col>\n<Col ID='ShipBillDate' Combo='DATE' Width='150'><Caption>Shipping Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"at"==e?t+="<XML GroupBy='PoS,Rate'>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvReceived' Combo='NUM' Width='150' Agg='SUM'><Caption>Gross Advance Received</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"atadj"==e?t+="<XML GroupBy='PoS,Rate'>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvReceived' Combo='NUM' Width='150' Agg='SUM' InUse='0'><Caption>Gross Advance Received</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvAdjusted' Combo='NUM' Width='150' Agg='SUM' IsReadOnly='1'><Caption>Gross Advance Adjusted</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"exemp"==e&&(t+="<XML GroupBy='VoucherNo'>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Note/Refund Voucher Number</Caption></Col>\n<Col ID='Value' Combo='NUM' Width='120' Agg='SUM' InUse='0'><Caption>Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='NilRated' ComboDefValue='3' Combo='TEXT' Width='140'><Caption>Nil Rated Supplies</Caption><DType>FLOAT</DType></Col>\n</XML>"),t.toString()}},{key:"GSTR2AColumnsXML",value:function(e){var t="";return"b2b"==e||"b2ba"==e?(t="<XML>","b2ba"==e&&(t+="<Col ID='oinum' Width='110' IsReadOnly='1'><Caption>Orginal Invoice number</Caption></Col>\n<Col ID='oidt' Width='100' IsReadOnly='1'><Caption>Orginal Invoice Date</Caption><DType>DATE</DType></Col>"),t+="<Col ID='chksum' Width='160' IsVisible='0'><Caption>Check Sum</Caption></Col>\n<Col ID='ctin' Width='160' IsReadOnly='1'><Caption>GSTIN of supplier</Caption></Col>\n<Col ID='inum' Width='110' IsReadOnly='1'><Caption>Invoice number</Caption></Col>\n<Col ID='inv_typ' Width='110' IsReadOnly='1'><Caption>Invoice type</Caption></Col>\n<Col ID='idt' Width='100' IsReadOnly='1'><Caption>Invoice Date</Caption><DType>DATE</DType></Col>\n<Col ID='val' Combo='NUM' Width='120' IsReadOnly='1'><Caption>Invoice Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='pos' Width='120' IsReadOnly='1'><Caption>Place of supply</Caption></Col>\n<Col ID='rchrg' Width='120' IsReadOnly='1'><Caption>Supply Attract Reverse Charge</Caption></Col>\n<Col ID='diff_percent' Combo='NUM' Width='130' IsVisible='0'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='rt' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Rate (%)</Caption><DType>FLOAT</DType></Col>\n<Col ID='txval' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Taxable Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='iamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='camt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Central Tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='samt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>State/UT tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='csamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='cfs' Width='160' IsReadOnly='1'><Caption>GSTR-1/IFF/GSTR-5 Filing Status</Caption></Col>\n<Col ID='fldtr1' Width='100' IsReadOnly='1'><Caption>GSTR-1/IFF/GSTR-5 Filing Date</Caption><DType>DATE</DType></Col>\n<Col ID='flprdr1' Width='100' IsReadOnly='1'><Caption>GSTR-1/IFF/GSTR-5 Filing Period</Caption><DType>DATE</DType></Col>\n<Col ID='cfs3b' Width='160' IsReadOnly='1'><Caption>GSTR-3B Filing Status</Caption></Col>\n<Col ID='atyp' Width='160' IsReadOnly='1'><Caption>Amendment made, if any</Caption></Col>\n<Col ID='aspd' Width='100' IsReadOnly='1'><Caption>Tax Period in which Amended</Caption><DType>DATE</DType></Col>\n<Col ID='dtcancel' Width='100' IsReadOnly='1'><Caption>Effective date of cancellation</Caption><DType>DATE</DType></Col>","b2b"==e&&(t+="<Col ID='srctyp' Width='100' IsReadOnly='1'><Caption>Source</Caption></Col>\n<Col ID='irn' Width='140' IsReadOnly='1'><Caption>IRN</Caption></Col>\n<Col ID='irngendate' Width='100' IsReadOnly='1'><Caption>IRN date</Caption><DType>DATE</DType></Col>"),t+="</XML>"):"cdn"==e||"cdna"==e?(t+="<XML>","cdna"==e&&(t+="<Col ID='ontty' Width='110' IsReadOnly='1'><Caption>Orginal Note type</Caption></Col>\n<Col ID='ont_num' Width='110' IsReadOnly='1'><Caption>Orginal Note Number</Caption></Col>\n<Col ID='ont_dt' Width='100' IsReadOnly='1'><Caption>Orginal Note date</Caption><DType>DATE</DType></Col>"),t+="<Col ID='chksum' Width='160' IsVisible='0'><Caption>Check Sum</Caption></Col>\n<Col ID='ctin' Width='160' IsReadOnly='1'><Caption>GSTIN of supplier</Caption></Col>\n<Col ID='ntty' Width='110' IsReadOnly='1'><Caption>Note type</Caption></Col>\n<Col ID='nt_num' Width='110' IsReadOnly='1'><Caption>Note Number</Caption></Col>\n<Col ID='inv_typ' Width='110' IsReadOnly='1'><Caption>Note Supply type</Caption></Col>\n<Col ID='nt_dt' Width='100' IsReadOnly='1'><Caption>Note date</Caption><DType>DATE</DType></Col>\n<Col ID='p_gst' Width='100' IsReadOnly='1' IsVisible='0'><Caption>p_gst</Caption></Col>\n<Col ID='d_flag' Width='100' IsReadOnly='1' IsVisible='0'><Caption>d_flag</Caption></Col>\n<Col ID='inum' Width='110' IsReadOnly='1' IsVisible='0'><Caption>Invoice number</Caption></Col>\n<Col ID='idt' Width='100' IsReadOnly='1' IsVisible='0'><Caption>Invoice Date</Caption><DType>DATE</DType></Col>\n<Col ID='val' Combo='NUM' Width='120' IsReadOnly='1'><Caption>Note Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='pos' Width='120' IsReadOnly='1'><Caption>Place of supply</Caption></Col>\n<Col ID='rchrg' Width='120' IsReadOnly='1'><Caption>Supply Attract Reverse Charge</Caption></Col>\n<Col ID='diff_percent' Combo='NUM' Width='130' IsVisible='0'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='rt' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Rate (%)</Caption><DType>FLOAT</DType></Col>\n<Col ID='txval' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Taxable Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='iamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='camt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Central Tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='samt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>State/UT tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='csamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='cfs' Width='160' IsReadOnly='1'><Caption>GSTR-1/IFF/GSTR-5 Filing Status</Caption></Col>\n<Col ID='fldtr1' Width='100' IsReadOnly='1'><Caption>GSTR-1/IFF/GSTR-5 Filing Date</Caption><DType>DATE</DType></Col>\n<Col ID='flprdr1' Width='100' IsReadOnly='1'><Caption>GSTR-1/IFF/GSTR-5 Filing Period</Caption><DType>DATE</DType></Col>\n<Col ID='cfs3b' Width='160' IsReadOnly='1'><Caption>GSTR-3B Filing Status</Caption></Col>\n<Col ID='atyp' Width='160' IsReadOnly='1'><Caption>Amendment made, if any</Caption></Col>\n<Col ID='aspd' Width='100' IsReadOnly='1'><Caption>Tax Period in which Amended</Caption><DType>DATE</DType></Col>\n<Col ID='dtcancel' Width='100' IsReadOnly='1'><Caption>Effective date of cancellation</Caption><DType>DATE</DType></Col>","cdn"==e&&(t+="<Col ID='srctyp' Width='100' IsReadOnly='1'><Caption>Source</Caption></Col>\n<Col ID='irn' Width='140' IsReadOnly='1'><Caption>IRN</Caption></Col>\n<Col ID='irngendate' Width='100' IsReadOnly='1'><Caption>IRN date</Caption><DType>DATE</DType></Col>\n<Col ID='cflag' Width='100' IsReadOnly='1' IsVisible='0'><Caption>cflag</Caption></Col>\n<Col ID='updby' Width='100' IsReadOnly='1' IsVisible='0'><Caption>updby</Caption></Col>"),t+="</XML>"):"isd"==e||"isda"==e?(t+="<XML>","isda"==e&&(t+="<Col ID='oisd_docty' Width='110' IsReadOnly='1'><Caption>Orginal ISD Document type</Caption></Col>\n<Col ID='odocnum' Width='110' IsReadOnly='1'><Caption>Orginal Document Number</Caption></Col>\n<Col ID='odocdt' Width='100' IsReadOnly='1'><Caption>Orginal Document date</Caption><DType>DATE</DType></Col>"),t+="<Col ID='itc_elg' Width='110' IsReadOnly='1'><Caption>Eligibility of ITC</Caption></Col>\n<Col ID='chksum' Width='160' IsVisible='0'><Caption>Check Sum</Caption></Col>\n<Col ID='ctin' Width='160' IsReadOnly='1'><Caption>GSTIN of ISD</Caption></Col>\n<Col ID='isd_docty' Width='110' IsReadOnly='1'><Caption>ISD Document type</Caption></Col>\n<Col ID='docnum' Width='110' IsReadOnly='1'><Caption>ISD Invoice number</Caption></Col>\n<Col ID='docdt' Width='100' IsReadOnly='1'><Caption>ISD Invoice date</Caption><DType>DATE</DType></Col>\n\n<Col ID='iamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='camt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Central Tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='samt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>State/UT tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='csamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='cfs' Width='160' IsReadOnly='1'><Caption>ISD GSTR-6 Filing status</Caption></Col>\n<Col ID='atyp' Width='160' IsReadOnly='1'><Caption>Amendment made, if any</Caption></Col>\n<Col ID='aspd' Width='100' IsReadOnly='1'><Caption>Tax Period in which Amended</Caption><DType>DATE</DType></Col>\n</XML>"):"tds"==e||"tdsa"==e?(t+="<XML>","tdsa"==e&&(t+="<Col ID='ogstin_ded' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>Orginal GSTIN/UIN of Deduction</Caption></Col>\n<Col ID='omonth' Width='130' IsReadOnly='1'><Caption>Orginal Period</Caption></Col>\n<Col ID='oamt_ded' Combo='NUM' Width='110' Agg='SUM'><Caption>Orginal Taxable Value</Caption><DType>FLOAT</DType></Col>"),t+="<Col ID='gstin_ded' Width='160' IsReadOnly='1'><Caption>GSTIN of Deductor</Caption></Col>\n<Col ID='amt_ded' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Taxable Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='iamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='camt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Central Tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='samt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>State/UT tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n</XML>"):"tcs"==e?t+="<XML>\n<Col ID='chksum' Width='160' IsVisible='0'><Caption>Check Sum</Caption></Col>\n<Col ID='eitn' Width='160' IsReadOnly='1'><Caption>GSTIN of E-com. Operator</Caption></Col>\n<Col ID='sup_val' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Gross Value of  supplies (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='tx_val' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Net amount liable for TCS (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='iamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='camt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Central Tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='samt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>State/UT tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='csamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n</XML>":"impg"!=e&&"impgsez"!=e||(t+="<XML>","impgsez"==e&&(t+="<Col ID='sgstin' Width='160' IsReadOnly='1'><Caption>GSTIN of supplier</Caption></Col>\n<Col ID='tdname' Width='160' IsVisible='0'><Caption>Trade/Legal name</Caption></Col>"),t+="<Col ID='refdt' Width='100' IsReadOnly='1'><Caption>Reference date (ICEGATE)</Caption><DType>DATE</DType></Col>\n<Col ID='portcd' Width='110' IsReadOnly='1'><Caption>Port code</Caption></Col>\n<Col ID='benum' Width='110' IsReadOnly='1'><Caption>Number</Caption></Col>\n<Col ID='bedt' Width='100' IsReadOnly='1'><Caption>Date</Caption><DType>DATE</DType></Col>\n\n<Col ID='txval' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Taxable Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='iamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='csamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='amd' Width='100' IsReadOnly='1'><Caption>Amended(Yes)</Caption><DType>DATE</DType></Col>\n</XML>"),t.toString()}},{key:"GSTR2BColumnsXML",value:function(e){var t="";return"b2b"==e||"b2ba"==e?(t+="<XML>","b2ba"==e&&(t+="<Col ID='oinum' Width='110' IsReadOnly='1'><Caption>Orginal Invoice number</Caption></Col>\n<Col ID='oidt' Width='100' IsReadOnly='1'><Caption>Orginal Invoice Date</Caption><DType>DATE</DType></Col>"),t+="<Col ID='chksum' Width='160' IsVisible='0'><Caption>Check Sum</Caption></Col>\n<Col ID='ctin' Width='160' IsReadOnly='1'><Caption>GSTIN of supplier</Caption></Col>\n<Col ID='trdnm' Width='160' IsReadOnly='1'><Caption>Trade/Legal name</Caption></Col>\n<Col ID='supfildt' Width='150' IsReadOnly='1'><Caption>Supplier Filing Date</Caption><DType>DATE</DType></Col>\n<Col ID='supprd' Width='150' IsReadOnly='1'><Caption>Supplier Filing Period</Caption><DType>DATE</DType></Col>\n<Col ID='inum' Width='110' IsReadOnly='1'><Caption>Invoice number</Caption></Col>\n<Col ID='typ' Width='110' IsReadOnly='1'><Caption>Invoice type</Caption></Col>\n<Col ID='dt' Width='100' IsReadOnly='1'><Caption>Invoice Date</Caption><DType>DATE</DType></Col>\n<Col ID='val' Combo='NUM' Width='120' IsReadOnly='1'><Caption>Invoice Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='pos' Width='120' IsReadOnly='1'><Caption>Place of supply</Caption></Col>\n<Col ID='rev' Width='120' IsReadOnly='1'><Caption>Supply Attract Reverse Charge</Caption></Col>\n<Col ID='itcavl' Width='120' IsReadOnly='1'><Caption>ITC available</Caption></Col>\n<Col ID='rsn' Width='120' IsReadOnly='1'><Caption>RSN</Caption></Col>\n<Col ID='diffprcnt' Combo='NUM' Width='130' IsVisible='0'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='rt' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Rate (%)</Caption><DType>FLOAT</DType></Col>\n<Col ID='txval' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Taxable Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='igst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='cgst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Central Tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>State/UT tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='cess' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>",t+="</XML>"):"cdnr"==e||"cdnra"==e?(t+="<XML>","cdnra"==e&&(t+="<Col ID='onttyp' Width='110' IsReadOnly='1'><Caption>Orginal Note type</Caption></Col>\n<Col ID='ontnum' Width='110' IsReadOnly='1'><Caption>Orginal Note Number</Caption></Col>\n<Col ID='ontdt' Width='100' IsReadOnly='1'><Caption>Orginal Note date</Caption><DType>DATE</DType></Col>"),t+="<Col ID='chksum' Width='160' IsVisible='0'><Caption>Check Sum</Caption></Col>\n<Col ID='ctin' Width='160' IsReadOnly='1'><Caption>GSTIN of supplier</Caption></Col>\n<Col ID='trdnm' Width='160' IsReadOnly='1'><Caption>Trade/Legal name</Caption></Col>\n<Col ID='supfildt' Width='150' IsReadOnly='1'><Caption>Supplier Filing Date</Caption><DType>DATE</DType></Col>\n<Col ID='supprd' Width='150' IsReadOnly='1'><Caption>Supplier Filing Period</Caption><DType>DATE</DType></Col>\n<Col ID='ntnum' Width='110' IsReadOnly='1'><Caption>Note Number</Caption></Col>\n<Col ID='typ' Width='110' IsReadOnly='1'><Caption>Note type</Caption></Col>\n<Col ID='suptyp' Width='110' IsReadOnly='1'><Caption>Note Supply type</Caption></Col>\n<Col ID='dt' Width='100' IsReadOnly='1'><Caption>Note date</Caption><DType>DATE</DType></Col>\n<Col ID='val' Combo='NUM' Width='120' IsReadOnly='1'><Caption>Note Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='pos' Width='120' IsReadOnly='1'><Caption>Place of supply</Caption></Col>\n<Col ID='rev' Width='120' IsReadOnly='1'><Caption>Supply Attract Reverse Charge</Caption></Col>\n<Col ID='itcavl' Width='120' IsReadOnly='1'><Caption>ITC available</Caption></Col>\n<Col ID='rsn' Width='120' IsReadOnly='1'><Caption>RSN</Caption></Col>\n<Col ID='diffprcnt' Combo='NUM' Width='130' IsVisible='0'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='rt' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Rate (%)</Caption><DType>FLOAT</DType></Col>\n<Col ID='txval' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Taxable Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='igst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='cgst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Central Tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>State/UT tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='cess' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>",t+="</XML>"):"isd"==e||"isda"==e?(t+="<XML>","isda"==e&&(t+="<Col ID='odoctyp' Width='110' IsReadOnly='1'><Caption>Orginal ISD Document type</Caption></Col>\n<Col ID='odocnum' Width='110' IsReadOnly='1'><Caption>Orginal Document Number</Caption></Col>\n<Col ID='odocdt' Width='100' IsReadOnly='1'><Caption>Orginal Document date</Caption><DType>DATE</DType></Col>"),t+="<Col ID='itcelg' Width='110' IsReadOnly='1'><Caption>Eligibility of ITC</Caption></Col>\n<Col ID='chksum' Width='160' IsVisible='0'><Caption>Check Sum</Caption></Col>\n<Col ID='ctin' Width='160' IsReadOnly='1'><Caption>GSTIN of ISD</Caption></Col>\n<Col ID='trdnm' Width='160' IsReadOnly='1'><Caption>Trade Name</Caption></Col>\n<Col ID='supfildt' Width='150' IsReadOnly='1'><Caption>Supplier Filing Date</Caption><DType>DATE</DType></Col>\n<Col ID='supprd' Width='150' IsReadOnly='1'><Caption>Supplier Filing Period</Caption><DType>DATE</DType></Col>\n<Col ID='doctyp' Width='110' IsReadOnly='1'><Caption>ISD Document type</Caption></Col>\n<Col ID='docnum' Width='110' IsReadOnly='1'><Caption>ISD Invoice number</Caption></Col>\n<Col ID='docdt' Width='100' IsReadOnly='1'><Caption>ISD Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='oinvnum' Width='110' IsReadOnly='1'><Caption>Orginal Invoice number</Caption></Col>\n<Col ID='oinvdt' Width='100' IsReadOnly='1'><Caption>Orginal Invoice date</Caption><DType>DATE</DType></Col>\n\n<Col ID='igst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='cgst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Central Tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>State/UT tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='cess' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n</XML>"):"impg"!=e&&"impgsez"!=e||(t+="<XML>","impgsez"==e&&(t+="<Col ID='ctin' Width='160' IsReadOnly='1'><Caption>GSTIN of supplier</Caption></Col>\n<Col ID='trdnm' Width='160' IsVisible='0'><Caption>Trade/Legal name</Caption></Col>"),t+="<Col ID='refdt' Width='100' IsReadOnly='1'><Caption>Reference date (ICEGATE)</Caption><DType>DATE</DType></Col>\n<Col ID='recdt' Width='100' IsReadOnly='1'><Caption>Reciept date</Caption><DType>DATE</DType></Col>\n<Col ID='portcode' Width='110' IsReadOnly='1'><Caption>Port code</Caption></Col>\n<Col ID='boenum' Width='110' IsReadOnly='1'><Caption>Number</Caption></Col>\n<Col ID='boedt' Width='100' IsReadOnly='1'><Caption>Date</Caption><DType>DATE</DType></Col>\n\n<Col ID='txval' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Taxable Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='igst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='cess' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='isamd' Width='100' IsReadOnly='1'><Caption>Amended(Yes)</Caption><DType>DATE</DType></Col>\n</XML>"),t.toString()}}]),e}()).IsMultipleLocs=!1,n.LocationWhere="",n.AllowGSTatVAT=!1,n.dicReports=new D.a,n),A=function(e){_inherits(o,e);var t=_createSuper(o);function o(){var e;_classCallCheck(this,o),(e=t.call(this)).GSTR2=["GSTR2_b2b","GSTR2_b2bur","GSTR2_imps","GSTR2_impg","GSTR2_cdnr","GSTR2_cdnur","GSTR2_at","GSTR2_atadj","GSTR2_exemp","GSTR2_itcr","GSTR2_hsnsum"],e.lstGSTReport=new D.a,e.lstGridViewModel=new D.a,e.dicReportID=new D.a,e.Tab=new m.a;for(var n=s.a.common.GetDataTable("GST002",""),a=function(t){var o=e.GSTR2[t],a=n.filter((function(e){return e.ReportName==o}));if(0==a.length)return"continue";var i=new d.a;i.Width="",i.Height=0,e.lstGridViewModel.push(o,i),e.dicReportID.push(o,parseInt(a[0].ReportID));var l=new m.b;l.Name=o,l.Header=o.replace("GSTR2_",""),l.Fields.push(i),e.Tab.Tabs.push(l)},i=0;i<e.GSTR2.length;i++)a(i);return 0==e.lstGridViewModel.length&&(e.DisplayMessage="No GSTR2 Reports Found"),e}return _createClass(o,null,[{key:"Add_AvailedITC",value:function(e,t){var o=!0,n="BillDate",a="BillNo";"GSTR2_b2bur"==e||"GSTR2_cdnr"==e||"GSTR2_cdnur"==e?(n="DocDate",a="VoucherNo"):"GSTR2_imps"!=e&&"GSTR2_impg"!=e||(o=!1),t.Columns[0].push("ITCIntTaxAmt"),t.Columns[0].push("ITCCessAmt"),o&&(t.Columns[0].push("ITCCTaxAmt"),t.Columns[0].push("ITCSTaxAmt"));for(var i,l,C,s,p,T=null,u=null,D=0,d=-1235,m=0,c=0,I=0,h=0,y=t.Tables[0].length-1;y>=0;y--)s=t.Tables[0][y],i=r.e.String(s[n]),l=r.e.String(s[a]),C=r.e.String(s.ITCEligible),D=null==s.Rate?0:parseFloat(s.Rate),T==i&&u==l&&d==D?(p=t.Tables[0][y+1],null!=s.TaxableValue&&(p.TaxableValue=parseFloat(p.TaxableValue)+parseFloat(s.TaxableValue)),null!=s.IntTaxAmt&&(p.IntTaxAmt=parseFloat(p.IntTaxAmt)+parseFloat(s.IntTaxAmt)),null!=s.CessAmt&&(p.CessAmt=parseFloat(p.CessAmt)+parseFloat(s.CessAmt)),o&&(null!=s.CTaxAmt&&(p.CTaxAmt=parseFloat(p.CTaxAmt)+parseFloat(s.CTaxAmt)),null!=s.STaxAmt&&(p.STaxAmt=parseFloat(p.STaxAmt)+parseFloat(s.STaxAmt))),"Ineligible"!=C&&(p.ITCEligible=s.ITCEligible,null!=s.IntTaxAmt&&(m+=parseFloat(s.IntTaxAmt),p.ITCIntTaxAmt=m),null!=s.CessAmt&&(h+=parseFloat(s.CessAmt),p.ITCCessAmt=h),o&&(null!=s.CTaxAmt&&(c+=parseFloat(s.CTaxAmt),p.ITCCTaxAmt=c),null!=s.STaxAmt&&(I+=parseFloat(s.STaxAmt),p.ITCSTaxAmt=I))),t.Tables[0].RemoveAt(y)):(null==s.TaxableValue&&(s.TaxableValue=0),null==s.IntTaxAmt&&(s.IntTaxAmt=0),null==s.CessAmt&&(s.CessAmt=0),o&&(null==s.CTaxAmt&&(s.CTaxAmt=0),null==s.STaxAmt&&(s.STaxAmt=0)),"Ineligible"!=C?(m=parseFloat(s.IntTaxAmt),h=parseFloat(s.CessAmt),s.ITCIntTaxAmt=m,s.ITCCessAmt=h,o&&(c=parseFloat(s.CTaxAmt),I=parseFloat(s.STaxAmt),s.ITCCTaxAmt=c,s.ITCSTaxAmt=I)):m=c=I=h=0,T=i,u=l,d=D);"GSTR2_b2bur"==e&&(T=null)}},{key:"Update_at",value:function(e){var t,o,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=null,i=0,l=0,C=0,s=0,p=0,T=0,u="",D="";e.Columns[0].push("InvValue");for(var d=0;d<e.Tables[0].length;d++){for(t=e.Tables[0][d],(u="AccountID="+r.e.String(t.AccountID)+" and RefDocNo='"+r.e.String(t.VoucherNo)+"' and AdjAmount!=0")!=D&&(a=e.Tables[1].filter((function(e){return e.AccountID==r.e.String(t.AccountID)&&e.RefDocNo==r.e.String(t.VoucherNo)&&0!=e.AdjAmount})),i=0,D=u),t.InvValue=t.AdvReceived,p=null!=t.AdvReceived?parseFloat(t.AdvReceived):0,T=p=Math.abs(p);i<a.length;){if((s=Math.abs(parseFloat(a[i].AdjAmount)))>=p){a[i].AdjAmount=s-p,p=0,e.Tables[0].RemoveAt(d),d--;break}a[i].AdjAmount=0,p-=s,t.AdvReceived=p,i++}p>0&&((C=null!=t.CessAmt?parseFloat(t.CessAmt):0)>0&&T!=p&&(C=parseFloat((C*p/T).ToString("N2")),t.CessAmt=C))}var m=[];if(n)o={},e.Tables[0].length>0&&(o.TaxableValue=e.Tables[0].Compute("sum","AdvReceived"),o.CessAmt=e.Tables[0].Compute("sum","CessAmt"),o.IntTaxAmt=e.Tables[0].Compute("sum","IntTaxAmt"),o.CTaxAmt=e.Tables[0].Compute("sum","CTaxAmt"),o.STaxAmt=e.Tables[0].Compute("sum","STaxAmt"),o.Cnt=e.Tables[0].ToTable(!0,["VoucherNo"]).length),m.push(o);else{o=null,D=null;for(var c=0;c<e.Tables[0].length;c++)(u="PoS='"+(t=e.Tables[0][c]).PoS.toString()+"' and Rate="+t.Rate.toString())!=D&&((o={}).PoS=t.PoS,o.Rate=t.Rate,m.push(o),D=u,l=0,C=0),l+=parseFloat(t.AdvReceived),C+=null!=t.CessAmt?parseFloat(t.CessAmt):0,o.AdvReceived=l,o.CessAmt=C}e.Tables.Clear(),e.Tables.push(m)}},{key:"Update_atadj",value:function(e){for(var t,o,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=null,i=0,l=0,C=0,s=0,p=0,T=0,u=0,D="",d="",m=0;m<e.Tables[0].length;m++){if(t=e.Tables[0][m],(D="AccountID="+r.e.String(t.AccountID)+" and RefDocNo='"+r.e.String(t.VoucherNo)+"' and AdjAmount!=0")!=d){if(0==(a=e.Tables[1].filter((function(e){return e.AccountID==r.e.String(t.AccountID)&&e.RefDocNo==r.e.String(t.VoucherNo)&&0!=e.AdjAmount}))).length){e.Tables[0].RemoveAt(m),m--;continue}i=0,d=D}for(p=null!=t.AdvReceived?parseFloat(t.AdvReceived):0,u=p=Math.abs(p),T=0;i<a.length;){if((s=Math.abs(parseFloat(a[i].AdjAmount)))>=p){T+=p,a[i].AdjAmount=s-p,p-=s;break}a[i].AdjAmount=0,T+=s,p-=s,i++}0!=T?(t.AdvAdjusted=T,(C=null!=t.CessAmt?parseFloat(t.CessAmt):0)>0&&0!=T&&u!=T&&(C=parseFloat((C*T/u).ToString("N2")),t.CessAmt=C)):(e.Tables[0].RemoveAt(m),m--)}var c=[];if(n)o={},e.Tables[0].length>0&&(o.TaxableValue=e.Tables[0].Compute("sum","AdvAdjusted"),o.CessAmt=e.Tables[0].Compute("sum","CessAmt"),o.IntTaxAmt=e.Tables[0].Compute("sum","IntTaxAmt"),o.CTaxAmt=e.Tables[0].Compute("sum","CTaxAmt"),o.STaxAmt=e.Tables[0].Compute("sum","STaxAmt"),o.Cnt=e.Tables[0].ToTable(!0,["VoucherNo"]).length),c.push(o);else{o=null,d=null;for(var I=0;I<e.Tables[0].length;I++)(D="PoS='"+(t=e.Tables[0][I]).PoS.toString()+"' and Rate="+t.Rate.toString())!=d&&((o={}).PoS=t.PoS,o.Rate=t.Rate,c.push(o),d=D,l=0,C=0),l+=parseFloat(t.AdvAdjusted),C+=null!=t.CessAmt?parseFloat(t.CessAmt):0,o.AdvAdjusted=l,o.CessAmt=C}e.Tables.Clear(),e.Tables.push(c)}},{key:"UpdateVAT",value:function(e,t,n,a){var i=null;if("VATAED1"==e){var l,C=[],p=new Array(3).fill(0),T=new Array(3).fill(0),u=new Array(3).fill(0),D="";s.a.SessionManager.Preferences.ContainsKey("VATMaintainOn")&&("50001"==s.a.SessionManager.Preferences.VATMaintainOn?D=s.a.SessionManager.DivisionID>0?"select Name TaxPerName,AliasName TaxPerNameArabic,ccAlpha43 TRN,ccAlpha44 TaxAgencyName,ccAlpha45 AGNTAN,ccAlpha46 AgentName,ccAlpha47 TAAN from com_division with(nolock) where NodeID="+s.a.SessionManager.DivisionID:"select Name TaxPerName,AliasName TaxPerNameArabic,ccAlpha43 TRN,ccAlpha44 TaxAgencyName,ccAlpha45 AGNTAN,ccAlpha46 AgentName,ccAlpha47 TAAN from com_division with(nolock) where NodeID in ("+s.a.SessionManager.DivisionWhere+")":"50002"==s.a.SessionManager.Preferences.VATMaintainOn&&(D=s.a.SessionManager.LocationID>0?"select Name TaxPerName,AliasName TaxPerNameArabic,ccAlpha43 TRN,ccAlpha44 TaxAgencyName,ccAlpha45 AGNTAN,ccAlpha46 AgentName,ccAlpha47 TAAN from com_location with(nolock) where NodeID="+s.a.SessionManager.LocationID:"select Name TaxPerName,AliasName TaxPerNameArabic,ccAlpha43 TRN,ccAlpha44 TaxAgencyName,ccAlpha45 AGNTAN,ccAlpha46 AgentName,ccAlpha47 TAAN from com_location with(nolock) where NodeID in ("+(b.IsMultipleLocs?b.LocationWhere:s.a.SessionManager.LocationWhere)+")")),0==D.length&&(D="select  C.Name TaxPerName,acAlpha43 TaxPerNameArabic,acAlpha44 TRN,acAlpha45 TaxAgencyName,acAlpha46 AGNTAN,acAlpha47 AgentName,acAlpha48 TAAN,acAlpha49,acAlpha50 \nfrom PACT2C.dbo.ADM_CompanyExtended E with(nolock) inner join PACT2C.dbo.ADM_Company C with(nolock) on C.CompanyID=E.CompanyID\nwhere C.DBIndex="+s.a.SessionManager.CompanyIndex);var d=s.a.report.GetDataTable("RPT022",D),m={Description:"Main",StyleIsBold:"1"};C.push(m),(m={}).Description="Form Type",m.TaxableValue="",C.push(m),(m={}).Description="Document Locator",m.TaxableValue="",C.push(m),(m={}).Description="Tax Form Filing Type",m.TaxableValue="",C.push(m),(m={}).Description="Submission Date",m.TaxableValue="",C.push(m),C.push(),(m={}).Description="Taxable Person details",m.StyleIsBold="1",C.push(m),(m={}).Description="TRN",m.TaxableValue=d.length>1?r.e.String(d.Compute("max","TRN")):d.length>0?r.e.String(d[0].TRN):"",C.push(m),(m={}).Description="Taxable Person Name (English)",d.length>1&&(m.TaxableValue=r.e.String(d.Compute("max","TaxPerName"))),m.TaxableValue=d.length>0?r.e.String(d[0].TaxPerName):"",C.push(m),(m={}).Description="Taxable Person Name (Arabic)",d.length>1&&(m.TaxableValue=r.e.String(d.Compute("max","TaxPerNameArabic"))),m.TaxableValue=d.length>0?r.e.String(d[0].TaxPerNameArabic):"",C.push(m),(m={}).Description="Taxable Person Address",m.TaxableValue="",C.push(m),(m={}).Description="Tax Agency Name",d.length>1&&(m.TaxableValue=r.e.String(d.Compute("max","TaxAgencyName"))),m.TaxableValue=d.length>0?r.e.String(d[0].TaxAgencyName):"",C.push(m),(m={}).Description="TAN",d.length>1&&(m.TaxableValue=r.e.String(d.Compute("max","AGNTAN"))),m.TaxableValue=d.length>0?r.e.String(d[0].AGNTAN):"",C.push(m),(m={}).Description="Tax Agent Name",d.length>1&&(m.TaxableValue=r.e.String(d.Compute("max","AgentName"))),m.TaxableValue=d.length>0?r.e.String(d[0].AgentName):"",C.push(m),(m={}).Description="TAAN",d.length>1&&(m.TaxableValue=r.e.String(d.Compute("max","TAAN"))),m.TaxableValue=d.length>0?r.e.String(d[0].TAAN):"",C.push(m),C.push(),(m={}).Description="VAT Return Period",m.StyleIsBold="1",C.push(m),(m={}).Description="VAT Return Period",m.TaxableValue="",C.push(m),(m={}).Description="Tax Year",m.TaxableValue="",C.push(m),(m={}).Description="VAT Return Period Reference Number",m.TaxableValue=n.ToString("dd-MM-yyyy")+" - "+a.ToString("dd-MM-yyyy"),C.push(m),C.push(),(m={}).Description="VAT on Sales and all other Outputs",m.StyleIsBold="1",C.push(m),(m={}).TaxableValue="Amount (AED)",m.VATAmount="VAT Amount (AED)",m.Adjustment="Adjustment (AED)",m.StyleIsBold="1",C.push(m),(m={}).Section="1a",m.Description="Standard rated supplies in Abu Dhabi";var c=t.Tables[0].filter((function(e){return 3==e.VATState}));c.length>0&&(m.TaxableValue=o.GetNumberString(c[0].TaxableValue),m.VATAmount=o.GetNumberString(c[0].VATStdAmt),m.Adjustment=o.GetNumberString(c[0].StdAdjustment),p[0]+=parseFloat(c[0].TaxableValue),p[1]+=parseFloat(c[0].VATStdAmt),p[2]+=parseFloat(c[0].StdAdjustment)),C.push(m),(m={}).Section="1b",m.Description="Standard rated supplies in Dubai",(c=t.Tables[0].filter((function(e){return 6==e.VATState}))).length>0&&(m.TaxableValue=o.GetNumberString(c[0].TaxableValue),m.VATAmount=o.GetNumberString(c[0].VATStdAmt),m.Adjustment=o.GetNumberString(c[0].StdAdjustment),p[0]+=parseFloat(c[0].TaxableValue),p[1]+=parseFloat(c[0].VATStdAmt),p[2]+=parseFloat(c[0].StdAdjustment)),C.push(m),(m={}).Section="1c",m.Description="Standard rated supplies in Sharjah",(c=t.Tables[0].filter((function(e){return 5==e.VATState}))).length>0&&(m.TaxableValue=o.GetNumberString(c[0].TaxableValue),m.VATAmount=o.GetNumberString(c[0].VATStdAmt),m.Adjustment=o.GetNumberString(c[0].StdAdjustment),p[0]+=parseFloat(c[0].TaxableValue),p[1]+=parseFloat(c[0].VATStdAmt),p[2]+=parseFloat(c[0].StdAdjustment)),C.push(m),(m={}).Section="1d",m.Description="Standard rated supplies in Ajman",(c=t.Tables[0].filter((function(e){return 4==e.VATState}))).length>0&&(m.TaxableValue=o.GetNumberString(c[0].TaxableValue),m.VATAmount=o.GetNumberString(c[0].VATStdAmt),m.Adjustment=o.GetNumberString(c[0].StdAdjustment),p[0]+=parseFloat(c[0].TaxableValue),p[1]+=parseFloat(c[0].VATStdAmt),p[2]+=parseFloat(c[0].StdAdjustment)),C.push(m),(m={}).Section="1e",m.Description="Standard rated supplies in Umm Al Quwain",(c=t.Tables[0].filter((function(e){return 9==e.VATState}))).length>0&&(m.TaxableValue=o.GetNumberString(c[0].TaxableValue),m.VATAmount=o.GetNumberString(c[0].VATStdAmt),m.Adjustment=o.GetNumberString(c[0].StdAdjustment),p[0]+=parseFloat(c[0].TaxableValue),p[1]+=parseFloat(c[0].VATStdAmt),p[2]+=parseFloat(c[0].StdAdjustment)),C.push(m),(m={}).Section="1f",m.Description="Standard rated supplies in Ras Al Khaimah",(c=t.Tables[0].filter((function(e){return 8==e.VATState}))).length>0&&(m.TaxableValue=o.GetNumberString(c[0].TaxableValue),m.VATAmount=o.GetNumberString(c[0].VATStdAmt),m.Adjustment=o.GetNumberString(c[0].StdAdjustment),p[0]+=parseFloat(c[0].TaxableValue),p[1]+=parseFloat(c[0].VATStdAmt),p[2]+=parseFloat(c[0].StdAdjustment)),C.push(m),(m={}).Section="1g",m.Description="Standard rated supplies in Fujairah",(c=t.Tables[0].filter((function(e){return 7==e.VATState}))).length>0&&(m.TaxableValue=o.GetNumberString(c[0].TaxableValue),m.VATAmount=o.GetNumberString(c[0].VATStdAmt),m.Adjustment=o.GetNumberString(c[0].StdAdjustment),p[0]+=parseFloat(c[0].TaxableValue),p[1]+=parseFloat(c[0].VATStdAmt),p[2]+=parseFloat(c[0].StdAdjustment)),C.push(m),(m={}).Section="2",m.Description="Tax Refunds provided to Tourists under the Tax Returns or Tourists Scheme",t.Columns[4].Contains("VATStdAmt")&&(null!=(l=t.Tables[4].Compute("sum","TaxableValue"))&&(p[0]+=parseFloat(l),m.TaxableValue=o.GetNumberString(l)),null!=(l=t.Tables[4].Compute("VATStdAmt","sum"))&&(p[1]+=parseFloat(l),m.VATAmount=o.GetNumberString(l))),C.push(m),(m={}).Section="3",m.Description="Supplies subject to the reverse charge provisions",t.Columns[3].Contains("VATStd")&&(null!=(l=t.Tables[3].filter((function(e){return e.VATRCM>0&&3==e.ProductType})).Compute("sum","TaxableValue"))&&(p[0]+=parseFloat(l),u[0]+=parseFloat(l),m.TaxableValue=o.GetNumberString(l)),null!=(l=t.Tables[3].filter((function(e){return e.VATRCM>0&&3==e.ProductType})).Compute("sum","VATRCMAmt"))&&(p[1]+=parseFloat(l),u[1]+=parseFloat(l),m.VATAmount=o.GetNumberString(l)),null!=(l=t.Tables[3].filter((function(e){return e.VATRCM>0&&3==e.ProductType})).Compute("sum","RCMAdjustment"))&&(p[2]+=parseFloat(l),u[2]+=parseFloat(l),m.Adjustment=o.GetNumberString(l))),C.push(m),(m={}).Section="4",m.Description="Zero rated supplies",l=t.Tables[1].filter((function(e){return 13==e.SaleType})).Compute("sum","TaxableValue"),m.TaxableValue=o.GetNumberString(l),null!=l&&(p[0]+=parseFloat(l)),C.push(m),(m={}).Section="5",m.Description="Exempt supplies",l=t.Tables[1].filter((function(e){return 14==e.SaleType})).Compute("sum","TaxableValue"),m.TaxableValue=o.GetNumberString(l),null!=l&&(p[0]+=parseFloat(l)),C.push(m),(m={}).Section="6",m.Description="Goods imported into the UAE",m.TaxableValue=o.GetNumberString(t.Tables[2][0].TaxableValue),null!=m.TaxableValue&&(p[0]+=parseFloat(m.TaxableValue),u[0]+=parseFloat(m.TaxableValue)),m.VATAmount=o.GetNumberString(t.Tables[2][0].VATCustomAmt),null!=t.Tables[2][0].VATCustomAmt&&(p[1]+=parseFloat(t.Tables[2][0].VATCustomAmt),u[1]+=parseFloat(t.Tables[2][0].VATCustomAmt)),C.push(m),(m={}).Section="7",m.Description="Adjustments to goods imported into the UAE",t.Columns[5].Contains("VATStdAmt")&&(null!=(l=t.Tables[5].Compute("TaxableValue","sum"))&&(p[2]+=parseFloat(l),m.Adjustment=o.GetNumberString(l))),C.push(m),(m={}).Section="8",m.Description="Totals",m.TaxableValue=o.GetNumberString(p[0]),m.VATAmount=o.GetNumberString(p[1]),m.Adjustment=o.GetNumberString(p[2]),C.push(m),C.push(),(m={}).Description="VAT on Expenses and all other Inputs",m.StyleIsBold="1",C.push(m),(m={}).TaxableValue="Amount (AED)",m.VATAmount="Recoverable VAT Amount (AED)",m.Adjustment="Adjustment (AED)",m.StyleIsBold="1",C.push(m),(m={}).Section="9",m.Description="Standard rated expenses",t.Columns[3].Contains("VATStd")&&(null!=(l=t.Tables[3].filter((function(e){return e.VATStd>0})).Compute("sum","TaxableValue"))&&(m.TaxableValue=o.GetNumberString(l),T[0]+=parseFloat(l)),null!=(l=t.Tables[3].filter((function(e){return e.VATStd>0})).Compute("sum","VATStdAmt"))&&(m.VATAmount=o.GetNumberString(l),T[1]+=parseFloat(l)),null!=(l=t.Tables[3].filter((function(e){return e.VATStd>0})).Compute("sum","StdAdjustment"))&&(m.Adjustment=o.GetNumberString(l),T[2]+=parseFloat(l))),C.push(m),(m={}).Section="10",m.Description="Supplies subject to the reverse charge provisions",m.TaxableValue=o.GetNumberString(u[0]),T[0]+=u[0],m.VATAmount=o.GetNumberString(u[1]),T[1]+=u[1],m.Adjustment=o.GetNumberString(u[2]),T[2]+=u[2],C.push(m),(m={}).Section="11",m.Description="Totals",m.TaxableValue=o.GetNumberString(T[0]),m.VATAmount=o.GetNumberString(T[1]),m.Adjustment=o.GetNumberString(T[2]),C.push(m),m={},C.push(m),(m={}).Description="Net VAT due",m.StyleIsBold="1",C.push(m),(m={}).Section="12",m.Description="Total value of due tax for the period",m.TaxableValue=o.GetNumberString(p[1]+p[2]),C.push(m),(m={}).Section="13",m.Description="Total value of recoverable tax for the period",m.TaxableValue=o.GetNumberString(T[1]+T[2]),C.push(m),(m={}).Section="14",m.Description="Net VAT due(or reclaimed) for the period ",m.TaxableValue=o.GetNumberString(p[1]+p[2]-(T[1]+T[2])),C.push(m),t.Tables.Clear(),t.Tables.push(C)}else if("VATSAS1"==e){var I,h=[],S=(o.GetVATTaxblePersonDetails(),0),A=0,N=0,g=0,R=0,f=0;(I={}).Description="VAT on Sales",I.StyleIsBold="1",h.push(I),(I={}).Section="1",I.Description="Standard rated sales";var M=t.Tables[0].Compute("sum","TaxableValue");null==M&&(M=0),I.TaxableValue=o.GetNumberString(M),S+=parseFloat(M),null==(M=t.Tables[0].Compute("sum","Adjustment"))&&(M=0),I.Adjustment=o.GetNumberString(M),A+=parseFloat(M),null==(M=t.Tables[0].Compute("sum","VATStdAmt)"))&&(M=0),I.VATAmount=o.GetNumberString(M),N+=parseFloat(M),h.push(I),(I={}).Section="2",I.Description="Sales to Customers in VAT implementing GCC Countries",null==(M=t.Tables[1].filter((function(e){return 8==e.AccType})).Compute("sum","TaxableValue"))&&(M=0),I.TaxableValue=o.GetNumberString(M),S+=parseFloat(M),null==(M=t.Tables[1].filter((function(e){return 8==e.AccType})).Compute("sum","Adjustment"))&&(M=0),I.Adjustment=o.GetNumberString(M),A+=parseFloat(M),h.push(I),(I={}).Section="3",I.Description="Zero rated domestic sales",null==(M=t.Tables[1].filter((function(e){return 13==e.SaleType})).Compute("sum","TaxableValue"))&&(M=0),I.TaxableValue=o.GetNumberString(M),S+=parseFloat(M),null==(M=t.Tables[1].filter((function(e){return 13==e.SaleType})).Compute("sum","Adjustment"))&&(M=0),I.Adjustment=o.GetNumberString(M),A+=parseFloat(M),h.push(I),(I={}).Section="4",I.Description="Exports",h.push(I),(I={}).Section="5",I.Description="Exempt sales",null==(M=t.Tables[1].filter((function(e){return 14==e.SaleType})).Compute("sum","TaxableValue"))&&(M=0),I.TaxableValue=o.GetNumberString(M),S+=parseFloat(M),null==(M=t.Tables[1].filter((function(e){return 14==e.SaleType})).Compute("sum","Adjustment"))&&(M=0),I.Adjustment=o.GetNumberString(M),A+=parseFloat(M),h.push(I),(I={}).Section="6",I.Description="Total Sales",I.TaxableValue=o.GetNumberString(S),I.VATAmount=o.GetNumberString(N),I.Adjustment=o.GetNumberString(A),I.Row_Foreground="Red",h.push(I),h.push(),(I={}).Description="VAT on Purchases",I.StyleIsBold="1",h.push(I),(I={}).Section="7",I.Description="Standard rated domestic purchases",t.Columns[3].Contains("VATStd")&&(null==(M=t.Tables[3].filter((function(e){return e.VATStd>0})).Compute("sum","TaxableValue"))&&(M=0),I.TaxableValue=o.GetNumberString(M),g+=parseFloat(M),null==(M=t.Tables[3].filter((function(e){return e.VATStd>0})).Compute("sum","VATStdAmt"))&&(M=0),I.VATAmount=o.GetNumberString(M),f+=parseFloat(M),null==(M=t.Tables[3].filter((function(e){return e.VATStd>0})).Compute("sum","Adjustment"))&&(M=0),I.Adjustment=o.GetNumberString(M),R+=parseFloat(M)),h.push(I),(I={}).Section="8",I.Description="Imports subject to VAT paid at customs",t.Columns[3].Contains("VATStd")&&(null==(M=t.Tables[3].filter((function(e){return e.VATCustom>0})).Compute("sum","TaxableValue"))&&(M=0),I.TaxableValue=o.GetNumberString(M),g+=parseFloat(M),null==(M=t.Tables[3].filter((function(e){return e.VATCustom>0})).Compute("sum","VATCustomAmt"))&&(M=0),I.VATAmount=o.GetNumberString(M),f+=parseFloat(M),null==(M=t.Tables[3].filter((function(e){return e.VATCustom>0})).Compute("sum","Adjustment"))&&(M=0),I.Adjustment=o.GetNumberString(M),R+=parseFloat(M)),h.push(I),(I={}).Section="9",I.Description="Imports subject to VAT accounted for through reverse charge mechanism",t.Columns[3].Contains("VATStd")&&(null==(M=t.Tables[3].filter((function(e){return e.VATRCM>0})).Compute("sum","TaxableValue"))&&(M=0),I.TaxableValue=o.GetNumberString(M),g+=parseFloat(M),null==(M=t.Tables[3].filter((function(e){return e.VATRCM>0})).Compute("sum","VATRCMAmt"))&&(M=0),I.VATAmount=o.GetNumberString(M),f+=parseFloat(M),null==(M=t.Tables[3].filter((function(e){return e.VATRCM>0})).Compute("sum","Adjustment"))&&(M=0),I.Adjustment=o.GetNumberString(M),R+=parseFloat(M)),h.push(I),(I={}).Section="10",I.Description="Zero rated purchases",t.Columns[3].Contains("VATStd")&&(null==(M=t.Tables[3].filter((function(e){return 0==e.VAT&&13==e.SaleType})).Compute("sum","TaxableValue"))&&(M=0),I.TaxableValue=o.GetNumberString(M),g+=parseFloat(M),null==(M=t.Tables[3].filter((function(e){return 0==e.VAT&&13==e.SaleType})).Compute("sum","Adjustment"))&&(M=0),I.Adjustment=o.GetNumberString(M),R+=parseFloat(M)),h.push(I),(I={}).Section="11",I.Description="Exempt purchases",t.Columns[3].Contains("VATStd")&&(null==(M=t.Tables[3].filter((function(e){return 0==e.VAT&&14==e.SaleType})).Compute("sum","TaxableValue"))&&(M=0),I.TaxableValue=o.GetNumberString(M),g+=parseFloat(M),null==(M=t.Tables[3].filter((function(e){return 0==e.VAT&&14==e.SaleType})).Compute("sum","Adjustment"))&&(M=0),I.Adjustment=o.GetNumberString(M),R+=parseFloat(M)),h.push(I),(I={}).Section="12",I.Description="Total Purchases",I.TaxableValue=o.GetNumberString(g),I.VATAmount=o.GetNumberString(f),I.Adjustment=o.GetNumberString(R),I.Row_Foreground="Red",h.push(I),h.push(),(I={}).Section="13",I.Description="Total VAT due for current period",I.VATAmount=o.GetNumberString(N-f),h.push(I),(I={}).Section="14",I.Description="Corrections from previous period(between SAR 5,000+/-)",I.VATAmount=0,h.push(I),(I={}).Section="15",I.Description="VAT credit carried forward from previous period(s)",I.VATAmount=0,h.push(I),(I={}).Description="Net VAT due(or claim)",I.VATAmount=o.GetNumberString(N-f),h.push(I),t.Tables.Clear(),t.Tables.push(h)}else if("VATFATPurchaseList"==e||"VATFATSupplyList"==e){var O,V,v=0,W="",E=t.Tables[0];i=new y,"VATFATPurchaseList"==e?(W="SupplierName",i.ValueColumn="SupplierTIN",v=null!=(O=E.Compute("sum","PurchaseValueAED"))?parseFloat(O):0,(V={}).XMLID="PurchaseTotalAED",V[W]="Purchase Total AED",V[i.ValueColumn]=v.ToString("N2"),V.StyleIsBold="1",E.push(V),v=null!=(O=E.Compute("sum","VATValueAED"))?parseFloat(O):0,(V={}).XMLID="VATTotalAED",V[W]="VAT Total AED",V[i.ValueColumn]=v.ToString("N2"),V.StyleIsBold="1",E.push(V)):"VATFATSupplyList"==e&&(W="CustomerName",i.ValueColumn="CustomerTIN",v=null!=(O=E.Compute("sum","SupplyValueAED"))?parseFloat(O):0,(V={}).XMLID="SupplyTotalAED",V[W]="Supply Total AED",V[i.ValueColumn]=v.ToString("N2"),V.StyleIsBold="1",E.push(V),v=null!=(O=E.Compute("sum","VATValueAED"))?parseFloat(O):0,(V={}).XMLID="VATTotalAED",V[W]="VAT Total AED",V[i.ValueColumn]=v.ToString("N2"),V.StyleIsBold="1",E.push(V)),(V={}).XMLID="TransactionCountTotal",V[W]="Transaction Count Total",V[i.ValueColumn]=E.filter((function(e){return!r.e.StringIsNullOrEmpty(e.VoucherNo)})).ToTable(!0,["VoucherNo"]).length.toString(),V.StyleIsBold="1",E.push(V);var G=o.GetVATTaxblePersonDetails().Tables[0];(V={})[W]="Taxable Person details",V.StyleIsBold="1",E.InsertAt(V,0),(V={}).XMLID="TaxablePersonNameEn",V[W]="Taxable Person Name (English)",G.length>1&&(V[i.ValueColumn]=r.e.String(G.Compute("max","TaxPerName"))),V[i.ValueColumn]=G.length>0?r.e.String(G[0].TaxPerName):"",E.InsertAt(V,1),(V={}).XMLID="TaxablePersonNameAr",V[W]="Taxable Person Name (Arabic)",G.length>1&&(V[i.ValueColumn]=r.e.String(G.Compute("max","TaxPerNameArabic"))),V[i.ValueColumn]=G.length>0?r.e.String(G[0].TaxPerNameArabic):"",E.InsertAt(V,2),(V={}).XMLID="TRN",V[W]="TRN",V[i.ValueColumn]=G.length>1?r.e.String(G.Compute("max","TRN")):G.length>0?r.e.String(G[0].TRN):"",E.InsertAt(V,3),(V={}).XMLID="TaxAgencyName",V[W]="Tax Agency Name",G.length>1&&(V[i.ValueColumn]=r.e.String(G.Compute("max","TaxAgencyName"))),V[i.ValueColumn]=G.length>0?r.e.String(G[0].TaxAgencyName):"",E.InsertAt(V,4),(V={}).XMLID="TAN",V[W]="TAN",G.length>1&&(V[i.ValueColumn]=r.e.String(G.Compute("max","AGNTAN"))),V[i.ValueColumn]=G.length>0?r.e.String(G[0].AGNTAN):"",E.InsertAt(V,5),(V={}).XMLID="TaxAgentName",V[W]="Tax Agent Name",G.length>1&&(V[i.ValueColumn]=r.e.String(G.Compute("max","AgentName"))),V[i.ValueColumn]=G.length>0?r.e.String(G[0].AgentName):"",E.InsertAt(V,6),(V={}).XMLID="TAAN",V[W]="TAAN",G.length>1&&(V[i.ValueColumn]=r.e.String(G.Compute("max","TAAN"))),V[i.ValueColumn]=G.length>0?r.e.String(G[0].TAAN):"",E.InsertAt(V,7),(V={}).XMLID="PeriodStart",V[W]="VAT Period Start",V[i.ValueColumn]="",E.InsertAt(V,8),(V={}).XMLID="PeriodEnd",V[W]="VAT Period End",V[i.ValueColumn]="",E.InsertAt(V,9),(V={}).XMLID="FAFCreationDate",V[W]="FAF creation date",V[i.ValueColumn]="",E.InsertAt(V,10),(V={}).XMLID="ProductVersion",V[W]="Product Version",V[i.ValueColumn]="",E.InsertAt(V,11),(V={}).XMLID="FAFVersion",V[W]="FAF Version",V[i.ValueColumn]="",E.InsertAt(V,12),i.CompanyStartRow=1,i.CompanyEndRow=12,V={},E.InsertAt(V,13),i.DataStartRow=14,i.DataEndRow=E.length-4}return i}},{key:"GetVATTaxblePersonDetails",value:function(){return s.a.report.DataSet("RPT022","\ndeclare @VATDIM nvarchar(20)\nselect @VATDIM=Value from adm_globalpreferences with(nolock) where Name='VATMaintainOn'\nif @VATDIM='50001'\nselect Name TaxPerName,AliasName TaxPerNameArabic,ccAlpha43 TRN,ccAlpha44 TaxAgencyName,ccAlpha45 AGNTAN,ccAlpha46 AgentName,ccAlpha47 TAAN from com_division with(nolock) where NodeID="+s.a.SessionManager.DivisionID+"\nelse if @VATDIM='50002'\nselect Name TaxPerName,AliasName TaxPerNameArabic,ccAlpha43 TRN,ccAlpha44 TaxAgencyName,ccAlpha45 AGNTAN,ccAlpha46 AgentName,ccAlpha47 TAAN from com_location with(nolock) where NodeID="+s.a.SessionManager.LocationID+"\nelse\nselect  C.Name TaxPerName,acAlpha43 TaxPerNameArabic,acAlpha44 TRN,acAlpha45 TaxAgencyName,acAlpha46 AGNTAN,acAlpha47 AgentName,acAlpha48 TAAN,acAlpha49,acAlpha50 \nfrom PACT2C.dbo.ADM_CompanyExtended E with(nolock) inner join PACT2C.dbo.ADM_Company C with(nolock) on C.CompanyID=E.CompanyID\nwhere C.CompanyID="+s.a.SessionManager.CompanyIndex)}},{key:"GetNumberString",value:function(e){return r.e.IsNum(e)?parseFloat(e).ToString("N"+s.a.SessionManager.Preferences.DecimalsinAmount):o.GetNumberString(0)}},{key:"FillRows",value:function(e,t){var o,n=!1;e.Data.Clear(),t.forEach((function(t){n=!1;var a=new c.d(e.ReportColumns.length);"1"==r.e.String(t.StyleIsBold)&&(n=!0),o="",""!=r.e.String(t.Row_Foreground)&&(o=t.Row_Foreground.toString());for(var i=0;i<e.ReportColumns.length;i++){var l=e.ReportColumns[i];if(Object(h.isNullOrUndefined)(t[l.ID])){var C=r.e.String(t[l.ID]);""!=C&&(I.ReportViewModel.SetCellValue(C,l.DataFormat,l.ColumnType,-1,a.Cells[i]),(n||""!=o)&&(a.Cells[i].IsNormal=!1,a.Cells[i].CellAppearance=l.DataAppearance.Clone(),n&&(a.Cells[i].CellAppearance.IsBold=!0),o.length>0&&(a.Cells[i].CellAppearance.ForeColor=o)))}}e.Data.push(a)}))}}]),o}(u.b),N=function(e){_inherits(o,e);var t=_createSuper(o);function o(){var e;_classCallCheck(this,o),(e=t.call(this)).GSTR1=["b2b","b2cl","b2cs","cdnr","cdnur","exp","at","atadj","exemp","hsn","docs"],e.lstGSTReport=new D.a,e.lstGridViewModel=new D.a,e.dicReportID=new D.a,e.Tab=new m.a;for(var n=s.a.common.GetDataTable("GST001",""),a=function(t){var o=e.GSTR1[t],a=n.filter((function(e){return e.ReportName==o}));if(0==a.length)return"continue";var i=new d.a;i.Width="",i.Height=0,e.lstGridViewModel.push(o,i),e.dicReportID.push(o,parseInt(a[0].ReportID));var l=new m.b;l.Name=o,l.Header=o.replace("GSTR1_",""),l.Fields.push(i),e.Tab.Tabs.push(l)},i=0;i<e.GSTR1.length;i++)a(i);return 0==e.lstGridViewModel.length&&(e.DisplayMessage="No GSTR1 Reports Found"),e}return _createClass(o,null,[{key:"Update_at",value:function(e){var t,o,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=null,i=0,l=0,C=0,s=0,p=0,T=0,u="",D="";e.Columns[0].push("InvValue");for(var d=0;d<e.Tables[0].length;d++){for(t=e.Tables[0][d],(u="AccountID="+r.e.String(t.AccountID)+" and RefDocNo='"+r.e.String(t.VoucherNo)+"' and AdjAmount!=0")!=D&&(a=e.Tables[1].filter((function(e){return e.AccountID==r.e.String(t.AccountID)&&e.RefDocNo==r.e.String(t.VoucherNo)&&0!=e.AdjAmount})),i=0,D=u),t.InvValue=t.AdvReceived,p=null!=t.AdvReceived?parseFloat(t.AdvReceived):0,T=p=Math.abs(p);i<a.length;){if((s=Math.abs(parseFloat(a[i].AdjAmount)))>=p){a[i].AdjAmount=s-p,p=0,e.Tables[0].RemoveAt(d),d--;break}a[i].AdjAmount=0,p-=s,t.AdvReceived=p,i++}p>0&&((C=null!=t.CessAmt?parseFloat(t.CessAmt):0)>0&&T!=p&&(C=parseFloat((C*p/T).ToString("N2")),t.CessAmt=C))}var m=[];if(n)o={},e.Tables[0].length>0&&(o.TaxableValue=e.Tables[0].Compute("sum(AdvReceived)",""),o.CessAmt=e.Tables[0].Compute("sum(CessAmt)",""),o.IntTaxAmt=e.Tables[0].Compute("sum(IntTaxAmt)",""),o.CTaxAmt=e.Tables[0].Compute("sum(CTaxAmt)",""),o.STaxAmt=e.Tables[0].Compute("sum(STaxAmt)",""),o.Cnt=e.Tables[0].ToTable(!0,["VoucherNo"]).length),m.push(o);else{o=null,D=null;for(var c=0;c<e.Tables[0].length;c++)t=e.Tables[0][c],(u="PoS='"+r.e.String(t.PoS)+"' and Rate="+r.e.String(t.Rate))!=D&&((o={}).PoS=t.PoS,o.Rate=t.Rate,m.push(o),D=u,l=0,C=0),l+=parseFloat(t.AdvReceived),C+=null!=t.CessAmt?parseFloat(t.CessAmt):0,o.AdvReceived=l,o.CessAmt=C}e.Tables.Clear(),e.Tables.push(m)}},{key:"Update_atadj",value:function(e){for(var t,o,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=null,i=0,l=0,C=0,s=0,p=0,T=0,u=0,D="",d="",m=0;m<e.Tables[0].length;m++){if(t=e.Tables[0][m],(D="AccountID="+r.e.String(t.AccountID)+" and RefDocNo='"+r.e.String(t.VoucherNo)+"' and AdjAmount!=0")!=d){if(0==(a=e.Tables[1].filter((function(e){return e.AccountID==r.e.String(t.AccountID)&&e.RefDocNo==r.e.String(t.VoucherNo)&&0!=e.AdjAmount}))).length){e.Tables[0].RemoveAt(m),m--;continue}i=0,d=D}for(p=null!=t.AdvReceived?parseFloat(t.AdvReceived):0,u=p=Math.abs(p),T=0;i<a.length;){if((s=Math.abs(parseFloat(a[i].AdjAmount)))>=p){T+=p,a[i].AdjAmount=s-p,p-=s;break}a[i].AdjAmount=0,T+=s,p-=s,i++}0!=T?(t.AdvAdjusted=T,(C=null!=t.CessAmt?parseFloat(t.CessAmt):0)>0&&0!=T&&u!=T&&(C=parseFloat((C*T/u).ToString("N2")),t.CessAmt=C)):(e.Tables[0].RemoveAt(m),m--)}var c=[];if(n)o={},e.Tables[0].length>0&&(o.TaxableValue=e.Tables[0].Compute("sum(AdvAdjusted)",""),o.CessAmt=e.Tables[0].Compute("sum(CessAmt)",""),o.IntTaxAmt=e.Tables[0].Compute("sum(IntTaxAmt)",""),o.CTaxAmt=e.Tables[0].Compute("sum(CTaxAmt)",""),o.STaxAmt=e.Tables[0].Compute("sum(STaxAmt)",""),o.Cnt=e.Tables[0].ToTable(!0,["VoucherNo"]).length),c.push(o);else{o=null,d=null;for(var I=0;I<e.Tables[0].length;I++)(D="PoS='"+(t=e.Tables[0][I]).PoS.toString()+"' and Rate="+t.Rate.toString())!=d&&((o={}).PoS=t.PoS,o.Rate=t.Rate,c.push(o),d=D,l=0,C=0),l+=parseFloat(t.AdvAdjusted),C+=null!=t.CessAmt?parseFloat(t.CessAmt):0,o.AdvAdjusted=l,o.CessAmt=C}e.Tables.Clear(),e.Tables.push(c)}}]),o}(function(e){_inherits(o,e);var t=_createSuper(o);function o(){var e;return _classCallCheck(this,o),(e=t.apply(this,arguments)).Status="",e}return o}(u.b)),g=function(e){_inherits(o,e);var t=_createSuper(o);function o(){var e;return _classCallCheck(this,o),(e=t.call(this)).dtMain=null,e.dtFeatures=null,e.dtSalesDocs=null,e.dicDataTables=new D.a,e.Columns=new Array,e.OldRowTypeValue="",e.GSTType="",e.dtMain=[],e.ReportGrid=new d.a,e.ReportGrid.Table=e.dtMain,e.ReportGrid.CanUserAddRows=!0,e.ReportGrid.CanUserDeleteRows=!0,e}return _createClass(o,[{key:"onBeginEdit",value:function(e,t,o){return!1}}],[{key:"SetQueryWhere",value:function(e,t,o,n){var a,i=null!=n?n.Date():o.AddMonths(1).AddDays(-1);return a="atadj"==t?" and INV.DocDate<convert(float,convert(datetime,'"+o.ToString("dd MMM yyyy")+"'))":t.endsWith("GSTR2_")?" and INV.BillDate between convert(float,convert(datetime,'"+o.ToString("dd MMM yyyy")+"')) and convert(float,convert(datetime,'"+i.ToString("dd MMM yyyy")+"'))":" and INV.DocDate between convert(float,convert(datetime,'"+o.ToString("dd MMM yyyy")+"')) and convert(float,convert(datetime,'"+i.ToString("dd MMM yyyy")+"'))","True"==s.a.SessionManager.Preferences.EnableLocationWise.toString()&&"True"==s.a.SessionManager.Preferences["LW Reports"]&&(b.IsMultipleLocs?a+=" and DCC.dcCCNID2 in ("+b.LocationWhere+")":s.a.SessionManager.LocationID>0?a+=" and DCC.dcCCNID2="+s.a.SessionManager.LocationID:"1"!=s.a.SessionManager.RoleID&&s.a.SessionManager.LocationWhere.length>0&&(a+=" and DCC.dcCCNID2 in ("+s.a.SessionManager.LocationWhere+")"),"True"!=s.a.SessionManager.Preferences.Login.toString()&&"True"!=s.a.SessionManager.Preferences.EnableDivisionWise.toString()||(s.a.SessionManager.DivisionID>0?a+=" and DCC.dcCCNID1="+s.a.SessionManager.DivisionID:"1"!=s.a.SessionManager.RoleID&&s.a.SessionManager.DivisionWhere.length>0&&(a+=" and DCC.dcCCNID1 in ("+s.a.SessionManager.DivisionWhere+")"))),(e=e.Replace("@WHERE@",a)).Contains("@FROMDATE@")&&(e=e.Replace("@FROMDATE@","'"+o.ToString("dd MMM yyyy")+"'")),"at"!=t&&"atadj"!=t&&"GSTR2_at"!=t&&"GSTR2_atadj"!=t||(e=e.Replace("@atWHERE@"," and CB.DocDate between convert(float,convert(datetime,'"+o.ToString("dd MMM yyyy")+"')) and convert(float,convert(datetime,'"+i.ToString("dd MMM yyyy")+"'))")),e}},{key:"SetVATQueryWhere",value:function(e,t,o,n){var a="";return"VATFATPurchaseList"!=t&&"VATFATSupplyList"!=t||(a=" and INV.DocDate between convert(float,convert(datetime,'"+o.ToString("dd MMM yyyy")+"')) and convert(float,convert(datetime,'"+n.ToString("dd MMM yyyy")+"'))"),"True"==s.a.SessionManager.Preferences.EnableLocationWise.toString()&&"True"==s.a.SessionManager.Preferences["LW Reports"]&&(b.IsMultipleLocs?a+=" and DCC.dcCCNID2 in ("+b.LocationWhere+")":s.a.SessionManager.LocationID>0?a+=" and DCC.dcCCNID2="+s.a.SessionManager.LocationID:"1"!=s.a.SessionManager.RoleID&&s.a.SessionManager.LocationWhere.length>0&&(a+=" and DCC.dcCCNID2 in ("+s.a.SessionManager.LocationWhere+")"),"True"!=s.a.SessionManager.Preferences.Login.toString()&&"True"!=s.a.SessionManager.Preferences.EnableDivisionWise.toString()||(s.a.SessionManager.DivisionID>0?a+=" and DCC.dcCCNID1="+s.a.SessionManager.DivisionID:"1"!=s.a.SessionManager.RoleID&&s.a.SessionManager.DivisionWhere.length>0&&(a+=" and DCC.dcCCNID1 in ("+s.a.SessionManager.DivisionWhere+")"))),(e=e.Replace("@WHERE@",a)).Contains("@FROMDATE@")&&(e=e.Replace("@FROMDATE@","'"+o.ToString("dd MMM yyyy")+"'")),e.Contains("@TODATE@")&&(e=e.Replace("@TODATE@","'"+n.ToString("dd MMM yyyy")+"'")),e}},{key:"GetReportDocs",value:function(e){for(var t="",o=new Array,n=s.a.common.GetDataTable("GST003",e),a=0;a<n.length;a++){var i=n[a].DefaultPreferences.toString();if(0!=i.length){var l=new r.f;l.LoadXml(i);var C=l.SelectSingleNode("UTILXML");if(null!=C&&C.children.length>0)for(var p=1;p<C.children.length;p++){var T=r.f.SelectSingleNode(C.children[p],"RowType");T.innerHTML.length>0&&!o.Contains(T.innerHTML)&&(o.push(T.innerHTML),t.length>0&&(t+=","),t+=T.innerHTML)}}}return t}},{key:"ResetData",value:function(e,t,o,n,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=null;"at"==e?N.Update_at(t):"atadj"==e?N.Update_atadj(t):"GSTR2_b2b"==e||"GSTR2_b2bur"==e||"GSTR2_cdnr"==e||"GSTR2_cdnur"==e||"GSTR2_imps"==e||"GSTR2_impg"==e?A.Add_AvailedITC(e,t):"GSTR2_at"==e?A.Update_at(t):"GSTR2_atadj"==e?A.Update_atadj(t):e.startsWith("GSTR3_GSTR3B")?this.GSTR3ViewModel.Update_GSTR3_GSTR3B(e,t,o,n,i):e.startsWith("VAT")&&(l=A.UpdateVAT(e,t,o,n));for(var C=0;C<t.Columns[0].length;C++);if(a.length>0){var s="dd-MMM-yyyy";e.startsWith("VAT")&&(s="dd-MM-yyyy"),t.Tables[0].forEach((function(e){a.forEach((function(t){e[t]&&(e[t+"_Key"]=new Date(e[t]).ToString(s))}))}))}return l}}]),o}(u.b),R=o("wlFP"),f=o("0/4Q"),M=o("EQd/"),O=((a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"GetGSTDocumentFields",value:function(t,o){try{if(e.dsBuffer_GST.ContainsKey(t)&&e.dsBuffer_GST[t].ContainsKey(o))return e.dsBuffer_GST[t][o];var n="";if("NUM"==o)n="SELECT C.CostCenterColID ID\n,Case when C.SysColumnName like 'dcCalcNum%' then ISNULL(R.ResourceData,C.UserColumnName) +'_Calculated' else ISNULL(R.ResourceData,C.UserColumnName) end ColumnName\n,C.SysTableName,C.SysColumnName,C.ColumnCostCenterID\nFROM ADM_CostCenterDef C WITH(NOLOCK)\nLEFT JOIN COM_LanguageResources R WITH(NOLOCK) ON R.ResourceID=C.ResourceID AND R.LanguageID=1\nWHERE CostCenterID="+t+" AND (SysColumnName LIKE 'dcNum%' or SysColumnName LIKE 'dcCalcNum%' or SysColumnName in ('Gross','Rate','StockValue','Quantity')) AND SysColumnName not LIKE '%dcCalcNumFC%' AND IsColumnInUse=1";else if("NUMFC"==o)n="SELECT C.CostCenterColID ID\n,Case when C.SysColumnName like 'dcCalcNumFC%' then ISNULL(R.ResourceData,C.UserColumnName) +'_FCCalculated'\nwhen C.SysColumnName like 'dcCalcNum%' then ISNULL(R.ResourceData,C.UserColumnName) +'_Calculated' \nelse ISNULL(R.ResourceData,C.UserColumnName) end ColumnName\n,C.SysTableName,C.SysColumnName,C.ColumnCostCenterID\nFROM ADM_CostCenterDef C WITH(NOLOCK)\nLEFT JOIN COM_LanguageResources R WITH(NOLOCK) ON R.ResourceID=C.ResourceID AND R.LanguageID=1\nWHERE CostCenterID="+t+" AND (SysColumnName LIKE 'dcNum%' or SysColumnName LIKE 'dcCalcNum%' or SysColumnName in ('Gross','Rate','StockValue','Quantity')) AND IsColumnInUse=1";else if("DIM"==o)n="SELECT C.CostCenterColID ID,ISNULL(R.ResourceData,C.UserColumnName) ColumnName,C.SysTableName,C.SysColumnName,C.ColumnCostCenterID\nFROM ADM_CostCenterDef C WITH(NOLOCK)\nLEFT JOIN COM_LanguageResources R WITH(NOLOCK) ON R.ResourceID=C.ResourceID AND R.LanguageID=1\nWHERE CostCenterID="+t+" AND IsColumnInUse=1",n+=t>4e4&&t<5e4?" AND SysColumnName LIKE '%ccnid%'":"";else if("TEXT"==o||"TEXTALL"==o)n="SELECT C.CostCenterColID ID,ISNULL(R.ResourceData,C.UserColumnName) ColumnName,C.SysTableName,C.SysColumnName,C.ColumnCostCenterID\nFROM ADM_CostCenterDef C WITH(NOLOCK)\nLEFT JOIN COM_LanguageResources R WITH(NOLOCK) ON R.ResourceID=C.ResourceID AND R.LanguageID=1\nWHERE CostCenterID="+t+" AND IsColumnInUse=1",n+=t>4e4&&t<5e4?"TEXT"==o?" AND SysColumnName LIKE '%alpha%'":" AND (SysColumnName LIKE '%alpha%' or IsColumnUserDefined=0) and ColumnDataType!='FLOAT' and ColumnDataType!='DATE'":"";else if("DATE"==o)n="SELECT C.CostCenterColID ID,ISNULL(R.ResourceData,C.UserColumnName) ColumnName,C.SysTableName,C.SysColumnName,C.ColumnCostCenterID\nFROM ADM_CostCenterDef C WITH(NOLOCK)\nLEFT JOIN COM_LanguageResources R WITH(NOLOCK) ON R.ResourceID=C.ResourceID AND R.LanguageID=1\nWHERE CostCenterID="+t+" AND IsColumnInUse=1 AND UserColumnType='DATE'";else if("TEXTUOM"==o)n="SELECT C.CostCenterColID ID,ISNULL(R.ResourceData,C.UserColumnName) ColumnName,C.SysTableName,C.SysColumnName,C.ColumnCostCenterID\nFROM ADM_CostCenterDef C WITH(NOLOCK)\nLEFT JOIN COM_LanguageResources R WITH(NOLOCK) ON R.ResourceID=C.ResourceID AND R.LanguageID=1\nWHERE CostCenterID="+t+" AND IsColumnInUse=1",n+=t>4e4&&t<5e4?" AND (SysColumnName LIKE '%alpha%' or SysColumnName='Unit')":"";else{if("NatureofDocument"==o)return null==e.dtNatureofDocument&&(e.dtNatureofDocument=[],e.dtNatureofDocument.push({ID:"-101",ColumnName:"Invoices for outward supply",SysTableName:null,SysColumnName:null}),e.dtNatureofDocument.push({ID:"-102",ColumnName:"Invoices for inward supply from unregistered person",SysTableName:null,SysColumnName:null}),e.dtNatureofDocument.push({ID:"-103",ColumnName:"Revised Invoice",SysTableName:null,SysColumnName:null}),e.dtNatureofDocument.push({ID:"-104",ColumnName:"Debit Note",SysTableName:null,SysColumnName:null}),e.dtNatureofDocument.push({ID:"-105",ColumnName:"Credit Note",SysTableName:null,SysColumnName:null}),e.dtNatureofDocument.push({ID:"-106",ColumnName:"Receipt Voucher",SysTableName:null,SysColumnName:null}),e.dtNatureofDocument.push({ID:"-107",ColumnName:"Payment Voucher",SysTableName:null,SysColumnName:null}),e.dtNatureofDocument.push({ID:"-108",ColumnName:"Refund Voucher",SysTableName:null,SysColumnName:null}),e.dtNatureofDocument.push({ID:"-109",ColumnName:"Delivery Challan for job work",SysTableName:null,SysColumnName:null}),e.dtNatureofDocument.push({ID:"-110",ColumnName:"Delivery Challan for supply on approval",SysTableName:null,SysColumnName:null}),e.dtNatureofDocument.push({ID:"-111",ColumnName:"Delivery Challan in case of liquid gas",SysTableName:null,SysColumnName:null}),e.dtNatureofDocument.push({ID:"-112",ColumnName:"Delivery Challan in case other than by way of supply (excluding at S no. 9 to 11)",SysTableName:null,SysColumnName:null}),[].push(e.dtNatureofDocument)),e.dtNatureofDocument;if("ANX1_B2BDocType"==o){var a=[];return a.push({ID:"-401",ColumnName:"Invoice",SysTableName:null,SysColumnName:null}),a.push({ID:"-402",ColumnName:"Debit Note",SysTableName:null,SysColumnName:null}),a.push({ID:"-403",ColumnName:"Credit Note",SysTableName:null,SysColumnName:null}),e.dsBuffer_GST.ContainsKey(t)||e.dsBuffer_GST.push(t,new D.a),e.dsBuffer_GST[t].ContainsKey(o)||e.dsBuffer_GST[t].push(o,a),a}if("cdnrDocumentType"==o){var i=[];return i.push({ID:"-201",ColumnName:"C",SysTableName:null,SysColumnName:null}),i.push({ID:"-202",ColumnName:"D",SysTableName:null,SysColumnName:null}),i.push({ID:"-203",ColumnName:"R",SysTableName:null,SysColumnName:null}),e.dsBuffer_GST.ContainsKey(t)||e.dsBuffer_GST.push(t,new D.a),e.dsBuffer_GST[t].ContainsKey(o)||e.dsBuffer_GST[t].push(o,i),i}if("GSTR3IsReturn"==o){var l=[];return l.push({ID:"-301",ColumnName:"YES",SysTableName:null,SysColumnName:null}),l.push({ID:"-302",ColumnName:"NO",SysTableName:null,SysColumnName:null}),e.dsBuffer_GST.ContainsKey(t)||e.dsBuffer_GST.push(t,new D.a),e.dsBuffer_GST[t].ContainsKey(o)||e.dsBuffer_GST[t].push(o,l),l}}n+=" ORDER BY ColumnName";var C=[];C.push(n),C.push(s.a.SessionManager.UserID),C.push(s.a.SessionManager.LanguageID);var r=s.a.report.ReportDataSet("RPT022",!1,n);return e.dsBuffer_GST.ContainsKey(t)||e.dsBuffer_GST.push(t,new D.a),e.dsBuffer_GST[t].ContainsKey(o)||e.dsBuffer_GST[t].push(o,r.Tables[0]),r.Tables[0]}catch(p){return Logger.ErrorLog("ReportLayout:: GetReportLayout"+p.stack),null}}}]),e}()).CurrentVersion=0,a.dtNatureofDocument=null,a.dsBuffer_GST=new D.c,a),V=function(){function e(){_classCallCheck(this,e),this.dtMain=null,this.dtFeatures=null,this.dtSalesDocs=null,this.dicDataTables=new D.a,this.Columns=new Array,this.DisplayMessage="",this.OldRowTypeValue="",this.GSTType="",this.ParentGSTType=S.None,this.strcdnrDocs=null,this.stratDocs=null,this.stkVAT=!1,this.stkVAT2=!1,this.cmbReport=new f.e,this.cmbReportModule=new f.e,this.cmbReportType=new f.e,this.txtReportName=new M.d,this.txtexempZero=new M.d,this.txtexempNill=new M.d,this.txtexempExempted=new M.d,this.txtexempNonGST=new M.d,this.ReportID=0,this.sb="",this.objReport=null,this.IsCreditAccount=!1,this.IsInvValueEmpty=!1,this.lstDocuments=new D.c,this.DocumentFields=["VoucherNo","DocDate","BillNo","BillDate","DocSeqNo"],this.Entities=new D.a,this.dicNatureOfDocs=new D.a}return _createClass(e,[{key:"ReportBuilder_1",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.dtMain=[],this.ReportGrid=new d.a,this.ReportGrid.HeaderHeight=36,this.ReportGrid.Width="",this.ReportGrid.Table=this.dtMain,this.ReportGrid.CanUserAddRows=!0,this.ReportGrid.CanUserDeleteRows=!0;var t=[];s.a.SessionManager.IsVAT&&!b.AllowGSTatVAT||(t.push(f.d.ComboBoxItems_2("ANX1","ANX1")),t.push(f.d.ComboBoxItems_2("GSTR-1","GSTR1")),t.push(f.d.ComboBoxItems_2("GSTR-2","GSTR2")),t.push(f.d.ComboBoxItems_2("GSTR-3","GSTR3")),t.push(f.d.ComboBoxItems_2("ClearTax","ClearTax"))),s.a.SessionManager&&t.push(f.d.ComboBoxItems_2("VAT","VAT")),this.cmbReportModule.Items.AddRange(t),this.cmbReportModule.SelectedValue=t[0].Value;var o=[];o.push(f.d.ComboBoxItems_3("b2b","b2b","GSTR1")),o.push(f.d.ComboBoxItems_3("b2cl","b2cl","GSTR1")),o.push(f.d.ComboBoxItems_3("b2cs","b2cs","GSTR1")),o.push(f.d.ComboBoxItems_3("cdnr","cdnr","GSTR1")),o.push(f.d.ComboBoxItems_3("cdnur","cdnur","GSTR1")),o.push(f.d.ComboBoxItems_3("exp","exp","GSTR1")),o.push(f.d.ComboBoxItems_3("at","at","GSTR1")),o.push(f.d.ComboBoxItems_3("atadj","atadj","GSTR1")),o.push(f.d.ComboBoxItems_3("exemp","exemp","GSTR1")),o.push(f.d.ComboBoxItems_3("hsn","hsn","GSTR1")),o.push(f.d.ComboBoxItems_3("docs","docs","GSTR1")),o.push(f.d.ComboBoxItems_3("01 - Sales Invoice and Bill of Supply","CT01","ClearTax")),o.push(f.d.ComboBoxItems_3("02 - Outward Credit Debit Note","CT02","ClearTax")),o.push(f.d.ComboBoxItems_3("03 - Outward Advance Receipts","CT03","ClearTax")),o.push(f.d.ComboBoxItems_3("04 - Purchase Invoice and Bill of Supply","CT04","ClearTax")),o.push(f.d.ComboBoxItems_3("05 - Inward Credit Debit Note","CT05","ClearTax")),o.push(f.d.ComboBoxItems_3("06 - Inward Advance Payments","CT06","ClearTax")),o.push(f.d.ComboBoxItems_3("b2b","GSTR2_b2b","GSTR2")),o.push(f.d.ComboBoxItems_3("b2bur","GSTR2_b2bur","GSTR2")),o.push(f.d.ComboBoxItems_3("imps","GSTR2_imps","GSTR2")),o.push(f.d.ComboBoxItems_3("impg","GSTR2_impg","GSTR2")),o.push(f.d.ComboBoxItems_3("cdnr","GSTR2_cdnr","GSTR2")),o.push(f.d.ComboBoxItems_3("cdnur","GSTR2_cdnur","GSTR2")),o.push(f.d.ComboBoxItems_3("at","GSTR2_at","GSTR2")),o.push(f.d.ComboBoxItems_3("atadj","GSTR2_atadj","GSTR2")),o.push(f.d.ComboBoxItems_3("exemp","GSTR2_exemp","GSTR2")),o.push(f.d.ComboBoxItems_3("hsnsum","GSTR2_hsnsum","GSTR2")),o.push(f.d.ComboBoxItems_3("GSTR3B_Outward","GSTR3_GSTR3B_Outward","GSTR3")),o.push(f.d.ComboBoxItems_3("B2C","ANX1_B2C","ANX1")),o.push(f.d.ComboBoxItems_3("B2B","ANX1_B2B","ANX1")),o.push(f.d.ComboBoxItems_3("EXP","ANX1_EXP","ANX1")),o.push(f.d.ComboBoxItems_3("SEZ","ANX1_SEZ","ANX1")),o.push(f.d.ComboBoxItems_3("DE","ANX1_DE","ANX1")),o.push(f.d.ComboBoxItems_3("REV","ANX1_REV","ANX1")),o.push(f.d.ComboBoxItems_3("IMPS","ANX1_IMPS","ANX1")),o.push(f.d.ComboBoxItems_3("IMPG","ANX1_IMPG","ANX1")),o.push(f.d.ComboBoxItems_3("IMPGSEZ","ANX1_IMPGSEZ","ANX1")),o.push(f.d.ComboBoxItems_3("ECOM","ANX1_ECOM","ANX1")),o.push(f.d.ComboBoxItems_3("Purchase Register","ANX1_PurchaseRegister","ANX1")),o.push(f.d.ComboBoxItems_3("AED - VAT return form","VATAED1","VAT")),o.push(f.d.ComboBoxItems_3("FTA VAT Audit File (Purchase List)","VATFATPurchaseList","VAT")),o.push(f.d.ComboBoxItems_3("FTA VAT Audit File (Supply List)","VATFATSupplyList","VAT")),o.push(f.d.ComboBoxItems_3("SAS - VAT return form","VATSAS1","VAT")),this.cmbReportType.Items.AddRange(o),e||(this.cmbReportModule_SelectionChanged(),this.ClearReportModel(),this.cmbReportType_SelectionChanged())}},{key:"ReportBuilder_2",value:function(e,t){this.GSTType=t,this.DisplayMessage="",this.dtMain=[],this.ReportGrid=new d.a,this.ReportGrid.Table=this.dtMain;var o=[];o.push({ReportID:e,ReportName:"RPT"}),this.cmbReport=new f.e,this.txtReportName=new M.d,this.txtexempZero=new M.d,this.txtexempNill=new M.d,this.txtexempExempted=new M.d,this.txtexempNonGST=new M.d,this.cmbReport.Items=o,this.cmbReport.SetSelectedItem(e.toString())}},{key:"cmbReportModule_SelectionChanged",value:function(){var e=this;if(this.cmbReportModule.SelectedValue&&this.cmbReportType.Items.length>0){this.dicDataTables.Clear();var t=this.cmbReportType.Items.find((function(t){return t.Parent==e.cmbReportModule.SelectedValue.toString()}));this.cmbReportType.SelectedValue=t.Value,this.cmbReportType_SelectionChanged(),this.txtReportName.Enable="ANX1"!=this.cmbReportModule.SelectedValue.toString()&&"GSTR2"!=this.cmbReportModule.SelectedValue.toString()&&"GSTR3"!=this.cmbReportModule.SelectedValue.toString()&&"VAT"!=this.cmbReportModule.SelectedValue.toString()}}},{key:"cmbReportType_SelectionChanged",value:function(){var e=this;if(this.txtReportName.Text="",this.strcdnrDocs=null,this.stratDocs=null,null!=this.cmbReportType.SelectedValue)try{if(this.GSTType=this.cmbReportType.SelectedValue.toString(),"VATAED1"==this.GSTType||"VATSAS1"==this.GSTType){if(null==this.VATSaleReturnDocs){this.VATSaleReturnDocs=new f.b;var t=s.a.report.GetDataTable("RPT050",s.a.SessionManager.RoleID,s.a.SessionManager.UserID);this.VATSaleReturnDocs=new f.b,this.lstVATPurDocs=new f.b,this.VATPurReturnDocs=new f.b,this.VATBadDebtsDocs=new f.b,this.VATTouristDocs=new f.b,this.VATCustomsAdjDocs=new f.b,t.forEach((function(t){var o=parseInt(t.DocumentType);6==o||39==o||43==o?(e.VATSaleReturnDocs.Items.push(f.c.CheckedListBoxItem_5(t.DocumentName.toString(),t.CostCenterID.toString(),!0)),e.VATBadDebtsDocs.Items.push(f.c.CheckedListBoxItem_5(t.DocumentName.toString(),t.CostCenterID.toString(),!1))):10==o||41==o?e.VATPurReturnDocs.Items.push(f.c.CheckedListBoxItem_5(t.DocumentName.toString(),t.CostCenterID.toString(),!0)):(e.lstVATPurDocs.Items.push(f.c.CheckedListBoxItem_5(t.DocumentName.toString(),t.CostCenterID.toString(),!0)),e.VATTouristDocs.Items.push(f.c.CheckedListBoxItem_5(t.DocumentName.toString(),t.CostCenterID.toString(),!0)),e.VATCustomsAdjDocs.Items.push(f.c.CheckedListBoxItem_5(t.DocumentName.toString(),t.CostCenterID.toString(),!1)))}))}this.stkVAT=!0,this.stkVAT2=!0}else this.stkVAT=!1,this.stkVAT2=!1;var o=s.a.report.GetDataTable("RPT022","select ReportID,ReportName from adm_revenureports with(nolock)\nwhere StaticReportType=-1 and DefaultPreferences is not null and DefaultPreferences!='' and DefaultPreferences like '%<UTILREPORT>"+this.GSTType+"</UTILREPORT>%'");this.cmbReport.SelectionChangedCommand.UnSubscribe(),this.cmbReport.Items.Clear(),o.forEach((function(t){e.cmbReport.Items.push(f.d.ComboBoxItems_2(t.ReportName.toString(),t.ReportID.toString()))})),null==this.cmbReportModule.SelectedValue||"ANX1"!=this.cmbReportModule.SelectedValue.toString()&&"GSTR2"!=this.cmbReportModule.SelectedValue.toString()&&"GSTR3"!=this.cmbReportModule.SelectedValue.toString()&&"VAT"!=this.cmbReportModule.SelectedValue.toString()||(o.length>0?this.cmbReport.SelectedValue=o[0].ReportID.toString():"ANX1"==this.cmbReportModule.SelectedValue.toString()||"GSTR2"==this.cmbReportModule.SelectedValue.toString()||"GSTR3"==this.cmbReportModule.SelectedValue.toString()?this.txtReportName.Text=this.GSTType:"VAT"==this.cmbReportModule.SelectedValue.toString()&&(this.txtReportName.Text=this.cmbReportType.GetText())),this.cmbReport.SelectionChangedCommand.Subscribe(this,"cmbReport_SelectionChanged"),this.cmbReport_SelectionChanged(null,null)}catch(n){Logger.ErrorLog(n.stack),alert(n.Message)}}},{key:"cmbReport_SelectionChanged",value:function(e,t){if(this.ClearReportModel(),r.e.StringIsNullOrEmpty(this.cmbReport.SelectedValue))this.ReportID=0;else{this.ReportID=parseInt(this.cmbReport.SelectedValue);var o=s.a.report.GetRevenUReport(this.ReportID);null!=o&&o.Tables.length>0&&!o.Columns[0].Contains("ErrorMessage")&&o.Tables[0].length>0&&(this.txtReportName.Text=o.Tables[0][0].ReportName.toString(),this.objReport.DefaultPreferences=r.e.String(o.Tables[0][0].DefaultPreferences),this.objReport.ReportDefnXML=o.Tables[0][0].ReportDefnXML.toString(),this.objReport.ReportBodyXML=r.e.String(o.Tables[0][0].ReportBody),this.objReport.ReportHeaderXML=r.e.String(o.Tables[0][0].ReportHeader),this.objReport.PageHeaderXML=r.e.String(o.Tables[0][0].PageHeader),this.objReport.PageFooterXML=r.e.String(o.Tables[0][0].PageFooter),this.objReport.ReportFooterXML=r.e.String(o.Tables[0][0].ReportFooter),this.objReport.ParentID=parseInt(o.Tables[0][0].ParentID))}this.InitGrid()}},{key:"InitGrid",value:function(){var e=this;this.dtMain.Clear();var t={RowType:0};this.Columns.Clear();var o=new Array,n=new T.a;n.ID="RowType",n.Header="Type",n.DataType="PactComboBox",n.DisplayMember="DocumentName",n.ValueMember="CostCenterID",n.ValueBinding="RowType",n.Width=160,n.IsFrozen=!0,null==this.dtFeatures&&(this.dtFeatures=s.a.common.GetDataTable("GST004",""));var a="",i="";"at"==this.GSTType||"atadj"==this.GSTType||"GSTR2_at"==this.GSTType||"GSTR2_atadj"==this.GSTType?(i="inner join com_documentpreferences DAP with(nolock) ON DAP.CostCenterID=D.CostCenterID\n            inner join com_documentpreferences DP with(nolock) ON DP.CostCenterID=D.CostCenterID",a=" and DP.PrefName='DonotupdateInventory' and DAP.PrefName='DonotupdateAccounts' and DAP.PrefValue='False' and DP.PrefValue='True' and D.DocumentType not IN (3,5)"):this.GSTType.endsWith("cdnr")||this.GSTType.endsWith("cdnur")?(i="inner join com_documentpreferences DAP with(nolock) ON DAP.CostCenterID=D.CostCenterID",a=" and DAP.PrefName='DonotupdateAccounts' and DAP.PrefValue='False' and D.DocumentType not IN (3,5)"):"docs"==this.GSTType||this.GSTType.startsWith("CT")?(i="inner join com_documentpreferences DP with(nolock) ON DP.CostCenterID=D.CostCenterID",a=" and DP.PrefName='DonotupdateInventory' and D.DocumentType not IN (3,5)"):"VATAED1"==this.GSTType||"VATSAS1"==this.GSTType||"VATFATSupplyList"==this.GSTType?(i="inner join com_documentpreferences DAP with(nolock) ON DAP.CostCenterID=D.CostCenterID",a=" and D.DocumentType IN (7,9,11,12,24,38,42) and DAP.PrefName='DonotupdateAccounts' and DAP.PrefValue='False'"):"VATFATPurchaseList"==this.GSTType?(i="inner join com_documentpreferences DAP with(nolock) ON DAP.CostCenterID=D.CostCenterID",a=" and D.DocumentType IN (25,26,27,2,4,1,10) and DAP.PrefName='DonotupdateAccounts' and DAP.PrefValue='False'"):a="b2cs"==this.GSTType||"ANX1_B2C"==this.GSTType||"hsn"==this.GSTType||"exemp"==this.GSTType?" and D.DocumentType IN (6,7,9,11,12,24,38,39)":this.GSTType.startsWith("ANX1_")||this.GSTType.startsWith("GSTR2_")||this.GSTType.startsWith("GSTR3_")?" and (DocumentType<=27 or DocumentType in (38,39))":" and D.DocumentType IN (7,9,11,12,24,38,39)",this.dtSalesDocs=s.a.common.GetDataSet3("GST005",i,a,s.a.SessionManager.RoleID+"~"+s.a.SessionManager.UserID).Tables[0],n.ComboData=this.dtSalesDocs,o.push(n);var l=new r.f;l.LoadXml(b.ColumnsXML(this.GSTType,this.ParentGSTType)),this.GroupBy=null!=l.DocumentElement.attributes.GroupBy&&""!=l.DocumentElement.attributes.GroupBy.value?l.DocumentElement.attributes.GroupBy.value.split(","):[],this.arrOrderBy=null!=l.DocumentElement.attributes.OrderBy&&""!=l.DocumentElement.attributes.OrderBy.value?l.DocumentElement.attributes.OrderBy.value.split(","):[];for(var C=function(n){var a=new v(l.DocumentElement.children[n]);if(e.Columns.push(a),o.push(a.dgColumn),a.ComboType.length>0){if(!e.dicDataTables.ContainsKey(a.ComboType)){var i=[];e.dicDataTables.push(a.ComboType,i),"NUM"==a.ComboType?i.push({RowType:0,Value:400,Name:"Documents"}):(i.push({RowType:0,Value:400,Name:"Documents"}),e.dtFeatures.filter((function(e){return[2,3,12].Contains(e.FeatureID)||e.FeatureID>5e4})).forEach((function(e){i.push({RowType:0,Value:parseInt(e.FeatureID),Name:e.Name.toString()})})))}if("PoS"==a.ID&&s.a.SessionManager.Preferences.GST_PoSDim.length>0&&(a.ComboDefValue=s.a.SessionManager.Preferences.GST_PoSDim),a.ComboDefValue.length>0){t[a.ID]=parseInt(a.ComboDefValue);var C=e.dtFeatures.filter((function(e){return e.FeatureID==parseInt(a.ComboDefValue)}));C.length>0&&(t[a.ID+"_Key"]=C[0].Name.toString()),e.LoadDocumentFields(parseInt(a.ComboDefValue))}else t[a.ID]=400,t[a.ID+"_Key"]="Documents";a.dgColumn.ComboData=e.dicDataTables[a.ComboType],a.dtComboData=e.dicDataTables[a.ComboType]}},p=0;p<l.DocumentElement.children.length;p++)C(p);this.ReportGrid.Columns=o,this.dtMain.push(t),this.objReport.DefaultPreferences.length>0&&function(){l.LoadXml(e.objReport.DefaultPreferences);var o=r.f.SelectSingleNode(l.DocumentElement,"UTILXML");null!=o&&o.children.length>0&&function(){var n,a;e.Columns.forEach((function(n){if(null!=(a=r.f.SelectSingleNode(o.children[0],n.ID))&&a.innerHTML.length>0){t[n.ID]=a.innerHTML;var i=e.dtFeatures.filter((function(e){return e.FeatureID==parseInt(a.innerHTML)}));i.length>0?t[n.ID+"_Key"]=i[0].Name.toString():"400"==a.innerHTML&&(t[n.ID+"_Key"]="Documents"),"400"!=a.innerHTML&&e.LoadDocumentFields(parseInt(a.innerHTML))}}));for(var i=function(t){var i={};a=r.f.SelectSingleNode(o.children[t],"RowType"),i.RowType=a.innerHTML,(n=e.dtSalesDocs.filter((function(e){return e.CostCenterID==a.innerHTML}))).length>0&&(i.RowType_Key=n[0].DocumentName.toString()),e.LoadDocumentFields(parseInt(a.innerHTML)),e.Columns.forEach((function(e){null!=(a=r.f.SelectSingleNode(o.children[t],e.ID))&&a.innerHTML.length>0&&(i[e.ID]=a.innerHTML,(n=e.dtComboData.filter((function(e){return e.Value==a.innerHTML}))).length>0&&(i[e.ID+"_Key"]=n[0].Name.toString()),"-1"==a.innerHTML?null!=(a=r.f.SelectSingleNode(o.children[t],e.ID+"_Formula"))&&(i[e.ID+"_Formula"]=a.innerHTML):"-2"==a.innerHTML&&(null!=(a=r.f.SelectSingleNode(o.children[t],e.ID+"_MultFileds"))&&(i[e.ID+"_MultFileds"]=a.innerHTML)))})),e.dtMain.push(i)},C=1;C<o.children.length;C++)i(C);if(null!=(a=r.f.SelectSingleNode(l.DocumentElement,"UTILOptions/ZeroRated"))&&(e.txtexempZero.Text=a.innerHTML),null!=(a=r.f.SelectSingleNode(l.DocumentElement,"UTILOptions/NilRated"))&&(e.txtexempNill.Text=a.innerHTML),null!=(a=r.f.SelectSingleNode(l.DocumentElement,"UTILOptions/Exempted"))&&(e.txtexempExempted.Text=a.innerHTML),null!=(a=r.f.SelectSingleNode(l.DocumentElement,"UTILOptions/NonGST"))&&(e.txtexempNonGST.Text=a.innerHTML),"VATAED1"==e.GSTType||"VATSAS1"==e.GSTType){if(null!=(a=r.f.SelectSingleNode(l.DocumentElement,"VATReturnDocs"))){var s=a.innerHTML.split(",");e.VATSaleReturnDocs.Items.forEach((function(e){e.IsChecked=s.Contains(e.Value)}))}if(null!=(a=r.f.SelectSingleNode(l.DocumentElement,"lstVATPurDocs"))){var p=a.innerHTML.split(",");e.lstVATPurDocs.Items.forEach((function(e){e.IsChecked=p.Contains(e.Value)}))}if(null!=(a=r.f.SelectSingleNode(l.DocumentElement,"VATPurReturnDocs"))){var T=a.innerHTML.split(",");e.VATPurReturnDocs.Items.forEach((function(e){e.IsChecked=T.Contains(e.Value)}))}if(null!=(a=r.f.SelectSingleNode(l.DocumentElement,"VATBadDebtsDocs"))){var u=a.innerHTML.split(",");e.VATBadDebtsDocs.Items.forEach((function(e){e.IsChecked=u.Contains(e.Value)}))}if(null!=(a=r.f.SelectSingleNode(l.DocumentElement,"VATTouristDocs"))){var D=a.innerHTML.split(",");e.VATTouristDocs.Items.forEach((function(e){e.IsChecked=D.Contains(e.Value)}))}if(null!=(a=r.f.SelectSingleNode(l.DocumentElement,"VATCustomsAdjDocs"))){var d=a.innerHTML.split(",");e.VATCustomsAdjDocs.Items.forEach((function(e){e.IsChecked=d.Contains(e.Value)}))}}}()}(),0!=this.ReportID||"VATAED1"!=this.GSTType&&"VATSAS1"!=this.GSTType||this.dtSalesDocs.forEach((function(t){var o={};o.RowType=t.CostCenterID,o.RowType_Key=t.DocumentName.toString(),e.LoadDocumentFields(parseInt(t.CostCenterID));var n=e.dicDataTables.ContainsKey("NUMFC")?"NUMFC":"NUM",a=e.dicDataTables[n].filter((function(e){return e.RowType==parseInt(t.CostCenterID)&&"dcNum51"==e.SysColumnName}));a.length>0&&(o.TaxableValue=a[0].Value,o.TaxableValue_Key=a[0].Name.toString()),(a=e.dicDataTables[n].filter((function(e){return e.RowType==parseInt(t.CostCenterID)&&"dcNum61"==e.SysColumnName}))).length>0&&(o.VATAmount=a[0].Value,o.VATAmount_Key=a[0].Name.toString()),e.dtMain.push(o)}));for(var u=this.dtMain.length;u<15;u++)this.dtMain.push()}},{key:"LoadDocumentFields",value:function(e){for(var t=this,o=function(o){var n,a={Key:t.dicDataTables.keys[o],Value:t.dicDataTables.values[o]},i=a.Value;0==i.filter((function(t){return t.RowType==e})).length&&(O.GetGSTDocumentFields(e,a.Key).forEach((function(t){(n={}).RowType=e,n.Name=t.ColumnName,n.Value=parseInt(t.ID),n.SysTableName=t.SysTableName,n.SysColumnName=t.SysColumnName,n.ColumnCostCenterID=t.ColumnCostCenterID,i.push(n)})),"NUM"==a.Key&&((n={}).RowType=e,n.Name="MULTIPLE FIELDS",n.Value="-2",n.SysTableName="MULTIPLEFIELDS",n.SysColumnName="",i.push(n)),"cdnrDocumentType"!=a.Key&&"GSTR3IsReturn"!=a.Key&&"NatureofDocument"!=a.Key&&((n={}).RowType=e,n.Name="",i.InsertAt(n,0)))},n=0;n<this.dicDataTables.keys.length;n++)o(n)}},{key:"ClearReportModel",value:function(){this.objReport={},this.objReport.SelectedNodeID=1,this.objReport.CustomPreferences='<XML><Filters><WHERE Name="@WHERE@"><Filter Column="convert(datetime,INV.DocDate)" MapField="DATEFILTERFIELD" />',"True"==s.a.SessionManager.Preferences.EnableLocationWise.toString()&&"True"==s.a.SessionManager.Preferences["LW Reports"]&&(this.objReport.CustomPreferences+='<Filter Column="DCC.dcCCNID2" MapField="CC_50002" />'),this.objReport.CustomPreferences+="</WHERE></Filters></XML>",this.objReport.DefaultPreferences="",this.objReport.ReportDefnXML=""}},{key:"GetReportConfiguration",value:function(){this.lstDocuments.Clear();var e="";e+="<XML>",e+="<UTILREPORT>"+this.GSTType+"</UTILREPORT>",e+="<UTILXML>";for(var t=0;t<this.dtMain.length;t++){var o=this.dtMain[t];if(t>0){if(null==o.RowType)continue;if(this.lstDocuments.ContainsKey(parseInt(o.RowType)))return this.ReportGrid.SelectedIndex=t,this.DisplayMessage="Duplicate Document Row '"+o.RowType_Key+"'","";this.lstDocuments.push(parseInt(o.RowType),o)}var n="";n+="<RowType>"+o.RowType.toString()+"</RowType>";for(var a=0;a<this.Columns.length;a++){var i=this.Columns[a];if(null!=o[i.ID]){if(0==t&&(i.ColumnDimension=parseInt(o[i.ID])),n+="<"+i.ID+">"+r.e.String(o[i.ID])+"</"+i.ID+">","-1"==r.e.String(o[i.ID]))n+="<"+i.ID+"_Formula>"+o[i.ID+"_Formula"].toString()+"</"+i.ID+"_Formula>";else if("-2"==r.e.String(o[i.ID])){if(0==o[i.ID+"_MultFileds"].toString().length)return this.ReportGrid.SelectedIndex=t,this.DisplayMessage="Please select Multiple Fileds for '"+i.Caption+"'","";n+="<"+i.ID+"_MultFileds>"+o[i.ID+"_MultFileds"].toString()+"</"+i.ID+"_MultFileds>"}}else if(!i.ReadOnly&&!i.IsOptional&&t>0&&(1==t||400==parseInt(this.dtMain[0][i.ID])))return this.ReportGrid.SelectedIndex=t,this.DisplayMessage="Please select field for '"+i.Caption+"'",""}n.length>0&&(e+="<r>"+n+"</r>")}if(e+="</UTILXML>","exemp"==this.GSTType||"GSTR2_exemp"==this.GSTType?(e+="<UTILOptions>",e+="<NilRated>"+r.e.EncodeXML(this.txtexempNill.Text)+"</NilRated>",e+="<Exempted>"+r.e.EncodeXML(this.txtexempExempted.Text)+"</Exempted>",e+="<NonGST>"+r.e.EncodeXML(this.txtexempNonGST.Text)+"</NonGST>",e+="</UTILOptions>"):"GSTR3_GSTR3B_Outward"==this.GSTType&&(e+="<UTILOptions>",e+="<ZeroRated>"+r.e.EncodeXML(this.txtexempZero.Text)+"</ZeroRated>",e+="<NilRated>"+r.e.EncodeXML(this.txtexempNill.Text)+"</NilRated>",e+="<Exempted>"+r.e.EncodeXML(this.txtexempExempted.Text)+"</Exempted>",e+="<NonGST>"+r.e.EncodeXML(this.txtexempNonGST.Text)+"</NonGST>",e+="</UTILOptions>"),"VATAED1"==this.GSTType||"VATSAS1"==this.GSTType){var l="";this.VATSaleReturnDocs.Items.filter((function(e){return e.IsChecked})).forEach((function(e){l.length>0&&(l+=","),l+=e.Value})),l.length>0&&(e+="<VATReturnDocs>",e+=l,e+="</VATReturnDocs>"),l="",this.lstVATPurDocs.Items.filter((function(e){return e.IsChecked})).forEach((function(e){l.length>0&&(l+=","),l+=e.Value})),l.length>0&&(e+="<VATPurchaseDocs>",e+=l,e+="</VATPurchaseDocs>"),l="",this.VATPurReturnDocs.Items.filter((function(e){return e.IsChecked})).forEach((function(e){l.length>0&&(l+=","),l+=e.Value})),l.length>0&&(e+="<VATPurReturnDocs>",e+=l,e+="</VATPurReturnDocs>"),l="",this.VATBadDebtsDocs.Items.filter((function(e){return e.IsChecked})).forEach((function(e){l.length>0&&(l+=","),l+=e.Value})),l.length>0&&(e+="<VATBadDebtsDocs>",e+=l,e+="</VATBadDebtsDocs>"),l="",this.VATTouristDocs.Items.filter((function(e){return e.IsChecked})).forEach((function(e){l.length>0&&(l+=","),l+=e.Value})),l.length>0&&(e+="<VATTouristDocs>",e+=l,e+="</VATTouristDocs>"),l="",this.VATCustomsAdjDocs.Items.filter((function(e){return e.IsChecked})).forEach((function(e){l.length>0&&(l+=","),l+=e.Value})),l.length>0&&(e+="<VATCustomsAdjDocs>",e+=l,e+="</VATCustomsAdjDocs>")}return(e+="</XML>").toString()}},{key:"GetQuery",value:function(e){var t=this;this.OrderBy="";var o="",n=(parseInt(s.a.SessionManager.Preferences.GST_PoSDim),parseInt(s.a.SessionManager.Preferences.GST_GSTINDim));if("VATAED1"==this.GSTType||"VATSAS1"==this.GSTType)return this.GetVATQuery(e);if("docs"==this.GSTType){this.dicNatureOfDocs.Clear();var a="";this.lstDocuments.keys.forEach((function(e){var o={Key:e,Value:t.lstDocuments[e]};a.length>0&&(a+=","),a+=o.Key;var n=o.Value.NatureofDocument_Key.toString();t.dicNatureOfDocs.ContainsKey(n)?t.dicNatureOfDocs[n]+=" or CostCenterID="+o.Key:t.dicNatureOfDocs.push(n,"CostCenterID="+o.Key)}));var i="case";return this.dicNatureOfDocs.keys.forEach((function(e){i+=" when "+t.dicNatureOfDocs[e]+" then '"+e+"'"})),i+=" end",this.Entities.Clear(),this.Entities.push("Document","INV"),this.Entities.push("Document.COM_DocCCData","DCC"),(o+="SELECT "+i+" NatureofDocument\n,DocAbbr+DocPrefix+'-'+convert(nvarchar,MIN(StartNo)) SrNoFrom\n,DocAbbr+DocPrefix+'-'+convert(nvarchar,MAX(EndNo)) SrNoTo\n,COUNT(VoucherNo) TotalNumber,sum(IsCancelled) Cancelled\nFROM (\nSELECT INV.CostCenterID,INV.DocPrefix,MIN(CONVERT(INT, INV.DocNumber)) AS StartNo,MAX(CONVERT(INT, INV.DocNumber)) AS EndNo,INV.DocAbbr,\nINV.VoucherNo,INV.StatusID, case when INV.StatusID=376 then 1 else 0 end IsCancelled\nFROM INV_DocDetails INV WITH(NOLOCK)\nINNER JOIN COM_DocCCData DCC WITH(NOLOCK) ON INV.InvDocDetailsID=DCC.InvDocDetailsID\nWHERE 1=1 @WHERE@\nand INV.CostCenterID in ("+a+")\nGROUP BY INV.DocPrefix,INV.DocAbbr,INV.CostCenterID,INV.VoucherNo,INV.StatusID\n) AS T\nGROUP BY CostCenterID,DocPrefix,DocAbbr").toString()}for(var l=function(e){var a={Key:t.lstDocuments.keys[e],Value:t.lstDocuments.values[e]};t.Entities.Clear(),t.Entities.push("Document","INV"),t.Entities.push("Document.COM_DocCCData","DCC"),o.length>0&&(o+="\nUNION ALL\n"),t.SelectTag="",t.FromTag="INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID",t.WhereTag="INV.CostCenterID="+a.Key+" and INV.StatusID=369",t.WhereTag+=" and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)",t.GroupByDynamic="",t.IsInvValueEmpty=!1,t.IsCreditAccount=!1,"b2cs"==t.GSTType||"hsn"==t.GSTType||"exemp"==t.GSTType||"VATFATSupplyList"==t.GSTType||"ANX1_B2C"==t.GSTType||"ANX1_ECOM"==t.GSTType?t.dtSalesDocs.filter((function(e){return[6,39].Contains(e.DocumentType)&&e.CostCenterID==a.Key})).length>0&&(t.IsCreditAccount=!0):"cdnr"==t.GSTType||"cdnur"==t.GSTType?("C"!=a.Value.DocumentType_Key.toString()&&"R"!=a.Value.DocumentType_Key.toString()||(t.IsCreditAccount=!0),null==t.stratDocs&&(t.stratDocs=g.GetReportDocs("'at'"))):"CT02"==t.GSTType||"CT03"==t.GSTType||"CT04"==t.GSTType?t.IsCreditAccount=!0:t.GSTType.startsWith("GSTR2_")||"VATFATPurchaseList"==t.GSTType?(t.IsCreditAccount=!0,"GSTR2_hsnsum"==t.GSTType||"VATFATPurchaseList"==t.GSTType?t.dtSalesDocs.filter((function(e){return 10==e.DocumentType&&e.CostCenterID==a.Key})).length>0&&(t.IsCreditAccount=!1):"GSTR2_cdnr"!=t.GSTType&&"GSTR2_cdnur"!=t.GSTType||("D"==a.Value.DocumentType_Key.toString()&&(t.IsCreditAccount=!1),null==t.stratDocs&&(t.stratDocs=g.GetReportDocs("'GSTR2_at'")))):"GSTR3_GSTR3B_Outward"==t.GSTType?"YES"==a.Value.DocumentType_Key.toString()&&(t.IsCreditAccount=!0):"ANX1_B2B"==t.GSTType||"ANX1_EXP"==t.GSTType||"ANX1_SEZ"==t.GSTType||"ANX1_DE"==t.GSTType?"-403"==a.Value.DocumentType.toString()&&(t.IsCreditAccount=!0):"ANX1_REV"!=t.GSTType&&"ANX1_IMPS"!=t.GSTType&&"ANX1_IMPG"!=t.GSTType&&"ANX1_IMPGSEZ"!=t.GSTType||(t.IsCreditAccount=!0,"-402"==r.e.String(a.Value.DocumentType)&&(t.IsCreditAccount=!1));for(var i=function(e){var n=t.Columns[e];if(!n.IgnoreInQuery&&("exemp"!=t.GSTType&&"GSTR2_exemp"!=t.GSTType||"Description"!=n.ID)){if(t.SelectTag.length>0&&(t.SelectTag+=","),n.IsOptional&&0==r.e.String(a.Value[n.ID]).length&&("InvValue"==n.ID||"RetInvValue"==n.ID||"TotalValue"==n.ID&&"hsn"==t.GSTType||"TotalValue"==n.ID&&"GSTR2_hsnsum"==t.GSTType)){var i=t.IsCreditAccount?"INV.CreditAccount":"INV.DebitAccount";n.ActualColumn="(select abs(sum(Dr)-sum(Cr)) from (select Amount Dr,0 Cr from acc_docdetails ACC with(nolock) where ACC.VoucherNo=INV.VoucherNo and ACC.DebitAccount="+i+" union all select 0 Dr,Amount Cr from acc_docdetails ACC with(nolock) where ACC.VoucherNo=INV.VoucherNo and ACC.CreditAccount="+i+") as TV)","ANX1_ECOM"==t.GSTType?t.IsCreditAccount&&"InvValue"==n.ID?n.ActualColumn="NULL":t.IsCreditAccount||"RetInvValue"!=n.ID||(n.ActualColumn="NULL"):(!t.IsCreditAccount||"b2cs"!=t.GSTType&&"hsn"!=t.GSTType)&&(t.IsCreditAccount||"GSTR2_hsnsum"!=t.GSTType)||(n.ActualColumn="-"+n.ActualColumn),t.SelectTag+=n.ActualColumn,t.IsInvValueEmpty=!0}else{if("-2"==r.e.String(a.Value[n.ID]))if(null==a.Value[n.ID+"_MultFileds"])n.ActualColumn="0";else{var l="";a.Value[n.ID+"_MultFileds"].toString().split(",").forEach((function(e){t.SetActualColumn(n,a.Value,e),l.length>0&&(l+="+"),l+=n.ActualColumn})),n.ActualColumn=l,"b2b"==t.GSTType&&"InvValue"==n.ID&&(n.ActualColumn="(select abs(sum("+n.ActualColumn.Replace("NUM.","SNUM.")+")) from INV_DocDetails SINV with(nolock)\n                                inner join COM_DocNumData SNUM with(nolock) on SNUM.InvDocDetailsID=SINV.InvDocDetailsID\n                                where SINV.VoucherNo=INV.VoucherNo)")}else t.SetActualColumn(n,a.Value,""),"FLOAT"==n.DType&&(!t.IsCreditAccount&&("ANX1_REV"==t.GSTType||"ANX1_IMPS"==t.GSTType||"ANX1_IMPG"==t.GSTType||"ANX1_IMPGSEZ"==t.GSTType)||t.IsCreditAccount&&"exemp"==t.GSTType&&"NilRated"!=n.ID&&"Exempted"!=n.ID&&"NonGST"!=n.ID)&&(n.ActualColumn="-"+n.ActualColumn);"DATE"==n.DType&&(n.ActualColumn="convert(datetime,"+n.ActualColumn+")"),t.GroupBy.length>0?t.GroupBy.Contains(n.ID)||"NULL"==n.ActualColumn||"-2"==r.e.String(a.Value[n.ID])&&"b2b"==t.GSTType&&"InvValue"==n.ID?t.SelectTag+=n.ActualColumn:"hsn"==t.GSTType&&"PRType"==n.ID?(n.ActualColumn=n.ActualColumn.Replace(n.ActualCol2,n.Agg+"("+n.ActualCol2+")"),t.SelectTag+=n.ActualColumn):t.SelectTag+=n.Agg+"("+n.ActualColumn+")":t.SelectTag+=n.ActualColumn}0==o.length&&(t.SelectTag+=" "+n.ID),"INV.VoucherNo"==n.ActualColumn&&(t.SelectTag+=0==o.length?",INV.DocAbbr ["+n.ID+"Abr],INV.DocPrefix ["+n.ID+"prf],CONVERT(BIGINT,INV.DocNumber) ["+n.ID+"dno]":",INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)")}},l=0;l<t.Columns.length;l++)i(l);if("b2b"==t.GSTType)p=t.Columns.find((function(e){return"RecipientGSTIN"==e.ID})),t.WhereTag+=" and "+p.ActualColumn+" is not null and "+p.ActualColumn+"!=''";else if("b2cs"==t.GSTType)p=t.Columns.find((function(e){return"RecipientGSTIN"==e.ID})),t.WhereTag+=" and ("+p.ActualColumn+" is null or "+p.ActualColumn+"='')",T=t.Columns.find((function(e){return"InvValue"==e.ID})),(m=t.Columns.find((function(e){return"PoS"==e.ID}))).ColumnDimension>5e4&&n>5e4?(t.FromTag+=" inner join COM_CCCCData FromPosDCC with(nolock) on FromPosDCC.NodeID=DCC.dcCCNID"+(n-5e4),t.WhereTag+=" and FromPosDCC.CostCenterID="+n+" and (FromPosDCC.CCNID"+(m.ColumnDimension-5e4)+"=DCC.dcCCNID"+(m.ColumnDimension-5e4),T.ActualColumn.startsWith("-")?t.WhereTag+=" or "+T.ActualColumn.substr(1)+"<=250000)":t.WhereTag+=" or "+T.ActualColumn+"<=250000)"):alert(t.GSTType+"Pos Mapping Issue");else if("b2cl"==t.GSTType)p=t.Columns.find((function(e){return"RecipientGSTIN"==e.ID})),t.WhereTag+=" and ("+p.ActualColumn+" is null or "+p.ActualColumn+"='')",T=t.Columns.find((function(e){return"InvValue"==e.ID})),t.WhereTag+=" and "+T.ActualColumn+">250000",(m=t.Columns.find((function(e){return"PoS"==e.ID}))).ColumnDimension>5e4&&n>5e4?(t.FromTag+=" inner join COM_CCCCData FromPosDCC with(nolock) on FromPosDCC.NodeID=DCC.dcCCNID"+(n-5e4),t.WhereTag+=" and FromPosDCC.CostCenterID="+n+" and FromPosDCC.CCNID"+(m.ColumnDimension-5e4)+"!=DCC.dcCCNID"+(m.ColumnDimension-5e4)):alert(t.GSTType+" - Pos Mapping Issue");else if("cdnr"==t.GSTType)t.ParentGSTType!=S.GSTR1Summary&&(p=t.Columns.find((function(e){return"RecipientGSTIN"==e.ID})),t.WhereTag+=" and "+p.ActualColumn+" is not null and "+p.ActualColumn+"!=''");else if("cdnur"==t.GSTType)p=t.Columns.find((function(e){return"RecipientGSTIN"==e.ID})),t.WhereTag+=" and ("+p.ActualColumn+" is null or "+p.ActualColumn+"='')",t.dtSalesDocs.filter((function(e){return[6,39].Contains(e.DocumentType)&&e.CostCenterID==a.Key})).length>0&&(T=t.Columns.find((function(e){return"InvValue"==e.ID})),(m=t.Columns.find((function(e){return"PoS"==e.ID}))).ColumnDimension>5e4&&n>5e4?(t.FromTag+=" inner join COM_CCCCData FromPosDCC with(nolock) on FromPosDCC.NodeID=DCC.dcCCNID"+(n-5e4),t.WhereTag+=" and (FromPosDCC.CostCenterID="+n+" and ((FromPosDCC.CCNID"+(m.ColumnDimension-5e4)+"!=DCC.dcCCNID"+(m.ColumnDimension-5e4),T.ActualColumn.startsWith("-")?t.WhereTag+=" and "+T.ActualColumn.substr(1)+">250000)":t.WhereTag+=" and "+T.ActualColumn+">250000)",null!=(u=t.Columns.find((function(e){return"URType"==e.ID})))&&null!=u.ActualColumn&&(t.WhereTag+=" or "+u.ActualColumn+"='EXPWP' or "+u.ActualColumn+"='EXPWOP'"),t.WhereTag+="))"):alert(t.GSTType+" - Pos Mapping Issue"));else if("exp"==t.GSTType)p=t.Columns.find((function(e){return"ExportType"==e.ID})),t.WhereTag+=" and ("+p.ActualColumn+"='WPAY' or "+p.ActualColumn+"='WOPAY')";else if("at"==t.GSTType||"atadj"==t.GSTType)t.SelectTag+=",INV.VoucherNo,INV.CreditAccount AccountID","atadj"==t.GSTType&&(t.FromTag+=" inner join (select AccountID,RefDocNo from @Tbl group by AccountID,RefDocNo) AS B on B.RefDocNo=INV.VoucherNo and B.AccountID=INV.CreditAccount");else if("GSTR2_at"==t.GSTType||"GSTR2_atadj"==t.GSTType)t.SelectTag+=",INV.VoucherNo,INV.DebitAccount AccountID","GSTR2_atadj"==t.GSTType&&(t.FromTag+=" inner join (select AccountID,RefDocNo from @Tbl group by AccountID,RefDocNo) AS B on B.RefDocNo=INV.VoucherNo and B.AccountID=INV.DebitAccount"),D=t.Columns.find((function(e){return"ReverseCharge"==e.ID})),t.WhereTag+=" and ("+D.ActualColumn+"='YES' or "+D.ActualColumn+"='Y')";else if("exemp"==t.GSTType||"GSTR2_exemp"==t.GSTType)t.ParentGSTType!=S.GSTR1Summary&&((m=t.Columns.find((function(e){return"PoS"==e.ID}))).ColumnDimension>5e4&&n>5e4?(t.FromTag+=" inner join COM_CCCCData FromPosDCC with(nolock) on FromPosDCC.NodeID=DCC.dcCCNID"+(n-5e4),t.WhereTag+=" and FromPosDCC.CostCenterID="+n,t.SelectTag+=",case when FromPosDCC.CCNID"+(m.ColumnDimension-5e4)+"=DCC.dcCCNID"+(m.ColumnDimension-5e4)+" then 1 else 0 end IsSameState"):alert(t.GSTType+" - Pos Mapping Issue"));else if(t.GSTType.startsWith("GSTR2_"))if("GSTR2_b2b"==t.GSTType)p=t.Columns.find((function(e){return"SupplierGSTIN"==e.ID})),t.WhereTag+=" and "+p.ActualColumn+" is not null and "+p.ActualColumn+"!=''",(m=t.Columns.find((function(e){return"PoS"==e.ID}))).ColumnDimension>5e4&&n>5e4?(t.FromTag+=" inner join COM_CCCCData FromPosDCC with(nolock) on FromPosDCC.NodeID=DCC.dcCCNID"+(n-5e4),t.WhereTag+=" and FromPosDCC.CostCenterID="+n,t.SelectTag+=",case when FromPosDCC.CCNID"+(m.ColumnDimension-5e4)+"=DCC.dcCCNID"+(m.ColumnDimension-5e4)+" then 'Intra State' else 'Inter State' end SupplyType",t.GroupByDynamic=",FromPosDCC.CCNID"+(m.ColumnDimension-5e4)+",DCC.dcCCNID"+(m.ColumnDimension-5e4)):alert(t.GSTType+" - Pos Mapping Issue");else if("GSTR2_b2bur"==t.GSTType){var C=t.Columns.find((function(e){return"SupplierGSTIN"==e.ID}));t.WhereTag+=" and ("+C.ActualColumn+" is null or "+C.ActualColumn+"='')",(m=t.Columns.find((function(e){return"PoS"==e.ID}))).ColumnDimension>5e4&&n>5e4?(t.FromTag+=" inner join COM_CCCCData FromPosDCC with(nolock) on FromPosDCC.NodeID=DCC.dcCCNID"+(n-5e4),t.WhereTag+=" and FromPosDCC.CostCenterID="+n,t.SelectTag+=",case when FromPosDCC.CCNID"+(m.ColumnDimension-5e4)+"=DCC.dcCCNID"+(m.ColumnDimension-5e4)+" then 'Intra State' else 'Inter State' end SupplyType",t.GroupByDynamic=",FromPosDCC.CCNID"+(m.ColumnDimension-5e4)+",DCC.dcCCNID"+(m.ColumnDimension-5e4)):alert(t.GSTType+" - Pos Mapping Issue")}else"GSTR2_imps"==t.GSTType||"GSTR2_impg"==t.GSTType?(d=t.Columns.find((function(e){return"ITCEligible"==e.ID})),t.Entities.ContainsKey("Product")||(t.Entities.push("Product","P"),t.FromTag+="\r\ninner join INV_Product P with(nolock) on P.ProductID=INV.ProductID"),"GSTR2_imps"==t.GSTType?t.WhereTag+=" and P.ProductTypeID=6 and ("+d.ActualColumn+"='Ineligible' or "+d.ActualColumn+"='Input services')":"GSTR2_impg"==t.GSTType&&(t.WhereTag+=" and P.ProductTypeID!=6 and ("+d.ActualColumn+"='Ineligible' or "+d.ActualColumn+"='Inputs' or "+d.ActualColumn+"='Capital goods')")):"GSTR2_cdnr"==t.GSTType?(p=t.Columns.find((function(e){return"SupplierGSTIN"==e.ID})),t.WhereTag+=" and "+p.ActualColumn+" is not null and "+p.ActualColumn+"!=''",t.stratDocs.length>0&&(t.WhereTag+=" and (LINV.CostCenterID not in ("+t.stratDocs+") or LINV.DocDate<convert(float,convert(datetime,@FROMDATE@)))")):"GSTR2_cdnur"==t.GSTType&&(p=t.Columns.find((function(e){return"SupplierGSTIN"==e.ID})),t.WhereTag+=" and ("+p.ActualColumn+" is null or "+p.ActualColumn+"='')",t.stratDocs.length>0&&(t.WhereTag+=" and (LINV.CostCenterID not in ("+t.stratDocs+") or LINV.DocDate<convert(float,convert(datetime,@FROMDATE@)))"));else t.GSTType.startsWith("GSTR3_")?"GSTR3_GSTR3B_Outward"==t.GSTType&&((m=t.Columns.find((function(e){return"PoS"==e.ID}))).ColumnDimension>5e4&&n>5e4?(t.FromTag+=" inner join COM_CCCCData FromPosDCC with(nolock) on FromPosDCC.NodeID=DCC.dcCCNID"+(n-5e4),t.WhereTag+=" and FromPosDCC.CostCenterID="+n,t.SelectTag+=",FromPosDCC.CCNID"+(m.ColumnDimension-5e4)+" FromState,DCC.dcCCNID"+(m.ColumnDimension-5e4)+" ToState",t.GroupByDynamic=",FromPosDCC.CCNID"+(m.ColumnDimension-5e4)+",DCC.dcCCNID"+(m.ColumnDimension-5e4)):alert(t.GSTType+" - Pos Mapping Issue")):t.GSTType.startsWith("ANX1_")&&("ANX1_B2C"==t.GSTType?(p=t.Columns.find((function(e){return"RecipientGSTIN"==e.ID})),t.WhereTag+=" and ("+p.ActualColumn+" is null or "+p.ActualColumn+"='')"):"ANX1_B2B"==t.GSTType?(c=t.Columns.find((function(e){return"RecipientGSTIN"==e.ID})),t.WhereTag+=" and ("+c.ActualColumn+" is not null and "+c.ActualColumn+"!='')",c=t.Columns.find((function(e){return"ReverseCharge"==e.ID})),t.WhereTag+=" and ("+c.ActualColumn+" is null or ("+c.ActualColumn+"!='YES' and "+c.ActualColumn+"!='Y'))",c=t.Columns.find((function(e){return"PartyType"==e.ID})),t.WhereTag+=" and ("+c.ActualColumn+" is null or "+c.ActualColumn+"!='SEZ')",c=t.Columns.find((function(e){return"SaleType"==e.ID})),t.WhereTag+=" and ("+c.ActualColumn+"='InterStateB2B' or "+c.ActualColumn+"='IntraStateB2B')"):"ANX1_EXP"==t.GSTType?(c=t.Columns.find((function(e){return"RecipientGSTIN"==e.ID})),t.WhereTag+=" and ("+c.ActualColumn+" is not null and "+c.ActualColumn+"!='')",c=t.Columns.find((function(e){return"PartyType"==e.ID})),t.WhereTag+=" and ("+c.ActualColumn+" is null or "+c.ActualColumn+"!='SEZ')",c=t.Columns.find((function(e){return"SaleType"==e.ID})),t.WhereTag+=" and ("+c.ActualColumn+" is null or "+c.ActualColumn+"!='SEZ')"):"ANX1_SEZ"==t.GSTType?(c=t.Columns.find((function(e){return"RecipientGSTIN"==e.ID})),t.WhereTag+=" and ("+c.ActualColumn+" is not null and "+c.ActualColumn+"!='')",c=t.Columns.find((function(e){return"PartyType"==e.ID})),t.WhereTag+=" and "+c.ActualColumn+"='SEZ'",c=t.Columns.find((function(e){return"IntTaxAmt"==e.ID})),t.WhereTag+=" and ("+c.ActualColumn+">0)"):"ANX1_DE"==t.GSTType?(c=t.Columns.find((function(e){return"RecipientGSTIN"==e.ID})),t.WhereTag+=" and ("+c.ActualColumn+" is not null and "+c.ActualColumn+"!='')",c=t.Columns.find((function(e){return"PartyType"==e.ID})),t.WhereTag+=" and "+c.ActualColumn+"='Deemed Export'"):"ANX1_ECOM"==t.GSTType?(c=t.Columns.find((function(e){return"RecipientGSTIN"==e.ID})),t.WhereTag+=" and ("+c.ActualColumn+" is not null and "+c.ActualColumn+"!='')",c=t.Columns.find((function(e){return"IsEcomCustomer"==e.ID})),t.WhereTag+=" and ("+c.ActualColumn+"='YES' or "+c.ActualColumn+"='Y')"):"ANX1_REV"==t.GSTType?(c=t.Columns.find((function(e){return"ReverseCharge"==e.ID})),t.WhereTag+=" and ("+c.ActualColumn+"='YES' or "+c.ActualColumn+"='Y')"):"ANX1_IMPS"==t.GSTType?(t.Entities.ContainsKey("Product")||(t.Entities.push("Product","P"),t.FromTag+="\r\ninner join INV_Product P with(nolock) on P.ProductID=INV.ProductID"),c=t.Columns.find((function(e){return"ReverseCharge"==e.ID})),t.WhereTag+=" and ("+c.ActualColumn+"!='YES' and "+c.ActualColumn+"!='Y')",t.WhereTag+=" and P.ProductTypeID=6"):"ANX1_IMPG"==t.GSTType?(t.Entities.ContainsKey("Product")||(t.Entities.push("Product","P"),t.FromTag+="\r\ninner join INV_Product P with(nolock) on P.ProductID=INV.ProductID"),c=t.Columns.find((function(e){return"ReverseCharge"==e.ID})),t.WhereTag+=" and ("+c.ActualColumn+"!='YES' and "+c.ActualColumn+"!='Y')",t.WhereTag+=" and P.ProductTypeID!=6",c=t.Columns.find((function(e){return"PartyType"==e.ID})),t.WhereTag+=" and ("+c.ActualColumn+" is null or "+c.ActualColumn+"!='SEZ')"):"ANX1_IMPGSEZ"==t.GSTType&&(t.Entities.ContainsKey("Product")||(t.Entities.push("Product","P"),t.FromTag+="\r\ninner join INV_Product P with(nolock) on P.ProductID=INV.ProductID"),c=t.Columns.find((function(e){return"ReverseCharge"==e.ID})),t.WhereTag+=" and ("+c.ActualColumn+"!='YES' and "+c.ActualColumn+"!='Y')",t.WhereTag+=" and P.ProductTypeID!=6",c=t.Columns.find((function(e){return"PartyType"==e.ID})),t.WhereTag+=" and "+c.ActualColumn+"='SEZ'",c=t.Columns.find((function(e){return"SupplierGSTIN"==e.ID})),t.WhereTag+=" and ("+c.ActualColumn+" is not null and "+c.ActualColumn+"!='')"));if(0==o.length&&t.GroupBy.length>0)for(var s=function(e){I=t.Columns.find((function(o){return o.ID==t.GroupBy[e]})),e>0&&(t.OrderBy+=","),"INV.VoucherNo"==I.ActualColumn?t.OrderBy+=I.ID+"Abr,"+I.ID+"prf,"+I.ID+"dno":(t.OrderBy+=I.ID,I.Sort.length>0&&(t.OrderBy+=" "+I.Sort))},h=0;h<t.GroupBy.length;h++)s(h);if(o+="SELECT "+t.SelectTag+"\r\nFROM "+t.FromTag,o+="\r\nWHERE "+t.WhereTag,o+="@WHERE@",t.GroupBy.length>0){o+="\r\nGROUP BY ";for(var y=function(e){"NULL"!=(I=t.Columns.find((function(o){return o.ID==t.GroupBy[e]}))).ActualColumn&&(e>0&&(o+=","),o+=I.ActualCol2.length>0?I.ActualCol2:I.ActualColumn,"INV.VoucherNo"==I.ActualColumn&&(o+=",INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)"))},b=0;b<t.GroupBy.length;b++)y(b);(t.IsInvValueEmpty||"b2cs"==t.GSTType||"hsn"==t.GSTType||"GSTR2_b2b"==t.GSTType||"GSTR2_imps"==t.GSTType||"GSTR2_impg"==t.GSTType||"GSTR2_hsnsum"==t.GSTType)&&(o+=",INV.VoucherNo",o+=","+(t.IsCreditAccount?"INV.CreditAccount":"INV.DebitAccount")),"at"==t.GSTType||"atadj"==t.GSTType?(o+=",INV.VoucherNo,INV.CreditAccount",t.OrderBy+=",VoucherNo"):"GSTR2_at"==t.GSTType||"GSTR2_atadj"==t.GSTType?(o+=",INV.VoucherNo,INV.DebitAccount",t.OrderBy+=",VoucherNo"):"GSTR2_at"!=t.GSTType&&"GSTR2_atadj"!=t.GSTType||(o+=",INV.VoucherNo,INV.DebitAccount",t.OrderBy+=",VoucherNo"),o+=t.GroupByDynamic}},C=0;C<this.lstDocuments.keys.length;C++){var p,T,u,D,d,m,c,I;l(C)}if("b2cs"==this.GSTType&&this.ParentGSTType!=S.GSTR1Summary&&(o=o.Insert(0,"select Type,PoS,Rate,SUM(TaxableValue) TaxableValue,SUM(CessAmt) CessAmt,max(ECommGSTIN) ECommGSTIN from (\r\n"),o+="\r\n) as T GROUP BY Type,PoS,Rate"),"hsn"!=this.GSTType&&"GSTR2_hsnsum"!=this.GSTType||this.ParentGSTType==S.GSTR1Summary||(o=o.Insert(0,"select HSN,UQC"+("hsn"==this.GSTType?",Rate,MAX(PRType) PRType":"")+",MAX(Description) Description,SUM(TotalQty) TotalQty,SUM(TotalValue) TotalValue,SUM(TaxableValue) TaxableValue\n,SUM(IntTaxAmt) IntTaxAmt,SUM(CTaxAmt) CTaxAmt,SUM(STaxAmt) STaxAmt,SUM(CessAmt) CessAmt from (\r\n"),o+="\r\n) as T GROUP BY HSN,UQC"+("hsn"==this.GSTType?",Rate":"")),this.arrOrderBy.length>0)for(var h=function(e){I=t.Columns.find((function(o){return o.ID==t.arrOrderBy[e]})),t.OrderBy.length>0&&(t.OrderBy+=","),t.OrderBy+="INV.VoucherNo"==I.ActualColumn?I.ID+"Abr,"+I.ID+"prf,"+I.ID+"dno":I.ID},y=0;y<this.arrOrderBy.length;y++)h(y);if(this.OrderBy.length>0&&o.length>0&&this.ParentGSTType!=S.GSTR1Summary&&(o+="\r\nORDER BY "+this.OrderBy),"at"==this.GSTType&&o.length>0)o+="\nSELECT CB.DocNo,CB.AccountID,RefDocNo,AdjAmount\nFROM COM_Billwise CB with(nolock)\nWHERE IsNewReference=0@atWHERE@\nAND DocType<>14 AND DocType<>19 AND (CB.StatusID=369 or CB.StatusID=429)\nand AdjAmount>0";else if("GSTR2_at"==this.GSTType&&o.length>0)o+="\nSELECT CB.DocNo,CB.AccountID,RefDocNo,AdjAmount\nFROM COM_Billwise CB with(nolock)\nWHERE IsNewReference=0@atWHERE@\nAND DocType<>14 AND DocType<>19 AND (CB.StatusID=369 or CB.StatusID=429)\nand AdjAmount<0";else if("atadj"==this.GSTType&&o.length>0){null==this.strcdnrDocs&&(this.strcdnrDocs=g.GetReportDocs("'cdnr','cdnur'"));var b="";this.lstDocuments.keys.forEach((function(e){b.length>0&&(b+=","),b+=e})),o=o.Insert(0,"declare @Tbl as table(AccountID bigint,DocNo nvarchar(50),CostCenterID int,RefDocNo nvarchar(50),RefCostCenterID int,AdjAmount float)\ninsert into @Tbl\nselect * from (\nSELECT CB.AccountID,CB.DocNo,(select top 1 CostCenterID from INV_DocDetails with(nolock) where VoucherNo=CB.DocNo) CostCenterID,RefDocNo,(select top 1 CostCenterID from INV_DocDetails with(nolock) where VoucherNo=CB.RefDocNo) RefCostCenterID,AdjAmount\nFROM COM_Billwise CB with(nolock)\nWHERE IsNewReference=0@atWHERE@\nAND DocType<>14 AND DocType<>19 AND (CB.StatusID=369 or CB.StatusID=429)\nand AdjAmount>0\n) AS T\nwhere RefCostCenterID is not null and RefCostCenterID in ("+b+")"+(this.strcdnrDocs.length>0?" and CostCenterID not in ("+this.strcdnrDocs+")":"")+"\r\n"),o+="\r\nselect * from @Tbl"}else if("GSTR2_atadj"==this.GSTType&&o.length>0){null==this.strcdnrDocs&&(this.strcdnrDocs=g.GetReportDocs("'GSTR2_cdnr','GSTR2_cdnur'"));var A="";this.lstDocuments.keys.forEach((function(e){A.length>0&&(A+=","),A+=e})),o=o.Insert(0,"declare @Tbl as table(AccountID bigint,DocNo nvarchar(50),CostCenterID int,RefDocNo nvarchar(50),RefCostCenterID int,AdjAmount float)\ninsert into @Tbl\nselect * from (\nSELECT CB.AccountID,CB.DocNo,(select top 1 CostCenterID from INV_DocDetails with(nolock) where VoucherNo=CB.DocNo) CostCenterID,RefDocNo,(select top 1 CostCenterID from INV_DocDetails with(nolock) where VoucherNo=CB.RefDocNo) RefCostCenterID,AdjAmount\nFROM COM_Billwise CB with(nolock)\nWHERE IsNewReference=0@atWHERE@\nAND DocType<>14 AND DocType<>19 AND (CB.StatusID=369 or CB.StatusID=429)\nand AdjAmount<0\n) AS T\nwhere RefCostCenterID is not null and RefCostCenterID in ("+A+")"+(this.strcdnrDocs.length>0?" and CostCenterID not in ("+this.strcdnrDocs+")":"")+"\r\n"),o+="\r\nselect * from @Tbl"}return"exemp"==this.GSTType&&o.length>0&&this.ParentGSTType!=S.GSTR1Summary?(o=o.Insert(0,"select case \nwhen RecipientGSTIN=1 and IsSameState=0 then 'Inter-State supplies to registered persons' \nwhen RecipientGSTIN=1 and IsSameState=1 then 'Intra-State supplies to registered persons' \nwhen RecipientGSTIN=0 and IsSameState=0 then 'Inter-State supplies to unregistered persons' \nwhen RecipientGSTIN=0 and IsSameState=1 then 'Intra-State supplies to unregistered persons' \nend Description\n,NilRated,Exempted,NonGST\nfrom\n(\nselect IsSameState,RecipientGSTIN\n,sum(NilRated) NilRated,sum(Exempted) Exempted,sum(NonGST) NonGST from\n("),o+=") as T\nGroup By IsSameState,RecipientGSTIN\n) as T"):"GSTR2_exemp"==this.GSTType&&o.length>0&&this.ParentGSTType!=S.GSTR1Summary?(o=o.Insert(0,"select case \nwhen IsSameState=0 then 'Inter-State supplies' \nwhen IsSameState=1 then 'Intra-State supplies' \nend Description\n,case when IsSameState=1 then CompositTaxPer else null end CompositTaxPer,NilRated,Exempted,NonGST\nfrom\n(\nselect IsSameState,sum(CompositTaxPer) CompositTaxPer,sum(NilRated) NilRated,sum(Exempted) Exempted,sum(NonGST) NonGST from\n("),o+=") as T\nGroup By IsSameState\n) as T"):"GSTR3_GSTR3B_Outward"==this.GSTType&&(o+="\nselect 'ZERO' Type,'"+this.txtexempZero.Text+"' Caption union all select 'NIL','"+this.txtexempNill.Text+"' union all select 'EXEMPTED','"+this.txtexempExempted.Text+"' union all select 'NONGST','"+this.txtexempNonGST.Text+"'"),o.toString()}},{key:"GetVATQuery",value:function(e){var t="";if("VATAED1"==this.GSTType){var o="";this.lstDocuments.keys.forEach((function(e){o.length>0&&(o+=","),o+=e.toString()}));var n="DCC.dcCCNID59",a="";s.a.SessionManager.Preferences.ContainsKey("VATMaintainOn")&&("50001"==s.a.SessionManager.Preferences.VATMaintainOn?(n="LCC.CCNID59",a=" inner join COM_CCCCDATA LCC with(nolock) on DCC.dcCCNID1=LCC.NodeID and LCC.CostCenterID=50002"):"50002"==s.a.SessionManager.Preferences.VATMaintainOn&&(n="LCC.CCNID59",a=" inner join COM_CCCCDATA LCC with(nolock) on DCC.dcCCNID2=LCC.NodeID and LCC.CostCenterID=50002")),t+="declare @From float,@To float\nset @From=convert(float,convert(datetime,@FROMDATE@))\nset @To=convert(float,convert(datetime,@TODATE@))",t+="\nselect VATState,sum(TaxableValue) TaxableValue,sum(VATStdAmt) VATStdAmt,sum(VATRCMAmt) VATRCMAmt,sum(VATCustomAmt) VATCustomAmt,sum(VATAdvAmt) VATAdvAmt\n,sum(StdAdjustment) StdAdjustment,sum(RCMAdjustment) RCMAdjustment from\n(",t+="SELECT inv.voucherno Description,NUM.dcCalcNum51 TaxableValue\n,NUM.dcCalcNum53 VATStdAmt,NUM.dcCalcNum55 VATRCMAmt,NUM.dcCalcNum57 VATCustomAmt,NUM.dcCalcNum59 VATAdvAmt\n,0.0 StdAdjustment,0.0 RCMAdjustment\n,"+n+" VATState\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID"+a+"\nWHERE INV.CostCenterID in ("+o+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand DCC.dcCCNID62!=8 and DCC.dcCCNID61!=13 and DCC.dcCCNID61!=14 and NUM.dcCalcNum53 is not null and (NUM.dcCalcNum53!=0 or NUM.dcCalcNum55!=0) ",t+="@WHERE@";var i="";this.VATSaleReturnDocs.Items.filter((function(e){return e.IsChecked})).forEach((function(e){i.length>0&&(i+=","),i+=e.Value})),i.length>0&&(t+="\nUNION ALL\nSELECT inv.voucherno Description,-NUM.dcCalcNum51 TaxableValue\n,-NUM.dcCalcNum53 VATStdAmt,-NUM.dcCalcNum55 VATRCMAmt,-NUM.dcCalcNum57 VATCustomAmt,-NUM.dcCalcNum59 VATAdvAmt\n,0.0 StdAdjustment,0.0 RCMAdjustment\n,"+n+" VATState\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID"+a+"\nWHERE INV.CostCenterID in ("+i+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand DCC.dcCCNID62!=8 and DCC.dcCCNID61!=13 and DCC.dcCCNID61!=14 and (NUM.dcCalcNum53>0 or NUM.dcCalcNum55>0) ",t+="@WHERE@");var l="";this.VATBadDebtsDocs.Items.filter((function(e){return e.IsChecked})).forEach((function(e){l.length>0&&(l+=","),l+=e.Value})),l.length>0&&(t+="\nUNION ALL\nSELECT inv.voucherno Description,0.0 TaxableValue\n,0.0 VATStdAmt,0.0 VATRCMAmt,0.0 VATCustomAmt,0.0 VATAdvAmt\n,-NUM.dcCalcNum53 StdAdjustment,-NUM.dcCalcNum55 RCMAdjustment\n,"+n+" VATState\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID"+a+"\nWHERE INV.CostCenterID in ("+l+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand DCC.dcCCNID62!=8 and DCC.dcCCNID61!=13 and DCC.dcCCNID61!=14 and (NUM.dcCalcNum53>0 or NUM.dcCalcNum55>0) ",t+="@WHERE@"),t+=") AS T\ngroup by VATState";var C=o;i.length>0&&(C+=","+i),t+="\n--Zero,Exemp,OtherGCC\nSELECT DCC.dcCCNID61 SaleType,DCC.dcCCNID62 AccType,sum(-INV.VoucherType*NUM.dcCalcNum51) TaxableValue\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+C+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand (DCC.dcCCNID61=13 or DCC.dcCCNID61=14 or DCC.dcCCNID62=8)",t+="@WHERE@",t+=" GROUP BY DCC.dcCCNID61,DCC.dcCCNID62",i="",this.lstVATPurDocs.Items.filter((function(e){return e.IsChecked})).forEach((function(e){i.length>0&&(i+=","),i+=e.Value})),t+="\n--Customs\nSELECT isnull(sum(NUM.dcCalcNum51),0) TaxableValue,isnull(sum(NUM.dcCalcNum57),0) VATCustomAmt\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\njoin COM_CCCCDATA PCC with(nolock) on PCC.CostCenterID=3 and PCC.NodeID=INV.ProductID\nWHERE INV.CostCenterID in ("+i+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and (NUM.dcCalcNum57>0 )\nand PCC.CCNID71=1 and DCC.dcCCNID62>=5 and DCC.dcCCNID62<=8",t+="@WHERE@",i="",this.lstVATPurDocs.Items.filter((function(e){return e.IsChecked})).forEach((function(e){i.length>0&&(i+=","),i+=e.Value})),i.length>0?(t+="\nselect VATStd,VATRCM,sum(TaxableValue) TaxableValue,sum(VATStdAmt) VATStdAmt,sum(VATRCMAmt) VATRCMAmt\n,sum(StdAdjustment) StdAdjustment,sum(RCMAdjustment) RCMAdjustment,ProductType\nfrom\n(",t+="SELECT inv.voucherno Description,NUM.dcCalcNum51 TaxableValue,NUM.dcNum52 VATStd,NUM.dcCalcNum53 VATStdAmt,NUM.dcNum54 VATRCM,NUM.dcCalcNum55 VATRCMAmt\n,0.0 StdAdjustment,0.0 RCMAdjustment,PCC.CCNID71 ProductType\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\njoin COM_CCCCDATA PCC with(nolock) on PCC.CostCenterID=3 and PCC.NodeID=INV.ProductID\nWHERE INV.CostCenterID in ("+i+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand (NUM.dcCalcNum53!=0 or NUM.dcCalcNum55!=0) ",t+="@WHERE@",i="",this.VATPurReturnDocs.Items.filter((function(e){return e.IsChecked})).forEach((function(e){i.length>0&&(i+=","),i+=e.Value})),i.length>0&&(t+="\nUNION ALL\nSELECT inv.voucherno Description,-NUM.dcCalcNum51 TaxableValue,NUM.dcNum52 VATStd,-NUM.dcCalcNum53 VATStdAmt,NUM.dcNum54 VATRCM,-NUM.dcCalcNum55 VATRCMAmt\n,0.0 StdAdjustment,0.0 RCMAdjustment,PCC.CCNID71\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\njoin COM_CCCCDATA PCC with(nolock) on PCC.CostCenterID=3 and PCC.NodeID=INV.ProductID\nleft join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+i+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and (LINV.DocDate is null or LINV.DocDate between @From and @To)\nand (NUM.dcCalcNum53!=0 or NUM.dcCalcNum55!=0) ",t+="@WHERE@",t+="\nUNION ALL\nSELECT inv.voucherno Description,-NUM.dcCalcNum51 TaxableValue,NUM.dcNum52 VATStd,0.0 VATStdAmt,NUM.dcNum54 VATRCM,0.0 VATRCMAmt\n,-NUM.dcCalcNum53 StdAdjustment,-NUM.dcCalcNum55 RCMAdjustment,PCC.CCNID71\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\njoin COM_CCCCDATA PCC with(nolock) on PCC.CostCenterID=3 and PCC.NodeID=INV.ProductID\ninner join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+i+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and LINV.DocDate<@From\nand (NUM.dcCalcNum53!=0 or NUM.dcCalcNum55!=0) ",t+="@WHERE@"),t+=") AS T\ngroup by VATStd,VATRCM,ProductType"):t+="\nselect 0 NoPurchase where 1!=1",i="",this.VATTouristDocs.Items.filter((function(e){return e.IsChecked})).forEach((function(e){i.length>0&&(i+=","),i+=e.Value})),i.length>0?(t+="\nselect -sum(TaxableValue) TaxableValue,-sum(VATStdAmt) VATStdAmt\nfrom\n(",t+="SELECT inv.voucherno Description,NUM.dcCalcNum51 TaxableValue,NUM.dcCalcNum53 VATStdAmt\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+i+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand NUM.dcCalcNum53 is not null and NUM.dcCalcNum53!=0 ",t+="@WHERE@",t+=") AS T"):t+="\nselect 0 NoTourist where 1!=1",i="",this.VATCustomsAdjDocs.Items.filter((function(e){return e.IsChecked})).forEach((function(e){i.length>0&&(i+=","),i+=e.Value})),i.length>0?(t+="\nselect sum(TaxableValue) TaxableValue,sum(VATStdAmt) VATStdAmt\nfrom\n(",t+="SELECT inv.voucherno Description,NUM.dcCalcNum51 TaxableValue,NUM.dcCalcNum53 VATStdAmt\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+i+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand NUM.dcCalcNum53 is not null and NUM.dcCalcNum53!=0 ",t+="@WHERE@",t+=") AS T"):t+="\nselect 0 NoCustomAdj where 1!=1"}else if("VATSAS1"==this.GSTType){var r="";this.lstDocuments.keys.forEach((function(e){r.length>0&&(r+=","),r+=e.toString()}));var p="";this.VATSaleReturnDocs.Items.filter((function(e){return e.IsChecked})).forEach((function(e){p.length>0&&(p+=","),p+=e.Value})),t+="declare @From float,@To float\nset @From=convert(float,convert(datetime,@FROMDATE@))\nset @To=convert(float,convert(datetime,@TODATE@))",t+="\nselect sum(TaxableValue) TaxableValue,sum(VATStdAmt) VATStdAmt,sum(Adjustment) Adjustment\nfrom\n(",t+="SELECT inv.voucherno Description,NUM.dcCalcNum51 TaxableValue,NUM.dcCalcNum53 VATStdAmt,0.0 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+r+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand DCC.dcCCNID62!=8 and DCC.dcCCNID61!=13 and DCC.dcCCNID61!=14 and NUM.dcCalcNum53>0",t+=" @WHERE@",p.length>0&&(t+="\nUNION ALL\nSELECT inv.voucherno Description,-NUM.dcCalcNum51 TaxableValue,-NUM.dcCalcNum53 VATStdAmt,0.0 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\ninner join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+p+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and LINV.DocDate between @From and @To\nand DCC.dcCCNID62!=8 and DCC.dcCCNID61!=13 and DCC.dcCCNID61!=14 and NUM.dcCalcNum53>0 ",t+=" @WHERE@",t+="\nUNION ALL\nSELECT inv.voucherno Description,null TaxableValue,-NUM.dcCalcNum53 VATStdAmt,NUM.dcCalcNum51 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\ninner join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+p+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and LINV.DocDate<@From\nand DCC.dcCCNID62!=8 and DCC.dcCCNID61!=13 and DCC.dcCCNID61!=14 and NUM.dcCalcNum53>0",t+=" @WHERE@"),t+=") AS T",t+="--Zero,Exemp,OtherGCC,Customs\nselect SaleType,AccType,sum(TaxableValue) TaxableValue,sum(Adjustment) Adjustment\nfrom (\nSELECT DCC.dcCCNID61 SaleType,DCC.dcCCNID62 AccType,NUM.dcCalcNum51 TaxableValue,0.0 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+r+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand (DCC.dcCCNID61=13 or DCC.dcCCNID61=14 or DCC.dcCCNID62=8)",t+="@WHERE@",p.length>0&&(t+="\nUNION ALL\nSELECT DCC.dcCCNID61 SaleType,DCC.dcCCNID62 AccType,-NUM.dcCalcNum51 TaxableValue,0.0 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\ninner join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+p+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and LINV.DocDate between @From and @To\nand (DCC.dcCCNID61=13 or DCC.dcCCNID61=14 or DCC.dcCCNID62=8)",t+=" @WHERE@",t+="\nUNION ALL\nSELECT DCC.dcCCNID61 SaleType,DCC.dcCCNID62 AccType,0.0 TaxableValue,NUM.dcCalcNum51 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\ninner join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+p+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and LINV.DocDate<@From\nand (DCC.dcCCNID61=13 or DCC.dcCCNID61=14 or DCC.dcCCNID62=8)",t+=" @WHERE@"),t+=") AS T",t+=" GROUP BY SaleType,AccType",t+=" Select 1 ",p="",this.lstVATPurDocs.Items.filter((function(e){return e.IsChecked})).forEach((function(e){p.length>0&&(p+=","),p+=e.Value})),p.length>0?(t+="\nselect VAT,SaleType,VATStd,VATRCM,VATCustom,sum(TaxableValue) TaxableValue,sum(VATStdAmt) VATStdAmt,sum(VATRCMAmt) VATRCMAmt,sum(VATCustomAmt) VATCustomAmt\n,sum(Adjustment) Adjustment\nfrom\n(",t+="SELECT inv.voucherno Description,DCC.dcCCNID61 SaleType,NUM.dcCalcNum51 TaxableValue,NUM.dcNum60 VAT,NUM.dcNum52 VATStd,NUM.dcCalcNum53 VATStdAmt,NUM.dcNum54 VATRCM,NUM.dcCalcNum55 VATRCMAmt,NUM.dcNum56 VATCustom,NUM.dcCalcNum57 VATCustomAmt\n,0.0 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+p+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand (NUM.dcCalcNum53>0 or NUM.dcCalcNum55>0 or NUM.dcNum56>0 or DCC.dcCCNID61=13 or DCC.dcCCNID61=14) ",t+="@WHERE@",p="",this.VATPurReturnDocs.Items.filter((function(e){return e.IsChecked})).forEach((function(e){p.length>0&&(p+=","),p+=e.Value})),p.length>0&&(t+="\nUNION ALL\nSELECT inv.voucherno Description,DCC.dcCCNID61 SaleType,-NUM.dcCalcNum51 TaxableValue,NUM.dcNum60 VAT,NUM.dcNum52 VATStd,-NUM.dcCalcNum53 VATStdAmt,NUM.dcNum54 VATRCM,-NUM.dcCalcNum55 VATRCMAmt,NUM.dcNum56 VATCustom,-NUM.dcCalcNum57 VATCustomAmt\n,0.0 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\ninner join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+p+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and LINV.DocDate between @From and @To\nand (NUM.dcCalcNum53>0 or NUM.dcCalcNum55>0 or NUM.dcNum56>0 or DCC.dcCCNID61=13 or DCC.dcCCNID61=14) ",t+="@WHERE@",t+="\nUNION ALL\nSELECT inv.voucherno Description,DCC.dcCCNID61 SaleType,null TaxableValue,NUM.dcNum60 VAT,NUM.dcNum52 VATStd,-NUM.dcCalcNum53 VATStdAmt,NUM.dcNum54 VATRCM,-NUM.dcCalcNum55 VATRCMAmt,NUM.dcNum56 VATCustom,-NUM.dcCalcNum57 VATCustomAmt\n,NUM.dcCalcNum51 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\ninner join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+p+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and LINV.DocDate<@From\nand (NUM.dcCalcNum53>0 or NUM.dcCalcNum55>0 or NUM.dcNum56>0 or DCC.dcCCNID61=13 or DCC.dcCCNID61=14) ",t+="@WHERE@"),t+=") AS T\ngroup by VAT,SaleType,VATStd,VATRCM,VATCustom"):t+="select 0 NoPurchase where 1!=1"}return t.toString()}},{key:"SetActualColumn",value:function(e,t,o){var n,a=this,i="",l="";if(this.DocumentFields.Contains(e.ID)){if(!e.IsOptional||!this.dtMain[1][e.ID]||""==r.e.String(this.dtMain[1][e.ID]))return void(e.ActualColumn="INV."+e.ID)}else{if("LinkVoucherNo"==e.ID)return this.Entities.ContainsKey("LINV")||(this.Entities.push("LINV","LINV"),this.FromTag+=" left join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID"),("GSTR2_cdnr"==this.GSTType||"GSTR2_cdnur"==this.GSTType)&&(0==o.length&&(o=r.e.String(400==e.ColumnDimension?t[e.ID]:this.dtMain[1][e.ID])),(n=o.length>0?e.dtComboData.filter((function(e){return e.Value==o})):[]).length>0&&0==r.e.stringCompare(r.e.String(n[0].SysColumnName),"BillNo",!0))?void(e.ActualColumn="LINV.BillNo"):void(e.ActualColumn="LINV.VoucherNo");if("LinkDocDate"==e.ID)return this.Entities.ContainsKey("LINV")||(this.Entities.push("LINV","LINV"),this.FromTag+=" left join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID"),("GSTR2_cdnr"==this.GSTType||"GSTR2_cdnur"==this.GSTType)&&(0==o.length&&(o=r.e.String(400==e.ColumnDimension?t[e.ID]:this.dtMain[1][e.ID])),(n=o.length>0?e.dtComboData.filter((function(e){return e.Value==o})):[]).length>0&&0==r.e.stringCompare(n[0].SysColumnName.toString(),"BillDate",!0))?void(e.ActualColumn="LINV.BillDate"):void(e.ActualColumn="LINV.DocDate");if("DocumentType"==e.ID)return void(e.ActualColumn="'"+t.DocumentType_Key.toString()+"'");if("PreGST"==e.ID)return void(e.ActualColumn="case when LINV.DocDate<42915 then 'Y' else 'N' end");if("IsDocCancelled"==e.ID&&this.GSTType.startsWith("CT"))return void(e.ActualColumn="case when INV.StatusID=376 then 'Y' else 'N' end");if("DifferentialTaxRate"==e.ID)return void(e.ActualColumn="0");if("SupplyUnderSec7"==e.ID||"WouldClaimRefund"==e.ID)return void(e.ActualColumn="'Yes'");if("IMPGDocType"==e.ID)return void(e.ActualColumn="'Bill of Entry'");if("NetValue"==e.ID&&"ANX1_ECOM"==this.GSTType){var C=this.Columns.find((function(e){return"InvValue"==e.ID}));return e.ActualColumn="NULL"!=C.ActualColumn?C.ActualColumn:"",void("NULL"!=(C=this.Columns.find((function(e){return"RetInvValue"==e.ID}))).ActualColumn&&(e.ActualColumn+="-"+C.ActualColumn))}}if(0==o.length&&(o=r.e.String(400==e.ColumnDimension?t[e.ID]:this.dtMain[1][e.ID])),(n=o.length>0?e.dtComboData.filter((function(e){return e.Value==o})):[]).length>0&&(l=n[0].SysTableName.toString().toUpperCase()),0!=n.length){if(2==e.ColumnDimension)if(i="Account",this.Entities.ContainsKey("Account")||(this.Entities.push("Account","A"),this.FromTag+="\ninner join ACC_Accounts A with(nolock) on A.AccountID=",this.FromTag+=this.IsCreditAccount?"INV.CreditAccount":"INV.DebitAccount"),"ACC_ACCOUNTSEXTENDED"==l)i+=".Extended",this.Entities.ContainsKey(i)||(this.Entities.push(i,"AEXT"),this.FromTag+="\r\ninner join ACC_AccountsExtended AEXT with(nolock) on AEXT.AccountID=A.AccountID"),e.ActualColumn=this.Entities[i]+"."+n[0].SysColumnName.toString();else if("COM_CCCCDATA"==l){i+=".CCCCDATA",this.Entities.ContainsKey(i)||(this.Entities.push(i,"ADCC"),this.FromTag+="\r\ninner join COM_CCCCData ADCC with(nolock) on ADCC.CostCenterID=2 and ADCC.NodeID=A.AccountID");var s=parseInt(n[0].SysColumnName.toString().Replace("CCNID","")),p=this.GetTableName(5e4+s);i=i+"."+n[0].SysColumnName.toString(),this.Entities.ContainsKey(i)||(this.Entities.push(i,"ADCC_"+n[0].SysColumnName.toString()),this.FromTag+="\r\ninner join "+p+" "+this.Entities[i]+" with(nolock) on "+this.Entities[i]+".NodeID=ADCC."+n[0].SysColumnName.toString()),e.ActualColumn=this.Entities[i]+".Name"}else e.ActualColumn=this.Entities[i]+"."+n[0].SysColumnName.toString();else if(3==e.ColumnDimension)if(i="Product",this.Entities.ContainsKey("Product")||(this.Entities.push(i,"P"),this.FromTag+="\r\ninner join INV_Product P with(nolock) on P.ProductID=INV.ProductID"),"INV_PRODUCTEXTENDED"==l)i+=".Extended",this.Entities.ContainsKey(i)||(this.Entities.push(i,"PEXT"),this.FromTag+="\r\ninner join INV_ProductExtended PEXT with(nolock) on PEXT.ProductID=P.ProductID"),e.ActualColumn=this.Entities[i]+"."+n[0].SysColumnName.toString(),"44"==n[0].ColumnCostCenterID.toString()&&(e.ActualCol2=e.ActualColumn,e.ActualColumn="case when "+e.ActualColumn+" is not null and isnumeric("+e.ActualColumn+")=1 then (select TOP 1 Name from COM_Lookup L with(nolock) where L.NodeID="+e.ActualColumn+") else '' end");else if("COM_CCCCDATA"==l){i+=".CCCCDATA",this.Entities.ContainsKey(i)||(this.Entities.push(i,"PDCC"),this.FromTag+="\r\ninner join COM_CCCCData PDCC with(nolock) on PDCC.CostCenterID=3 and PDCC.NodeID=P.ProductID");var T=parseInt(n[0].SysColumnName.toString().Replace("CCNID","")),u=this.GetTableName(5e4+T);i=i+"."+n[0].SysColumnName.toString(),this.Entities.ContainsKey(i)||(this.Entities.push(i,"PDCC_"+n[0].SysColumnName.toString()),this.FromTag+="\r\ninner join "+u+" "+this.Entities[i]+" with(nolock) on "+this.Entities[i]+".NodeID=PDCC."+n[0].SysColumnName.toString()),e.ActualColumn=this.Entities[i]+".Name"}else e.ActualColumn=this.Entities[i]+"."+n[0].SysColumnName.toString();else if(12==e.ColumnDimension)i="Currency",this.Entities.ContainsKey("Currency")||(this.Entities.push(i,"CUR"),this.FromTag+="\r\ninner join COM_Currency CUR with(nolock) on CUR.CurrencyID=INV.CurrencyID"),e.ActualColumn=this.Entities[i]+"."+n[0].SysColumnName.toString();else if(400==e.ColumnDimension){if(i="Document","COM_DOCNUMDATA"==l)i+=".COM_DocNumData",this.Entities.ContainsKey(i)||(this.Entities.push(i,"NUM"),this.FromTag+="\r\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID");else if("COM_DOCTEXTDATA"==l)i+=".COM_DocTextData",this.Entities.ContainsKey(i)||(this.Entities.push(i,"TXT"),this.FromTag+="\r\ninner join COM_DocTextData TXT with(nolock) on TXT.InvDocDetailsID=INV.InvDocDetailsID");else{if("COM_DOCCCDATA"==l){var D=parseInt(n[0].SysColumnName.toString().Replace("dcCCNID","")),d=this.GetTableName(5e4+D);return i="Document.COM_DocCCData."+d,this.Entities.ContainsKey(i)||(this.Entities.push(i,"DCC_"+D),this.FromTag+="\r\ninner join "+d+" "+this.Entities[i]+" with(nolock) on "+this.Entities[i]+".NodeID=DCC.dcCCNID"+D),void(e.ActualColumn=this.Entities[i]+".Name")}if("Unit"==n[0].SysColumnName.toString())return i+=".Unit",this.Entities.ContainsKey(i)||(this.Entities.push(i,"U"),this.FromTag+="\r\ninner join COM_UOM U with(nolock) on U.UOMID=INV.Unit"),void(e.ActualColumn="U.UnitName")}if(e.ActualColumn=this.Entities[i]+"."+n[0].SysColumnName.toString(),null!=n[0].ColumnCostCenterID&&44==parseInt(n[0].ColumnCostCenterID))return void(e.ActualColumn="case when "+e.ActualColumn+" is not null and isnumeric("+e.ActualColumn+")=1 then (select TOP 1 Name from COM_Lookup L with(nolock) where L.NodeID="+e.ActualColumn+") else '' end");"Discount"==e.ID&&this.GSTType.startsWith("CT")&&(e.ActualColumn="abs("+e.ActualColumn+")"),"FLOAT"==e.DType&&"Rate"!=e.ID&&((!this.IsCreditAccount||"b2cs"!=this.GSTType&&"hsn"!=this.GSTType)&&(this.IsCreditAccount||"GSTR2_hsnsum"!=this.GSTType)||(e.ActualColumn="-"+e.ActualColumn))}else if(e.ColumnDimension>5e4){var m=this.GetTableName(e.ColumnDimension);if(("hsn"==this.GSTType||"GSTR2_hsnsum"==this.GSTType)&&"Description"==e.ID){var c=this.Columns.find((function(e){return"HSN"==e.ID}));if(3==c.ColumnDimension&&null!=this.dtMain[1].HSN){var I=c.dtComboData.filter((function(e){return e.Value==a.dtMain[1].HSN.toString()}));if(I.length>0&&"COM_CCCCDATA"==I[0].SysTableName.toString().toUpperCase())return i="Product.CCCCDATA."+I[0].SysColumnName.toString(),void(e.ActualColumn=this.Entities[i]+"."+n[0].SysColumnName.toString())}}if(i="Document.COM_DocCCData."+m,this.Entities.ContainsKey(i)||(this.Entities.push(i,"DCC_"+(e.ColumnDimension-5e4)),this.FromTag+="\r\ninner join "+m+" "+this.Entities[i]+" with(nolock) on "+this.Entities[i]+".NodeID=DCC.dcCCNID"+(e.ColumnDimension-5e4)),"COM_CCCCDATA"==l){var h=i+".CCCCDATA";this.Entities.ContainsKey(h)||(this.Entities.push(h,"CC_D"+e.ColumnDimension),this.FromTag+="\r\ninner join COM_CCCCData "+this.Entities[h]+" with(nolock) on "+this.Entities[h]+".CostCenterID="+e.ColumnDimension+" and "+this.Entities[h]+".NodeID="+this.Entities[i]+".NodeID");var y=parseInt(n[0].SysColumnName.toString().Replace("CCNID",""));m=this.GetTableName(5e4+y),i=h+"."+n[0].SysColumnName.toString(),this.Entities.ContainsKey(i)||(this.Entities.push(i,this.Entities[h]+"_"+n[0].SysColumnName.toString()),this.FromTag+="\r\ninner join "+m+" "+this.Entities[i]+" with(nolock) on "+this.Entities[i]+".NodeID="+this.Entities[h]+"."+n[0].SysColumnName.toString()),e.ActualColumn=this.Entities[i]+".Name"}else e.ActualColumn=this.Entities[i]+"."+n[0].SysColumnName.toString()}if("b2b"!=this.GSTType&&"b2cl"!=this.GSTType&&"b2cs"!=this.GSTType&&"cdnr"!=this.GSTType&&"cdnur"!=this.GSTType||"GSTTaxType"==e.ID&&(this.WhereTag+=" and "+e.ActualColumn+" NOT IN ('Exempted','Nil Rated','Non GST')"),"exemp"==this.GSTType||"GSTR2_exemp"==this.GSTType)if("NilRated"==e.ID){var S=this.Columns.find((function(e){return"Value"==e.ID}));e.ActualColumn="case when "+e.ActualColumn+"='"+this.txtexempNill.Text+"' then "+S.ActualColumn+" else 0 end"}else"Exempted"==e.ID?(S=this.Columns.find((function(e){return"Value"==e.ID})),e.ActualColumn="case when "+e.ActualColumn+"='"+this.txtexempExempted.Text+"' then "+S.ActualColumn+" else 0 end"):"NonGST"==e.ID?(S=this.Columns.find((function(e){return"Value"==e.ID})),e.ActualColumn="case when "+e.ActualColumn+"='"+this.txtexempNonGST.Text+"' then "+S.ActualColumn+" else 0 end"):"RecipientGSTIN"==e.ID?e.ActualColumn="case when "+e.ActualColumn+"='' or "+e.ActualColumn+" is null then 0 else 1 end":"CompositTaxPer"==e.ID&&(S=this.Columns.find((function(e){return"Value"==e.ID})),e.ActualColumn="case when "+e.ActualColumn+"='Composition' then "+S.ActualColumn+" else 0 end");else"GSTR2_impg"==this.GSTType&&"Documenttype"==e.ID?e.ActualColumn="case when "+e.ActualColumn+" like '%SEZ%' then 'Received from SEZ' else 'Imports' end":"GSTR3_GSTR3B_Outward"==this.GSTType&&"FLOAT"==e.DType&&this.IsCreditAccount&&(e.ActualColumn="-("+e.ActualColumn+")")}else e.ActualColumn="FLOAT"==e.DType?"0.0":"NULL"}},{key:"GetTableName",value:function(e){return 50001==e?"COM_Division":50002==e?"COM_Location":50003==e?"COM_Branch":50004==e?"COM_Department":50005==e?"COM_Salesman":50006==e?"COM_Category":50007==e?"COM_Area":50008==e?"COM_Teritory":"COM_CC"+e}}]),e}(),v=function e(t){_classCallCheck(this,e),this.dtComboData=null,this.ReadOnly=!1,this.InUse=!0,this.IsVisible=!0,this.IsOptional=!1,this.IgnoreInQuery=!1,this.Width=0,this.ColumnDimension=0,this.ActualCol2="";var o=r.f.SelectSingleNode(t,"DType");this.ID=t.attributes.ID.value,this.Caption=r.f.SelectSingleNode(t,"Caption").innerHTML,this.DType=null!=o?o.innerHTML:"",this.ComboType=null!=t.attributes.Combo?t.attributes.Combo.value:"",this.ComboDefValue=null!=t.attributes.ComboDefValue?t.attributes.ComboDefValue.value:"",this.Width=null!=t.attributes.Width?parseInt(t.attributes.Width.value):160,this.Agg=null!=t.attributes.Agg?t.attributes.Agg.value:"MAX",this.ReadOnly=null!=t.attributes.IsReadOnly&&"1"==t.attributes.IsReadOnly.value,this.Sort=null!=t.attributes.Sort?t.attributes.Sort.value:"",this.InUse=null==t.attributes.InUse||"0"!=t.attributes.InUse.value,this.IsVisible=null==t.attributes.IsVisible||"0"!=t.attributes.IsVisible.value,this.IsOptional=null!=t.attributes.IsOptional&&"1"==t.attributes.IsOptional.value,this.Decimals=null!=t.attributes.Decimals?t.attributes.Decimals.value:null,this.CT=null!=t.attributes.CT?t.attributes.CT.value:"",this.IgnoreInQuery=null!=t.attributes.IgnoreInQuery&&"1"==t.attributes.IgnoreInQuery.value,this.IgnoreInQuery&&(this.ReadOnly=!0),this.dc=this.ID,this.dcValue=this.ID+"_Key",this.dgColumn=new T.a,this.dgColumn.ID=this.ID,this.dgColumn.Header=this.Caption,this.dgColumn.DataType="PactComboBox",this.dgColumn.DisplayMember="Name",this.dgColumn.ValueMember="Value",this.dgColumn.ValueBinding=this.ID,this.dgColumn.FilterCondition="RowType={0}",this.dgColumn.FilterColumn="RowType",this.dgColumn.Width=this.Width,this.dgColumn.ReadOnly=this.ReadOnly,this.dgColumn.CurrID=this.InUse?1:0,this.dgColumn.IsVisible=this.IsVisible,this.InUse||(this.dgColumn.HeaderBackColor="#FFD0D0D0")},W=o("fXoL"),E=o("q8k3"),G=o("44PX"),U=o("sYmb");function x(e,t){if(1&e&&(W.Zb(0,"div",7),W.Wc(1,"\n                "),W.Vb(2,4),W.Wc(3,"\n            "),W.Yb()),2&e){var o=W.lc();W.Db(2),W.tc("obj",o.dtToDate)("group",o.form)}}function L(e,t){if(1&e&&(W.Zb(0,"div",15),W.Wc(1,"\n                        "),W.Vb(2,4),W.Wc(3,"\n                    "),W.Yb()),2&e){var o=W.lc().$implicit,n=W.lc();W.Db(2),W.tc("obj",n.obj.lstGridViewModel[o.Name])("group",n.form)}}function F(e,t){if(1&e&&(W.Xb(0),W.Wc(1,"\n                "),W.Zb(2,"tab",13),W.hc("selectTab",(function(){return t.$implicit.IsAccordionOpen=!0})),W.Wc(3,"\n                    "),W.Uc(4,L,4,2,"div",14),W.Wc(5,"\n                "),W.Yb(),W.Wc(6,"\n              "),W.Wb()),2&e){var o=t.$implicit,n=W.lc();W.Db(2),W.tc("heading",o.Header)("removable",!1),W.Db(2),W.tc("ngIf",n.obj.lstGridViewModel[o.Name].Columns.length>0)}}var _,w=((_=function(e){_inherits(o,e);var t=_createSuper(o);function o(){var e;return _classCallCheck(this,o),(e=t.call(this)).form=new C.j({}),e}return _createClass(o,[{key:"ngOnInit",value:function(){var e,t,o;(null===(e=this.params)||void 0===e?void 0:e.obj)&&(this.obj=null===(t=this.params)||void 0===t?void 0:t.obj),this.ViewModel=null===(o=this.params)||void 0===o?void 0:o.obj,0!=this.obj.lstGridViewModel.length&&(this.LoadData(),this.obj.DisplayMessage.length>0&&(alert(this.obj.DisplayMessage),s.a.page.removeTab(this.obj)))}},{key:"LoadData",value:function(){for(var e=0;e<this.obj.lstGridViewModel.keys.length;e++){var t=this.obj.lstGridViewModel.keys[e],o=new V;if(o.ReportBuilder_2(this.obj.dicReportID[t],t),this.obj.lstGSTReport.push(t,o),o.cmbReport_SelectionChanged(null,null),o.GetReportConfiguration(),o.DisplayMessage.length>0)return void(this.obj.DisplayMessage=t+" :: "+o.DisplayMessage);if(o.objReport.QUERY=o.GetQuery(!0),0==o.objReport.QUERY.length)return void(this.obj.DisplayMessage=t+" :: Select Documents")}}}]),o}(function(){function e(){_classCallCheck(this,e),this.dtReturnDate=new p.a,this.dtToDate=new p.a,this.chkToDate=new R.a,this.dtReturnDate.LblWidth="90",this.dtToDate.LblWidth="90",this.dtToDate.Label="To Date",this.dtToDate.Visible=!1,this.dtReturnDate.Date=Date.Today(),this.dtReturnDate.Label="Return Month",this.chkToDate.Label="Show To Date",this.chkToDate.CheckedChangedCommand.Subscribe(this,"onchkToDateClik")}return _createClass(e,[{key:"Button_Click",value:function(e){var t=this;if(this.ViewModel.DisplayMessage="","Submit"==e){var o=new Date(this.dtReturnDate.Date.getFullYear(),this.dtReturnDate.Date.getMonth(),1),n=null;this.dtToDate.Visible&&(o=this.dtReturnDate.Date,n=this.dtToDate.Date);for(var a=function(e){var a={Key:t.ViewModel.lstGridViewModel.keys[e],Value:t.ViewModel.lstGridViewModel.values[e]},i=g.SetQueryWhere(t.ViewModel.lstGSTReport[a.Key].objReport.QUERY,a.Key,o,n);console.log(a.Key+" Query :\r\n"+i);var l=s.a.report.ReportDataSet("RPT022",!1,i);if(null!=l&&l.Tables.length>0){if(l.Columns[0].Contains("ErrorMessage"))return{v:void(t.ViewModel.DisplayMessage=l.Tables[0][0].ErrorMessage.toString())};var C=new Array;g.ResetData(a.Key,l,o,n,C);for(var p=new Array,u=function(e){var o=t.ViewModel.lstGSTReport[a.Key].ReportGrid.Columns[e];if(0==o.CurrID)return"continue";var n=new T.a;n.ID=o.ID,n.Header=o.Header,n.Width=o.Width,n.ReadOnly=!0,n.DisplayMember=C.Contains(o.ID)?o.ID+"_Key":o.ID;var i=t.ViewModel.lstGSTReport[a.Key].Columns.find((function(e){return e.ID==o.ID}));n.DataType=i.DType,"FLOAT"==n.DataType&&(n.DecimalPoints=r.e.IsEmpty(i.Decimals)?"2":i.Decimals,"SUM"==i.Agg&&(n.ShowTotal=!0,n.IsCalculated=1)),p.push(n)},D=1;D<t.ViewModel.lstGSTReport[a.Key].ReportGrid.Columns.length;D++)u(D);l.Tables[0].forEach((function(e){e.id=a.Value.rowid})),a.Value.Table=l.Tables[0],a.Value.Columns=p,a.Value.RefreshColumns(),a.Value.UpdateTotals()}},i=0;i<this.ViewModel.lstGridViewModel.length;i++){var l=a(i);if("object"==typeof l)return l.v}}}},{key:"onchkToDateClik",value:function(){if(this.chkToDate.IsChecked){this.dtReturnDate.Label="From Date",this.dtToDate.Visible=!0;var e=Date.Today();this.dtReturnDate.Date=new Date(e.getFullYear(),e.getMonth(),1),this.dtToDate.Date=new Date(e.getFullYear(),e.getMonth(),e.DaysInMonth())}else this.dtReturnDate.Label="Return Month",this.dtToDate.Visible=!1}}]),e}())).\u0275fac=function(e){return new(e||_)},_.\u0275cmp=W.Nb({type:_,selectors:[["app-gstr2"]],features:[W.Ab],decls:41,vars:9,consts:[[2,"overflow","auto","height","110%"],[1,"page-header",2,"display","flex"],[1,"page-title"],[2,"width","140px","padding-left","20px"],["FieldDirective","",3,"obj","group"],[1,"section"],[1,"row","form-row"],[1,"form-group","col-xl-3","col-md-4","col-sm-6","col-xs-12","PACTControl"],["class","form-group col-xl-3 col-md-4 col-sm-6 col-xs-12 PACTControl",4,"ngIf"],[1,"primary-btn-wicon",2,"width","80px",3,"click"],[1,"PACTTabFields","tab_content","tab-exrafields",2,"display","flex"],[1,"",2,"width","calc(100% - 30px)"],[4,"ngFor","ngForOf"],[3,"heading","removable","selectTab"],["style","width: calc(100% - 30px); height: calc(100% - 20px);",4,"ngIf"],[2,"width","calc(100% - 30px)","height","calc(100% - 20px)"]],template:function(e,t){1&e&&(W.Zb(0,"div",0),W.Wc(1,"\n    "),W.Zb(2,"div",1),W.Wc(3,"\n        "),W.Zb(4,"label",2),W.Wc(5,"GSTR-2"),W.Yb(),W.Wc(6,"\n        "),W.Zb(7,"div",3),W.Wc(8,"\n            "),W.Vb(9,4),W.Wc(10,"\n        "),W.Yb(),W.Wc(11,"\n    "),W.Yb(),W.Wc(12,"\n    "),W.Zb(13,"div",5),W.Wc(14,"\n        "),W.Zb(15,"div",6),W.Wc(16,"\n            "),W.Zb(17,"div",7),W.Wc(18,"\n                "),W.Vb(19,4),W.Wc(20,"\n            "),W.Yb(),W.Wc(21,"\n            "),W.Uc(22,x,4,2,"div",8),W.Wc(23,"\n            "),W.Zb(24,"div",7),W.Wc(25,"\n                "),W.Zb(26,"button",9),W.hc("click",(function(){return t.Button_Click("Submit")})),W.Wc(27),W.mc(28,"translate"),W.Yb(),W.Wc(29,"\n            "),W.Yb(),W.Wc(30,"\n        "),W.Yb(),W.Wc(31,"\n        \n        "),W.Zb(32,"div",10),W.Wc(33,"\n            "),W.Zb(34,"tabset",11),W.Wc(35,"\n               "),W.Uc(36,F,7,3,"ng-container",12),W.Wc(37,"\n            "),W.Yb(),W.Wc(38,"\n        "),W.Yb(),W.Wc(39,"\n    "),W.Yb(),W.Wc(40,"\n"),W.Yb()),2&e&&(W.Db(9),W.tc("obj",t.chkToDate)("group",t.form),W.Db(10),W.tc("obj",t.dtReturnDate)("group",t.form),W.Db(3),W.tc("ngIf",t.dtToDate.Visible),W.Db(5),W.Xc(W.nc(28,7,"Submit")),W.Db(9),W.tc("ngForOf",t.obj.Tab.Tabs))},directives:[E.a,i.t,G.e,i.s,G.b],pipes:[U.d],encapsulation:2}),_),P=o("Iab2"),X=function(){function e(t){_classCallCheck(this,e),this.DisplayMessage="",this.Success="",this.lst=t}return _createClass(e,[{key:"OnMessageCallBack",value:function(){this.res="Yes"}},{key:"UploadStatusGSTR1",value:function(e){var t=JSON.parse(e);if(null!=this.lst&&this.lst.length>0)for(var o=0;o<this.lst.length;o++){var n={Key:this.lst.keys[o],Value:this.lst.values[o]};if(n.Value.TableColumns.Contains("UploadStatus")||function(){n.Value.TableColumns.push("UploadStatus");var e=new Array,t=new T.a;t.Header="Upload Status",t.DisplayMember="UploadStatus",t.Width=240,t.ReadOnly=!0,e.push(t),n.Value.Columns.forEach((function(t){e.push(t)})),n.Value.Columns=e}(),"b2b"==n.Key)if(null!=t.error_report&&null!=t.error_report.b2b&&t.error_report.b2b.length>0)for(var a=function(e){n.Value.Table.filter((function(o){return o.RecipientGSTIN==t.error_report.b2b[e].ctin})).forEach((function(o){o.UploadStatus=t.error_report.b2b[e].error_msg}))},i=0;i<t.error_report.b2b.length;i++)a(i);else n.Value.Table.forEach((function(e){e.UploadStatus="Sucess"}));else if("b2cl"==n.Key)if(null!=t.error_report&&null!=t.error_report.b2cl&&t.error_report.b2cl.length>0)for(var l=function(e){n.Value.Table.filter((function(o){return o.PoS==t.error_report.b2cl[e].pos})).forEach((function(o){o.UploadStatus=t.error_report.b2cl[e].error_msg}))},C=0;C<t.error_report.b2cl.length;C++)l(C);else n.Value.Table.forEach((function(e){e.UploadStatus="Sucess"}));else if("b2cs"==n.Key)if(null!=t.error_report&&null!=t.error_report.b2cs&&t.error_report.b2cs.length>0)for(var s=function(e){n.Value.Table.forEach((function(o){o.UploadStatus=t.error_report.b2cs[e].error_msg}))},r=0;r<t.error_report.b2cs.length;r++)s(r);else n.Value.Table.forEach((function(e){e.UploadStatus="Sucess"}));else if("cdnr"==n.Key)if(null!=t.error_report&&null!=t.error_report.cdnr&&t.error_report.cdnr.length>0)for(var p=function(e){n.Value.Table.filter((function(o){return o.RecipientGSTIN==t.error_report.cdnr[e].ctin})).forEach((function(o){o.UploadStatus=t.error_report.cdnr[e].error_msg}))},u=0;u<t.error_report.cdnr.length;u++)p(u);else n.Value.Table.forEach((function(e){e.UploadStatus="Sucess"}));else if("cdnur"==n.Key)if(null!=t.error_report&&null!=t.error_report.cdnur&&t.error_report.cdnur.length>0)for(var D=function(e){n.Value.Table.filter((function(o){return o.URType==t.error_report.cdnur[e].typ})).forEach((function(o){o.UploadStatus=t.error_report.cdnur[e].error_msg}))},d=0;d<t.error_report.cdnur.length;d++)D(d);else n.Value.Table.forEach((function(e){e.UploadStatus="Sucess"}));else if("exp"==n.Key)if(null!=t.error_report&&null!=t.error_report.exp&&t.error_report.exp.length>0)for(var m=function(e){n.Value.Table.filter((function(o){return o.ExportType==t.error_report.exp[e].exp_typ})).forEach((function(o){o.UploadStatus=t.error_report.exp[e].error_msg}))},c=0;c<t.error_report.exp.length;c++)m(c);else n.Value.Table.forEach((function(e){e.UploadStatus="Sucess"}));else if("at"==n.Key)if(null!=t.error_report&&null!=t.error_report.at&&t.error_report.at.length>0)for(var I=function(e){n.Value.Table.filter((function(o){return o.PoS==t.error_report.at[e].pos})).forEach((function(o){o.UploadStatus=t.error_report.at[e].error_msg}))},h=0;h<t.error_report.at.length;h++)I(h);else n.Value.Table.forEach((function(e){e.UploadStatus="Sucess"}));else if("atadj"==n.Key)if(null!=t.error_report&&null!=t.error_report.txpd&&t.error_report.txpd.length>0)for(var y=function(e){n.Value.Table.filter((function(o){return o.PoS==t.error_report.txpd[e].pos})).forEach((function(o){o.UploadStatus=t.error_report.txpd[e].error_msg}))},S=0;S<t.error_report.txpd.length;S++)y(S);else n.Value.Table.forEach((function(e){e.UploadStatus="Sucess"}));else"exemp"==n.Key?n.Value.Table.forEach(null!=t.error_report&&null!=t.error_report.nil?function(e){e.UploadStatus=t.error_report.nil.error_msg}:function(e){e.UploadStatus="Sucess"}):"hsn"==n.Key?n.Value.Table.forEach(null!=t.error_report&&null!=t.error_report.hsnsum?function(e){e.UploadStatus=t.error_report.hsnsum.error_msg}:function(e){e.UploadStatus="Sucess"}):"docs"==n.Key&&n.Value.Table.forEach(null!=t.error_report&&null!=t.error_report.doc_issue?function(e){e.UploadStatus=t.error_report.doc_issue.error_msg}:function(e){e.UploadStatus="Sucess"})}}},{key:"UploadingGSTR",value:function(e,t,o,n,a){var i=this;if(5==e.length&&(e="0"+e),!confirm("Are you sure to Upload to GST Portal\n"+t+":"+e))return"";var l,C=r.e.NewGuid().Replace("-",""),p="";return"GSTR1"==t?p=JSON.stringify(this.GSTR1Obj(n,e)):"GSTR3B"==t?p=JSON.stringify(this.GSTR3BObj(n,e)):"ANX1"==t&&(p=JSON.stringify(this.ANX1Obj(n,e))),Logger.DebugLog("Upload : RETSAVE :Request PayLoad: "+p),(l="ANX1"==t?s.a.report.GST_POSTData(t,o,"SAVEANX1",n,e,a,C,p):s.a.report.GST_PUTData(t,o,"RETSAVE",n,e,a,C,p))&&l.then((function(l){if(Logger.DebugLog("Upload : RETSAVE :Response PayLoad: "+l),null!=l&&l.startsWith("{")){var r=JSON.parse(l);null!=r&&(i.DisplayMessage=r.message,i.Success=r.success)}if("true"==i.Success&&(l=s.a.report.GST_GetData("",o,"RETSTATUS",n,e,a,C),Logger.DebugLog("Upload : RETSTATUS :Response PayLoad: "+l),null!=l&&l.startsWith("{"))){var p=JSON.parse(l);null!=p&&"P"!=p.status_cd&&null!=p.error_report&&null!=p.error_report.error_msg?i.DisplayMessage=p.error_report.error_msg:"GSTR1"==t&&i.UploadStatusGSTR1(l)}})),this.DisplayMessage}},{key:"SubmitingGSTR",value:function(e,t,o,n,a,i){if(5==e.length&&(e="0"+e),!confirm("Are you sure to Submit to GST Portal\n"+t+":"+e))return"";var l=r.e.NewGuid().Replace("-",""),C="";if("RETSUBMIT"==i){var p=new B;p.gstin=n,p.ret_period=e,C=JSON.stringify(p)}return s.a.report.GST_POSTData(t,o,i,n,e,a,l,C),this.DisplayMessage}},{key:"GenerateJSON",value:function(e,t,o){5==e.length&&(e="0"+e);var n="";if("GSTR1"==t?n=JSON.stringify(this.GSTR1Obj(o,e)):"GSTR3B"==t?n=JSON.stringify(this.GSTR3BObj(o,e)):"ANX1"==t&&(n=JSON.stringify(this.ANX1Obj(o,e))),n){var a=new Blob([n],{type:"text/plain;charser=utf-8"});P.saveAs(a,t+e+o+".json")}else this.DisplayMessage="Error while creating json file";return this.DisplayMessage}},{key:"RetriveData",value:function(e,t,o,n,a,i,l){5==t.length&&(t="0"+t);var C=r.e.NewGuid().Replace("-","");return s.a.report.GST_GetData(o,a,n,i,t,l,C).then((function(t){if(Logger.DebugLog("RetriveData :"+o+":"+n+": Response PayLoad: "+t),"GSTR2A"==o)if("B2B"==n||"B2BA"==n){var a=JSON.parse(t);if("B2BA"==n&&(a.b2b=a.b2ba),null!=a&&null!=a.b2b&&a.b2b.length>0)for(var i=0;i<a.b2b.length;i++)if(null!=a.b2b[i].inv&&a.b2b[i].inv.length>0)for(var l=0;l<a.b2b[i].inv.length;l++)if(null!=a.b2b[i].inv[l].itms&&a.b2b[i].inv[l].itms.length>0)for(var C=0;C<a.b2b[i].inv[l].itms.length;C++){var s={};"B2BA"==n&&(s.oinum=a.b2b[i].inv[l].oinum,s.oidt=a.b2b[i].inv[l].oidt),s.chksum=a.b2b[i].inv[l].chksum,s.ctin=a.b2b[i].ctin,s.inum=a.b2b[i].inv[l].inum,s.inv_typ=a.b2b[i].inv[l].inv_typ,s.idt=a.b2b[i].inv[l].idt,s.val=a.b2b[i].inv[l].val,s.pos=a.b2b[i].inv[l].pos,s.rchrg=a.b2b[i].inv[l].rchrg,null!=a.b2b[i].inv[l].diff_percent&&(s.diff_percent=a.b2b[i].inv[l].diff_percent),s.rt=a.b2b[i].inv[l].itms[C].itm_det.rt,s.txval=a.b2b[i].inv[l].itms[C].itm_det.txval,s.iamt=a.b2b[i].inv[l].itms[C].itm_det.iamt,s.camt=a.b2b[i].inv[l].itms[C].itm_det.camt,s.samt=a.b2b[i].inv[l].itms[C].itm_det.samt,s.csamt=a.b2b[i].inv[l].itms[C].itm_det.csamt,s.cfs=a.b2b[i].cfs,s.fldtr1=a.b2b[i].fldtr1,s.flprdr1=a.b2b[i].flprdr1,s.cfs3b=a.b2b[i].cfs3b,s.atyp=a.b2b[i].inv[l].atyp,s.aspd=a.b2b[i].inv[l].aspd,s.dtcancel=a.b2b[i].dtcancel,"B2B"==n&&(s.srctyp=a.b2b[i].inv[l].srctyp,s.irn=a.b2b[i].inv[l].irn,s.irngendate=a.b2b[i].inv[l].irngendate),e.push(s)}}else if("CDN"==n||"CDNA"==n){var r=JSON.parse(t);if(null!=r&&null==r.cdn&&null!=r.cdna&&(r.cdn=r.cdna),null!=r&&null!=r.cdn&&r.cdn.length>0)for(var p=0;p<r.cdn.length;p++)if(null!=r.cdn[p].nt&&r.cdn[p].nt.length>0)for(var T=0;T<r.cdn[p].nt.length;T++)if(null!=r.cdn[p].nt[T].itms&&r.cdn[p].nt[T].itms.length>0)for(var u=0;u<r.cdn[p].nt[T].itms.length;u++){var D={};"CDNA"==n&&(D.ontty=r.cdn[p].nt[T].ntty,D.ont_num=r.cdn[p].nt[T].ont_num,D.ont_dt=r.cdn[p].nt[T].ont_dt),D.chksum=r.cdn[p].nt[T].chksum,D.ctin=r.cdn[p].ctin,D.ntty=r.cdn[p].nt[T].ntty,D.nt_num=r.cdn[p].nt[T].nt_num,D.inv_typ=r.cdn[p].nt[T].inv_typ,D.nt_dt=r.cdn[p].nt[T].nt_dt,D.p_gst=r.cdn[p].nt[T].p_gst,D.d_flag=r.cdn[p].nt[T].d_flag,D.inum=r.cdn[p].nt[T].inum,D.idt=r.cdn[p].nt[T].idt,D.val=r.cdn[p].nt[T].val,D.pos=r.cdn[p].nt[T].pos,D.rchrg=r.cdn[p].nt[T].rchrg,null!=r.cdn[p].nt[T].diff_percent&&(D.diff_percent=r.cdn[p].nt[T].diff_percent),D.rt=r.cdn[p].nt[T].itms[u].itm_det.rt,D.txval=r.cdn[p].nt[T].itms[u].itm_det.txval,D.iamt=r.cdn[p].nt[T].itms[u].itm_det.iamt,D.camt=r.cdn[p].nt[T].itms[u].itm_det.camt,D.samt=r.cdn[p].nt[T].itms[u].itm_det.samt,D.csamt=r.cdn[p].nt[T].itms[u].itm_det.csamt,D.cfs=r.cdn[p].cfs,D.fldtr1=r.cdn[p].fldtr1,D.flprdr1=r.cdn[p].flprdr1,D.cfs3b=r.cdn[p].cfs3b,D.aspd=r.cdn[p].nt[T].aspd,D.atyp=r.cdn[p].nt[T].atyp,D.dtcancel=r.cdn[p].dtcancel,"CDN"==n&&(D.srctyp=r.cdn[p].nt[T].srctyp,D.irn=r.cdn[p].nt[T].irn,D.irngendate=r.cdn[p].nt[T].irngendate,D.cflag=r.cdn[p].nt[T].cflag,D.updby=r.cdn[p].nt[T].updby),e.push(D)}}else if("ISD"==n||"ISDA"==n){var d=JSON.parse(t);if(null!=d&&null==d.isd&&null!=d.isda&&(d.isd=d.isda),null!=d&&null!=d.isd&&d.isd.length>0)for(var m=0;m<d.isd.length;m++)if(null!=d.isd[m].doclist&&d.isd[m].doclist.length>0)for(var c=0;c<d.isd[m].doclist.length;c++){var I={};"ISDA"==n&&(I.oisd_docty=d.isd[m].doclist[c].isd_docty,I.odocnum=d.isd[m].doclist[c].odocnum,I.odocdt=d.isd[m].doclist[c].odocdt),I.itc_elg=d.isd[m].doclist[c].itc_elg,I.chksum=d.isd[m].doclist[c].chksum,I.ctin=d.isd[m].ctin,I.isd_docty=d.isd[m].doclist[c].isd_docty,I.docnum=d.isd[m].doclist[c].docnum,I.docdt=d.isd[m].doclist[c].docdt,I.iamt=d.isd[m].doclist[c].iamt,I.camt=d.isd[m].doclist[c].camt,I.samt=d.isd[m].doclist[c].samt,I.cess=d.isd[m].doclist[c].cess,I.cfs=d.isd[m].cfs,I.aspd=d.isd[m].doclist[c].aspd,I.atyp=d.isd[m].doclist[c].atyp,e.push(I)}}else if("TDS"==n||"TDSA"==n){var h=JSON.parse(t);if(null!=h&&null==h.tds&&null!=h.tdsa&&(h.tds=h.tdsa),null!=h.tds&&h.tds.length>0)for(var y=0;y<h.tds.length;y++){var S={};"TDSA"==n&&(S.ogstin_ded=h.tds[y].ogstin_ded,S.omonth=h.tds[y].omonth,S.oamt_ded=h.tds[y].oamt_ded),S.gstin_ded=h.tds[y].gstin_ded,S.amt_ded=h.tds[y].amt_ded,S.iamt=h.tds[y].iamt,S.camt=h.tds[y].camt,S.samt=h.tds[y].samt,e.push(S)}}else if("TCS"==n){var b=JSON.parse(t);if(null!=b&&null!=b.tcs_data&&b.tcs_data.length>0)for(var A=0;A<b.tcs_data.length;A++){var N={};N.chksum=b.tcs_data[A].chksum,N.eitn=b.tcs_data[A].eitn,N.sup_val=b.tcs_data[A].sup_val,N.tx_val=b.tcs_data[A].tx_val,N.iamt=b.tcs_data[A].iamt,N.camt=b.tcs_data[A].camt,N.samt=b.tcs_data[A].samt,N.csamt=b.tcs_data[A].csamt,e.push(N)}}else if("IMPG"==n||"IMPGSEZ"==n){var g=JSON.parse(t);if(null!=g&&null==g.impg&&null!=g.impgsez&&(g.impg=g.impgsez),null!=g&&null!=g.impg&&g.impg.length>0)for(var R=0;R<g.impg.length;R++){var f={};"IMPGSEZ"==n&&(f.sgstin=g.impg[R].sgstin,f.tdname=g.impg[R].tdname),f.refdt=g.impg[R].refdt,f.portcd=g.impg[R].portcd,f.benum=g.impg[R].benum,f.bedt=g.impg[R].bedt,f.txval=g.impg[R].txval,f.iamt=g.impg[R].iamt,f.csamt=g.impg[R].csamt,f.amd=g.impg[R].amd,e.push(f)}}return e}))}},{key:"GSTR1Obj",value:function(e,t){if(null!=this.lst&&this.lst.length>0){var o=new k;o.gstin=e,o.fp=t,o.hash="hash",s.a.SessionManager.config.GSTVersion&&(o.version=s.a.SessionManager.config.GSTVersion);for(var n=0,a=0;a<this.lst.length;a++){var i={Key:this.lst.keys[a],Value:this.lst.values[a]},l=i.Value.Table;if(null!=l&&l.length>0)if("b2b"==i.Key)!function(){var t=l.ToTable(!0,["RecipientGSTIN"]);o.b2b=new Array;for(var a=function(a){if(r.e.IsNullOrWhiteSpace(t[a].RecipientGSTIN))return"continue";var i=new Y;i.ctin=t[a].RecipientGSTIN.toString().TrimEnd(" ");for(var C=l.ToTable(!0,["RecipientGSTIN","VoucherNo","DocDate","InvValue","PoS","ReverseCharge","InvType","ApplicableTaxRate","ECommGSTIN"]).filter((function(e){return e.RecipientGSTIN==t[a].RecipientGSTIN.toString().TrimEnd(" ")})),s=function(t){var o=new K;r.e.IsNum(C[t].InvValue)&&(o.val=r.e.Round(r.e.Double(C[t].InvValue),2)),o.pos=r.e.String(C[t].PoS).Trim().substr(0,2),o.idt=new Date(C[t].DocDate).ToString("dd-MM-yyyy"),o.rchrg=""==r.e.String(C[t].ReverseCharge)?"N":r.e.String(C[t].ReverseCharge),o.inum=r.e.String(C[t].VoucherNo).TrimEnd(" "),o.inv_typ="custombondedwarehouse"==r.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"CBW":"sezsupplieswithpayment"==r.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"SEWP":"sezsupplieswithoutpayment"==r.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"SEWOP":"deemedexp"==r.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"DE":"R",n=r.e.Double(C[t].ApplicableTaxRate),r.e.IsNum(C[t].ApplicableTaxRate)&&0!=n&&(o.diff_percent=r.e.Round(n,2)),r.e.IsNullOrWhiteSpace(C[t].ECommGSTIN)||(o.etin=C[t].ECommGSTIN.toString().TrimEnd(" "));for(var a=l.filter((function(e){return e.VoucherNo==r.e.String(C[t].VoucherNo).TrimEnd(" ")})),s=0;s<a.length;s++){var p=new j;p.num=s+1;var T=new H;r.e.IsNum(a[s].Rate)&&(T.rt=parseInt(a[s].Rate),p.num=100*T.rt+(s+1)),r.e.IsNum(a[s].TaxableValue)&&(T.txval=r.e.Round(r.e.Double(a[s].TaxableValue),2)),n=T.txval/100*T.rt,o.pos==e.substr(0,2)?(T.camt=r.e.Round(n/2,2),T.samt=r.e.Round(n/2,2)):T.iamt=r.e.Round(n,2),r.e.IsNum(a[s].CessAmt)&&(T.csamt=r.e.Round(r.e.Double(a[s].CessAmt),2)),p.itm_det=T,o.itms.push(p)}i.inv.push(o)},p=0;p<C.length;p++)s(p);o.b2b.push(i)},i=0;i<t.length;i++)a(i)}();else if("b2cl"==i.Key)!function(){var t=l.ToTable(!0,["PoS"]);o.b2cl=new Array;for(var a=function(a){if(r.e.IsNullOrWhiteSpace(t[a].PoS))return"continue";var i=new Q;i.pos=t[a].PoS.toString().Trim().substr(0,2);for(var C=l.ToTable(!0,["PoS","VoucherNo","DocDate","InvValue","ApplicableTaxRate","ECommGSTIN"]).filter((function(e){return e.PoS==t[a].PoS.toString().Trim()})),s=function(t){var o=new Z;o.val=parseFloat(C[t].InvValue),o.idt=new Date(C[t].DocDate).ToString("dd-MM-yyyy"),o.inum=r.e.String(C[t].VoucherNo).TrimEnd(" "),r.e.IsNullOrWhiteSpace(C[t].InvType)||(o.inv_typ="custombondedwarehouse"==r.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"CBW":"sezsupplieswithpayment"==r.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"SEWP":"sezsupplieswithoutpayment"==r.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"SEWOP":"deemedexp"==r.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"DE":"R"),n=r.e.Double(C[t].ApplicableTaxRate),r.e.IsNum(C[t].ApplicableTaxRate)&&0!=n&&(o.diff_percent=r.e.Round(n,2)),r.e.IsNullOrWhiteSpace(C[t].ECommGSTIN)||(o.etin=C[t].ECommGSTIN.toString().TrimEnd(" "));for(var a=l.filter((function(e){return e.VoucherNo==r.e.String(C[t].VoucherNo).TrimEnd(" ")})),s=0;s<a.length;s++){var p=new j;p.num=s+1;var T=new H;r.e.IsNum(a[s].Rate)&&(T.rt=parseInt(a[s].Rate),p.num=100*T.rt+(s+1)),r.e.IsNum(a[s].TaxableValue)&&(T.txval=r.e.Round(r.e.Double(a[s].TaxableValue),2)),n=T.txval/100*T.rt,i.pos==e.substr(0,2)?(T.camt=r.e.Round(n/2,2),T.samt=r.e.Round(n/2,2)):T.iamt=r.e.Round(n,2),r.e.IsNum(a[s].CessAmt)&&(T.csamt=r.e.Round(r.e.Double(a[s].CessAmt),2)),p.itm_det=T,o.itms.push(p)}i.inv.push(o)},p=0;p<C.length;p++)s(p);o.b2cl.push(i)},i=0;i<t.length;i++)a(i)}();else if("b2cs"==i.Key){o.b2cs=new Array;for(var C=0;C<l.length;C++)if(!r.e.IsNullOrWhiteSpace(l[C].Type)){var p=new J;p.sply_ty=r.e.String(l[C].PoS).Trim().substr(0,2)==e.substr(0,2)?"INTRA":"INTER",p.typ=l[C].Type.toString().TrimEnd(" "),p.pos=r.e.String(l[C].PoS).Trim().substr(0,2),r.e.IsNum(l[C].Rate)&&(p.rt=parseInt(l[C].Rate)),r.e.IsNum(l[C].TaxableValue)&&(p.txval=r.e.Round(r.e.Double(l[C].TaxableValue),2)),n=r.e.Double(l[C].ApplicableTaxRate),r.e.IsNum(l[C].ApplicableTaxRate)&&0!=n&&(p.diff_percent=r.e.Round(r.e.Double(l[C].ApplicableTaxRate),2)),r.e.IsNullOrWhiteSpace(l[C].ECommGSTIN)||(p.etin=l[C].ECommGSTIN.toString()),n=p.txval/100*p.rt,p.pos==e.substr(0,2)?(p.camt=r.e.Round(n/2,2),p.samt=r.e.Round(n/2,2)):p.iamt=r.e.Round(n,2),r.e.IsNum(l[C].CessAmt)&&(p.csamt=r.e.Round(r.e.Double(l[C].CessAmt),2)),o.b2cs.push(p)}}else if("cdnr"==i.Key)!function(){var t=l.ToTable(!0,["RecipientGSTIN"]);o.cdnr=new Array;for(var a=function(a){if(r.e.IsNullOrWhiteSpace(t[a].RecipientGSTIN))return"continue";var i=new z;i.ctin=t[a].RecipientGSTIN.toString().TrimEnd(" ");for(var C=l.ToTable(!0,["RecipientGSTIN","VoucherNo","DocDate","InvValue","PoS","DocumentType","InvType","ReverseCharge","ApplicableTaxRate"]).filter((function(e){return e.RecipientGSTIN&&e.RecipientGSTIN==t[a].RecipientGSTIN.toString().TrimEnd(" ")&&""!=e.RecipientGSTIN})),s=function(t){var o=new q;o.ntty=r.e.String(C[t].DocumentType).TrimEnd(" "),o.nt_num=r.e.String(C[t].VoucherNo).TrimEnd(" "),o.pos=r.e.String(C[t].PoS).Trim().substr(0,2),o.nt_dt=new Date(C[t].DocDate).ToString("dd-MM-yyyy"),o.rchrg=""==r.e.String(C[t].ReverseCharge)?"N":r.e.String(C[t].ReverseCharge),o.inv_typ="custombondedwarehouse"==r.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"CBW":"sezsupplieswithpayment"==r.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"SEWP":"sezsupplieswithoutpayment"==r.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"SEWOP":"deemedexp"==r.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"DE":"R",r.e.IsNum(C[t].InvValue)&&(o.val=r.e.Round(r.e.Double(C[t].InvValue),2)),n=r.e.Double(C[t].ApplicableTaxRate),r.e.IsNum(C[t].ApplicableTaxRate)&&0!=n&&(o.diff_percent=r.e.Round(n,2)),r.e.IsNullOrWhiteSpace(C[t].ECommGSTIN)||(o.etin=C[t].ECommGSTIN.toString().TrimEnd(" "));for(var a=l.filter((function(e){return e.VoucherNo==r.e.String(C[t].VoucherNo).TrimEnd(" ")})),s=0;s<a.length;s++){var p=new j;p.num=s+1;var T=new H;r.e.IsNum(a[s].Rate)&&(T.rt=parseInt(a[s].Rate),p.num=100*T.rt+(s+1)),r.e.IsNum(a[s].TaxableValue)&&(T.txval=r.e.Round(r.e.Double(a[s].TaxableValue),2)),n=T.txval/100*T.rt,r.e.String(C[t].PoS).Trim().substr(0,2)==e.substr(0,2)?(T.camt=r.e.Round(n/2,2),T.samt=r.e.Round(n/2,2)):T.iamt=r.e.Round(n,2),r.e.IsNum(a[s].CessAmt)&&(T.csamt=r.e.Round(r.e.Double(a[s].CessAmt),2)),p.itm_det=T,o.itms.push(p)}i.nt.push(o)},p=0;p<C.length;p++)s(p);o.cdnr.push(i)},i=0;i<t.length;i++)a(i)}();else if("cdnur"==i.Key)!function(){var t=l.ToTable(!0,["URType","VoucherNo","DocDate","InvValue","PoS","DocumentType","ApplicableTaxRate"]);o.cdnur=new Array;for(var a=function(a){if(r.e.IsNullOrWhiteSpace(t[a].URType))return"continue";var i=new $;i.typ=t[a].URType.toString().TrimEnd(" "),i.ntty=r.e.String(t[a].DocumentType).TrimEnd(" "),i.nt_num=r.e.String(t[a].VoucherNo).TrimEnd(" "),i.nt_dt=new Date(t[a].DocDate).ToString("dd-MM-yyyy"),r.e.IsNum(t[a].InvValue)&&(i.val=r.e.Round(r.e.Double(t[a].InvValue),2)),n=r.e.Double(t[a].ApplicableTaxRate),r.e.IsNum(t[a].ApplicableTaxRate)&&0!=n&&(i.diff_percent=r.e.Round(n,2));for(var C=l.filter((function(e){return e.VoucherNo==r.e.String(t[a].VoucherNo).TrimEnd(" ")})),s=0;s<C.length;s++){var p=new j;p.num=s+1;var T=new H;r.e.IsNum(C[s].Rate)&&(T.rt=parseInt(C[s].Rate),p.num=100*T.rt+(s+1)),r.e.IsNum(C[s].TaxableValue)&&(T.txval=r.e.Round(r.e.Double(C[s].TaxableValue),2)),n=T.txval/100*T.rt,r.e.String(t[a].PoS).Trim().substr(0,2)==e.substr(0,2)?(T.camt=r.e.Round(n/2,2),T.samt=r.e.Round(n/2,2)):T.iamt=r.e.Round(n,2),r.e.IsNum(C[s].CessAmt)&&(T.csamt=r.e.Round(r.e.Double(C[s].CessAmt),2)),p.itm_det=T,i.itms.push(p)}o.cdnur.push(i)},i=0;i<t.length;i++)a(i)}();else if("exp"==i.Key)!function(){var e=l.ToTable(!0,["ExportType"]);o.exp=new Array;for(var t=function(t){if(r.e.IsNullOrWhiteSpace(e[t].ExportType))return"continue";var a=new ee;a.exp_typ=e[t].ExportType.toString().TrimEnd(" ");for(var i=l.filter((function(o){return o.ExportType==e[t].ExportType.toString().TrimEnd(" ")})),C=function(e){var t=new te;r.e.IsNum(i[e].InvValue)&&(t.val=r.e.Round(r.e.Double(i[e].InvValue),2)),t.idt=new Date(i[e].DocDate).ToString("dd-MM-yyyy"),t.inum=r.e.String(i[e].VoucherNo).TrimEnd(" "),r.e.IsNullOrWhiteSpace(i[e].PortCode)||(t.sbpcode=i[e].PortCode.toString().TrimEnd(" ")),r.e.IsNullOrWhiteSpace(i[e].ShipBillNo)||(t.sbnum=i[e].ShipBillNo.toString().TrimEnd(" ")),r.e.IsNullOrWhiteSpace(i[e].ShipBillDate)||(t.sbdt=new Date(i[e].ShipBillDate).ToString("dd-MM-yyyy"));for(var o=l.filter((function(t){return t.VoucherNo==r.e.String(i[e].VoucherNo).TrimEnd(" ")})),C=0;C<o.length;C++){var s=new H;r.e.IsNum(o[C].Rate)&&(s.rt=parseInt(o[C].Rate)),r.e.IsNum(o[C].TaxableValue)&&(s.txval=r.e.Round(r.e.Double(o[C].TaxableValue),2)),n=s.txval/100*s.rt,s.iamt=r.e.Round(n,2),r.e.IsNum(o[C].CessAmt)&&(s.csamt=r.e.Round(r.e.Double(o[C].CessAmt),2)),t.itms.push(s)}a.inv.push(t)},s=0;s<i.length;s++)C(s);o.exp.push(a)},a=0;a<e.length;a++)t(a)}();else if("at"==i.Key||"atadj"==i.Key)!function(){var t=l.ToTable(!0,["PoS","ApplicableTaxRate"]);"at"==i.Key?o.at=new Array:"atadj"==i.Key&&(o.txpd=new Array);for(var a=function(a){if(r.e.IsNullOrWhiteSpace(t[a].PoS))return"continue";var C=new oe;C.pos=t[a].PoS.toString().Trim().substr(0,2),C.sply_ty=t[a].PoS.toString().Trim().substr(0,2)==e.substr(0,2)?"INTRA":"INTER",n=r.e.Double(t[a].ApplicableTaxRate),r.e.IsNum(t[a].ApplicableTaxRate)&&0!=n&&(C.diff_percent=r.e.Round(n,2));for(var s=l.filter((function(e){return e.PoS==t[a].PoS.toString().Trim()})),p=0;p<s.length;p++){var T=new ne;r.e.IsNum(s[p].Rate)&&(T.rt=parseInt(s[p].Rate)),"at"==i.Key&&r.e.IsNum(s[p].AdvReceived)?T.ad_amt=r.e.Round(r.e.Double(s[p].AdvReceived),2):"atadj"==i.Key&&r.e.IsNum(s[p].AdvAdjusted)&&(T.ad_amt=r.e.Round(r.e.Double(s[p].AdvAdjusted),2)),n=T.ad_amt/100*T.rt,C.pos==e.substr(0,2)?(T.camt=r.e.Round(n/2,2),T.samt=r.e.Round(n/2,2)):T.iamt=r.e.Round(n,2),r.e.IsNum(s[p].CessAmt)&&(T.csamt=r.e.Round(r.e.Double(s[p].CessAmt),2)),C.itms.push(T)}"at"==i.Key?o.at.push(C):"atadj"==i.Key&&o.txpd.push(C)},C=0;C<t.length;C++)a(C)}();else if("exemp"==i.Key){for(var T=new ae,u=0;u<l.length;u++)if(!r.e.IsNullOrWhiteSpace(l[u].Description)){var D=new ie;"interstatesuppliestoregisteredpersons"==r.e.String(l[u].Description).Replace(" ","").Replace("-","").toLowerCase()?D.sply_ty="INTRB2B":"interstatesuppliestounregisteredpersons"==r.e.String(l[u].Description).Replace(" ","").Replace("-","").toLowerCase()?D.sply_ty="INTRB2C":"intrastatesuppliestoregisteredpersons"==r.e.String(l[u].Description).Replace(" ","").Replace("-","").toLowerCase()?D.sply_ty="INTRAB2B":"intrastatesuppliestounregisteredpersons"==r.e.String(l[u].Description).Replace(" ","").Replace("-","").toLowerCase()&&(D.sply_ty="INTRAB2C"),r.e.IsNum(l[u].Exempted)&&(D.expt_amt=r.e.Round(r.e.Double(l[u].Exempted),2)),r.e.IsNum(l[u].NilRated)&&(D.nil_amt=r.e.Round(r.e.Double(l[u].NilRated),2)),r.e.IsNum(l[u].NonGST)&&(D.ngsup_amt=r.e.Round(r.e.Double(l[u].NonGST),2)),T.inv.push(D)}o.nil=T}else if("hsn"==i.Key){for(var d=new le,m=0;m<l.length;m++)if(!r.e.IsNullOrWhiteSpace(l[m].HSN)){var c=new Ce;c.num=m+1,c.hsn_sc=r.e.String(l[m].HSN).TrimEnd(" "),c.uqc=r.e.StringIsNullOrEmpty(l[m].PRType)||"services"!=l[m].PRType.toString().TrimEnd(" ").toLowerCase()?l[m].UQC.toString().Replace(" ","").substr(0,3).toUpperCase():"NA","NA"==c.uqc?c.qty=0:r.e.IsNum(l[m].TotalQty)&&(c.qty=r.e.Round(r.e.Double(l[m].TotalQty),2)),r.e.IsNum(l[m].Rate)&&(c.rt=parseInt(l[m].Rate)),r.e.IsNum(l[m].TaxableValue)&&(c.txval=r.e.Round(r.e.Double(l[m].TaxableValue),2)),!r.e.IsNullOrWhiteSpace(l[m].Description)&&l[m].Description.toString().TrimEnd(" ").length<32&&(c.desc=l[m].Description.toString().TrimEnd(" ")),r.e.IsNum(l[m].IntTaxAmt)&&(c.iamt=r.e.Round(r.e.Double(l[m].IntTaxAmt),2)),r.e.IsNum(l[m].CTaxAmt)&&(c.camt=r.e.Round(r.e.Double(l[m].CTaxAmt),2)),r.e.IsNum(l[m].STaxAmt)&&(c.samt=r.e.Round(r.e.Double(l[m].STaxAmt),2)),r.e.IsNum(l[m].CessAmt)&&(c.csamt=r.e.Round(r.e.Double(l[m].CessAmt),2)),d.data.push(c)}o.hsn=d}else"docs"==i.Key&&l.filter((function(e){return""!=e.NatureofDocument})).length>0&&function(){for(var e=l.filter((function(e){return""!=e.NatureofDocument})).ToTable(!0,["NatureofDocument"]),t=new se,n=function(o){var n=new re;n.doc_num=o+1,r.e.IsNullOrWhiteSpace(e[o].NatureofDocument)||(n.doc_typ=e[o].NatureofDocument.toString().TrimEnd(" "));for(var a=l.filter((function(t){return t.NatureofDocument==e[o].NatureofDocument.toString().TrimEnd(" ")})),i=0;i<a.length;i++){var C=new pe;C.num=i+1,C.from=r.e.String(a[i].SrNoFrom).TrimEnd(" "),C.to=r.e.String(a[i].SrNoTo).TrimEnd(" "),C.totnum=parseInt(a[i].TotalNumber),C.cancel=parseInt(a[i].Cancelled),C.net_issue=C.totnum-C.cancel,n.docs.push(C)}t.doc_det.push(n)},a=0;a<e.length;a++)n(a);o.doc_issue=t}()}return o}return null}},{key:"GSTR3BObj",value:function(e,t){if(null!=this.lst&&this.lst.length>0){var o=new Te;o.gstin=e,o.ret_period=t;for(var n=0;n<this.lst.length;n++){var a={Key:this.lst.keys[n],Value:this.lst.values[n]},i=a.Value.Table;if(null!=i&&i.length>0)if("GSTR3_GSTR3B_Outward"==a.Key){for(var l=new ce,C=0;C<i.length;C++)if(null!=i[C].Description&&(i[C].Description.toString().Contains("(a)")||i[C].Description.toString().Contains("(d)"))){var s=new De;r.e.IsNum(i[C].TaxableValue)&&(s.txval=r.e.Round(r.e.Double(i[C].TaxableValue),2)),r.e.IsNum(i[C].CTaxAmt)&&(s.camt=r.e.Round(r.e.Double(i[C].CTaxAmt),2)),r.e.IsNum(i[C].STaxAmt)&&(s.samt=r.e.Round(r.e.Double(i[C].STaxAmt),2)),r.e.IsNum(i[C].IntTaxAmt)&&(s.iamt=r.e.Round(r.e.Double(i[C].IntTaxAmt),2)),r.e.IsNum(i[C].CessAmt)&&(s.csamt=r.e.Round(r.e.Double(i[C].CessAmt),2)),i[C].Description.toString().Contains("(a)")?l.osup_det=s:i[C].Description.toString().Contains("(d)")&&(l.isup_rev=s)}else if(null!=i[C].Description&&i[C].Description.toString().Contains("(b)")){var p=new me;r.e.IsNum(i[C].TaxableValue)&&(p.txval=r.e.Round(r.e.Double(i[C].TaxableValue),2)),r.e.IsNum(i[C].IntTaxAmt)&&(p.iamt=r.e.Round(r.e.Double(i[C].IntTaxAmt),2)),r.e.IsNum(i[C].CessAmt)&&(p.csamt=r.e.Round(r.e.Double(i[C].CessAmt),2)),l.osup_zero=p}else if(null!=i[C].Description&&(i[C].Description.toString().Contains("(c)")||i[C].Description.toString().Contains("(e)"))){var T=new de;r.e.IsNum(i[C].TaxableValue)&&(T.txval=r.e.Round(r.e.Double(i[C].TaxableValue),2)),i[C].Description.toString().Contains("(c)")?l.osup_nil_exmp=T:i[C].Description.toString().Contains("(e)")&&(l.osup_nongst=T)}o.sup_details=l}else if("GSTR3_GSTR3B_OutwardDetail"==a.Key){var u=new Ie;u.comp_details=new Array,u.uin_details=new Array,u.unreg_details=new Array;for(var D=0;D<i.length;D++)if(!r.e.IsEmpty(i[D].PoS)){var d=new he;d.pos=i[D].PoS.toString(),r.e.IsNum(i[D].TaxableValueUnregistered)&&(d.txval=r.e.Round(r.e.Double(i[D].TaxableValueUnregistered),2)),r.e.IsNum(i[D].IntTaxAmtUnregistered)&&(d.iamt=r.e.Round(r.e.Double(i[D].IntTaxAmtUnregistered),2)),u.unreg_details.push(d),(d=new he).pos=i[D].PoS.toString(),r.e.IsNum(i[D].TaxableValueComposition)&&(d.txval=r.e.Round(r.e.Double(i[D].TaxableValueComposition),2)),r.e.IsNum(i[D].IntTaxAmtComposition)&&(d.iamt=r.e.Round(r.e.Double(i[D].IntTaxAmtComposition),2)),u.comp_details.push(d),(d=new he).pos=i[D].PoS.toString(),r.e.IsNum(i[D].TaxableValueUINholders)&&(d.txval=r.e.Round(r.e.Double(i[D].TaxableValueUINholders),2)),r.e.IsNum(i[D].IntTaxAmtUINholders)&&(d.iamt=r.e.Round(r.e.Double(i[D].IntTaxAmtUINholders),2)),u.uin_details.push(d)}o.inter_sup=u}else if("GSTR3_GSTR3B_EligibleITC"==a.Key){var m=new ye,c=!0;m.itc_avl=new Array,m.itc_rev=new Array,m.itc_inelg=new Array;for(var I=0;I<i.length;I++)if(!r.e.IsEmpty(i[I].Details))if(i[I].Details.toString().Contains("(1)\xa0Import of goods")||i[I].Details.toString().Contains("(2)\xa0Import of services")||i[I].Details.toString().Contains("(3) Inward supplies liable to reverse charge(other than 1 &2 above)")||i[I].Details.toString().Contains("(4) Inward supplies from ISD")||i[I].Details.toString().Contains("(5) All other ITC")||i[I].Details.toString().Contains("(1)\xa0As per Rule 42 & 43 of SGST/CGST rules")||i[I].Details.toString().Contains("(2) Others")||i[I].Details.toString().Contains("(1) As per section 17(5) of CGST/SGST Act")){var h=new Se;i[I].Details.toString().Contains("(1)\xa0Import of goods")?h.ty="IMPG":i[I].Details.toString().Contains("(2)\xa0Import of services")?h.ty="IMPS":i[I].Details.toString().Contains("(3) Inward supplies liable to reverse charge(other than 1 &2 above)")?h.ty="ISRC":i[I].Details.toString().Contains("(4) Inward supplies from ISD")?h.ty="ISD":i[I].Details.toString().Contains("(5) All other ITC")||i[I].Details.toString().Contains("(2) Others")?h.ty="OTH":(i[I].Details.toString().Contains("(1)\xa0As per Rule 42 & 43 of SGST/CGST rules")||i[I].Details.toString().Contains("(1) As per section 17(5) of CGST/SGST Act"))&&(h.ty="RUL"),r.e.IsNum(i[I].CTaxAmt)&&(h.camt=r.e.Round(r.e.Double(i[I].CTaxAmt),2)),r.e.IsNum(i[I].STaxAmt)&&(h.samt=r.e.Round(r.e.Double(i[I].STaxAmt),2)),r.e.IsNum(i[I].IntTaxAmt)&&(h.iamt=r.e.Round(r.e.Double(i[I].IntTaxAmt),2)),r.e.IsNum(i[I].CessAmt)&&(h.csamt=r.e.Round(r.e.Double(i[I].CessAmt),2)),i[I].Details.toString().Contains("(1)\xa0As per Rule 42 & 43 of SGST/CGST rules")||i[I].Details.toString().Contains("(2) Others")&&c?(i[I].Details.toString().Contains("(2) Others")&&(c=!1),m.itc_rev.push(h)):i[I].Details.toString().Contains("(1) As per section 17(5) of CGST/SGST Act")||i[I].Details.toString().Contains("(2) Others")&&!c?m.itc_inelg.push(h):m.itc_avl.push(h)}else if(i[I].Details.toString().Contains("(C) Net ITC Available (A)-(B)")){var y=new ue;r.e.IsNum(i[I].CTaxAmt)&&(y.camt=r.e.Round(r.e.Double(i[I].CTaxAmt),2)),r.e.IsNum(i[I].STaxAmt)&&(y.samt=r.e.Round(r.e.Double(i[I].STaxAmt),2)),r.e.IsNum(i[I].IntTaxAmt)&&(y.iamt=r.e.Round(r.e.Double(i[I].IntTaxAmt),2)),r.e.IsNum(i[I].CessAmt)&&(y.csamt=r.e.Round(r.e.Double(i[I].CessAmt),2)),m.itc_net=y}o.itc_elg=m}else if("GSTR3_GSTR3B_5"==a.Key){var S=new be;S.isup_details=new Array;for(var b=0;b<i.length;b++)if("Total"!=r.e.String(i[b].Natureofsupplies)){var A=new Ae;A.ty=r.e.String(i[b].Natureofsupplies).Replace(" ","").toUpperCase().Contains("NONGST")?"NONGST":"GST",r.e.IsNum(i[b].InterState)&&(A.inter=r.e.Round(r.e.Double(i[b].InterState),2)),r.e.IsNum(i[b].IntraState)&&(A.intra=r.e.Round(r.e.Double(i[b].IntraState),2)),S.isup_details.push(A)}o.inward_sup=S}else if("GSTR3_GSTR3B_5_1"==a.Key){for(var N=new Ne,g=0;g<i.length;g++){var R=new ue;r.e.IsNum(i[g].CTaxAmt)&&(R.camt=r.e.Round(r.e.Double(i[g].CTaxAmt),2)),r.e.IsNum(i[g].STaxAmt)&&(R.samt=r.e.Round(r.e.Double(i[g].STaxAmt),2)),r.e.IsNum(i[g].IntTaxAmt)&&(R.iamt=r.e.Round(r.e.Double(i[g].IntTaxAmt),2)),r.e.IsNum(i[g].CessAmt)&&(R.csamt=r.e.Round(r.e.Double(i[g].CessAmt),2)),N.intr_details=R}o.intr_ltfee=N}}return o}return null}},{key:"ANX1Obj",value:function(e,t){if(null!=this.lst&&this.lst.length>0){var o=new k;o.gstin=e,o.fp=t;for(var n=0,a=0;a<this.lst.length;a++){var i={Key:this.lst.keys[a],Value:this.lst.values[a]},l=i.Value.Table;if(null!=l&&l.length>0)if("b2b"==i.Key)!function(){var t=l.ToTable(!0,["RecipientGSTIN"]);o.b2b=new Array;for(var a=function(a){if(r.e.IsNullOrWhiteSpace(t[a].RecipientGSTIN))return"continue";var i=new Y;i.ctin=t[a].RecipientGSTIN.toString().TrimEnd(" ");for(var C=l.ToTable(!0,["RecipientGSTIN","VoucherNo","DocDate","InvValue","PoS","ReverseCharge","InvType","ApplicableTaxRate","ECommGSTIN"]).filter((function(e){return e.RecipientGSTIN==t[a].RecipientGSTIN.toString().TrimEnd(" ")})),s=function(t){var o=new K;r.e.IsNum(C[t].InvValue)&&(o.val=r.e.Round(r.e.Double(C[t].InvValue),2)),o.pos=r.e.String(C[t].PoS),o.idt=new Date(C[t].DocDate).ToString("dd-MM-yyyy"),o.rchrg=""==r.e.String(C[t].ReverseCharge)?"N":r.e.String(C[t].ReverseCharge),o.inum=r.e.String(C[t].VoucherNo).TrimEnd(" "),o.inv_typ="custombondedwarehouse"==r.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"CBW":"sezsupplieswithpayment"==r.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"SEWP":"sezsupplieswithoutpayment"==r.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"SEWOP":"deemedexp"==r.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"DE":"R",n=r.e.Double(C[t].ApplicableTaxRate),r.e.IsNum(C[t].ApplicableTaxRate)&&0!=n&&(o.diff_percent=r.e.Round(r.e.Double(C[t].ApplicableTaxRate),2)),r.e.IsNullOrWhiteSpace(C[t].ECommGSTIN)||(o.etin=C[t].ECommGSTIN.toString().TrimEnd(" "));for(var a=l.filter((function(e){return e.VoucherNo==r.e.String(C[t].VoucherNo).TrimEnd(" ")})),s=0;s<a.length;s++){var p=new j;p.num=s+1;var T=new H;r.e.IsNum(a[s].Rate)&&(T.rt=parseInt(a[s].Rate)),r.e.IsNum(a[s].TaxableValue)&&(T.txval=r.e.Round(r.e.Double(a[s].TaxableValue),2)),n=T.txval/100*T.rt,o.pos==e.substr(0,2)?(T.camt=r.e.Round(n/2,2),T.samt=r.e.Round(n/2,2)):T.iamt=r.e.Round(n,2),r.e.IsNum(a[s].CessAmt)&&(T.csamt=r.e.Round(r.e.Double(a[s].CessAmt),2)),p.itm_det=T,o.itms.push(p)}i.inv.push(o)},p=0;p<C.length;p++)s(p);o.b2b.push(i)},i=0;i<t.length;i++)a(i)}();else if("b2cl"==i.Key)!function(){var t=l.ToTable(!0,["PoS"]);o.b2cl=new Array;for(var a=function(a){if(r.e.IsEmpty(t[a].PoS))return"continue";var i=new Q;i.pos=t[a].PoS.toString().TrimEnd(" ");for(var C=l.ToTable(!0,["PoS","VoucherNo","DocDate","InvValue","ApplicableTaxRate","ECommGSTIN"]).filter((function(e){return e.PoS==t[a].PoS.toString().TrimEnd(" ")})),s=function(t){var o=new Z;o.val=parseFloat(C[t].InvValue),o.idt=new Date(C[t].DocDate).ToString("dd-MM-yyyy"),o.inum=r.e.String(C[t].VoucherNo).TrimEnd(" "),r.e.IsNullOrWhiteSpace(C[t].InvType)||(o.inv_typ="custombondedwarehouse"==r.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"CBW":"sezsupplieswithpayment"==r.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"SEWP":"sezsupplieswithoutpayment"==r.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"SEWOP":"deemedexp"==r.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"DE":"R"),n=r.e.Double(C[t].ApplicableTaxRate),r.e.IsNum(C[t].ApplicableTaxRate)&&0!=n&&(o.diff_percent=r.e.Round(r.e.Double(C[t].ApplicableTaxRate),2)),r.e.IsNullOrWhiteSpace(C[t].ECommGSTIN)||(o.etin=C[t].ECommGSTIN.toString().TrimEnd(" "));for(var a=l.filter((function(e){return e.VoucherNo==r.e.String(C[t].VoucherNo).TrimEnd(" ")})),s=0;s<a.length;s++){var p=new j;p.num=s+1;var T=new H;r.e.IsNum(a[s].Rate)&&(T.rt=parseInt(a[s].Rate)),r.e.IsNum(a[s].TaxableValue)&&(T.txval=r.e.Round(r.e.Double(a[s].TaxableValue),2)),n=T.txval/100*T.rt,i.pos==e.substr(0,2)?(T.camt=r.e.Round(n/2,2),T.samt=r.e.Round(n/2,2)):T.iamt=r.e.Round(n,2),r.e.IsNum(a[s].CessAmt)&&(T.csamt=r.e.Round(r.e.Double(a[s].CessAmt),2)),p.itm_det=T,o.itms.push(p)}i.inv.push(o)},p=0;p<C.length;p++)s(p);o.b2cl.push(i)},i=0;i<t.length;i++)a(i)}();else if("b2cs"==i.Key){o.b2cs=new Array;for(var C=0;C<l.length;C++)if(!r.e.IsNullOrWhiteSpace(l[C].Type)){var s=new J;s.sply_ty=r.e.String(l[C].PoS).TrimEnd(" ")==e.substr(0,2)?"INTRA":"INTER",s.typ=l[C].Type.toString().TrimEnd(" "),s.pos=r.e.String(l[C].PoS).TrimEnd(" "),r.e.IsNum(l[C].Rate)&&(s.rt=parseInt(l[C].Rate)),r.e.IsNum(l[C].TaxableValue)&&(s.txval=r.e.Round(r.e.Double(l[C].TaxableValue),2)),n=r.e.Double(l[C].ApplicableTaxRate),r.e.IsNum(l[C].ApplicableTaxRate)&&0!=n&&(s.diff_percent=r.e.Round(n,2)),r.e.StringIsNullOrEmpty(l[C].ECommGSTIN)||(s.etin=l[C].ECommGSTIN.toString()),n=s.txval/100*s.rt,s.pos==e.substr(0,2)?(s.camt=r.e.Round(n/2,2),s.samt=r.e.Round(n/2,2)):s.iamt=r.e.Round(n,2),r.e.IsNum(l[C].CessAmt)&&(s.csamt=r.e.Round(r.e.Double(l[C].CessAmt),2)),o.b2cs.push(s)}}else if("cdnr"==i.Key)!function(){var t=l.ToTable(!0,["RecipientGSTIN"]);o.cdnr=new Array;for(var a=function(a){if(r.e.IsNullOrWhiteSpace(t[a].RecipientGSTIN))return"continue";var i=new z;i.ctin=t[a].RecipientGSTIN.toString().TrimEnd(" ");for(var C=l.ToTable(!0,["RecipientGSTIN","VoucherNo","DocDate","InvValue","PoS","DocumentType","ApplicableTaxRate"]).filter((function(e){return e.RecipientGSTIN&&e.RecipientGSTIN==t[a].RecipientGSTIN.toString().TrimEnd(" ")&&""!=e.RecipientGSTIN})),s=function(t){var o=new q;o.ntty=r.e.String(C[t].DocumentType).TrimEnd(" "),o.nt_num=r.e.String(C[t].VoucherNo).TrimEnd(" "),o.nt_dt=new Date(C[t].DocDate).ToString("dd-MM-yyyy"),r.e.IsNum(C[t].InvValue)&&(o.val=r.e.Round(r.e.Double(C[t].InvValue),2)),n=r.e.Double(C[t].ApplicableTaxRate),r.e.IsNum(C[t].ApplicableTaxRate)&&0!=n&&(o.diff_percent=r.e.Round(r.e.Double(n),2)),r.e.IsNullOrWhiteSpace(C[t].ECommGSTIN)||(o.etin=C[t].ECommGSTIN.toString().TrimEnd(" "));for(var a=l.filter((function(e){return e.VoucherNo==r.e.String(C[t].VoucherNo).TrimEnd(" ")})),s=0;s<a.length;s++){var p=new j;p.num=s+1;var T=new H;r.e.IsNum(a[s].Rate)&&(T.rt=parseInt(a[s].Rate)),r.e.IsNum(a[s].TaxableValue)&&(T.txval=r.e.Round(r.e.Double(a[s].TaxableValue),2)),n=T.txval/100*T.rt,r.e.String(C[t].PoS)==e.substr(0,2)?(T.camt=r.e.Round(n/2,2),T.samt=r.e.Round(n/2,2)):T.iamt=r.e.Round(n,2),r.e.IsNum(a[s].CessAmt)&&(T.csamt=r.e.Round(r.e.Double(a[s].CessAmt),2)),p.itm_det=T,o.itms.push(p)}i.nt.push(o)},p=0;p<C.length;p++)s(p);o.cdnr.push(i)},i=0;i<t.length;i++)a(i)}();else if("cdnur"==i.Key)!function(){var t=l.ToTable(!0,["URType","VoucherNo","DocDate","InvValue","PoS","DocumentType","ApplicableTaxRate"]);o.cdnur=new Array;for(var a=function(a){if(r.e.IsNullOrWhiteSpace(t[a].URType))return"continue";var i=new $;i.typ=t[a].URType.toString().TrimEnd(" "),i.ntty=r.e.String(t[a].DocumentType).TrimEnd(" "),i.nt_num=r.e.String(t[a].VoucherNo).TrimEnd(" "),i.nt_dt=new Date(t[a].DocDate).ToString("dd-MM-yyyy"),r.e.IsNum(t[a].InvValue)&&(i.val=r.e.Round(r.e.Double(t[a].InvValue),2)),n=r.e.Double(t[a].ApplicableTaxRate),r.e.IsNum(t[a].ApplicableTaxRate)&&0!=n&&(i.diff_percent=r.e.Round(n,2));for(var C=l.filter((function(e){return e.VoucherNo==r.e.String(t[a].VoucherNo).TrimEnd(" ")})),s=0;s<C.length;s++){var p=new j;p.num=s+1;var T=new H;r.e.IsNum(C[s].Rate)&&(T.rt=parseInt(C[s].Rate)),r.e.IsNum(C[s].TaxableValue)&&(T.txval=r.e.Round(r.e.Double(C[s].TaxableValue),2)),n=T.txval/100*T.rt,r.e.String(t[a].PoS)==e.substr(0,2)?(T.camt=r.e.Round(n/2,2),T.samt=r.e.Round(n/2,2)):T.iamt=r.e.Round(n,2),r.e.IsNum(C[s].CessAmt)&&(T.csamt=r.e.Round(r.e.Double(C[s].CessAmt),2)),p.itm_det=T,i.itms.push(p)}o.cdnur.push(i)},i=0;i<t.length;i++)a(i)}();else if("exp"==i.Key)!function(){var e=l.ToTable(!0,["ExportType"]);o.exp=new Array;for(var t=function(t){if(r.e.IsNullOrWhiteSpace(e[t].ExportType))return"continue";var a=new ee;a.exp_typ=e[t].ExportType.toString().TrimEnd(" ");for(var i=l.filter((function(o){return o.ExportType==e[t].ExportType.toString().TrimEnd(" ")})),C=function(e){var t=new te;r.e.IsNum(i[e].InvValue)&&(t.val=r.e.Round(r.e.Double(i[e].InvValue),2)),t.idt=new Date(i[e].DocDate).ToString("dd-MM-yyyy"),t.inum=r.e.String(i[e].VoucherNo).TrimEnd(" "),r.e.IsNullOrWhiteSpace(i[e].PortCode)||(t.sbpcode=i[e].PortCode.toString().TrimEnd(" ")),r.e.IsNullOrWhiteSpace(i[e].ShipBillNo)||(t.sbnum=i[e].ShipBillNo.toString().TrimEnd(" ")),r.e.IsNullOrWhiteSpace(i[e].ShipBillDate)||(t.sbdt=new Date(i[e].ShipBillDate).ToString("dd-MM-yyyy"));for(var o=l.filter((function(t){return t.VoucherNo==r.e.String(i[e].VoucherNo).TrimEnd(" ")})),C=0;C<o.length;C++){var s=new H;r.e.IsNum(o[C].Rate)&&(s.rt=parseInt(o[C].Rate)),r.e.IsNum(o[C].TaxableValue)&&(s.txval=r.e.Round(r.e.Double(o[C].TaxableValue),2)),n=s.txval/100*s.rt,s.iamt=r.e.Round(n,2),r.e.IsNum(o[C].CessAmt)&&(s.csamt=r.e.Round(r.e.Double(o[C].CessAmt),2)),t.itms.push(s)}a.inv.push(t)},s=0;s<i.length;s++)C(s);o.exp.push(a)},a=0;a<e.length;a++)t(a)}();else if("at"==i.Key||"atadj"==i.Key)!function(){var t=l.ToTable(!0,["PoS","ApplicableTaxRate"]);"at"==i.Key?o.at=new Array:"atadj"==i.Key&&(o.txpd=new Array);for(var a=function(a){if(r.e.IsNullOrWhiteSpace(t[a].PoS))return"continue";var C=new oe;C.pos=t[a].PoS.toString().TrimEnd(" "),C.sply_ty=r.e.String(t[a].PoS).TrimEnd(" ")==e.substr(0,2)?"INTRA":"INTER",n=r.e.Double(t[a].ApplicableTaxRate),r.e.IsNum(t[a].ApplicableTaxRate)&&0!=n&&(C.diff_percent=r.e.Round(r.e.Double(n),2));for(var s=l.filter((function(e){return e.PoS==r.e.String(t[a].PoS).TrimEnd(" ")})),p=0;p<s.length;p++){var T=new ne;r.e.IsNum(s[p].Rate)&&(T.rt=parseInt(s[p].Rate)),"at"==i.Key&&r.e.IsNum(s[p].AdvReceived)?T.ad_amt=r.e.Round(r.e.Double(s[p].AdvReceived),2):"atadj"==i.Key&&r.e.IsNum(s[p].AdvAdjusted)&&(T.ad_amt=r.e.Round(r.e.Double(s[p].AdvAdjusted),2)),n=T.ad_amt/100*T.rt,C.pos==e.substr(0,2)?(T.camt=r.e.Round(n/2,2),T.samt=r.e.Round(n/2,2)):T.iamt=r.e.Round(n,2),r.e.IsNum(s[p].CessAmt)&&(T.csamt=r.e.Round(r.e.Double(s[p].CessAmt),2)),C.itms.push(T)}"at"==i.Key?o.at.push(C):"atadj"==i.Key&&o.txpd.push(C)},C=0;C<t.length;C++)a(C)}();else if("exemp"==i.Key){for(var p=new ae,T=0;T<l.length;T++)if(!r.e.IsNullOrWhiteSpace(l[T].Description)){var u=new ie;"interstatesuppliestoregisteredpersons"==l[T].Description.toString().Replace(" ","").Replace("-","").toLowerCase()?u.sply_ty="INTRB2B":"interstatesuppliestounregisteredpersons"==l[T].Description.toString().Replace(" ","").Replace("-","").toLowerCase()?u.sply_ty="INTRB2C":"intrastatesuppliestoregisteredpersons"==l[T].Description.toString().Replace(" ","").Replace("-","").toLowerCase()?u.sply_ty="INTRAB2B":"intrastatesuppliestounregisteredpersons"==l[T].Description.toString().Replace(" ","").Replace("-","").toLowerCase()&&(u.sply_ty="INTRAB2C"),r.e.IsNum(l[T].Exempted)&&(u.expt_amt=r.e.Round(r.e.Double(l[T].Exempted),2)),r.e.IsNum(l[T].NilRated)&&(u.nil_amt=r.e.Round(r.e.Double(l[T].NilRated),2)),r.e.IsNum(l[T].NonGST)&&(u.ngsup_amt=r.e.Round(r.e.Double(l[T].NonGST),2)),p.inv.push(u)}o.nil=p}else if("hsn"==i.Key){for(var D=new le,d=0;d<l.length;d++)if(!r.e.IsNullOrWhiteSpace(l[d].HSN)){var m=new Ce;m.num=d+1,m.hsn_sc=l[d].HSN.toString().TrimEnd(" "),m.uqc=r.e.String(l[d].UQC).Replace(" ","").substr(0,3).toUpperCase(),r.e.IsNum(l[d].TotalQty)&&(m.qty=r.e.Round(r.e.Double(l[d].TotalQty),2)),r.e.IsNum(l[d].TotalValue)&&(m.val=r.e.Round(r.e.Double(l[d].TotalValue),2)),r.e.IsNum(l[d].TaxableValue)&&(m.txval=r.e.Round(r.e.Double(l[d].TaxableValue),2)),r.e.IsNullOrWhiteSpace(l[d].Description)||(m.desc=l[d].Description.toString().TrimEnd(" ")),r.e.IsNum(l[d].IntTaxAmt)&&(m.iamt=r.e.Round(r.e.Double(l[d].IntTaxAmt),2)),r.e.IsNum(l[d].CTaxAmt)&&(m.camt=r.e.Round(r.e.Double(l[d].CTaxAmt),2)),r.e.IsNum(l[d].STaxAmt)&&(m.samt=r.e.Round(r.e.Double(l[d].STaxAmt),2)),r.e.IsNum(l[d].CessAmt)&&(m.csamt=r.e.Round(r.e.Double(l[d].CessAmt),2)),D.data.push(m)}o.hsn=D}else"docs"==i.Key&&l.filter((function(e){return""!=e.NatureofDocument})).length>0&&function(){for(var e=l.filter((function(e){return""!=e.NatureofDocument})),t=new se,n=function(o){var n=new re;n.doc_num=o+1,r.e.IsNullOrWhiteSpace(e[o].NatureofDocument)||(n.doc_typ=e[o].NatureofDocument.toString().TrimEnd(" "));for(var a=l.filter((function(t){return t.NatureofDocument==r.e.String(e[o].NatureofDocument).TrimEnd(" ")})),i=0;i<a.length;i++){var C=new pe;C.num=i+1,C.from=r.e.String(a[i].SrNoFrom).TrimEnd(" "),C.to=r.e.String(a[i].SrNoTo).TrimEnd(" "),C.totnum=parseInt(a[i].TotalNumber),C.cancel=parseInt(a[i].Cancelled),C.net_issue=C.totnum-C.cancel,n.docs.push(C)}t.doc_det.push(n)},a=0;a<e.length;a++)n(a);o.doc_issue=t}()}return o}return null}},{key:"gspappid",get:function(){return""}},{key:"gspappsecret",get:function(){return""}}]),e}(),B=function e(){_classCallCheck(this,e),this.gstin=null,this.ret_period=null},k=function e(){_classCallCheck(this,e),this.gstin=null,this.fp=null,this.version=null,this.hash=null},j=function e(){_classCallCheck(this,e)},H=function e(){_classCallCheck(this,e)},Y=function e(){_classCallCheck(this,e),this.ctin=null,this.inv=new Array},K=function e(){_classCallCheck(this,e),this.inv_typ=null,this.pos=null,this.idt=null,this.rchrg=null,this.inum=null,this.etin=null,this.itms=new Array},Q=function e(){_classCallCheck(this,e),this.pos=null,this.inv=new Array},Z=function e(){_classCallCheck(this,e),this.inv_typ=null,this.idt=null,this.inum=null,this.etin=null,this.itms=new Array},J=function(e){_inherits(o,e);var t=_createSuper(o);function o(){var e;return _classCallCheck(this,o),(e=t.apply(this,arguments)).sply_ty=null,e.typ=null,e.pos=null,e.etin=null,e}return o}(H),z=function e(){_classCallCheck(this,e),this.ctin=null,this.nt=new Array},q=function e(){_classCallCheck(this,e),this.ntty=null,this.nt_num=null,this.nt_dt=null,this.inum=null,this.idt=null,this.rchrg=null,this.inv_typ=null,this.p_gst=null,this.etin=null,this.pos=null,this.itms=new Array},$=function e(){_classCallCheck(this,e),this.typ=null,this.ntty=null,this.nt_num=null,this.nt_dt=null,this.itms=new Array},ee=function e(){_classCallCheck(this,e),this.exp_typ=null,this.inv=new Array},te=function e(){_classCallCheck(this,e),this.idt=null,this.inum=null,this.sbpcode=null,this.sbnum=null,this.sbdt=null,this.itms=new Array},oe=function e(){_classCallCheck(this,e),this.pos=null,this.sply_ty=null,this.itms=new Array},ne=function e(){_classCallCheck(this,e)},ae=function e(){_classCallCheck(this,e),this.inv=new Array},ie=function e(){_classCallCheck(this,e),this.sply_ty=null},le=function e(){_classCallCheck(this,e),this.data=new Array},Ce=function e(){_classCallCheck(this,e),this.hsn_sc=null,this.uqc=null,this.desc=null},se=function e(){_classCallCheck(this,e),this.doc_det=new Array},re=function e(){_classCallCheck(this,e),this.doc_typ=null,this.docs=new Array},pe=function e(){_classCallCheck(this,e),this.from=null,this.to=null},Te=function e(){_classCallCheck(this,e),this.gstin=null,this.ret_period=null},ue=function e(){_classCallCheck(this,e)},De=function(e){_inherits(o,e);var t=_createSuper(o);function o(){return _classCallCheck(this,o),t.apply(this,arguments)}return o}(ue),de=function e(){_classCallCheck(this,e)},me=function(e){_inherits(o,e);var t=_createSuper(o);function o(){return _classCallCheck(this,o),t.apply(this,arguments)}return o}(de),ce=function e(){_classCallCheck(this,e)},Ie=function e(){_classCallCheck(this,e)},he=function(e){_inherits(o,e);var t=_createSuper(o);function o(){var e;return _classCallCheck(this,o),(e=t.apply(this,arguments)).pos=null,e}return o}(de),ye=function e(){_classCallCheck(this,e)},Se=function(e){_inherits(o,e);var t=_createSuper(o);function o(){var e;return _classCallCheck(this,o),(e=t.apply(this,arguments)).ty=null,e}return o}(ue),be=function e(){_classCallCheck(this,e)},Ae=function e(){_classCallCheck(this,e),this.ty=null},Ne=function e(){_classCallCheck(this,e)};function ge(e,t){if(1&e&&(W.Zb(0,"div",7),W.Wc(1,"\n                "),W.Vb(2,4),W.Wc(3,"\n            "),W.Yb()),2&e){var o=W.lc();W.Db(2),W.tc("obj",o.dtToDate)("group",o.form)}}function Re(e,t){if(1&e&&(W.Zb(0,"div",7),W.Wc(1,"\n                "),W.Vb(2,4),W.Wc(3,"\n            "),W.Yb()),2&e){var o=W.lc();W.Db(2),W.tc("obj",o.txtGSTIN)("group",o.form)}}function fe(e,t){if(1&e&&(W.Zb(0,"div",7),W.Wc(1,"\n                "),W.Vb(2,4),W.Wc(3,"\n            "),W.Yb()),2&e){var o=W.lc();W.Db(2),W.tc("obj",o.txtUserName)("group",o.form)}}function Me(e,t){if(1&e&&(W.Zb(0,"div",7),W.Wc(1,"\n                "),W.Vb(2,4),W.Wc(3,"\n            "),W.Yb()),2&e){var o=W.lc();W.Db(2),W.tc("obj",o.txtOTP)("group",o.form)}}function Oe(e,t){if(1&e&&(W.Zb(0,"div",16),W.Wc(1,"\n                        "),W.Vb(2,4),W.Wc(3,"\n                    "),W.Yb()),2&e){var o=W.lc().$implicit,n=W.lc();W.Db(2),W.tc("obj",n.obj.lstGridViewModel[o.Name])("group",n.form)}}function Ve(e,t){if(1&e&&(W.Xb(0),W.Wc(1,"\n                "),W.Zb(2,"tab",14),W.hc("selectTab",(function(){return t.$implicit.IsAccordionOpen=!0})),W.Wc(3,"\n                    "),W.Uc(4,Oe,4,2,"div",15),W.Wc(5,"\n                "),W.Yb(),W.Wc(6,"\n              "),W.Wb()),2&e){var o=t.$implicit,n=W.lc();W.Db(2),W.tc("heading",o.Header)("removable",!1),W.Db(2),W.tc("ngIf",n.obj.lstGridViewModel[o.Name].Columns.length>0)}}var ve,We=((ve=function(e){_inherits(o,e);var t=_createSuper(o);function o(){var e;return _classCallCheck(this,o),(e=t.call(this)).form=new C.j({}),e}return _createClass(o,[{key:"ngOnInit",value:function(){var e,t,o;(null===(e=this.params)||void 0===e?void 0:e.obj)&&(this.obj=null===(t=this.params)||void 0===t?void 0:t.obj),this.ViewModel=null===(o=this.params)||void 0===o?void 0:o.obj,0!=this.obj.lstGridViewModel.length&&(this.LoadData(),this.obj.DisplayMessage.length>0&&(alert(this.obj.DisplayMessage),s.a.page.removeTab(this.obj)))}},{key:"LoadData",value:function(){for(var e=0;e<this.obj.lstGridViewModel.keys.length;e++){var t=this.obj.lstGridViewModel.keys[e],o=new V;if(o.ReportBuilder_2(this.obj.dicReportID[t],t),this.obj.lstGSTReport.push(t,o),o.cmbReport_SelectionChanged(null,null),o.GetReportConfiguration(),o.DisplayMessage.length>0)return void(this.obj.DisplayMessage=o.DisplayMessage);if(o.objReport.QUERY=o.GetQuery(!0),0==o.objReport.QUERY.length)return void(this.obj.DisplayMessage="Select Documents")}}}]),o}(function(){function e(){_classCallCheck(this,e),this.dtReturnDate=new p.a,this.dtToDate=new p.a,this.chkToDate=new R.a,this.tabMainVisibile=!1,this.txtUserName=new M.d,this.txtGSTIN=new M.d,this.txtOTP=new M.d,this.txtUserName.Label="UserName :",this.txtUserName.LblWidth="90",this.txtGSTIN.Label="GSTIN :",this.txtGSTIN.LblWidth="70",this.txtOTP.Label="OTP :",this.txtOTP.LblWidth="60",this.txtUserName.Text=s.a.SessionManager.config.username,this.txtGSTIN.Text=s.a.SessionManager.config.gstin,this.txtOTP.Text=s.a.SessionManager.config.otp,this.dtReturnDate.LblWidth="90",this.dtToDate.LblWidth="90",this.dtToDate.Label="To Date",this.dtToDate.Visible=!1,this.dtReturnDate.Date=Date.Today(),this.dtReturnDate.Label="Return Month",this.chkToDate.Label="Show To Date",this.chkToDate.CheckedChangedCommand.Subscribe(this,"onchkToDateClik")}return _createClass(e,[{key:"Button_Click",value:function(e){var t=this;if(this.ViewModel.DisplayMessage="","GetData"==e){this.tabMainVisibile=!0;var o=new Date(this.dtReturnDate.Date.getFullYear(),this.dtReturnDate.Date.getMonth(),1),n=null;this.dtToDate.Visible&&(o=this.dtReturnDate.Date,n=this.dtToDate.Date);for(var a=function(e){var a={Key:t.ViewModel.lstGridViewModel.keys[e],Value:t.ViewModel.lstGridViewModel.values[e]},i=g.SetQueryWhere(t.ViewModel.lstGSTReport[a.Key].objReport.QUERY,a.Key,o,n);console.log(a.Key+" Query :\r\n"+i);var l=s.a.report.ReportDataSet("RPT022",!1,i);if(null!=l&&l.Tables.length>0){if(l.Columns[0].Contains("ErrorMessage"))return{v:void(t.ViewModel.DisplayMessage=l.Tables[0][0].ErrorMessage.toString())};var C=new Array;g.ResetData(a.Key,l,o,n,C);for(var p=new Array,u=function(e){var o=t.ViewModel.lstGSTReport[a.Key].ReportGrid.Columns[e];if(0==o.CurrID)return"continue";var n=new T.a;n.ID=o.ID,n.Header=o.Header,n.Width=o.Width,n.ReadOnly=!0,n.DisplayMember=C.Contains(o.ID)?o.ID+"_Key":o.ID;var i=t.ViewModel.lstGSTReport[a.Key].Columns.find((function(e){return e.ID==o.ID}));n.DataType=i.DType,"FLOAT"==n.DataType&&(n.DecimalPoints=r.e.IsEmpty(i.Decimals)?"2":i.Decimals,"SUM"==i.Agg&&(n.ShowTotal=!0,n.IsCalculated=1)),p.push(n)},D=1;D<t.ViewModel.lstGSTReport[a.Key].ReportGrid.Columns.length;D++)u(D);l.Tables[0].forEach((function(e){e.id=a.Value.rowid})),a.Value.Table=l.Tables[0],a.Value.Columns=p,a.Value.RefreshColumns(),a.Value.UpdateTotals()}},i=0;i<this.ViewModel.lstGridViewModel.length;i++){var l=a(i);if("object"==typeof l)return l.v}}else if("Export"==e)this.tabMainVisibile||(this.ViewModel.DisplayMessage="First Load Report");else if("ExportNew"==e)this.tabMainVisibile?this.ViewModel.Status="":this.ViewModel.DisplayMessage="First Load Report";else if("RETSAVE"==e||"Json"==e)if(this.tabMainVisibile){if(r.e.IsEmpty(this.txtGSTIN.Text))return void(this.ViewModel.DisplayMessage="Enter GSTIN");var C=new X(this.ViewModel.lstGridViewModel);if("RETSAVE"==e){if(r.e.IsEmpty(this.txtUserName.Text))return void(this.ViewModel.DisplayMessage="Enter UserName");this.ViewModel.DisplayMessage=C.UploadingGSTR(this.dtReturnDate.Date.iMonth().toString()+this.dtReturnDate.Date.getFullYear().toString(),"GSTR1",this.txtUserName.Text,this.txtGSTIN.Text,this.txtOTP.Text)}else"Json"==e&&(this.ViewModel.DisplayMessage=C.GenerateJSON(this.dtReturnDate.Date.iMonth().toString()+this.dtReturnDate.Date.getFullYear().toString(),"GSTR1",this.txtGSTIN.Text))}else this.ViewModel.DisplayMessage="First Load Report";else if("RETSUBMIT"==e){if(r.e.IsEmpty(this.txtGSTIN.Text))return void(this.ViewModel.DisplayMessage="Enter GSTIN");if(r.e.IsEmpty(this.txtUserName.Text))return void(this.ViewModel.DisplayMessage="Enter UserName");var p=new X(this.ViewModel.lstGridViewModel);this.ViewModel.DisplayMessage=p.SubmitingGSTR(this.dtReturnDate.Date.iMonth().toString()+this.dtReturnDate.Date.getFullYear().toString(),"GSTR1",this.txtUserName.Text,this.txtGSTIN.Text,this.txtOTP.Text,e)}}},{key:"onchkToDateClik",value:function(){if(this.chkToDate.IsChecked){this.dtReturnDate.Label="From Date",this.dtToDate.Visible=!0;var e=Date.Today();this.dtReturnDate.Date=new Date(e.getFullYear(),e.getMonth(),1),this.dtToDate.Date=new Date(e.getFullYear(),e.getMonth(),e.DaysInMonth())}else this.dtReturnDate.Label="Return Month",this.dtToDate.Visible=!1}}]),e}())).\u0275fac=function(e){return new(e||ve)},ve.\u0275cmp=W.Nb({type:ve,selectors:[["app-gstr1"]],features:[W.Ab],decls:63,vars:9,consts:[[2,"overflow","auto","height","110%"],[1,"page-header",2,"display","flex"],[1,"page-title"],[2,"width","140px","padding-left","20px"],["FieldDirective","",3,"obj","group"],[1,"section"],[1,"row","form-row"],[1,"form-group","col-xl-3","col-md-4","col-sm-6","col-xs-12","PACTControl"],["class","form-group col-xl-3 col-md-4 col-sm-6 col-xs-12 PACTControl",4,"ngIf"],[1,"form-group","col-xl-6","col-md-6","col-sm-6","col-xs-12","PACTControl",2,"display","block"],[1,"primary-btn-wicon",2,"width","70px",3,"click"],[1,"PACTTabFields","tab_content","tab-exrafields",2,"display","flex"],[1,"",2,"width","calc(100% - 30px)"],[4,"ngFor","ngForOf"],[3,"heading","removable","selectTab"],["style","width: calc(100% - 30px); height: calc(100% - 20px);",4,"ngIf"],[2,"width","calc(100% - 30px)","height","calc(100% - 20px)"]],template:function(e,t){1&e&&(W.Zb(0,"div",0),W.Wc(1,"\n    "),W.Zb(2,"div",1),W.Wc(3,"\n        "),W.Zb(4,"label",2),W.Wc(5,"GSTR-1"),W.Yb(),W.Wc(6,"\n        "),W.Zb(7,"div",3),W.Wc(8,"\n            "),W.Vb(9,4),W.Wc(10,"\n        "),W.Yb(),W.Wc(11,"\n    "),W.Yb(),W.Wc(12,"\n    "),W.Zb(13,"div",5),W.Wc(14,"\n        "),W.Zb(15,"div",6),W.Wc(16,"\n            "),W.Zb(17,"div",7),W.Wc(18,"\n                "),W.Vb(19,4),W.Wc(20,"\n            "),W.Yb(),W.Wc(21,"\n            "),W.Uc(22,ge,4,2,"div",8),W.Wc(23,"\n            "),W.Zb(24,"div",9),W.Wc(25,"\n                "),W.Zb(26,"button",10),W.hc("click",(function(){return t.Button_Click("GetData")})),W.Wc(27,"Get Data"),W.Yb(),W.Wc(28,"\n                "),W.Zb(29,"button",10),W.hc("click",(function(){return t.Button_Click("Export")})),W.Wc(30,"Export"),W.Yb(),W.Wc(31,"\n                "),W.Wc(32,"\n                "),W.Zb(33,"button",10),W.hc("click",(function(){return t.Button_Click("Json")})),W.Wc(34,"Json"),W.Yb(),W.Wc(35,"\n                "),W.Zb(36,"button",10),W.hc("click",(function(){return t.Button_Click("RETSAVE")})),W.Wc(37,"Upload"),W.Yb(),W.Wc(38,"\n                "),W.Zb(39,"button",10),W.hc("click",(function(){return t.Button_Click("RETSUBMIT")})),W.Wc(40,"Submit"),W.Yb(),W.Wc(41,"\n                "),W.Wc(42,"\n            "),W.Yb(),W.Wc(43,"\n        "),W.Yb(),W.Wc(44,"\n        "),W.Zb(45,"div",6),W.Wc(46,"\n            "),W.Uc(47,Re,4,2,"div",8),W.Wc(48,"\n            "),W.Uc(49,fe,4,2,"div",8),W.Wc(50,"\n            "),W.Uc(51,Me,4,2,"div",8),W.Wc(52,"\n        "),W.Yb(),W.Wc(53,"\n        \n        "),W.Zb(54,"div",11),W.Wc(55,"\n            "),W.Zb(56,"tabset",12),W.Wc(57,"\n               "),W.Uc(58,Ve,7,3,"ng-container",13),W.Wc(59,"\n            "),W.Yb(),W.Wc(60,"\n        "),W.Yb(),W.Wc(61,"\n    "),W.Yb(),W.Wc(62,"\n"),W.Yb()),2&e&&(W.Db(9),W.tc("obj",t.chkToDate)("group",t.form),W.Db(10),W.tc("obj",t.dtReturnDate)("group",t.form),W.Db(3),W.tc("ngIf",t.dtToDate.Visible),W.Db(25),W.tc("ngIf",t.txtGSTIN.Visible),W.Db(2),W.tc("ngIf",t.txtUserName.Visible),W.Db(2),W.tc("ngIf",t.txtOTP.Visible),W.Db(7),W.tc("ngForOf",t.obj.Tab.Tabs))},directives:[E.a,i.t,G.e,i.s,G.b],encapsulation:2}),ve);function Ee(e,t){if(1&e&&(W.Zb(0,"div",7),W.Wc(1,"\n                "),W.Vb(2,4),W.Wc(3,"\n            "),W.Yb()),2&e){var o=W.lc();W.Db(2),W.tc("obj",o.dtToDate)("group",o.form)}}var Ge,Ue=((Ge=function(e){_inherits(o,e);var t=_createSuper(o);function o(){var e;return _classCallCheck(this,o),(e=t.call(this)).form=new C.j({}),e}return _createClass(o,[{key:"ngOnInit",value:function(){var e,t,o;(null===(e=this.params)||void 0===e?void 0:e.obj)&&(this.obj=null===(t=this.params)||void 0===t?void 0:t.obj),this.ViewModel=null===(o=this.params)||void 0===o?void 0:o.obj}}]),o}(function(){function e(){_classCallCheck(this,e),this.dtReturnDate=new p.a,this.dtToDate=new p.a,this.chkToDate=new R.a,this.dtReturnDate.LblWidth="90",this.dtToDate.LblWidth="90",this.dtToDate.Label="To Date",this.dtToDate.Visible=!1,this.dtReturnDate.Date=Date.Today(),this.dtReturnDate.Label="Return Month",this.chkToDate.Label="Show To Date",this.chkToDate.CheckedChangedCommand.Subscribe(this,"onchkToDateClik")}return _createClass(e,[{key:"Button_Click",value:function(e){if(this.ViewModel.DisplayMessage="","Submit"==e){var t=new Date(this.dtReturnDate.Date.getFullYear(),this.dtReturnDate.Date.getMonth(),1),o=null;this.dtToDate.Visible&&(t=this.dtReturnDate.Date,o=this.dtToDate.Date),this.ViewModel.OnSubmit(t,o)}}},{key:"onchkToDateClik",value:function(){if(this.chkToDate.IsChecked){this.dtReturnDate.Label="From Date",this.dtToDate.Visible=!0;var e=Date.Today();this.dtReturnDate.Date=new Date(e.getFullYear(),e.getMonth(),1),this.dtToDate.Date=new Date(e.getFullYear(),e.getMonth(),e.DaysInMonth())}else this.dtReturnDate.Label="Return Month",this.dtToDate.Visible=!1}}]),e}())).\u0275fac=function(e){return new(e||Ge)},Ge.\u0275cmp=W.Nb({type:Ge,selectors:[["app-gstr1-summary"]],features:[W.Ab],decls:42,vars:10,consts:[[2,"overflow","auto","height","110%"],[1,"page-header",2,"display","flex"],[1,"page-title"],[2,"width","140px","padding-left","20px"],["FieldDirective","",3,"obj","group"],[1,"section"],[1,"row","form-row"],[1,"form-group","col-xl-3","col-md-4","col-sm-6","col-xs-12","PACTControl"],["class","form-group col-xl-3 col-md-4 col-sm-6 col-xs-12 PACTControl",4,"ngIf"],[1,"primary-btn-wicon",2,"width","80px",3,"click"],[1,"PACTTabFields","tab_content","tab-exrafields",2,"display","flex"],[2,"width","100%","height","100%"]],template:function(e,t){1&e&&(W.Zb(0,"div",0),W.Wc(1,"\n    "),W.Zb(2,"div",1),W.Wc(3,"\n        "),W.Zb(4,"label",2),W.Wc(5,"GSTR-1 Summary"),W.Yb(),W.Wc(6,"\n        "),W.Zb(7,"div",3),W.Wc(8,"\n            "),W.Vb(9,4),W.Wc(10,"\n        "),W.Yb(),W.Wc(11,"\n    "),W.Yb(),W.Wc(12,"\n    "),W.Zb(13,"div",5),W.Wc(14,"\n        "),W.Zb(15,"div",6),W.Wc(16,"\n            "),W.Zb(17,"div",7),W.Wc(18,"\n                "),W.Vb(19,4),W.Wc(20,"\n            "),W.Yb(),W.Wc(21,"\n            "),W.Uc(22,Ee,4,2,"div",8),W.Wc(23,"\n            "),W.Zb(24,"div",7),W.Wc(25,"\n                "),W.Zb(26,"button",9),W.hc("click",(function(){return t.Button_Click("Submit")})),W.Wc(27),W.mc(28,"translate"),W.Yb(),W.Wc(29,"\n            "),W.Yb(),W.Wc(30,"\n        "),W.Yb(),W.Wc(31,"\n        \n        "),W.Zb(32,"div",10),W.Wc(33,"\n            "),W.Zb(34,"div",11),W.Wc(35,"\n                "),W.Vb(36,4),W.Wc(37,"\n            "),W.Yb(),W.Wc(38,"\n        "),W.Yb(),W.Wc(39,"\n    "),W.Yb(),W.Wc(40,"\n"),W.Yb(),W.Wc(41,"\n\n")),2&e&&(W.Db(9),W.tc("obj",t.chkToDate)("group",t.form),W.Db(10),W.tc("obj",t.dtReturnDate)("group",t.form),W.Db(3),W.tc("ngIf",t.dtToDate.Visible),W.Db(5),W.Xc(W.nc(28,8,"Submit")),W.Db(9),W.tc("obj",t.obj.PreviewGrid)("group",t.form))},directives:[E.a,i.t],pipes:[U.d],encapsulation:2}),Ge),xe=o("EUZL");function Le(e,t){if(1&e&&(W.Zb(0,"div",7),W.Wc(1,"\n                "),W.Vb(2,4),W.Wc(3,"\n            "),W.Yb()),2&e){var o=W.lc();W.Db(2),W.tc("obj",o.dtToDate)("group",o.form)}}function Fe(e,t){if(1&e&&(W.Zb(0,"div",16),W.Wc(1,"\n                        "),W.Vb(2,4),W.Wc(3,"\n                    "),W.Yb()),2&e){var o=W.lc().$implicit,n=W.lc();W.Db(2),W.tc("obj",n.obj.lstGridViewModel[o.Name])("group",n.form)}}function _e(e,t){if(1&e&&(W.Xb(0),W.Wc(1,"\n                "),W.Zb(2,"tab",14),W.hc("selectTab",(function(){return t.$implicit.IsAccordionOpen=!0})),W.Wc(3,"\n                    "),W.Uc(4,Fe,4,2,"div",15),W.Wc(5,"\n                "),W.Yb(),W.Wc(6,"\n              "),W.Wb()),2&e){var o=t.$implicit,n=W.lc();W.Db(2),W.tc("heading",o.Header)("removable",!1),W.Db(2),W.tc("ngIf",n.obj.lstGridViewModel[o.Name].Columns.length>0)}}var we,Pe=((we=function(e){_inherits(o,e);var t=_createSuper(o);function o(){var e;return _classCallCheck(this,o),(e=t.call(this)).form=new C.j({}),e}return _createClass(o,[{key:"ngOnInit",value:function(){var e,t,o;(null===(e=this.params)||void 0===e?void 0:e.obj)&&(this.obj=null===(t=this.params)||void 0===t?void 0:t.obj),this.ViewModel=null===(o=this.params)||void 0===o?void 0:o.obj,0!=this.obj.lstGridViewModel.length&&(this.tabMainVisibile=!1,this.LoadData(),this.obj.DisplayMessage.length>0&&(alert(this.obj.DisplayMessage),s.a.page.removeTab(this.obj)))}},{key:"LoadData",value:function(){for(var e=0;e<this.obj.lstGridViewModel.keys.length&&e<1;e++){var t=this.obj.lstGridViewModel.keys[e],o=new V;if(o.ReportBuilder_2(this.obj.dicReportID[t],t),this.obj.lstGSTReport.push(t,o),o.cmbReport_SelectionChanged(null,null),o.GetReportConfiguration(),o.DisplayMessage.length>0)return void(this.obj.DisplayMessage=o.DisplayMessage);if(o.objReport.QUERY=o.GetQuery(!0),0==o.objReport.QUERY.length&&"GSTR3_GSTR3B_OutwardInterStateDetail"!=t)return void(this.obj.DisplayMessage="Select Documents")}}}]),o}(function(){function e(){_classCallCheck(this,e),this.dtReturnDate=new p.a,this.dtToDate=new p.a,this.chkToDate=new R.a,this.tabMainVisibile=!1,this.txtUserName=new M.d,this.txtGSTIN=new M.d,this.txtOTP=new M.d,this.dtReturnDate.LblWidth="90",this.dtToDate.LblWidth="90",this.dtToDate.Label="To Date",this.dtToDate.Visible=!1,this.dtReturnDate.Date=Date.Today(),this.dtReturnDate.Label="Return Month",this.chkToDate.Label="Show To Date",this.chkToDate.CheckedChangedCommand.Subscribe(this,"onchkToDateClik")}return _createClass(e,[{key:"Button_Click",value:function(e){var t=this;if(this.ViewModel.DisplayMessage="","GetData"==e){this.tabMainVisibile=!0;var o=null,n=new Date(this.dtReturnDate.Date.getFullYear(),this.dtReturnDate.Date.getMonth(),1),a=null;this.dtToDate.Visible&&(n=this.dtReturnDate.Date,a=this.dtToDate.Date),this.ViewModel.dsGSTR2b2b=null,this.ViewModel.dsGSTR2b2bur=null;for(var i=0;i<this.ViewModel.lstGridViewModel.length;i++){var l={Key:this.ViewModel.lstGridViewModel.keys[i],Value:this.ViewModel.lstGridViewModel.values[i]},C=null;if("GSTR3_GSTR3B_Outward"==l.Key){var p=g.SetQueryWhere(this.ViewModel.lstGSTReport[l.Key].objReport.QUERY,l.Key,n,a);o={Tables:(C=s.a.report.ReportDataSet("RPT022",!1,p)).Tables.Copy(),Columns:C.Columns.Copy()},this.ViewModel.dtTaxTypeFilters=C.Tables[1]}else if("GSTR3_GSTR3B_OutwardDetail"==l.Key)C=o;else if("GSTR3_GSTR3B_EligibleITC"==l.Key||"GSTR3_GSTR3B_5"==l.Key||"GSTR3_GSTR3B_5_1"==l.Key){C={Tables:[],Columns:[]};var u=[];u.push({Sno:""}),C.Tables.push(u),C.Columns.push([]),C.Columns.push("Sno")}if(null!=C&&C.Tables.length>0){if(C.Columns[0].Contains("ErrorMessage"))return void(this.ViewModel.DisplayMessage=C.Tables[0][0].ErrorMessage.toString());var D=new Array;if(g.ResetData(l.Key,C,n,a,D,this.ViewModel),l.Value.Table=C.Tables[0],this.ViewModel.lstGSTReport.ContainsKey(l.Key)){for(var d=new Array,m=function(e){var o=t.ViewModel.lstGSTReport[l.Key].ReportGrid.Columns[e];if(0==o.CurrID)return"continue";var n=new T.a;n.ID=o.ID,n.Header=o.Header,n.Width=o.Width,n.ReadOnly=!0,n.DisplayMember=D.Contains(o.ID)?o.ID+"_Key":o.ID;var a=t.ViewModel.lstGSTReport[l.Key].Columns.find((function(e){return e.ID==o.ID}));n.DataType=a.DType,"FLOAT"==n.DataType&&(n.DecimalPoints=r.e.IsEmpty(a.Decimals)?"2":a.Decimals,"SUM"==a.Agg&&(n.ShowTotal=!0,n.IsCalculated=1)),d.push(n)},c=1;c<this.ViewModel.lstGSTReport[l.Key].ReportGrid.Columns.length;c++)m(c);l.Value.Columns=d,l.Value.RefreshColumns()}l.Value.refreshids(),l.Value.UpdateTotals()}}}else if("Export"==e){var I=xe.utils.json_to_sheet([{Name:"ABC",Age:22},{Name:"XYZ",Age:25}]);I["!merges"]=[{s:{r:1,c:0},e:{r:2,c:0}}],I["!cols"]=[{wpx:120},{wpx:80}];var h=xe.utils.book_new();h.SheetNames.push("Test"),h.Sheets.Test=I;var y=I[xe.utils.encode_cell({c:1,r:1})];y&&(y.z="0.00"),y.s={font:{name:"Arial",sz:20,bold:!0,color:{rgb:"88FF0055"}},fill:{color:{rgb:"88FF0055"},fgColor:{rgb:"FFFFAA00"}}},y={v:134550,s:{font:{name:"Arial",sz:20,bold:!0,color:{rgb:"88FF0055"}},fill:{color:{rgb:"88FF0055"},fgColor:{patternType:"solid",rgb:"FFFFAA00"}}}},I.A5=y;for(var S=0;S<10;S++){this.addEmptyRows(I,1);var b=xe.utils.encode_cell({c:1,r:S+3});(y=I[b])?y.v=S+1:I[b]={v:S+2}}xe.utils.sheet_add_aoa(I,[["enda",10],["b",20]],{origin:-1}),xe.writeFile(h,"test.xlsx",{bookType:"xlsx",type:"binary"})}else if("RETSAVE"==e||"Json"==e)if(this.tabMainVisibile){if(r.e.IsEmpty(this.txtGSTIN.Text))return void(this.ViewModel.DisplayMessage="Enter GSTIN");var A=new X(this.ViewModel.lstGridViewModel);if("RETSAVE"==e){if(r.e.IsEmpty(this.txtUserName.Text))return void(this.ViewModel.DisplayMessage="Enter UserName");this.ViewModel.DisplayMessage=A.UploadingGSTR(this.dtReturnDate.Date.iMonth().toString()+this.dtReturnDate.Date.getFullYear().toString(),"GSTR3B",this.txtUserName.Text,this.txtGSTIN.Text,this.txtOTP.Text)}else"Json"==e&&(this.ViewModel.DisplayMessage=A.GenerateJSON(this.dtReturnDate.Date.iMonth().toString()+this.dtReturnDate.Date.getFullYear().toString(),"GSTR3B",this.txtGSTIN.Text))}else this.ViewModel.DisplayMessage="First Load Report";else if("RETSUBMIT"==e){if(r.e.IsEmpty(this.txtGSTIN.Text))return void(this.ViewModel.DisplayMessage="Enter GSTIN");if(r.e.IsEmpty(this.txtUserName.Text))return void(this.ViewModel.DisplayMessage="Enter UserName");var N=new X(this.ViewModel.lstGridViewModel);this.ViewModel.DisplayMessage=N.SubmitingGSTR(this.dtReturnDate.Date.iMonth().toString()+this.dtReturnDate.Date.getFullYear().toString(),"GSTR3B",this.txtUserName.Text,this.txtGSTIN.Text,this.txtOTP.Text,e)}}},{key:"addEmptyRows",value:function(e,t){var o=xe.utils.decode_range(e["!ref"]);o.e.r+=t,e["!ref"]=xe.utils.encode_range(o)}},{key:"onchkToDateClik",value:function(){if(this.chkToDate.IsChecked){this.dtReturnDate.Label="From Date",this.dtToDate.Visible=!0;var e=Date.Today();this.dtReturnDate.Date=new Date(e.getFullYear(),e.getMonth(),1),this.dtToDate.Date=new Date(e.getFullYear(),e.getMonth(),e.DaysInMonth())}else this.dtReturnDate.Label="Return Month",this.dtToDate.Visible=!1}}]),e}())).\u0275fac=function(e){return new(e||we)},we.\u0275cmp=W.Nb({type:we,selectors:[["app-gstr3"]],features:[W.Ab],decls:53,vars:6,consts:[[2,"overflow","auto","height","110%"],[1,"page-header",2,"display","flex"],[1,"page-title"],[2,"width","140px","padding-left","20px"],["FieldDirective","",3,"obj","group"],[1,"section"],[1,"row","form-row"],[1,"form-group","col-xl-3","col-md-3","col-sm-6","col-xs-12","PACTControl"],["class","form-group col-xl-3 col-md-3 col-sm-6 col-xs-12 PACTControl",4,"ngIf"],[1,"form-group","col-xl-6","col-md-6","col-sm-12","col-xs-12","PACTControl",2,"display","block"],[1,"primary-btn-wicon",2,"width","70px",3,"click"],[1,"PACTTabFields","tab_content","tab-exrafields",2,"display","flex"],[1,"",2,"width","calc(100% - 30px)"],[4,"ngFor","ngForOf"],[3,"heading","removable","selectTab"],["style","width: calc(100% - 30px); height: calc(100% - 20px);",4,"ngIf"],[2,"width","calc(100% - 30px)","height","calc(100% - 20px)"]],template:function(e,t){1&e&&(W.Zb(0,"div",0),W.Wc(1,"\n    "),W.Zb(2,"div",1),W.Wc(3,"\n        "),W.Zb(4,"label",2),W.Wc(5,"GSTR-3"),W.Yb(),W.Wc(6,"\n        "),W.Zb(7,"div",3),W.Wc(8,"\n            "),W.Vb(9,4),W.Wc(10,"\n        "),W.Yb(),W.Wc(11,"\n    "),W.Yb(),W.Wc(12,"\n    "),W.Zb(13,"div",5),W.Wc(14,"\n        "),W.Zb(15,"div",6),W.Wc(16,"\n            "),W.Zb(17,"div",7),W.Wc(18,"\n                "),W.Vb(19,4),W.Wc(20,"\n            "),W.Yb(),W.Wc(21,"\n            "),W.Uc(22,Le,4,2,"div",8),W.Wc(23,"\n            "),W.Zb(24,"div",9),W.Wc(25,"\n                "),W.Zb(26,"button",10),W.hc("click",(function(){return t.Button_Click("GetData")})),W.Wc(27,"Get Data"),W.Yb(),W.Wc(28,"\n                "),W.Zb(29,"button",10),W.hc("click",(function(){return t.Button_Click("Export")})),W.Wc(30,"Export"),W.Yb(),W.Wc(31,"\n                "),W.Zb(32,"button",10),W.hc("click",(function(){return t.Button_Click("Json")})),W.Wc(33,"Json"),W.Yb(),W.Wc(34,"\n                "),W.Zb(35,"button",10),W.hc("click",(function(){return t.Button_Click("RETSAVE")})),W.Wc(36,"Upload"),W.Yb(),W.Wc(37,"\n                "),W.Zb(38,"button",10),W.hc("click",(function(){return t.Button_Click("RETSUBMIT")})),W.Wc(39,"Submit"),W.Yb(),W.Wc(40,"\n                "),W.Wc(41,"\n            "),W.Yb(),W.Wc(42,"\n        "),W.Yb(),W.Wc(43,"\n        \n        "),W.Zb(44,"div",11),W.Wc(45,"\n            "),W.Zb(46,"tabset",12),W.Wc(47,"\n               "),W.Uc(48,_e,7,3,"ng-container",13),W.Wc(49,"\n            "),W.Yb(),W.Wc(50,"\n        "),W.Yb(),W.Wc(51,"\n    "),W.Yb(),W.Wc(52,"\n"),W.Yb()),2&e&&(W.Db(9),W.tc("obj",t.chkToDate)("group",t.form),W.Db(10),W.tc("obj",t.dtReturnDate)("group",t.form),W.Db(3),W.tc("ngIf",t.dtToDate.Visible),W.Db(26),W.tc("ngForOf",t.obj.Tab.Tabs))},directives:[E.a,i.t,G.e,i.s,G.b],encapsulation:2}),we),Xe=function(e){_inherits(o,e);var t=_createSuper(o);function o(){var e;_classCallCheck(this,o),(e=t.call(this)).GSTR1=["b2b","b2cl","b2cs","cdnr","exemp","exp","at","atadj"],e.lstGSTReport=new D.a,e.dicReportID=new D.a,e.PreviewGrid=new d.a,e.PreviewGrid.Width="",e.PreviewGrid.Height=0,e.PreviewGrid.Columns=new Array;var n=new r.f;n.LoadXml(b.ColumnsXML("GSTR1Summary",S.None));for(var a=0;a<n.DocumentElement.children.length;a++){var i=new v(n.DocumentElement.children[a]);if(i.InUse){var l=new T.a;l.Header=i.Caption,l.DisplayMember=i.ID,l.Width=i.Width,l.ReadOnly=!0,l.DataType=i.DType,"FLOAT"==l.DataType&&(l.DecimalPoints=r.e.IsEmpty(i.Decimals)?"2":i.Decimals,"SUM"==i.Agg&&(l.ShowTotal=!0,l.IsCalculated=1)),e.PreviewGrid.Columns.push(l)}}for(var C=s.a.common.GetDataTable("GST001",""),p=function(t){var o=e.GSTR1[t],n=C.filter((function(e){return e.ReportName==o}));0!=n.length&&((new d.a).Width="",e.dicReportID.push(o,parseInt(n[0].ReportID)))},u=0;u<e.GSTR1.length;u++)p(u);return 0==e.dicReportID.length?e.DisplayMessage="No GSTR1 Reports Found":e.LoadData(),e}return _createClass(o,[{key:"LoadData",value:function(){for(var e=0;e<this.dicReportID.keys.length;e++){var t={Key:this.dicReportID.keys[e]},o=new V;if(o.ReportBuilder_2(this.dicReportID[t.Key],t.Key),o.ParentGSTType=S.GSTR1Summary,this.lstGSTReport.push(t.Key,o),o.cmbReport_SelectionChanged(null,null),o.GetReportConfiguration(),o.DisplayMessage.length>0)return void(this.DisplayMessage=o.DisplayMessage);if(o.objReport.QUERY=o.GetQuery(!0),0==o.objReport.QUERY.length)return void(this.DisplayMessage="Select Documents @ "+o.GSTType);"b2b"==o.GSTType||"b2cl"==o.GSTType||"b2cs"==o.GSTType||"cdnr"==o.GSTType?o.objReport.QUERY="select count(*) CNT,sum(InvValue) InvValue,sum(TaxableValue) TaxableValue,sum(CessAmt) CessAmt,sum(IntTaxAmt) IntTaxAmt,sum(CTaxAmt) CTaxAmt,sum(STaxAmt) STaxAmt from ("+o.objReport.QUERY+") as T":"exp"==o.GSTType?o.objReport.QUERY="select count(*) CNT,sum(InvValue) InvValue,sum(TaxableValue) TaxableValue,sum(IntTaxAmt) IntTaxAmt,sum(CTaxAmt) CTaxAmt,sum(STaxAmt) STaxAmt from ("+o.objReport.QUERY+") as T":"exemp"==o.GSTType&&(o.objReport.QUERY="select count(*) CNT,sum(NilRated) TaxableValue,sum(NilRated) InvValue from ("+o.objReport.QUERY+") as T")}}},{key:"OnSubmit",value:function(e,t){var o=this;this.PreviewGrid.Clear();for(var n=function(n){var a={Key:o.lstGSTReport.keys[n]},i=g.SetQueryWhere(o.lstGSTReport[a.Key].objReport.QUERY,a.Key,e,t);console.log(a.Key+" Query :\r\n"+i);var l=s.a.report.ReportDataSet("RPT022",!1,i);if(null!=l&&l.Tables.length>0){if(l.Columns[0].Contains("ErrorMessage"))return{v:void(o.DisplayMessage=l.Tables[0][0].ErrorMessage.toString())};"at"==a.Key?N.Update_at(l,!0):"atadj"==a.Key&&N.Update_atadj(l,!0);var C=o.PreviewGrid.NewRow();C.Particulars="b2b"==a.Key?"B2B Invoices":"b2cl"==a.Key?"B2C(Large) Invoices":"b2cs"==a.Key?"B2C(Small) Invoices":"cdnr"==a.Key?"Credit/Debit Notes":"exemp"==a.Key?"Nil Rated Invoices":"exp"==a.Key?"Exports Invoices":"at"==a.Key?"Tax Liability on Advances":"atadj"==a.Key?"Setoff Tax Paid against Advances":a.Key,l.Tables[0].length>0&&o.PreviewGrid.Columns.forEach((function(e){l.Columns[0].Contains(e.DisplayMember)&&(C[e.DisplayMember]=l.Tables[0][0][e.DisplayMember])})),o.PreviewGrid.addRow(C)}},a=0;a<this.lstGSTReport.length;a++){var i=n(a);if("object"==typeof i)return i.v}this.PreviewGrid.UpdateTotals()}}]),o}(u.b),Be=function(e){_inherits(o,e);var t=_createSuper(o);function o(){var e;_classCallCheck(this,o),(e=t.call(this)).GSTR3=["GSTR3_GSTR3B_Outward"],e.lstGSTReport=new D.a,e.lstGridViewModel=new D.a,e.dicReportID=new D.a,e.dsGSTR2b2b=null,e.dsGSTR2b2bur=null,e.dtTaxTypeFilters=null,e.Tab=new m.a,g.GSTR3ViewModel=o;for(var n=s.a.common.GetDataTable("GST006",""),a=function(t){var o=e.GSTR3[t],a=n.filter((function(e){return e.ReportName==o}));if(0==a.length)return"continue";var i=new d.a;i.Width="",i.Height=0,e.lstGridViewModel.push(o,i),e.dicReportID.push(o,parseInt(a[0].ReportID));var l=new m.b;l.Name=o,l.Header=o.replace("GSTR3_",""),l.Fields.push(i),e.Tab.Tabs.push(l),"GSTR3_GSTR3B_Outward"==o&&(l.Header="3.1 Details of Outward and Inward",e.AddTab("GSTR3_GSTR3B_OutwardDetail","3.2 Details of inter-state"),e.AddTab("GSTR3_GSTR3B_EligibleITC","4.Eligible ITC"),e.AddTab("GSTR3_GSTR3B_5","5.Values of exempt, Nil-rated and non-GST inward"),e.AddTab("GSTR3_GSTR3B_5_1","5.1 Interest & late fee payable"))},i=0;i<e.GSTR3.length;i++)a(i);return 0==e.lstGridViewModel.length&&(e.DisplayMessage="No GSTR3 Reports Found"),e}return _createClass(o,[{key:"AddTab",value:function(e,t){var o=new d.a;o.Width="",o.Height=0;var n=new r.f;n.LoadXml(b.ColumnsXML(e,S.None));for(var a=new Array,i=0;i<n.DocumentElement.children.length;i++){var l=new v(n.DocumentElement.children[i]);l.dgColumn.DataType=l.DType,l.dgColumn.FilterCondition="",l.dgColumn.FilterColumn="",l.dgColumn.ValueMember="",l.dgColumn.DisplayMember=l.ID,l.dgColumn.ReadOnly=!0,l.dgColumn.ShowTotal=!0,"FLOAT"==l.DType&&(l.dgColumn.DecimalPoints=r.e.IsEmpty(l.Decimals)?"2":l.Decimals,"GSTR3_GSTR3B_EligibleITC"==e||"GSTR3_GSTR3B_5"==e?l.dgColumn.ShowTotal=!1:"SUM"==l.Agg&&(l.dgColumn.ShowTotal=!0,l.dgColumn.IsCalculated=1)),a.push(l.dgColumn)}o.Columns=a,this.lstGridViewModel.push(e,o);var C=new m.b;C.Name=e,C.Header=t,C.Fields.push(o),this.Tab.Tabs.push(C)}}],[{key:"Update_GSTR3_GSTR3B",value:function(e,t,o,n,a){var i,l=null,C="",p=[];if("GSTR3_GSTR3B_Outward"==e){if((i={}).Description="(a) Outward Taxable  supplies  (other than zero rated, nil rated and exempted)",t.Tables[0].length>0&&(C="",t.Tables[1].forEach((function(e){C.length>0&&(C+=" and "),C+="GSTTaxType<>'"+e.Caption.toString()+"'"})),C="(("+C+") or GSTTaxType is null) and (GSTPartyType is null or (GSTPartyType<>'Export' and GSTPartyType<>'SEZ' and GSTPartyType<>'Deemed Export' and GSTPartyType<>'Government Entity'))",i.TaxableValue=t.Tables[0].Compute("sum(TaxableValue)",C),i.IntTaxAmt=t.Tables[0].Compute("sum(IntTaxAmt)",C),i.CTaxAmt=t.Tables[0].Compute("sum(CTaxAmt)",C),i.STaxAmt=t.Tables[0].Compute("sum(STaxAmt)",C),i.CessAmt=t.Tables[0].Compute("sum(CessAmt)",C)),p.push(i),(i={}).Description="(b) Outward Taxable  supplies  (zero rated )",t.Tables[0].length>0){var T=t.Tables[1].fiter("Type='ZERO'");T.length>0&&(C="GSTTaxType='"+T[0].Caption.toString()+"' or (GSTPartyType='Export' or GSTPartyType='SEZ' or GSTPartyType='Deemed Export' or GSTPartyType='Government Entity')",i.TaxableValue=t.Tables[0].Compute("sum(TaxableValue)",C),i.IntTaxAmt=t.Tables[0].Compute("sum(IntTaxAmt)",C),i.CessAmt=t.Tables[0].Compute("sum(CessAmt)",C))}if(p.push(i),(i={}).Description="(c) Other Outward Taxable  supplies (Nil rated, exempted)",t.Tables[0].length>0){var u=t.Tables[1].filter((function(e){return"NIL"==e.Type||"EXEMPTED"==e.Type}));u.length>1&&(C="(GSTTaxType='"+u[0].Caption.toString()+"' or GSTTaxType='"+u[1].Caption.toString()+"')",i.TaxableValue=t.Tables[0].Compute("sum(TaxableValue)",C))}var d;p.push(i),(i={}).Description="(d) Inward supplies (liable to reverse charge) ";var m=s.a.common.GetDataTable("GST007","GSTR2_b2b");if(m.length>0){var c=m[0].Query.toString();c=g.SetQueryWhere(c,"GSTR3_GSTR3B_Outward",o,n),(d=s.a.report.ReportDataSet("RPT022",!1,c)).Tables[0].length>0&&(A.Add_AvailedITC("GSTR2_b2b",d),null!=a&&(a.dsGSTR2b2b=d.Copy()),d.Tables[0].length>0&&(i.TaxableValue=d.Tables[0].Compute("sum(TaxableValue)","ReverseCharge='Y' or ReverseCharge='YES'"),i.IntTaxAmt=d.Tables[0].Compute("sum(IntTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),i.CTaxAmt=d.Tables[0].Compute("sum(CTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),i.STaxAmt=d.Tables[0].Compute("sum(STaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),i.CessAmt=d.Tables[0].Compute("sum(CessAmt)","ReverseCharge='Y' or ReverseCharge='YES'")))}if((m=s.a.common.GetDataTable("GST007","GSTR2_b2bur")).length>0){var I=m[0].Query.toString();if(I=g.SetQueryWhere(I,"GSTR2_b2bur",o,n),(d=s.a.report.ReportDataSet("RPT022",!1,I)).Tables[0].length>0&&(A.Add_AvailedITC("GSTR2_b2bur",d),null!=a&&(a.dsGSTR2b2bur=d.Copy()),d.Tables[0].length>0)){var h=d.Tables[0].Compute("sum(TaxableValue)","ReverseCharge='Y' or ReverseCharge='YES'");null!=h&&(i.TaxableValue=null==i.TaxableValue?h:parseFloat(i.TaxableValue)+parseFloat(h)),null!=(h=d.Tables[0].Compute("sum(IntTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"))&&(i.IntTaxAmt=null==i.IntTaxAmt?h:parseFloat(i.IntTaxAmt)+parseFloat(h)),null!=(h=d.Tables[0].Compute("sum(CTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"))&&(i.CTaxAmt=null==i.CTaxAmt?h:parseFloat(i.CTaxAmt)+parseFloat(h)),null!=(h=d.Tables[0].Compute("sum(STaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"))&&(i.STaxAmt=null==i.STaxAmt?h:parseFloat(i.STaxAmt)+parseFloat(h)),null!=(h=d.Tables[0].Compute("sum(CessAmt)","ReverseCharge='Y' or ReverseCharge='YES'"))&&(i.CessAmt=null==i.CessAmt?h:parseFloat(i.CessAmt)+parseFloat(h))}}if(p.push(i),(i={}).Description="(e) Non-GST Outward supplies",t.Tables[0].length>0){var y=t.Tables[1].filter((function(e){return"NONGST"==e.Type}));y.length>0&&(C="GSTTaxType='"+y[0].Caption.toString()+"'",i.TaxableValue=t.Tables[0].Compute("sum(TaxableValue)",C))}p.push(i)}else if("GSTR3_GSTR3B_OutwardDetail"==e){(l=t.Tables[0].filter((function(e){return e.FromState!=e.ToState}))).SortBy(["Pos"]);var S=new D.a;l.forEach((function(e){var t=e.PoS.toString();S.ContainsKey(t)||S.push(t,new Array(6).fill(0)),0==r.e.stringCompare(e.GSTRegistrationType.toString(),"Unregistered",!0)?(null!=e.TaxableValue&&(S[t][0]+=parseFloat(e.TaxableValue)),null!=e.IntTaxAmt&&(S[t][1]+=parseFloat(e.IntTaxAmt))):0==r.e.stringCompare(e.GSTRegistrationType.toString(),"Composition",!0)?(null!=e.TaxableValue&&(S[t][2]+=parseFloat(e.TaxableValue)),null!=e.IntTaxAmt&&(S[t][3]+=parseFloat(e.IntTaxAmt))):0!=r.e.stringCompare(e.GSTRegistrationType.toString(),"UIN holders",!0)&&0!=r.e.stringCompare(e.GSTRegistrationType.toString(),"UINholders",!0)||(null!=e.TaxableValue&&(S[t][4]+=parseFloat(e.TaxableValue)),null!=e.IntTaxAmt&&(S[t][5]+=parseFloat(e.IntTaxAmt)))})),S.keys.forEach((function(e){var t={Key:e,Value:S[e]};0==t.Value[0]&&0==t.Value[1]&&0==t.Value[2]&&0==t.Value[3]&&0==t.Value[4]&&0==t.Value[5]||((i={}).PoS=t.Key,i.TaxableValueUnregistered=t.Value[0],i.IntTaxAmtUnregistered=t.Value[1],i.TaxableValueComposition=t.Value[2],i.IntTaxAmtComposition=t.Value[3],i.TaxableValueUINholders=t.Value[4],i.IntTaxAmtUINholders=t.Value[5],p.push(i))}))}else if("GSTR3_GSTR3B_EligibleITC"==e){var b,N=null,R=0,f=0,M=0,O=0,V=0;(i={}).Details="(A) ITC Available (Whether in full or part)",i.StyleIsBold=1,p.push(i),(i={}).Details="   (1)\xa0Import of goods";var v=s.a.common.GetDataTable("GST007","GSTR2_impg");if(v.length>0){var W=v[0].Query.toString();W=g.SetQueryWhere(W,"GSTR2_impg",o,n);var E=s.a.report.ReportDataSet("RPT022",!1,W);E.Tables[0].length>0&&(A.Add_AvailedITC("GSTR2_impg",E),E.Tables[0].length>0&&(V=null!=(b=E.Tables[0].Compute("sum(IntTaxAmt)",""))?parseFloat(b):0,i.IntTaxAmt=V,R+=V,V=null!=(b=E.Tables[0].Compute("sum(CessAmt)",""))?parseFloat(b):0,i.CessAmt=V,O+=V))}if(p.push(i),(i={}).Details="   (2)\xa0Import of services",(v=s.a.common.GetDataTable("GST007","GSTR2_imps")).length>0){var G=v[0].Query.toString();G=g.SetQueryWhere(G,"GSTR2_imps",o,n);var U=s.a.report.ReportDataSet("RPT022",!1,G);U.Tables[0].length>0&&(A.Add_AvailedITC("GSTR2_imps",U),U.Tables[0].length>0&&(V=null!=(b=U.Tables[0].Compute("sum(IntTaxAmt)",""))?parseFloat(b):0,i.IntTaxAmt=V,R+=V,V=null!=(b=U.Tables[0].Compute("sum(CessAmt)",""))?parseFloat(b):0,i.CessAmt=V,O+=V))}if(p.push(i),(i={}).Details="   (3) Inward supplies liable to reverse charge(other than 1 &2 above)",null!=a.dsGSTR2b2b&&(V=null!=(b=a.dsGSTR2b2b.Tables[0].Compute("sum(IntTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"))?parseFloat(b):0,i.IntTaxAmt=V,R+=V,V=null!=(b=a.dsGSTR2b2b.Tables[0].Compute("sum(ITCCTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"))?parseFloat(b):0,i.CTaxAmt=V,f+=V,V=null!=(b=a.dsGSTR2b2b.Tables[0].Compute("sum(ITCSTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"))?parseFloat(b):0,i.STaxAmt=V,M+=V,V=null!=(b=a.dsGSTR2b2b.Tables[0].Compute("sum(ITCCessAmt)","ReverseCharge='Y' or ReverseCharge='YES'"))?parseFloat(b):0,i.CessAmt=V,O+=V),null!=a.dsGSTR2b2bur&&(R+=V=null!=(b=a.dsGSTR2b2bur.Tables[0].Compute("sum(IntTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"))?parseFloat(b):0,null!=b&&(i.IntTaxAmt=null==i.IntTaxAmt?V:parseFloat(i.IntTaxAmt)+V),f+=V=null!=(b=a.dsGSTR2b2bur.Tables[0].Compute("sum(ITCCTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"))?parseFloat(b):0,null!=b&&(i.CTaxAmt=null==i.CTaxAmt?V:parseFloat(i.CTaxAmt)+V),M+=V=null!=(b=a.dsGSTR2b2bur.Tables[0].Compute("sum(ITCSTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"))?parseFloat(b):0,null!=b&&(i.STaxAmt=null==i.STaxAmt?V:parseFloat(i.STaxAmt)+V),O+=V=null!=(b=a.dsGSTR2b2bur.Tables[0].Compute("sum(ITCCessAmt)","ReverseCharge='Y' or ReverseCharge='YES'"))?parseFloat(b):0,null!=b&&(i.CessAmt=null==i.CessAmt?V:parseFloat(i.CessAmt)+V)),p.push(i),(i={}).Details="   (4) Inward supplies from ISD",p.push(i),(v=s.a.common.GetDataTable("GST007","GSTR2_cdnr")).length>0){var x=v[0].Query.toString();x=g.SetQueryWhere(x,"GSTR2_cdnr",o,n),null!=(N=s.a.report.ReportDataSet("RPT022",!1,x))&&N.Tables[0].length>0&&A.Add_AvailedITC("GSTR2_cdnr",N)}(i={}).Details="   (5) All other ITC",null!=a.dsGSTR2b2b&&(V=null!=(b=a.dsGSTR2b2b.Tables[0].Compute("sum(ITCIntTaxAmt)","GSTRegistrationType='Regular' and (ReverseCharge is null or (ReverseCharge<>'Y' and ReverseCharge<>'YES'))"))?parseFloat(b):0,i.IntTaxAmt=V,R+=V,V=null!=(b=a.dsGSTR2b2b.Tables[0].Compute("sum(ITCCTaxAmt)","GSTRegistrationType='Regular' and (ReverseCharge is null or (ReverseCharge<>'Y' and ReverseCharge<>'YES'))"))?parseFloat(b):0,i.CTaxAmt=V,f+=V,V=null!=(b=a.dsGSTR2b2b.Tables[0].Compute("sum(ITCSTaxAmt)","GSTRegistrationType='Regular' and (ReverseCharge is null or (ReverseCharge<>'Y' and ReverseCharge<>'YES'))"))?parseFloat(b):0,i.STaxAmt=V,M+=V,V=null!=(b=a.dsGSTR2b2b.Tables[0].Compute("sum(ITCCessAmt)","GSTRegistrationType='Regular' and (ReverseCharge is null or (ReverseCharge<>'Y' and ReverseCharge<>'YES'))"))?parseFloat(b):0,i.CessAmt=V,O+=V),null!=N&&N.Tables[0].length>0&&(V=null!=(b=N.Tables[0].Compute("sum(ITCIntTaxAmt)","DocumentType='C'"))?parseFloat(b):0,i.IntTaxAmt=V+(null==i.IntTaxAmt?0:parseFloat(i.IntTaxAmt)),R+=V,V=null!=(b=N.Tables[0].Compute("sum(ITCCTaxAmt)","DocumentType='C'"))?parseFloat(b):0,i.CTaxAmt=V+(null==i.CTaxAmt?0:parseFloat(i.CTaxAmt)),f+=V,V=null!=(b=N.Tables[0].Compute("sum(ITCSTaxAmt)","DocumentType='C'"))?parseFloat(b):0,i.STaxAmt=V+(null==i.STaxAmt?0:parseFloat(i.STaxAmt)),M+=V,V=null!=(b=N.Tables[0].Compute("sum(ITCCessAmt)","DocumentType='C'"))?parseFloat(b):0,i.CessAmt=V+(null==i.CessAmt?0:parseFloat(i.CessAmt)),O+=V,V=null!=(b=N.Tables[0].Compute("sum(ITCIntTaxAmt)","DocumentType='D'"))?parseFloat(b):0,i.IntTaxAmt=(null==i.IntTaxAmt?0:parseFloat(i.IntTaxAmt))-V,R-=V,V=null!=(b=N.Tables[0].Compute("sum(ITCCTaxAmt)","DocumentType='D'"))?parseFloat(b):0,i.CTaxAmt=(null==i.CTaxAmt?0:parseFloat(i.CTaxAmt))-V,f-=V,V=null!=(b=N.Tables[0].Compute("sum(ITCSTaxAmt)","DocumentType='D'"))?parseFloat(b):0,i.STaxAmt=(null==i.STaxAmt?0:parseFloat(i.STaxAmt))-V,M-=V,V=null!=(b=N.Tables[0].Compute("sum(ITCCessAmt)","DocumentType='D'"))?parseFloat(b):0,i.CessAmt=(null==i.CessAmt?0:parseFloat(i.CessAmt))-V,O-=V),p.push(i),(i={}).Details="(B) ITC Reversed",i.StyleIsBold=1,p.push(i),(i={}).Details="   (1)\xa0As per Rule 42 & 43 of SGST/CGST rules ",p.push(i),(i={}).Details="   (2) Others",p.push(i),(i={}).Details="(C) Net ITC Available (A)-(B)",i.StyleIsBold=1,i.IntTaxAmt=R,i.CTaxAmt=f,i.STaxAmt=M,i.CessAmt=O,p.push(i),(i={}).Details="(D) Ineligible ITC",i.StyleIsBold=1,p.push(i),(i={}).Details="   (1) As per section 17(5) of CGST/SGST Act",null!=a.dsGSTR2b2b&&(V=null!=(b=a.dsGSTR2b2b.Tables[0].Compute("sum(IntTaxAmt)-sum(ITCIntTaxAmt)","GSTRegistrationType='Regular'"))?parseFloat(b):0,i.IntTaxAmt=V,R+=V,V=null!=(b=a.dsGSTR2b2b.Tables[0].Compute("sum(CTaxAmt)-sum(ITCCTaxAmt)","GSTRegistrationType='Regular'"))?parseFloat(b):0,i.CTaxAmt=V,f+=V,V=null!=(b=a.dsGSTR2b2b.Tables[0].Compute("sum(STaxAmt)-sum(ITCSTaxAmt)","GSTRegistrationType='Regular'"))?parseFloat(b):0,i.STaxAmt=V,M+=V,V=null!=(b=a.dsGSTR2b2b.Tables[0].Compute("sum(CessAmt)-sum(ITCCessAmt)","GSTRegistrationType='Regular'"))?parseFloat(b):0,i.CessAmt=V,O+=V),p.push(i),(i={}).Details="   (2) Others",p.push(i),(i={}).Details="TOTAL",i.StyleIsBold=1,i.IntTaxAmt=R,i.CTaxAmt=f,i.STaxAmt=M,i.CessAmt=O,p.push(i)}else if("GSTR3_GSTR3B_5"==e){var L=0,F=0,_=0;if((i={}).Natureofsupplies="From a supplier under composition scheme, Exempt  and Nil rated supply",i.InterState=0,i.IntraState=0,null!=a.dsGSTR2b2b){var w=a.dtTaxTypeFilters.filter((function(e){return"NIL"==e.Type||"EXEMPTED"==e.Type}));if(w.length>1){C="GSTRegistrationType='Composition' or GSTTaxType='"+w[0].Caption.toString()+"' or GSTTaxType='"+w[1].Caption.toString()+"'",l=a.dsGSTR2b2b.Tables[0].filter((function(e){return"Composition"==e.GSTRegistrationType||"Exempted"==e.GSTTaxType||"Nil"==e.GSTTaxType}));for(var P=0;P<l.length;P++){var X=l[P];null!=X.TaxableValue&&(_=parseFloat(X.TaxableValue),"Inter State"==X.SupplyType.toString()?(i.InterState=parseFloat(i.InterState)+_,L+=_):(i.IntraState=parseFloat(i.IntraState)+_,F+=_))}}}if(null!=a.dsGSTR2b2bur){var B=a.dtTaxTypeFilters.filter((function(e){return"NIL"==e.Type||"EXEMPTED"==e.Type}));if(B.length>1){C="GSTRegistrationType='Composition' or GSTTaxType='"+B[0].Caption.toString()+"' or GSTTaxType='"+B[1].Caption.toString()+"'",l=a.dsGSTR2b2bur.Tables[0].filter((function(e){return e.strFilter}));for(var k=0;k<l.length;k++){var j=l[k];null!=j.TaxableValue&&(_=parseFloat(j.TaxableValue),"Inter State"==j.SupplyType.toString()?(i.InterState=parseFloat(i.InterState)+_,L+=_):(i.IntraState=parseFloat(i.IntraState)+_,F+=_))}}}if(p.push(i),(i={}).Natureofsupplies="Non GST supply",i.InterState=0,i.IntraState=0,null!=a.dsGSTR2b2b){var H=a.dtTaxTypeFilters.filter((function(e){return"NONGST"==e.Type}));if(H.length>0){C="GSTTaxType='"+H[0].Caption.toString()+"'",l=a.dsGSTR2b2b.Tables[0].filter((function(e){return e.strFilter}));for(var Y=0;Y<l.length;Y++){var K=l[Y];null!=K.TaxableValue&&(_=parseFloat(K.TaxableValue),"Inter State"==K.SupplyType.toString()?(i.InterState=parseFloat(i.InterState)+_,L+=_):(i.IntraState=parseFloat(i.IntraState)+_,F+=_))}}}if(null!=a.dsGSTR2b2bur){var Q=a.dtTaxTypeFilters.filter((function(e){return"NONGST"==e.Type}));if(Q.length>0){C="GSTTaxType='"+Q[0].Caption.toString()+"'",l=a.dsGSTR2b2bur.Tables[0].filter((function(e){return e.strFilter}));for(var Z=0;Z<l.length;Z++){var J=l[Z];null!=J.TaxableValue&&(_=parseFloat(J.TaxableValue),"Inter State"==J.SupplyType.toString()?(i.InterState=parseFloat(i.InterState)+_,L+=_):(i.IntraState=parseFloat(i.IntraState)+_,F+=_))}}}p.push(i),(i={}).Natureofsupplies="Total",i.StyleIsBold=1,i.InterState=L,i.IntraState=F,p.push(i)}t.Tables.Clear(),t.Tables.push(p)}}]),o}(u.b);function ke(e,t){if(1&e&&(W.Zb(0,"div",7),W.Wc(1,"\n                "),W.Vb(2,4),W.Wc(3,"\n            "),W.Yb()),2&e){var o=W.lc();W.Db(2),W.tc("obj",o.dtToDate)("group",o.form)}}function je(e,t){if(1&e&&(W.Zb(0,"div",15),W.Wc(1,"\n                        "),W.Vb(2,4),W.Wc(3,"\n                    "),W.Yb()),2&e){var o=W.lc().$implicit,n=W.lc();W.Db(2),W.tc("obj",n.obj.lstGridViewModel[o.Name])("group",n.form)}}function He(e,t){if(1&e&&(W.Xb(0),W.Wc(1,"\n                "),W.Zb(2,"tab",13),W.hc("selectTab",(function(){return t.$implicit.IsAccordionOpen=!0})),W.Wc(3,"\n                    "),W.Uc(4,je,4,2,"div",14),W.Wc(5,"\n                "),W.Yb(),W.Wc(6,"\n              "),W.Wb()),2&e){var o=t.$implicit,n=W.lc();W.Db(2),W.tc("heading",o.Header)("removable",!1),W.Db(2),W.tc("ngIf",n.obj.lstGridViewModel[o.Name].Columns.length>0)}}var Ye,Ke=((Ye=function(e){_inherits(o,e);var t=_createSuper(o);function o(){var e;return _classCallCheck(this,o),(e=t.call(this)).form=new C.j({}),e}return _createClass(o,[{key:"ngOnInit",value:function(){var e,t,o;(null===(e=this.params)||void 0===e?void 0:e.obj)&&(this.obj=null===(t=this.params)||void 0===t?void 0:t.obj),this.ViewModel=null===(o=this.params)||void 0===o?void 0:o.obj,0!=this.obj.lstGridViewModel.length&&(this.LoadData(),this.obj.DisplayMessage.length>0&&(alert(this.obj.DisplayMessage),s.a.page.removeTab(this.obj)))}},{key:"LoadData",value:function(){for(var e=0;e<this.obj.lstGridViewModel.keys.length;e++){var t=this.obj.lstGridViewModel.keys[e],o=new V;if(o.ReportBuilder_2(this.obj.dicReportID[t],t),this.obj.lstGSTReport.push(t,o),o.cmbReport_SelectionChanged(null,null),o.GetReportConfiguration(),o.DisplayMessage.length>0)return void(this.obj.DisplayMessage=t+" :: "+o.DisplayMessage);if(o.objReport.QUERY=o.GetQuery(!0),0==o.objReport.QUERY.length)return void(this.obj.DisplayMessage=t+" :: Select Documents")}}}]),o}(function(){function e(){_classCallCheck(this,e),this.dtReturnDate=new p.a,this.dtToDate=new p.a,this.chkToDate=new R.a,this.dtReturnDate.LblWidth="90",this.dtToDate.LblWidth="90",this.dtToDate.Label="To Date",this.dtToDate.Visible=!1,this.dtReturnDate.Date=Date.Today(),this.dtReturnDate.Label="Return Month",this.chkToDate.Label="Show To Date",this.chkToDate.CheckedChangedCommand.Subscribe(this,"onchkToDateClik")}return _createClass(e,[{key:"Button_Click",value:function(e){var t=this;if(this.ViewModel.DisplayMessage="","Submit"==e){var o=new Date(this.dtReturnDate.Date.getFullYear(),this.dtReturnDate.Date.getMonth(),1),n=null;this.dtToDate.Visible&&(o=this.dtReturnDate.Date,n=this.dtToDate.Date);for(var a=function(e){var a={Key:t.ViewModel.lstGridViewModel.keys[e],Value:t.ViewModel.lstGridViewModel.values[e]},i=g.SetQueryWhere(t.ViewModel.lstGSTReport[a.Key].objReport.QUERY,a.Key,o,n),l=s.a.report.ReportDataSet("RPT022",!1,i);if(null!=l&&l.Tables.length>0){if(l.Columns[0].Contains("ErrorMessage"))return{v:void(t.ViewModel.DisplayMessage=l.Tables[0][0].ErrorMessage.toString())};var C=new Array;g.ResetData(a.Key,l,o,n,C);for(var p=new Array,u=function(e){var o=t.ViewModel.lstGSTReport[a.Key].ReportGrid.Columns[e];if(0==o.CurrID)return"continue";var n=new T.a;n.ID=o.ID,n.Header=o.Header,n.Width=o.Width,n.ReadOnly=!0,n.DisplayMember=C.Contains(o.ID)?o.ID+"_Key":o.ID;var i=t.ViewModel.lstGSTReport[a.Key].Columns.find((function(e){return e.ID==o.ID}));n.DataType=i.DType,"FLOAT"==n.DataType&&(n.DecimalPoints=r.e.IsEmpty(i.Decimals)?"2":i.Decimals,"SUM"==i.Agg&&(n.ShowTotal=!0,n.IsCalculated=1)),p.push(n)},D=1;D<t.ViewModel.lstGSTReport[a.Key].ReportGrid.Columns.length;D++)u(D);l.Tables[0].forEach((function(e){e.id=a.Value.rowid})),a.Value.Table=l.Tables[0],a.Value.Columns=p,a.Value.RefreshColumns(),a.Value.UpdateTotals()}},i=0;i<this.ViewModel.lstGridViewModel.length;i++){var l=a(i);if("object"==typeof l)return l.v}}}},{key:"onchkToDateClik",value:function(){if(this.chkToDate.IsChecked){this.dtReturnDate.Label="From Date",this.dtToDate.Visible=!0;var e=Date.Today();this.dtReturnDate.Date=new Date(e.getFullYear(),e.getMonth(),1),this.dtToDate.Date=new Date(e.getFullYear(),e.getMonth(),e.DaysInMonth())}else this.dtReturnDate.Label="Return Month",this.dtToDate.Visible=!1}}]),e}())).\u0275fac=function(e){return new(e||Ye)},Ye.\u0275cmp=W.Nb({type:Ye,selectors:[["app-anx1"]],features:[W.Ab],decls:41,vars:9,consts:[[2,"overflow","auto","height","110%"],[1,"page-header",2,"display","flex"],[1,"page-title"],[2,"width","140px","padding-left","20px"],["FieldDirective","",3,"obj","group"],[1,"section"],[1,"row","form-row"],[1,"form-group","col-xl-3","col-md-4","col-sm-6","col-xs-12","PACTControl"],["class","form-group col-xl-3 col-md-4 col-sm-6 col-xs-12 PACTControl",4,"ngIf"],[1,"primary-btn-wicon",2,"width","80px",3,"click"],[1,"PACTTabFields","tab_content","tab-exrafields",2,"display","flex"],[1,"",2,"width","calc(100% - 30px)"],[4,"ngFor","ngForOf"],[3,"heading","removable","selectTab"],["style","width: calc(100% - 30px); height: calc(100% - 20px);",4,"ngIf"],[2,"width","calc(100% - 30px)","height","calc(100% - 20px)"]],template:function(e,t){1&e&&(W.Zb(0,"div",0),W.Wc(1,"\n    "),W.Zb(2,"div",1),W.Wc(3,"\n        "),W.Zb(4,"label",2),W.Wc(5,"ANX-1"),W.Yb(),W.Wc(6,"\n        "),W.Zb(7,"div",3),W.Wc(8,"\n            "),W.Vb(9,4),W.Wc(10,"\n        "),W.Yb(),W.Wc(11,"\n    "),W.Yb(),W.Wc(12,"\n    "),W.Zb(13,"div",5),W.Wc(14,"\n        "),W.Zb(15,"div",6),W.Wc(16,"\n            "),W.Zb(17,"div",7),W.Wc(18,"\n                "),W.Vb(19,4),W.Wc(20,"\n            "),W.Yb(),W.Wc(21,"\n            "),W.Uc(22,ke,4,2,"div",8),W.Wc(23,"\n            "),W.Zb(24,"div",7),W.Wc(25,"\n                "),W.Zb(26,"button",9),W.hc("click",(function(){return t.Button_Click("Submit")})),W.Wc(27),W.mc(28,"translate"),W.Yb(),W.Wc(29,"\n            "),W.Yb(),W.Wc(30,"\n        "),W.Yb(),W.Wc(31,"\n        \n        "),W.Zb(32,"div",10),W.Wc(33,"\n            "),W.Zb(34,"tabset",11),W.Wc(35,"\n               "),W.Uc(36,He,7,3,"ng-container",12),W.Wc(37,"\n            "),W.Yb(),W.Wc(38,"\n        "),W.Yb(),W.Wc(39,"\n    "),W.Yb(),W.Wc(40,"\n"),W.Yb()),2&e&&(W.Db(9),W.tc("obj",t.chkToDate)("group",t.form),W.Db(10),W.tc("obj",t.dtReturnDate)("group",t.form),W.Db(3),W.tc("ngIf",t.dtToDate.Visible),W.Db(5),W.Xc(W.nc(28,7,"Submit")),W.Db(9),W.tc("ngForOf",t.obj.Tab.Tabs))},directives:[E.a,i.t,G.e,i.s,G.b],pipes:[U.d],encapsulation:2}),Ye),Qe=function(e){_inherits(o,e);var t=_createSuper(o);function o(){var e;_classCallCheck(this,o),(e=t.call(this)).ANX1=["ANX1_B2C","ANX1_B2B","ANX1_EXP","ANX1_SEZ","ANX1_DE","ANX1_REV","ANX1_IMPS","ANX1_IMPG","ANX1_IMPGSEZ","ANX1_ECOM"],e.lstGSTReport=new D.a,e.lstGridViewModel=new D.a,e.dicReportID=new D.a,e.Tab=new m.a;for(var n=s.a.common.GetDataTable("GST008",""),a=function(t){var o=e.ANX1[t],a=n.filter((function(e){return e.ReportName==o}));if(0==a.length)return"continue";var i=new d.a;i.Width="",i.Height=0,i.HeaderHeight=36,e.lstGridViewModel.push(o,i),e.dicReportID.push(o,parseInt(a[0].ReportID));var l=new m.b;l.Name=o,l.Header=o.replace("ANX1_",""),l.Fields.push(i),e.Tab.Tabs.push(l)},i=0;i<e.ANX1.length;i++)a(i);return 0==e.lstGridViewModel.length&&(e.DisplayMessage="No ANX1 Reports Found"),e}return _createClass(o,null,[{key:"Add_AvailedITC",value:function(e,t){var o=!0,n="BillDate",a="BillNo";"ANX1_b2bur"==e||"ANX1_cdnr"==e||"ANX1_cdnur"==e?(n="DocDate",a="VoucherNo"):"ANX1_imps"!=e&&"ANX1_impg"!=e||(o=!1),t.Tables[0].Columns.push("ITCIntTaxAmt"),t.Tables[0].Columns.push("ITCCessAmt"),o&&(t.Tables[0].Columns.push("ITCCTaxAmt"),t.Tables[0].Columns.push("ITCSTaxAmt"));for(var i,l,C,s,r,p=null,T=null,u=0,D=-1235,d=0,m=0,c=0,I=0,h=t.Tables[0].length-1;h>=0;h--)i=(s=t.Tables[0][h])[n].toString(),l=s[a].toString(),C=s.ITCEligible.toString(),u=null==s.Rate?0:parseFloat(s.Rate),p==i&&T==l&&D==u?(r=t.Tables[0][h+1],null!=s.TaxableValue&&(r.TaxableValue=parseFloat(r.TaxableValue)+parseFloat(s.TaxableValue)),null!=s.IntTaxAmt&&(r.IntTaxAmt=parseFloat(r.IntTaxAmt)+parseFloat(s.IntTaxAmt)),null!=s.CessAmt&&(r.CessAmt=parseFloat(r.CessAmt)+parseFloat(s.CessAmt)),o&&(null!=s.CTaxAmt&&(r.CTaxAmt=parseFloat(r.CTaxAmt)+parseFloat(s.CTaxAmt)),null!=s.STaxAmt&&(r.STaxAmt=parseFloat(r.STaxAmt)+parseFloat(s.STaxAmt))),"Ineligible"!=C&&(r.ITCEligible=s.ITCEligible,null!=s.IntTaxAmt&&(d+=parseFloat(s.IntTaxAmt),r.ITCIntTaxAmt=d),null!=s.CessAmt&&(I+=parseFloat(s.CessAmt),r.ITCCessAmt=I),o&&(null!=s.CTaxAmt&&(m+=parseFloat(s.CTaxAmt),r.ITCCTaxAmt=m),null!=s.STaxAmt&&(c+=parseFloat(s.STaxAmt),r.ITCSTaxAmt=c))),t.Tables[0].RemoveAt(h)):(null==s.TaxableValue&&(s.TaxableValue=0),null==s.IntTaxAmt&&(s.IntTaxAmt=0),null==s.CessAmt&&(s.CessAmt=0),o&&(null==s.CTaxAmt&&(s.CTaxAmt=0),null==s.STaxAmt&&(s.STaxAmt=0)),"Ineligible"!=C?(d=parseFloat(s.IntTaxAmt),I=parseFloat(s.CessAmt),s.ITCIntTaxAmt=d,s.ITCCessAmt=I,o&&(m=parseFloat(s.CTaxAmt),c=parseFloat(s.STaxAmt),s.ITCCTaxAmt=m,s.ITCSTaxAmt=c)):d=m=c=I=0,p=i,T=l,D=u);"ANX1_b2bur"==e&&(p=null)}},{key:"Update_at",value:function(e){var t,o,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=null,i=0,l=0,C=0,s=0,p=0,T=0,u="",D="";e.Tables[0].Columns.push("InvValue");for(var d=0;d<e.Tables[0].length;d++){for(t=e.Tables[0][d],(u="AccountID="+r.e.String(t.AccountID)+" and RefDocNo='"+r.e.String(t.VoucherNo)+"' and AdjAmount!=0")!=D&&(a=e.Tables[1].filter((function(e){return e.AccountID==r.e.String(t.AccountID)&&e.RefDocNo==r.e.String(t.VoucherNo)&&0!=e.AdjAmount})),i=0,D=u),t.InvValue=t.AdvReceived,p=null!=t.AdvReceived?parseFloat(t.AdvReceived):0,T=p=Math.abs(p);i<a.length;){if((s=Math.abs(parseFloat(a[i].AdjAmount)))>=p){a[i].AdjAmount=s-p,p=0,e.Tables[0].RemoveAt(d),d--;break}a[i].AdjAmount=0,p-=s,t.AdvReceived=p,i++}p>0&&((C=null!=t.CessAmt?parseFloat(t.CessAmt):0)>0&&T!=p&&(C=parseFloat((C*p/T).ToString("N2")),t.CessAmt=C))}var m=[];if(n)o={},e.Tables[0].length>0&&(o.TaxableValue=e.Tables[0].Compute("sum(AdvReceived)",""),o.CessAmt=e.Tables[0].Compute("sum(CessAmt)",""),o.IntTaxAmt=e.Tables[0].Compute("sum(IntTaxAmt)",""),o.CTaxAmt=e.Tables[0].Compute("sum(CTaxAmt)",""),o.STaxAmt=e.Tables[0].Compute("sum(STaxAmt)",""),o.Cnt=e.Tables[0].DefaultView.ToTable(!0,["VoucherNo"]).length),m.push(o);else{o=null,D=null;for(var c=0;c<e.Tables[0].length;c++)(u="PoS='"+(t=e.Tables[0][c]).PoS.toString()+"' and Rate="+t.Rate.toString())!=D&&((o={}).PoS=t.PoS,o.Rate=t.Rate,m.push(o),D=u,l=0,C=0),l+=parseFloat(t.AdvReceived),C+=null!=t.CessAmt?parseFloat(t.CessAmt):0,o.AdvReceived=l,o.CessAmt=C}e.Tables.Clear(),e.Tables.push(m)}},{key:"Update_atadj",value:function(e){for(var t,o,n,a,i,l,C=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=null,p=0,T=0,u=0,D="",d="",m=0;m<e.Tables[0].length;m++){if(t=e.Tables[0][m],(D="AccountID="+r.e.String(t.AccountID)+" and RefDocNo='"+r.e.String(t.VoucherNo)+"' and AdjAmount!=0")!=d){if(0==(s=e.Tables[1].filter((function(e){return e.AccountID==r.e.String(t.AccountID)&&e.RefDocNo==r.e.String(t.VoucherNo)&&0!=e.AdjAmount}))).length){e.Tables[0].RemoveAt(m),m--;continue}p=0,d=D}for(a=null!=t.AdvReceived?parseFloat(t.AdvReceived):0,l=a=Math.abs(a),i=0;p<s.length;){if((n=Math.abs(parseFloat(s[p].AdjAmount)))>=a){i+=a,s[p].AdjAmount=n-a,a-=n;break}s[p].AdjAmount=0,i+=n,a-=n,p++}0!=i?(t.AdvAdjusted=i,(u=null!=t.CessAmt?parseFloat(t.CessAmt):0)>0&&0!=i&&l!=i&&(u=parseFloat((u*i/l).ToString("N2")),t.CessAmt=u)):(e.Tables[0].RemoveAt(m),m--)}var c=[];if(C)o={},e.Tables[0].length>0&&(o.TaxableValue=e.Tables[0].Compute("sum(AdvAdjusted)",""),o.CessAmt=e.Tables[0].Compute("sum(CessAmt)",""),o.IntTaxAmt=e.Tables[0].Compute("sum(IntTaxAmt)",""),o.CTaxAmt=e.Tables[0].Compute("sum(CTaxAmt)",""),o.STaxAmt=e.Tables[0].Compute("sum(STaxAmt)",""),o.Cnt=e.Tables[0].DefaultView.ToTable(!0,["VoucherNo"]).length),c.push(o);else{o=null,d=null;for(var I=0;I<e.Tables[0].length;I++)(D="PoS='"+(t=e.Tables[0][I]).PoS.toString()+"' and Rate="+t.Rate.toString())!=d&&((o={}).PoS=t.PoS,o.Rate=t.Rate,c.push(o),d=D,T=0,u=0),T+=parseFloat(t.AdvAdjusted),u+=null!=t.CessAmt?parseFloat(t.CessAmt):0,o.AdvAdjusted=T,o.CessAmt=u}e.Tables.Clear(),e.Tables.push(c)}}]),o}(u.b),Ze=o("dH+5"),Je=function(){function e(){_classCallCheck(this,e),this.ReportColumns=new Array,this.Data=new Array}return _createClass(e,[{key:"SetColumns",value:function(e){var t=new c.a;t.Alignment="Right",t.FontFamilyName="Arial",t.FontSize=12,t.BackColor="White",t.ForeColor="Black";var o=new c.a;o.Alignment="Left",o.FontFamilyName="Arial",o.FontSize=12,o.BackColor="White",o.ForeColor="Black";var n=new c.a;n.Alignment="Center",n.FontFamilyName="Arial",n.FontSize=12,n.IsBold=!0,n.BackColor="White",n.ForeColor="Black",this.ReportColumns.Clear();for(var a=0;a<e.length;a++)if(e[a].InUse){var i=new c.b;i.DecimalsPoints=parseInt(s.a.SessionManager.Preferences.DecimalsinAmount),"Millions"==s.a.SessionManager.Preferences.Commas?i.Commas=1:"Lakhs"==s.a.SessionManager.Preferences.Commas&&(i.Commas=2),i.DateType=s.a.SessionManager.Preferences["Date Format"];var l=new Ze.b;l.gridLines=3,l.ID=e[a].ID,l.FieldName=e[a].ID,l.HeaderText=e[a].Caption,l.HeaderAppearance=n,l.DataAppearance=o,l.HeaderHeight=22,l.width=e[a].Width,l.DataFormat=i,l.ColumnType=e[a].DType,"FLOAT"==e[a].DType&&(l.DataAppearance=t),this.ReportColumns.push(l)}}}]),e}();function ze(e,t){if(1&e&&(W.Zb(0,"div",13),W.Wc(1,"\n            "),W.Vb(2,7),W.Wc(3,"\n        "),W.Yb()),2&e){var o=W.lc();W.Db(2),W.tc("obj",o.chkToDate)("group",o.form)}}function qe(e,t){if(1&e&&(W.Zb(0,"div",6),W.Wc(1,"\n                "),W.Vb(2,7),W.Wc(3,"\n            "),W.Yb()),2&e){var o=W.lc();W.Db(2),W.tc("obj",o.dtToDate)("group",o.form)}}function $e(e,t){if(1&e&&(W.Zb(0,"div",14),W.Wc(1,"\n                "),W.Vb(2,7),W.Wc(3,"\n            "),W.Yb()),2&e){var o=W.lc();W.Db(2),W.tc("obj",o.obj.PreviewGrid)("group",o.form)}}var et,tt,ot=((et=function(e){_inherits(o,e);var t=_createSuper(o);function o(){var e;return _classCallCheck(this,o),(e=t.call(this)).form=new C.j({}),e}return _createClass(o,[{key:"ngOnInit",value:function(){var e,t;(null===(e=this.params)||void 0===e?void 0:e.obj)&&(this.obj=null===(t=this.params)||void 0===t?void 0:t.obj),this.UserControl_DataContextChanged(this.obj)}}]),o}(function(){function e(){_classCallCheck(this,e),this.objReturn=null,this.ViewModel=null,this.Columns=new Array,this.GridColumns=new Array,this.objRevReport=new Je,this.dtReturnDate=new p.a,this.dtToDate=new p.a,this.chkToDate=new R.a,this.dtReturnDate.LblWidth="90",this.dtToDate.LblWidth="90",this.dtToDate.Label="To Date",this.dtToDate.Visible=!1,this.dtReturnDate.Date=Date.Today(),this.dtReturnDate.Label="Return Month",this.chkToDate.Label="Show To Date",this.chkToDate.Visible=!1,this.chkToDate.CheckedChangedCommand.Subscribe(this,"onchkToDateClik")}return _createClass(e,[{key:"Button_Click",value:function(e){var t=this;try{if(this.DisplayMessage="","Submit"==e){var o=new Date(this.dtReturnDate.Date.getFullYear(),this.dtReturnDate.Date.getMonth(),1),n=null,a="";this.GSTType.startsWith("VAT")?(n=this.dtToDate.Date,a=g.SetVATQueryWhere(this.Query,this.GSTType,this.dtReturnDate.Date,this.dtToDate.Date)):(this.dtToDate.Visible&&(o=this.dtReturnDate.Date,n=this.dtToDate.Date),a=g.SetQueryWhere(this.Query,this.GSTType,o,n));var i=s.a.report.ReportDataSet("RPT022",!1,a);if(null!=i&&i.Tables.length>0){if(i.Columns[0].Contains("ErrorMessage"))return this.DisplayMessage=i.Tables[0][0].ErrorMessage.toString(),void Logger.ErrorLog(this.DisplayMessage);var l=new Array;if(this.objReturn=g.ResetData(this.GSTType,i,o,n,l),"VATFATPurchaseList"==this.GSTType||"VATFATSupplyList"==this.GSTType){var C=i.Tables[0].filter((function(e){return"PeriodStart"==e.XMLID}));C[0][this.objReturn.ValueColumn]=this.dtReturnDate.Date.ToString("dd-MM-yyyy"),(C=i.Tables[0].filter((function(e){return"PeriodEnd"==e.XMLID})))[0][this.objReturn.ValueColumn]=this.dtToDate.Date.ToString("dd-MM-yyyy"),(C=i.Tables[0].filter((function(e){return"FAFCreationDate"==e.XMLID})))[0][this.objReturn.ValueColumn]=(new Date).ToString("dd-MM-yyyy")}for(var p=new Array,u=function(e){if(0==t.GridColumns[e].CurrID)return"continue";var o=new T.a;o.ID=t.GridColumns[e].ID,o.Header=t.GridColumns[e].Header,o.DisplayMember=l.Contains(t.GridColumns[e].ID)?t.GridColumns[e].ID+"_Key":t.GridColumns[e].ID,o.Width=t.GridColumns[e].Width,o.ReadOnly=!0;var n=t.Columns.find((function(o){return o.ID==t.GridColumns[e].ID}));o.DataType=n.DType,"FLOAT"==o.DataType&&(o.DecimalPoints=r.e.IsEmpty(n.Decimals)?"2":n.Decimals,"SUM"==n.Agg&&(o.ShowTotal=!0,o.IsCalculated=1)),o.DependantOn=r.e.IsEmpty(n.CT)?n.ID:n.CT,p.push(o)},D=1;D<this.GridColumns.length;D++)u(D);this.ViewModel.PreviewGrid.Table=i.Tables[0],this.ViewModel.PreviewGrid.refreshids(),this.ViewModel.PreviewGrid.Columns=p,this.ViewModel.PreviewGrid.UpdateTotals(),this.GSTType.startsWith("VAT")&&(this.objRevReport.SetColumns(this.Columns),"VATAED1"==this.GSTType&&(this.objRevReport.ReportColumns[0].HeaderHeight=0),A.FillRows(this.objRevReport,this.ViewModel.PreviewGrid.Table))}else alert("EMPTY DATA TABLE")}}catch(d){alert(d.Message),Logger.ErrorLog("PREVIEW CLICK: ",d)}}},{key:"UserControl_DataContextChanged",value:function(e){var t=this;this.ViewModel=e;var o=this.ViewModel.rpt;o.Columns.forEach((function(e){t.Columns.push(e)})),o.ReportGrid.Columns.forEach((function(e){t.GridColumns.push(e)})),this.GSTType=o.GSTType,this.Query=o.objReport.QUERY,this.dtReturnDate.Date=Date.Today(),this.GSTType.startsWith("VAT")?(this.dtReturnDate.Label="From Date",this.dtToDate.Visible=!0,this.dtReturnDate.Date=(new Date).MonthsFirst(),this.dtToDate.Date=new Date(this.dtReturnDate.Date.getFullYear(),this.dtReturnDate.Date.getMonth(),this.dtReturnDate.Date.DaysInMonth())):this.chkToDate.Visible=!0}},{key:"onchkToDateClik",value:function(){if(this.chkToDate.IsChecked){this.dtReturnDate.Label="From Date",this.dtToDate.Visible=!0;var e=Date.Today();this.dtReturnDate.Date=new Date(e.getFullYear(),e.getMonth(),1),this.dtToDate.Date=new Date(e.getFullYear(),e.getMonth(),e.DaysInMonth())}else this.dtReturnDate.Label="Return Month",this.dtToDate.Visible=!1}}]),e}())).\u0275fac=function(e){return new(e||et)},et.\u0275cmp=W.Nb({type:et,selectors:[["app-report-preview"]],features:[W.Ab],decls:34,vars:6,consts:[[2,"overflow","auto","height","110%"],[1,"page-header",2,"display","flex"],[1,"page-title"],["style","width: 140px; padding-left: 20px;",4,"ngIf"],[1,"section"],[1,"row","form-row"],[1,"form-group","col-xl-3","col-md-3","col-sm-6","col-xs-12","PACTControl"],["FieldDirective","",3,"obj","group"],["class","form-group col-xl-3 col-md-3 col-sm-6 col-xs-12 PACTControl",4,"ngIf"],[1,"form-group","col-xl-6","col-md-6","col-sm-12","col-xs-12","PACTControl",2,"display","block"],[1,"primary-btn-wicon",2,"width","70px",3,"click"],[1,"PACTTabFields","tab_content","tab-exrafields",2,"display","flex"],["style","width: calc(100% - 30px); height: calc(100% - 20px);",4,"ngIf"],[2,"width","140px","padding-left","20px"],[2,"width","calc(100% - 30px)","height","calc(100% - 20px)"]],template:function(e,t){1&e&&(W.Zb(0,"div",0),W.Wc(1,"\n    "),W.Zb(2,"div",1),W.Wc(3,"\n        "),W.Zb(4,"label",2),W.Wc(5),W.Yb(),W.Wc(6,"\n        "),W.Uc(7,ze,4,2,"div",3),W.Wc(8,"\n    "),W.Yb(),W.Wc(9,"\n    "),W.Zb(10,"div",4),W.Wc(11,"\n        "),W.Zb(12,"div",5),W.Wc(13,"\n            "),W.Zb(14,"div",6),W.Wc(15,"\n                "),W.Vb(16,7),W.Wc(17,"\n            "),W.Yb(),W.Wc(18,"\n            "),W.Uc(19,qe,4,2,"div",8),W.Wc(20,"\n            "),W.Zb(21,"div",9),W.Wc(22,"\n                "),W.Zb(23,"button",10),W.hc("click",(function(){return t.Button_Click("Submit")})),W.Wc(24,"Submit"),W.Yb(),W.Wc(25,"\n            "),W.Yb(),W.Wc(26,"\n        "),W.Yb(),W.Wc(27,"\n        \n        "),W.Zb(28,"div",11),W.Wc(29,"\n            "),W.Uc(30,$e,4,2,"div",12),W.Wc(31,"\n        "),W.Yb(),W.Wc(32,"\n    "),W.Yb(),W.Wc(33,"\n"),W.Yb()),2&e&&(W.Db(5),W.Xc(t.obj.DisplayName),W.Db(2),W.tc("ngIf",t.chkToDate.Visible),W.Db(9),W.tc("obj",t.dtReturnDate)("group",t.form),W.Db(3),W.tc("ngIf",t.dtToDate.Visible),W.Db(11),W.tc("ngIf",t.obj.PreviewGrid.Columns.length>0))},directives:[i.t,E.a],encapsulation:2}),et),nt=function(e){_inherits(o,e);var t=_createSuper(o);function o(e){var n;return _classCallCheck(this,o),(n=t.call(this)).rpt=e,n.PreviewGrid=new d.a,n.PreviewGrid.Width="",n.PreviewGrid.Height=0,n.PreviewGrid.HeaderHeight=36,n}return o}(u.b),at=((tt=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"LoadScreen",value:function(e,t){if(9001==e.FeatureID){var o="VATAED1",n=s.a.report.GetDataTable("RPT022","select DefaultPreferences from adm_revenureports with(nolock)\nwhere ReportID="+e.FeatureActionID),a=r.e.String(n[0].DefaultPreferences);if(0==n.length||""==a)return void alert("Report not found");a.Contains("<UTILREPORT>VATFATPurchaseList</UTILREPORT>")?o="VATFATPurchaseList":a.Contains("<UTILREPORT>VATFATSupplyList</UTILREPORT>")?o="VATFATSupplyList":a.Contains("<UTILREPORT>VATSAS1</UTILREPORT>")&&(o="VATSAS1");var i=new V;if(i.ReportBuilder_1(!0),i.cmbReportModule.SetSelectedItem("VAT"),i.cmbReportModule_SelectionChanged(),i.cmbReportType.SetSelectedItem(o),i.cmbReportType_SelectionChanged(),i.cmbReport.SetSelectedItem(e.FeatureActionID.toString()),i.cmbReport_SelectionChanged(null,null),i.GetReportConfiguration(),i.DisplayMessage.length>0)return void alert(i.DisplayMessage);if(i.objReport.QUERY=i.GetQuery(!0),0==i.objReport.QUERY.length)return void alert("Select Documents");var l=new nt(i);l.DisplayName=t,s.a.page.addNewTab({title:e.ScreenName,component:ot,params:{obj:l}})}else if(-9e3==e.FeatureActionID){var C=new N;if(C.DisplayMessage.length>0)return void alert(C.DisplayMessage);C.DisplayName=t,s.a.page.addNewTab({title:e.ScreenName,component:We,params:{obj:C}})}else if(-8999==e.FeatureActionID){var p=new Xe;if(p.DisplayMessage.length>0)return void alert(p.DisplayMessage);p.DisplayName=t,s.a.page.addNewTab({title:e.ScreenName,component:Ue,params:{obj:p}})}else if(-8998==e.FeatureActionID){var T=new A;if(T.DisplayMessage.length>0)return void alert(T.DisplayMessage);T.DisplayName=t,s.a.page.addNewTab({title:e.ScreenName,component:w,params:{obj:T}})}else if(-8997==e.FeatureActionID){var u=new Be;if(u.DisplayMessage.length>0)return void alert(u.DisplayMessage);u.DisplayName=t,s.a.page.addNewTab({title:e.ScreenName,component:Pe,params:{obj:u}})}else if(-8996==e.FeatureActionID){var D=new Qe;if(D.DisplayMessage.length>0)return void alert(D.DisplayMessage);D.DisplayName=t,s.a.page.addNewTab({title:e.ScreenName,component:Ke,params:{obj:D}})}}}]),e}()).\u0275mod=W.Rb({type:tt}),tt.\u0275inj=W.Qb({factory:function(e){return new(e||tt)},imports:[[i.c,C.m,C.C,G.d.forRoot(),l.a]]}),tt)},NM0h:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var n=o("Do2H"),a=o("Lp6j"),i=function(){function e(){_classCallCheck(this,e),this.ChangeValueXML=null,this.DetailsXML=null,this.AMCode=null,this.AMName=null,this.AMPurchaseValue=null,this.HistoryXML=null,this.DocNo=null,this.XML=null,this.DocSave=null,this.CodePrefix=null,this.Sno=null,this.AssetClassID=0,this.DeprBookID=0,this.AcqnCostACCID=0,this.AccumDeprACCID=0,this.AcqnCostDispACCID=0,this.AccumDeprDispACCID=0,this.GainsDispACCID=0,this.LossDispACCID=0,this.MaintExpenseACCID=0,this.DeprExpenseACCID=0,this.PostingGroupID=0,this.AMStatusID=0,this.CodeNumber=0,this.AMAssetID=0,this.AMParentAssetID=0,this.IsGroup=!1,this.Post=!1,this.StatusID=0,this.DeprBookMethod=0,this.DeprBookMethodBasedOn=0,this.AveragingMethodID=0,this.DeprScheduleID=0,this.DeprTypeID=0,this.AssetClassCode=null,this.AssetClassName=null,this.GUID=null,this.DeprBookCode=null,this.DeprBookName=null,this.PostGroupCode=null,this.PostGroupName=null,this.AMGUID=null,this.RecordType=null,this.AMGroup=!1,this.IsIncreaseAssetValue=!1,this.EmpName=null,this.EmpCode=null,this.EmpID=0,this.SelectedNodeID=0,this.PostCCID=0,this.PostAssetID=0,this.ScheduleID=0,this.LocationID=0,this.AddressXML=null,this.NotesXML=null,this.ContactsXML=null,this.CustomCostCenterFieldsQuery=null,this.CustomFieldsQuery=null,this.PrimaryContactQuery=null,this.AttachmetsXML=null,this.DepreciationXML=null,this.JVXML=null,this.Description=null,this.DeprStartValue=0,this.ChangeVal=0,this.AssetNetValueChange=0,this.DeprBookMethodBasedOnValue=0,this.TotalYears=0}return _createClass(e,[{key:"SaveAssetClass",value:function(){0==this.AssetClassID&&(this.GUID=a.e.NewGuid());var e=[];return e.push(this.AssetClassID),e.push(null!=this.AssetClassCode?this.AssetClassCode:""),e.push(null!=this.AssetClassName?this.AssetClassName:""),e.push(this.PostingGroupID),e.push(this.DeprBookID),e.push(this.DeprTypeID),e.push(this.TotalYears),e.push(this.StatusID),e.push(n.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(""),e.push(n.a.SessionManager.UserName),e.push(n.a.SessionManager.UserID),e.push(n.a.SessionManager.LanguageID),n.a.accounting.SetAssetClass(e)}},{key:"PostJVvoucher",value:function(){this.GUID=a.e.NewGuid();var e=[];return e.push(this.PostAssetID),e.push(this.PostCCID),e.push(this.JVXML),e.push(this.Post),e.push(this.DeprTypeID),e.push(this.DocXML),e.push(this.DocSave),e.push(this.DepreciationXML),e.push(this.RecordType),e.push(n.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(n.a.SessionManager.UserName),e.push(n.a.SessionManager.UserID),e.push(n.a.SessionManager.LanguageID),n.a.accounting.GetPostJvVoucher(e)}},{key:"SetAssetDispose",value:function(e){this.GUID=a.e.NewGuid();var t=[];return t.push(this.PostAssetID),t.push(e.ToString("dd/MMM/yyyy")),t.push(this.PostCCID),t.push(this.JVXML),t.push(this.Post),t.push(this.DeprTypeID),t.push(this.DocXML),t.push(this.DocSave),t.push(this.DepreciationXML),t.push(this.RecordType),t.push(n.a.SessionManager.CompanyGUID),t.push(this.GUID),t.push(n.a.SessionManager.UserName),t.push(n.a.SessionManager.UserID),t.push(n.a.SessionManager.LanguageID),n.a.accounting.SetAssetDispose(t)}},{key:"SaveDeprBook",value:function(e,t,o){0==this.DeprBookID&&(this.GUID=a.e.NewGuid());var i=[];return i.push(this.DeprBookID),i.push(this.DeprBookCode),i.push(this.DeprBookName),i.push(this.DeprBookMethod),i.push(this.DeprBookMethodBasedOn),i.push(this.DeprBookMethodBasedOnValue),i.push(this.StatusID),i.push(this.AveragingMethodID),i.push(e),i.push(t),i.push(o),i.push(n.a.SessionManager.CompanyGUID),i.push(this.GUID),i.push(""),i.push(n.a.SessionManager.UserName),i.push(n.a.SessionManager.UserID),i.push(n.a.SessionManager.LanguageID),n.a.accounting.SetDeprBook(i)}},{key:"SaveFAPostingGroup",value:function(){0==this.PostingGroupID&&(this.GUID=a.e.NewGuid());var e=[];return e.push(this.PostingGroupID),e.push(this.PostGroupCode),e.push(this.PostGroupName),e.push(this.AcqnCostACCID),e.push(this.AccumDeprACCID),e.push(this.AcqnCostDispACCID),e.push(this.AccumDeprDispACCID),e.push(this.GainsDispACCID),e.push(this.LossDispACCID),e.push(this.MaintExpenseACCID),e.push(this.DeprExpenseACCID),e.push(this.StatusID),e.push(0),e.push(this.IsGroup),e.push(n.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(n.a.SessionManager.UserName),e.push(n.a.SessionManager.UserID),e.push(n.a.SessionManager.LanguageID),n.a.accounting.SetPostingGroup(e)}},{key:"SetAssetManagementDetails",value:function(){var e=[];return e.push(this.AMAssetID),e.push(this.AMCode),e.push(this.AMName),e.push(this.AMStatusID),e.push(this.AMPurchaseValue),e.push(this.AMParentAssetID),e.push(this.AMGroup),e.push(this.CodePrefix),e.push(this.CodeNumber),e.push(this.Sno),e.push(this.DetailsXML),e.push(this.ChangeValueXML),e.push(this.CustomFieldsQuery),e.push(this.CustomCostCenterFieldsQuery),e.push(this.DepreciationXML),e.push(this.HistoryXML),e.push(this.NotesXML),e.push(this.AttachmetsXML),e.push(n.a.SessionManager.CompanyGUID),e.push(this.AMGUID),e.push(n.a.SessionManager.UserName),e.push(n.a.SessionManager.UserID),e.push(n.a.SessionManager.LanguageID),n.a.accounting.SetAssetManagementDetails(e).toPromise()}},{key:"PostDeprJV",value:function(){this.GUID=a.e.NewGuid();var e=[];return e.push(this.PostCCID),e.push(this.JVXML),e.push(this.Post),e.push(n.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(n.a.SessionManager.UserName),e.push(n.a.SessionManager.UserID),e.push(n.a.SessionManager.LanguageID),e.push(n.a.SessionManager.RoleID),n.a.accounting.PostDeprJV(e)}},{key:"PostDeprJVSummary",value:function(e,t,o,i,l){this.GUID=a.e.NewGuid();var C=[];return C.push(e),C.push(t),C.push(o),C.push(i),C.push(l),C.push(n.a.SessionManager.CompanyGUID),C.push(n.a.SessionManager.UserName),C.push(n.a.SessionManager.UserID),C.push(n.a.SessionManager.LanguageID),n.a.accounting.SetDeprPostingJVSummary(C).toPromise()}},{key:"ChangeValue",value:function(e,t){this.GUID=a.e.NewGuid();var o=[];return o.push(this.PostAssetID),o.push(e),o.push(this.ChangeVal),o.push(this.AssetNetValueChange),o.push(t.ToString("dd/MMM/yyyy")),o.push(this.Description),o.push(this.DepreciationXML),o.push(this.ChangeValueXML),o.push(this.HistoryXML),o.push(this.LocationID),o.push(this.IsIncreaseAssetValue),o.push(this.JVXML),o.push(this.ChangeValueTypeID),o.push(n.a.SessionManager.CompanyGUID),o.push(this.GUID),o.push(n.a.SessionManager.UserName),o.push(n.a.SessionManager.UserID),o.push(n.a.SessionManager.LanguageID),n.a.accounting.SetAssetChangeValue(o)}},{key:"DisposeReverse",value:function(e){var t=[];return t.push(e),t.push(n.a.SessionManager.UserName),t.push(n.a.SessionManager.UserID),t.push(n.a.SessionManager.LanguageID),n.a.accounting.DisposeReverse(t)}}],[{key:"GetAssetClassDetails",value:function(e){var t=[];return t.push(e),t.push(n.a.SessionManager.UserID),t.push(n.a.SessionManager.LanguageID),n.a.accounting.GetAssetClassDetails(t)}},{key:"GetPostingGroupDetails",value:function(e){var t=[];return t.push(e),t.push(n.a.SessionManager.UserID),t.push(n.a.SessionManager.LanguageID),n.a.accounting.GetPostingGroupDetails(t)}},{key:"GetDeprBookDetails",value:function(e){var t=[];return t.push(e),t.push(n.a.SessionManager.UserID),t.push(n.a.SessionManager.LanguageID),n.a.accounting.GetDeprBookDetails(t)}},{key:"GetAssetManagementDetails",value:function(e){var t=[];return t.push(e),t.push(n.a.SessionManager.UserID),t.push(n.a.SessionManager.LanguageID),n.a.accounting.GetAssetManagementDetails(t)}},{key:"GetAssetDeprSchDetails",value:function(e){var t=[];return t.push(e),t.push(n.a.SessionManager.UserID),t.push(n.a.SessionManager.LanguageID),n.a.accounting.GetAssetDeprSchDetails(t)}},{key:"DeleteAsset",value:function(e){var t=[];return t.push(e),t.push(n.a.SessionManager.UserID),t.push(n.a.SessionManager.RoleID),n.a.accounting.DeleteAsset(t)}},{key:"DeleteAssetDeprSchedule",value:function(e){var t=[];return t.push(e),t.push(n.a.SessionManager.RoleID),t.push(n.a.SessionManager.LanguageID),n.a.accounting.DeleteAssetDeprSchedule(t)}},{key:"DeleteAssetRefDoc",value:function(e,t){var o=[];return o.push(e),o.push(t),o.push(n.a.SessionManager.UserID),n.a.accounting.DeleteAssetRefDoc(o)}},{key:"SetsPostDeprReverseJV",value:function(e,t,o){var a=[];return a.push(e),a.push(t),a.push(o),a.push(n.a.SessionManager.CompanyGUID),a.push(n.a.SessionManager.UserName),a.push(n.a.SessionManager.UserID),a.push(n.a.SessionManager.LanguageID),n.a.accounting.SetsPostDeprReverseJV(a)}}]),e}()},ouML:function(e,t,o){"use strict";o.r(t),o.d(t,"DocumentDraftsViewModel",(function(){return T}));var n=o("mrSG"),a=o("Do2H"),i=o("Lp6j"),l=o("ScVY"),C=o("8B8H"),s=o("ockk"),r=o("rJVx"),p=o("CUWK"),T=function(e){_inherits(l,e);var t=_createSuper(l);function l(e,o){var n,i,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(_classCallCheck(this,l),(n=t.call(this)).Grid=new C.a,n.IsFromDocs=!1,n.PopupWidth=0,n.ReportType=0,n.Parent=null,n.CCID=0,n.WID=0,n.LevelID=0,n.PactGridVisible=!1,n.CCID=p,n.Parent=e,n.ReportType=o,n.Parent instanceof r.GeneralDashboardViewModel||"DashAddOnsViewModel"==n.Parent.ClassName)?1==o&&(n.ColSource=r.GeneralDashboardViewModel.InitColumns("Document Drafts_DashBoardCustomize")):(1==o?n.DisplayName="Drafts":2==o?n.DisplayName="Hold Documents":3==o?n.DisplayName="Approval History":4==o&&(n.DisplayName="Level Info",n.PactGrid=new C.a),n.Title=n.DisplayName,n.IsFromDocs=!0,n.FillGrid(),n.Grid.OnLinkClick.Subscribe(_assertThisInitialized(n),"GridLinkClick"),n.ColSource=[],1==o?(n.ColSource=r.GeneralDashboardViewModel.InitColumns("Document Drafts_DashBoardCustomize"),n.PopupWidth=22,n.ColSource.forEach((function(e){n.PopupWidth=n.PopupWidth+e.Width}))):2==o?((i=new s.a).DataType="TextBlock",i.Header="Hold Date",i.DisplayMember="HoldDate_Key",i.Width=100,n.ColSource.push(i),(i=new s.a).DataType="LINK",i.Header=a.a.GetResource("DocName"),i.DisplayMember="DocName",i.Width=135,n.ColSource.push(i),(i=new s.a).DataType="TextBlock",i.Header="NetValue",i.DisplayMember="NetValue",i.Width=100,n.ColSource.push(i),(i=new s.a).DataType="TextBlock",i.Header="NoOfProducts",i.DisplayMember="NoOfProducts",i.Width=50,n.ColSource.push(i),(i=new s.a).DataType="LINK",i.Header=a.a.GetResource("Delete"),i.DisplayMember="Delete",i.Width=100,n.ColSource.push(i),n.PopupWidth=450):3==o?((i=new s.a).DataType="TextBlock",i.Header="User",i.DisplayMember="CreatedBy",i.Width=90,n.ColSource.push(i),(i=new s.a).DataType="TextBlock",i.Header="FirstName",i.DisplayMember="FirstName",i.Width=90,n.ColSource.push(i),(i=new s.a).DataType="TextBlock",i.Header="LastName",i.DisplayMember="LastName",i.Width=90,n.ColSource.push(i),(i=new s.a).DataType="TextBlock",i.Header="Email",i.DisplayMember="Email1",i.Width=150,n.ColSource.push(i),(i=new s.a).DataType="TextBlock",i.Header=a.a.GetResource("Date"),i.DisplayMember="AppDate",i.Width=128,n.ColSource.push(i),(i=new s.a).DataType="LINK",i.Header="Level",i.DisplayMember="LevelName",i.Width=93,n.ColSource.push(i),(i=new s.a).DataType="TextBlock",i.Header="Status",i.DisplayMember="Status",i.Width=80,n.ColSource.push(i),(i=new s.a).DataType="Format",i.Header="Remarks",i.DisplayMember="Remarks",i.Width=190,n.ColSource.push(i),n.PopupWidth=950,"AddEditDocumentViewModel"==n.Parent.ClassName&&((i=new s.a).Header="WorkFlowName",i.DisplayMember="WorkFlowName",i.Width=200,n.ColSource.push(i)),n.PopupWidth=950):4==o&&((i=new s.a).DataType="TextBlock",i.ReadOnly=!0,i.Header="User Name",i.DisplayMember="UserName",i.Width=120,n.ColSource.push(i),(i=new s.a).DataType="TextBlock",i.ReadOnly=!0,i.Header="First Name",i.DisplayMember="FirstName",i.Width=120,n.ColSource.push(i),(i=new s.a).DataType="TextBlock",i.ReadOnly=!0,i.Header="Last Name",i.DisplayMember="LastName",i.Width=120,n.ColSource.push(i),n.PactGrid.Columns=n.ColSource,n.PopupWidth=400));return _possibleConstructorReturn(n)}return _createClass(l,[{key:"onClick",value:function(e){event.preventDefault(),null!=this.SelectedRow&&this.LoadDraft(this.SelectedRow)}},{key:"FillGrid",value:function(){var e=this,t=0,o=null;if(i.e.IsType(this.Parent,"AddEditDocumentViewModel")?(o=this.Parent,t=0==this.CCID?o.CostCenterID:this.CCID):i.e.IsEmpty(this.Parent.ClassName)||"AddEditRenContractViewModel"!=this.Parent.ClassName||(t=this.CCID),1==this.ReportType||2==this.ReportType)(i.e.IsEmpty(this.Parent.ClassName)||"AddEditRenContractViewModel"!=this.Parent.ClassName?null==o||38!=o.ScreenObject.DocumentType&&39!=o.ScreenObject.DocumentType?a.a.document.GetDocumentDrafts(0,t,this.ReportType,!1):a.a.document.GetDocumentDrafts(o.ScreenObject.RegisterNodeID,t,this.ReportType,!1,!0):a.a.document.GetDocumentDrafts(0,this.Parent.CostCenterID,this.ReportType,!1)).subscribe((function(t){e.Table=t.Tables[0],e.Grid.TableColumns.Contains("Date_Text")||(e.Grid.TableColumns.push("Date_Text"),e.Grid.TableColumns.push("Delete")),e.Grid.TableColumns.Contains("HoldDate_Key")||e.Grid.TableColumns.push("HoldDate_Key"),e.Table.forEach((function(e){e.Delete="Delete",e.id=a.a.slick.rowid,e.Date_Text=new Date(e.Date).ToString(a.a.SessionManager.Preferences["Date Format"]+" hh:mm a"),null!=e.HoldDate&&(e.HoldDate_Key=new Date(e.HoldDate).ToString(a.a.SessionManager.Preferences["Date Format"]))}))}));else if(3==this.ReportType){var n=null;if(i.e.IsType(this.Parent,"AddEditDocumentViewModel")?(n=this.Parent.ScreenObject.GetDocStatusHistory()).Tables.length>1&&n.Tables[1].length>0&&n.Columns[1].Contains("WID")&&(this.WID=parseInt(n.Tables[1][0].WID)):i.e.IsEmpty(this.Parent.ClassName)||"AddEditRenContractViewModel"!=this.Parent.ClassName?i.e.IsEmpty(this.Parent.ClassName)||"AddEditCasesViewModel"!=this.Parent.ClassName||(n=this.GetDocStatusHistory(73,this.Parent.CaseID,!1)):n=a.a.rental.GetHistory(t,this.Parent.ContractID),null!=n&&n.Tables.length>0){this.Table=n.Tables[0],this.Grid.TableColumns.push("AppDate");for(var C=0;C<this.Table.length;C++)""!=this.Table[C].Date.toString()&&(this.Table[C].AppDate=new Date(this.Table[C].Date.toString()).ToString(a.a.SessionManager.Preferences["Date Format"]+" hh:mm a"));var s=0,r=0;this.Table.length>0&&(s=i.e.IntTryParse(this.Table[this.Table.length-1].WorkFlowLevel.toString()),r=i.e.IntTryParse(this.Table[this.Table.length-1].StatusID.toString())),369!=r&&(n.Tables[1]=n.Tables[1].filter((function(e){return e.levelID>s})),n.Tables[1].forEach((function(t){var o=e.Grid.NewRow();o.LevelName=t.LevelName,o.Status="Pending",o.WorkFlowLevel=t.LevelID,e.Grid.addRow(o)})));for(var p=this.Table.length;p<7;p++)this.Grid.addEmptyRow()}}else if(4==this.ReportType){var T=null;if("WFLevelDoc"==this.Parent.ClassName?T=a.a.SessionManager.Preferences.ContainsKey("CanApproveFunction")&&"True"==a.a.SessionManager.Preferences.CanApproveFunction?a.a.report.GetExtWFDet(this.Parent.WID,this.Parent.LevelID,this.Parent.ccid,this.Parent.DOcId):a.a.report.GetWorkFlowLevelDetails(this.Parent.WID,this.Parent.LevelID,this.Parent.ccDate):this.Parent instanceof l&&(a.a.SessionManager.Preferences.ContainsKey("CanApproveFunction")&&"True"==a.a.SessionManager.Preferences.CanApproveFunction?"AddEditDocumentViewModel"==this.Parent.Parent.ClassName?T=a.a.report.GetExtWFDet(this.Parent.WID,this.Parent.LevelID,this.Parent.Parent.CostCenterID,this.Parent.Parent.ScreenObject.DocID):"ReportViewModel"==this.Parent.Parent.ClassName&&"INV_ComparisonReport"==this.Parent.Parent.StaticReportObject&&(T=a.a.report.GetExtWFDet(this.Parent.WID,this.Parent.LevelID,this.Parent.Parent.StaticReportObject.QuotationDocument,this.Parent.Parent.StatusDocID)):T=a.a.report.GetWorkFlowLevelDetails(this.Parent.WID,this.Parent.LevelID,"AddEditDocumentViewModel"==this.Parent.Parent.ClassName?this.Parent.Parent.ScreenObject.DocDate.Date:Date.Today())),null!=T){for(var u=T.Tables[0].length;u<8;u++)T.Tables[0].push();this.PactGrid.Table=T.Tables[0]}this.PactGrid.Width="",this.PactGrid.SearchVisible=!0,this.PactGrid.SearchCols.Width="85",this.PactGrid.SearchOptions.Width="90",this.PactGrid.SearchText.Width="110",this.PactGridVisible=!0}}},{key:"GetDocStatusHistory",value:function(e,t,o){Logger.InfoLog("DocumentDraftsViewModel:: Inside GetDocStatusHistory");var n=[];n.push(e),n.push(t),n.push(o),n.push(a.a.SessionManager.UserID),n.push(a.a.SessionManager.LanguageID);var i=a.a.document.GetDocStatusHistory(n);return Logger.InfoLog("DocumentDraftsViewModel:: Exiting GetDocStatusHistory"),i}},{key:"OnButtonClick",value:function(e){"Cancel"==e.toString()&&(i.e.IsType(this.Parent,"AddEditDocumentViewModel")&&this.CCID>0&&(this.Parent.res="No"),a.a.page.HideDialog())}},{key:"DeleteDraft",value:function(e){(i.e.IsEmpty(this.Parent.ClassName)||"AddEditRenContractViewModel"!=this.Parent.ClassName?a.a.document.DeleteDocumentDraft(parseInt(e.DraftID)):a.a.rental.DeleteQuotation(parseInt(e.CostCenterID),parseInt(e.DraftID))).RetValue>0&&this.Grid.removeRow(e)}},{key:"LoadDraft",value:function(e){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,l,C,s,r,T=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i.e.IsEmpty(this.Parent.ClassName)&&"AddEditRenContractViewModel"==this.Parent.ClassName){t.next=12;break}return t.next=3,Promise.all([o.e(2),o.e(1),o.e(3),o.e(5),o.e(4),o.e(6),o.e(7),o.e(10),o.e(9),o.e(12),o.e(11),o.e(13),o.e(19),o.e(15),o.e(21),o.e(20),o.e(16),o.e(14),o.e(18),o.e(17),o.e(22),o.e(89)]).then(o.bind(null,"1Cra"));case 3:return n=t.sent,l=n.AddEditDocumentViewModel,t.next=7,Promise.all([o.e(4),o.e(6)]).then(o.bind(null,"MCKn"));case 7:C=t.sent,s=C.AddEditDocumentComponent,a.a.document.GetDocumentDrafts(parseInt(e.DraftID),0,1,!1).subscribe((function(t){if(null!=(r=t.Tables[0])&&r.length>0)if("AddEditDocumentViewModel"==T.Parent.ClassName||"POSDocumentViewModel"==T.Parent.ClassName)T.CCID>0||(T.Parent.clear(1),T.Parent.LoadDraftXML(r[0]),a.a.page.HideDialog(),T.Parent.ScreenObject.GridDataObj.RefreshGridView());else{var o=1==T.ReportType,n=new l(parseInt(e.CostCenterID),e.Type.toString(),o);a.a.page.addNewTab({component:s,params:{obj:n}}),n.LoadDraftXML(r[0],o)}})),t.next=13;break;case 12:p.RibbonExtViewModel.LoadDraftRentalContract(this.Parent,parseInt(e.DraftID)),a.a.page.HideDialog();case 13:case"end":return t.stop()}}),t,this)})))}},{key:"GridLinkClick",value:function(e,t,o){event.preventDefault(),"Delete"==t?this.DeleteDraft(e):"Date_Text"!=t&&"DocName"!=t||this.LoadDraft(e)}},{key:"Table",get:function(){return this.Grid.Table},set:function(e){this.Grid.Table=e}},{key:"TableColumns",get:function(){return this.Grid.TableColumns},set:function(e){this.Grid.TableColumns=e}},{key:"ColSource",get:function(){return this.Grid.Columns},set:function(e){this.Grid.Columns=e}},{key:"SelectedRow",get:function(){return this.Grid.SelectedItem},set:function(e){this.Grid.SelectedItem=e}}]),l}(l.b)},rJVx:function(e,t,o){"use strict";o.r(t),o.d(t,"GeneralDashboardViewModel",(function(){return p}));var n=o("mrSG"),a=o("Do2H"),i=o("Lp6j"),l=o("ScVY"),C=o("NkMH"),s=o("ockk"),r=o("JIg3"),p=function(e){_inherits(l,e);var t=_createSuper(l);function l(){var e;return _classCallCheck(this,l),(e=t.call(this)).ButtonPDC=new C.a,e.timerdashboard=new i.d,e.Date=new r.a(0),e.tdMaximize=new Array(4).fill(!1),Logger.InfoLog("DashboardViewModel::Entering DashboardViewModel"),e.timerdashboard.Enabled=!0,e.timerdashboard.Interval=6e4,a.a.SessionManager.IsWebApplication||e.timerdashboard.Elapsed(_assertThisInitialized(e),"timerdashboard_Elapsed"),e.DisplayName=a.a.GetResource("Dashboard_Maindashboard"),e.loadDrafts(),Logger.InfoLog("DashboardViewModel::Exiting DashboardViewModel"),e}return _createClass(l,[{key:"loadDrafts",value:function(){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,a,i,l,C,s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.e(150).then(o.bind(null,"ouML"));case 2:return t=e.sent,n=t.DocumentDraftsViewModel,this.DocumentDrafts=new n(this,1),setTimeout((function(){s.DocumentDrafts.FillGrid()}),500),e.next=7,o.e(0).then(o.bind(null,"AyOk"));case 7:return a=e.sent,i=a.UnAppDocumentsViewModel,this.UnApprovedDocuments=new i,e.next=12,Promise.all([o.e(2),o.e(1),o.e(5),o.e(26),o.e(42),o.e(0),o.e(73)]).then(o.bind(null,"Wh9R"));case 12:l=e.sent,C=l.DashBoardNotifViewModel,this.NotifEvents=new C(2),this.PDCDocuments=new C(4);case 15:case"end":return e.stop()}}),e,this)})))}},{key:"timerdashboard_Elapsed",value:function(e,t){a.a.page.isActiveTab(this)&&(this.OnButtonClick("RefreshPDC"),this.OnButtonClick("RefreshEvents"),this.NotifEvents.RefreshData(),this.UnApprovedDocuments.OnLoad())}},{key:"OnButtonClick",value:function(e){"PostPDC"==e||("RefreshPDC"==e?(this.PDCDocuments.EventsType=4,this.PDCDocuments.InitColumns()):"PostEvents"==e||("RefreshEvents"==e?this.NotifEvents.RefreshData():"UnApproved"==e?this.UnApprovedDocuments.OnLoad():"Drafts"==e&&this.DocumentDrafts.FillGrid()))}},{key:"OnMessageCallBack",value:function(){this.res="Yes"}}],[{key:"InitColumns",value:function(e){var t,o="",n=[];if(a.a.SessionManager.Preferences.ContainsKey(e)&&(o=a.a.SessionManager.Preferences[e]),o.length>0){var l=new i.f;l.LoadXml(o);for(var C=0;C<l.DocumentElement.children.length;C++){var r=l.DocumentElement.children[C];(t=new s.a).Header=a.a.GetResource(r.attributes.Header.value),t.DisplayMember=r.attributes.ID.value,t.ReadOnly=!0,t.Width=parseInt(r.attributes.Width.value),n.push(t),"Un Approved Documents_DashBoardCustomize"==e?"VoucherNo"==t.DisplayMember?t.DataType="LINK":"Amount"==t.DisplayMember&&(t.DataType="FLOAT",t.DecimalPoints=a.a.SessionManager.Preferences.DecimalsinAmount.toString()):"Document Drafts_DashBoardCustomize"==e?"Date_Text"!=t.DisplayMember&&"Delete"!=t.DisplayMember||(t.DataType="LINK"):"Post Dated Documents_DashBoardCustomize"==e?"VoucherNo"==t.DisplayMember?t.DataType="LINK":"Amount"==t.DisplayMember&&(t.DataType="FLOAT",t.DecimalPoints=a.a.SessionManager.Preferences.DecimalsinAmount.toString()):"Notification Events_DashBoardCustomize"==e&&"VoucherNo"==t.DisplayMember&&(t.DataType="LINK")}}return n}},{key:"IsActionAssigned",value:function(e,t){return a.a.SessionManager.IsActionAssigned(e,t)}}]),l}(l.b)}}]);