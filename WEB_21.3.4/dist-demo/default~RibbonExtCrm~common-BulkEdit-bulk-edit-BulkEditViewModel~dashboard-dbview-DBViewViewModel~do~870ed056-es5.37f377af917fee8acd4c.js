function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var i,s=_getPrototypeOf(t);if(e){var n=_getPrototypeOf(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[24,127,200],{"4k0m":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var s=i("Do2H"),n=i("ScVY"),a=i("EQd/"),r=i("0/4Q"),o=function(t){_inherits(i,t);var e=_createSuper(i);function i(t,n,r,o){var l;return _classCallCheck(this,i),(l=e.call(this)).Remarks=new a.c(0),l.CostCenterID=0,l.NodeID=0,l.Parent=null,l.retValWeb=0,l.IsUpdated=!1,l.CostCenterID=t,l.NodeID=n,l.Parent=o,l.ScreenObject=r,l.Remarks.Label=s.a.GetResource("Remarks"),l}return _createClass(i,[{key:"SaveStatus",value:function(t,e,i){!(arguments.length>3&&void 0!==arguments[3])||arguments[3];var s=!1,n=null;"MonthlyPayrollViewModel"==this.Parent.ClassName?(null!=(n=this.Parent.SetDocStatus(t,e,i,new Date,this.Remarks.Text,!0,""))&&n.Tables.length>0&&n.Tables[0].length>0&&n.Columns[0].Contains("status")&&(this.Parent.DocStatus="["+n.Tables[0][0].status.toString()+"]",s=!0),null!=n&&n.Tables.length>0&&n.Tables[n.Tables.length-1].length>0&&n.Columns[n.Tables.length-1].Contains("ErrorMessage")&&(this.Parent.this.DisplayMessage=n.Tables[n.Tables.length-1][0].ErrorMessage.toString()),this.Parent.this.MessageVisibility=!0,s&&this.Parent.btnClear_Click()):"FinalSettlementViewModel"==this.Parent.ClassName&&(null!=(n=this.Parent.SetDocStatus(t,e,i,new Date,this.Remarks.Text,!0,""))&&n.Tables.length>0&&n.Tables[0].length>0&&n.Columns[0].Contains("status")&&(this.Parent.DocStatus="["+n.Tables[0][0].status.toString()+"]",s=!0),null!=n&&n.Tables.length>0&&n.Tables[n.Tables.length-1].length>0&&n.Columns[n.Tables.length-1].Contains("ErrorMessage")&&(this.Parent.this.DisplayMessage=n.Tables[n.Tables.length-1][0].ErrorMessage.toString()),this.Parent.this.MessageVisibility=!0,s&&this.Parent.Button_Click("Clear"))}},{key:"onButtonClick",value:function(t){var e=0;if(40054==this.CostCenterID)"Approve"==t?s.a.SessionManager.IsActionAssigned(this.CostCenterID,"Edit")?this.Parent.btnPost_Click():this.SaveStatus(369,parseInt(this.Parent.oCMP.arrLstOthMPFields[0].dvPayProcessed[0].WorkFlowID),""):"Reject"==t&&this.SaveStatus(372,0,""),s.a.page.HideDialog();else if(40095==this.CostCenterID)"Approve"==t?s.a.SessionManager.IsActionAssigned(this.CostCenterID,"Edit")?(this.Parent.sCmdParameter="Approve",this.Parent.Button_Click("Save")):this.SaveStatus(369,this.Parent.WID,""):"Reject"==t&&this.SaveStatus(372,0,""),s.a.page.HideDialog();else{var i=this.ScreenObject.CurrentStatus;if("Approve"==t){if(!this.IsSaveValidated())return;var n=s.a.common.ApproveCostCenter(this.CostCenterID,this.NodeID,i,this.Remarks.Text,!1,0);this.DisplayMessage=n.Message,(e=n.RetValue)>0&&(this.IsUpdated||(this.ScreenObject.ButtonApproveVisible=!1,this.UpdateStatusID(e),null!=this.ScreenObject.drpStatus&&(null==this.ScreenObject.drpStatus.Items.find((function(t){return t.Value==e.toString()}))&&("1001"==e.toString()?this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Un Approved","1001")):"1002"==e.toString()?this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Approved","1002")):this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Rejected","1003"))),this.ScreenObject.drpStatus.SelectedValue=e.toString(),this.ScreenObject.drpStatus.SetSelectedItem(e.toString())),s.a.SessionManager.IsWebApplication&&(this.retValWeb=e)),s.a.page.HideDialog())}else if("Reject"==t){if(!this.IsSaveValidated())return;var a=s.a.common.ApproveCostCenter(this.CostCenterID,this.NodeID,i,this.Remarks.Text,!0,0);this.DisplayMessage=a.Message,(e=a.RetValue)>0&&(this.IsUpdated||(this.UpdateStatusID(e),null!=this.ScreenObject.drpStatus&&(null==this.ScreenObject.drpStatus.Items.find((function(t){return t.Value==e.toString()}))&&("1001"==e.toString()?this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Un Approved","1001")):"1002"==e.toString()?this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Approved","1002")):this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Rejected","1003"))),this.ScreenObject.drpStatus.SelectedValue=e.toString(),this.ScreenObject.drpStatus.SetSelectedItem(e.toString())),s.a.SessionManager.IsWebApplication&&(this.retValWeb=e)),s.a.page.HideDialog())}else s.a.page.HideDialog()}}},{key:"UpdateStatusID",value:function(t){this.ScreenObject.CurrentStatus=t,"QuickAddAccountScreenViewModel"==this.Parent.ClassName||"AddEditAccountScreenViewModel"==this.Parent.ClassName?this.Parent.obj.StatusID=t:"QuickAddProductViewModel"==this.Parent.ClassName?this.Parent.objProduct.ProductStatus=t:"AddProductScreenViewModel"==this.Parent.ClassName?this.Parent.oProduct.ProductStatus=t:"QuickAddCostCenterViewModel"==this.Parent.ClassName||"AddCostCenterViewModel"==this.Parent.ClassName?this.Parent.objCostCenter.Status=t:"AddEditEmpMasterViewModel"==this.Parent.ClassName&&(this.Parent.objEmp.StatusID=t)}},{key:"IsSaveValidated",value:function(){if(this.IsUpdated=!1,"QuickAddAccountScreenViewModel"==this.Parent.ClassName){var t=this.Parent;if(t.ButtonSave.Visible&&t.ButtonSave.Enable){if(t.SaveMethod("APPROVE_CALL"),0!=t.AccountID)return this.DisplayMessage=t.DisplayMessage,t.DisplayMessage="",!1;this.IsUpdated=!0,t.DisplayMessage=""}}else if("AddEditAccountScreenViewModel"==this.Parent.ClassName){var e=this.Parent;if(e.ButtonSave.Visible&&e.ButtonSave.Enable){if(e.OnSaveAccount("APPROVE_CALL"),0!=e.AccountID)return this.DisplayMessage=e.DisplayMessage,e.DisplayMessage="",!1;this.IsUpdated=!0,e.DisplayMessage=""}}else if("QuickAddProductViewModel"==this.Parent.ClassName){var i=this.Parent;if(i.ButtonSave.Visible&&i.ButtonSave.Enable){if(i.onSaveProduct("APPROVE_CALL"),0!=i.objProduct.ProductID)return this.DisplayMessage=i.DisplayMessage,i.DisplayMessage="",!1;this.IsUpdated=!0,i.DisplayMessage=""}}else if("AddProductScreenViewModel"==this.Parent.ClassName){var s=this.Parent;if(s.ButtonSave.Visible&&s.ButtonSave.Enable){if(s.OnSaveProduct("APPROVE_CALL"),0!=s.ProductID)return this.DisplayMessage=s.DisplayMessage,s.DisplayMessage="",!1;this.IsUpdated=!0,s.DisplayMessage=""}}else if("QuickAddCostCenterViewModel"==this.Parent.ClassName){var n=this.Parent;if(n.ButtonSave.Visible&&n.ButtonSave.Enable){if(n.SaveMethod(),0!=n.NodeID)return this.DisplayMessage=n.DisplayMessage,n.DisplayMessage="",!1;this.IsUpdated=!0,n.DisplayMessage=""}}else if("AddCostCenterViewModel"==this.Parent.ClassName){var a=this.Parent;if(a.ButtonSave.Visible&&a.ButtonSave.Enable){if(a.OnSaveCostCenter("Save"),0!=a.NodeID)return this.DisplayMessage=a.DisplayMessage,a.DisplayMessage="",!1;this.IsUpdated=!0,a.DisplayMessage=""}}else if("AddEditEmpMasterViewModel"==this.Parent.ClassName){var r=this.Parent;if(r.ButtonSave.Visible&&r.ButtonSave.Enable){if(r.OnSaveEmployee("Save"),0!=r.NodeID)return this.DisplayMessage=r.DisplayMessage,r.DisplayMessage="",!1;this.IsUpdated=!0,r.DisplayMessage=""}}return!0}}]),i}(n.b)},bwbx:function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var s=i("3Pt+"),n=i("fXoL"),a=i("ofXK"),r=i("sYmb");function o(t,e){if(1&t){var i=n.ac();n.Zb(0,"div",7),n.Wc(1,"\n            "),n.Zb(2,"a",8),n.hc("click",(function(){n.Ic(i);var t=e.$implicit;return n.lc(2).obj.OnReportsLinkClick(t.DBColumnID)})),n.Wc(3),n.Yb(),n.Wc(4,"\n        "),n.Yb()}if(2&t){var s=e.$implicit;n.Db(3),n.Xc(s.Label)}}function l(t,e){if(1&t){var i=n.ac();n.Zb(0,"div",1),n.Wc(1,"\n    "),n.Zb(2,"div",2),n.Wc(3,"\n        "),n.Wc(4,"\n        "),n.Uc(5,o,5,1,"div",3),n.Wc(6,"\n    "),n.Yb(),n.Wc(7,"\n\n    "),n.Zb(8,"div",4),n.Wc(9,"\n        "),n.Zb(10,"div"),n.Wc(11,"\n            "),n.Zb(12,"button",5),n.hc("click",(function(){return n.Ic(i),n.lc().obj.OnSave("Cancel")})),n.Ub(13,"i",6),n.Wc(14),n.mc(15,"translate"),n.Yb(),n.Wc(16,"\n        "),n.Yb(),n.Wc(17,"\n    "),n.Yb(),n.Wc(18,"\n"),n.Yb()}if(2&t){var s=n.lc();n.Db(5),n.tc("ngForOf",s.obj.ReportsList),n.Db(9),n.Xc(n.nc(15,2,"Cancel"))}}var h=function(){var t=function(){function t(){_classCallCheck(this,t),this.form=new s.j({})}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Nb({type:t,selectors:[["app-reportslist"]],inputs:{obj:"obj"},decls:1,vars:1,consts:[["class","master-screen",4,"ngIf"],[1,"master-screen"],[1,"pagesection-noborder","row","form-row"],["class","form-group col-xl-12 col-md-12 col-sm-12 col-xs-12 PACTControl hlink",4,"ngFor","ngForOf"],[1,"Pactdailogfooter"],[1,"secondary-btn-wicon",3,"click"],[1,"fa-light","fa-rectangle-xmark"],[1,"form-group","col-xl-12","col-md-12","col-sm-12","col-xs-12","PACTControl","hlink"],[3,"click"]],template:function(t,e){1&t&&n.Uc(0,l,19,4,"div",0),2&t&&n.tc("ngIf",e.obj.ReportInfoVisibility)},directives:[a.t,a.s],pipes:[r.d],styles:[""]}),t}()},tCvu:function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var s=i("Do2H"),n=i("Lp6j"),a=i("ockk"),r=i("0/4Q"),o=i("eQJW"),l=i("8B8H"),h=function(){function t(e,i,n){_classCallCheck(this,t),this.Module="RENT",this.ClassName="PropertyDepositsViewModel",this.Visible=!0,this.contextVisible=!0,this.ds=[],this.SelectedNode=0,this.PropertyID=0,this.RefreshGrid=!1,this.ColumnSpan="4",this.tempGridColumn=[],this.DimCCID=0,this.DepositsGrid1Obj=new l.a,this.SNO=1,Logger.InfoLog("PropertyDepositsViewModel::Entering PropertyDepositsViewModel With oParent="+e),this.PropertyID=i,this.ds=s.a.rental.GetParticularsScreenDetails(n,0),this.BuildTempDataTable(),this.DepositsGrid1Obj.CellEditEnding.Subscribe(this,"OnCellEditEnding"),Logger.InfoLog("PropertyDepositsViewModel::Leaving PropertyDepositsViewModel")}return _createClass(t,[{key:"BuildTempDataTable",value:function(){this.DepositsGrid1Obj.Clear(),this.tempGridColumn.push("Sno"),this.tempGridColumn.push("Particulars"),this.tempGridColumn.push("Particulars_Key"),this.tempGridColumn.push("CreditAccount"),this.tempGridColumn.push("CreditAccount_Key"),this.tempGridColumn.push("DebitAccount"),this.tempGridColumn.push("DebitAccount_Key"),this.tempGridColumn.push("Advance"),this.tempGridColumn.push("Advance_Key"),this.tempGridColumn.push("Refund"),this.tempGridColumn.push("Percentage"),this.tempGridColumn.push("Amount"),this.tempGridColumn.push("Months"),this.tempGridColumn.push("Type"),this.tempGridColumn.push("ContractType"),this.tempGridColumn.push("Vat"),this.tempGridColumn.push("VatType"),this.tempGridColumn.push("TaxCategory"),this.tempGridColumn.push("TaxCategory_Key"),this.tempGridColumn.push("BankAccountID"),this.tempGridColumn.push("BankAccountID_Key"),this.tempGridColumn.push("SPType"),this.tempGridColumn.push("SPType_Key"),this.tempGridColumn.push("InclChequeGen"),this.tempGridColumn.push("RecurInvoice"),this.tempGridColumn.push("PostDebit"),this.tempGridColumn.push("Display"),this.tempGridColumn.push("PercType");for(var t=0;t<10;t++)this.DepositsGrid1Obj.addEmptyRow();var e=[],i=new a.a;i.DisplayMember="Sno",i.Header=s.a.GetResource("Sno"),i.DataType="TextBox",i.Width=50,i.IsVisible=!0,i.ReadOnly=!0,e.push(i),this.DepositsGrid=e,(i=new a.a).DisplayMember="Particulars",i.ValueMember="Particulars_Key",i.CostCenterID=parseInt(this.ds.Tables[2][0].value.toString()),i.TypeID=1,i.DataType="LISTBOX",i.Header=s.a.GetResource("Deposits_Particulars"),i.Width=100,i.IsVisible=!0,e.push(i),(i=new a.a).CostCenterID=2;var o=this.ds.Tables[3].filter((function(t){return"CrAccListview"==t.Name}));i.TypeID=null!=o&&o.length>0?parseInt(o[0].Value.toString()):100,i.DisplayMember="CreditAccount",i.ValueMember="CreditAccount_Key",i.Header=s.a.GetResource("Deposits_CreditAcc"),i.DataType="LISTBOX",i.Width=150,i.IsVisible=!0,e.push(i),(i=new a.a).CostCenterID=2,o=this.ds.Tables[3].filter((function(t){return"DrAccListview"==t.Name})),i.TypeID=null!=o&&o.length>0?parseInt(o[0].Value.toString()):108,i.DisplayMember="DebitAccount",i.ValueMember="DebitAccount_Key",i.Header=s.a.GetResource("Deposits_DebitAcc"),i.DataType="LISTBOX",i.Width=150,i.IsVisible=!0,e.push(i),(i=new a.a).CostCenterID=2,i.TypeID=2,i.DisplayMember="Advance",i.ValueMember="Advance_Key",i.Header="Advance A/c",i.DataType="LISTBOX",i.Width=150,e.push(i),(i=new a.a).ComboData=this.ReturnRefund(),i.DisplayMember="Refund",i.ValueMember="Value",i.ValueBinding="Refund",i.DataType="ComboBox",i.Header=s.a.GetResource("Deposits_Refund"),i.Width=100,i.IsVisible=!0,e.push(i),(i=new a.a).DisplayMember="Percentage",i.Header=s.a.GetResource("Deposits_Percentage"),i.DataType="FLOAT",i.Width=100,i.IsVisible=!0,e.push(i),(i=new a.a).DisplayMember="Amount",i.Header=s.a.GetResource("Deposits_Amount"),i.DataType="FLOAT",i.Width=100,i.IsVisible=!0,e.push(i),(i=new a.a).DisplayMember="Months",i.Header="Amount(Months)",i.DataType="FLOAT",i.Width=120,i.IsVisible=!0,e.push(i),(i=new a.a).DisplayMember="Vat",i.Header="VAT(%)",i.DataType="FLOAT",i.Width=100,i.IsVisible=!0,e.push(i),(i=new a.a).CostCenterID=50060,i.TypeID=1,i.DisplayMember="TaxCategory",i.ValueMember="TaxCategory_Key",i.Header="TaxCategory",i.DataType="LISTBOX",i.Width=120,e.push(i),(i=new a.a).CostCenterID=50061,i.TypeID=1,i.DisplayMember="SPType",i.ValueMember="SPType_Key",i.Header="Sales purchase type",i.DataType="LISTBOX",i.Width=120,e.push(i),(i=new a.a).Header="Vat Type",i.ValueBinding="VatType",i.DataType="ComboBox",i.DisplayMember="Name",i.ValueMember="Value",i.Width=100;var l=new Array;l.push(r.d.ComboBoxItems_2("Exclusive","Exclusive")),l.push(r.d.ComboBoxItems_2("Inclusive","Inclusive")),i.ComboData=l,i.IsVisible=!0,e.push(i),(i=new a.a).Header="Recur",i.ValueBinding="RecurInvoice",i.DataType="ComboBox",i.DisplayMember="Name",i.ValueMember="Value",i.Width=120,(l=new Array).push(r.d.ComboBoxItems_2("Yes","1")),l.push(r.d.ComboBoxItems_2("No","0")),i.ComboData=l,e.push(i),(i=new a.a).Header="Type",i.ValueBinding="Type",i.DataType="ComboBox",i.DisplayMember="Name",i.ValueMember="Value",i.Width=100,(l=new Array).push(r.d.ComboBoxItems_2("New","1")),l.push(r.d.ComboBoxItems_2("Renew","2")),l.push(r.d.ComboBoxItems_2("Both","3")),l.push(r.d.ComboBoxItems_2("Refund & Terminate ","4")),l.push(r.d.ComboBoxItems_2("Terminate","5")),l.push(r.d.ComboBoxItems_2("Refund","6")),i.ComboData=l,i.IsVisible=!0,e.push(i),(i=new a.a).Header="Generate Cheque",i.ValueBinding="InclChequeGen",i.DataType="ComboBox",i.DisplayMember="Name",i.ValueMember="Value",i.Width=120,(l=new Array).push(r.d.ComboBoxItems_2("Yes","1")),l.push(r.d.ComboBoxItems_2("No","0")),l.push(r.d.ComboBoxItems_2("Incl Vat","2")),i.ComboData=l,e.push(i),(i=new a.a).Header="Contract Type",i.ValueBinding="ContractType",i.DataType="ComboBox",i.DisplayMember="Name",i.ValueMember="Value",i.Width=100;var h=new Array;if(h.push(r.d.ComboBoxItems_2("Sales","1")),h.push(r.d.ComboBoxItems_2("Purchase","2")),i.ComboData=h,i.IsVisible=!0,e.push(i),(i=new a.a).Header="Post to Debit",i.ValueBinding="PostDebit",i.DataType="ComboBox",i.DisplayMember="Name",i.ValueMember="Value",i.Width=100,(h=new Array).push(r.d.ComboBoxItems_2("Yes","1")),h.push(r.d.ComboBoxItems_2("No","0")),i.ComboData=h,i.IsVisible=!0,e.push(i),(i=new a.a).CostCenterID=2,i.TypeID=10,i.DisplayMember="BankAccountID",i.ValueMember="BankAccountID_Key",i.Header="Bank",i.DataType="LISTBOX",i.Width=120,e.push(i),o=this.ds.Tables[3].filter((function(t){return"DimensionWiseContract"==t.Name})),this.DimCCID=n.e.IntTryParse(o[0].Value),this.DimCCID=null!=o&&o.length>0&&this.DimCCID>0?parseInt(o[0].Value.toString()):0,this.DimCCID>5e4&&((i=new a.a).DisplayMember="Dim",i.ValueMember="Dim_Key",i.DataType="LISTBOX",i.CostCenterID=this.DimCCID,i.TypeID=1,this.ds.Tables.length>4&&this.ds.Tables[4].length>0&&(i.Header=this.ds.Tables[4][0][Object.keys(this.ds.Tables[4][0])[0]].toString()),i.Width=150,i.ID="0",e.push(i),this.tempGridColumn.push("Dim"),this.tempGridColumn.push("Dim_Key")),(i=new a.a).Header="Display",i.ValueBinding="Display",i.DataType="ComboBox",i.DisplayMember="Name",i.ValueMember="Value",i.Width=100,(h=new Array).push(r.d.ComboBoxItems_2("Yes","1")),h.push(r.d.ComboBoxItems_2("No","0")),i.ComboData=h,i.IsVisible=!0,(i=new a.a).Header="Percentage Type",i.ValueBinding="PercType",i.DataType="ComboBox",i.DisplayMember="Name",i.ValueMember="Value",i.Width=120,(h=new Array).push(r.d.ComboBoxItems_2("Rent","1")),h.push(r.d.ComboBoxItems_2("Un-Occupied","2")),i.ComboData=h,i.IsVisible=!0,e.push(i),this.ds.Tables.length>5&&this.ds.Tables[5].length>0)for(var c=0;c<this.ds.Tables[5].length;c++)this.DimCCID!=parseInt(this.ds.Tables[5][c].ColumnCostCenterID.toString())&&((i=new a.a).DisplayMember=this.ds.Tables[5][c].SysColumnName.toString(),i.ValueMember=this.ds.Tables[5][c].SysColumnName.toString()+"_Key",i.DataType="LISTBOX",i.CostCenterID=parseInt(this.ds.Tables[5][c].ColumnCostCenterID.toString()),i.TypeID=parseInt(this.ds.Tables[5][c].ColumnCCListViewTypeID.toString()),i.Header=this.ds.Tables[5][c].ResourceData.toString(),i.Width=""!=n.e.StringValue(this.ds.Tables[5][c].uiwidth)?parseInt(this.ds.Tables[5][c].uiwidth.toString()):150,i.ID=this.ds.Tables[5][c].CostCenterColID.toString(),e.push(i),this.tempGridColumn.push(i.DisplayMember),this.tempGridColumn.push(i.ValueMember));this.DepositsGrid=e}},{key:"OnCmnItem_Click",value:function(t){switch(Logger.InfoLog("PropertyDepositsViewModel::Entering OnCmnItem_Click"),t){case"DELETE":this.DepositsGrid1.length>0&&(this.DepositsGrid1.Remove(this.SelectedNode),this.UpdateSequence())}Logger.InfoLog("PropertyDepositsViewModel::Exiting OnCmnItem_Click")}},{key:"UpdateSequence",value:function(){var t=this;this.SNO=1,this.DepositsGrid1.forEach((function(e){e.Sno=t.SNO++}))}},{key:"ReturnRefund",value:function(){var t=[],e={Refund:"Yes",Value:"1"};return t.push(e),(e={}).Refund="No",e.Value="0",t.push(e),(e={}).Refund="Partial onTerminate",e.Value="2",t.push(e),t}},{key:"FillParticulars",value:function(t){}},{key:"GetXML",value:function(){Logger.InfoLog("PropertyDepositsViewModel::Entering GetXML");var t="";if(null!=this.DepositsGrid1&&this.DepositsGrid1.length>0){t+="<XML>";for(var e=0;e<this.DepositsGrid1.length;e++)if(!n.e.StringIsNullOrEmpty(this.DepositsGrid1[e].Particulars_Key)){t+="<Row   ",t+=' PropertyID="'+this.PropertyID+'"',t+=' RowNo="'+(e+1)+'"',t+=' Particulars="'+this.DepositsGrid1[e].Particulars_Key.toString()+'"',t+=' CreditAccount="'+n.e.String(this.DepositsGrid1[e].CreditAccount_Key)+'"',t+=' DebitAccount="'+n.e.String(this.DepositsGrid1[e].DebitAccount_Key)+'"',n.e.StringIsNullOrEmpty(this.DepositsGrid1[e].Advance_Key)||(t+=' AdvanceAccountID="'+this.DepositsGrid1[e].Advance_Key.toString()+'"'),n.e.IsEmpty(this.DepositsGrid1[e].BankAccountID_Key)||(t+=' BankAccountID="'+this.DepositsGrid1[e].BankAccountID_Key.toString()+'"'),n.e.StringIsNullOrEmpty(this.DepositsGrid1[e].VatType)||(t+=' VatType="'+this.DepositsGrid1[e].VatType.toString()+'"'),n.e.StringIsNullOrEmpty(this.DepositsGrid1[e].TaxCategory_Key)||(t+=' TaxCategoryID="'+this.DepositsGrid1[e].TaxCategory_Key.toString()+'"'),n.e.StringIsNullOrEmpty(this.DepositsGrid1[e].SPType_Key)||(t+=' SPType="'+this.DepositsGrid1[e].SPType_Key.toString()+'"'),n.e.StringIsNullOrEmpty(this.DepositsGrid1[e].Display)?t+=' Display="1"':t+=' Display="'+this.DepositsGrid1[e].Display.toString()+'"',n.e.IsEmpty(this.DepositsGrid1[e].PercType)?t+=' PercType="1"':t+=' PercType="'+this.DepositsGrid1[e].PercType.toString()+'"',n.e.StringIsNullOrEmpty(this.DepositsGrid1[e].Refund)?t+=' Refund="0"':t+=' Refund="'+this.DepositsGrid1[e].Refund.toString()+'"',n.e.StringIsNullOrEmpty(this.DepositsGrid1[e].PostDebit)?t+=' PostDebit="0"':t+=' PostDebit="'+this.DepositsGrid1[e].PostDebit.toString()+'"',n.e.StringIsNullOrEmpty(this.DepositsGrid1[e].RecurInvoice)?t+=' RecurInvoice="0"':t+=' RecurInvoice="'+this.DepositsGrid1[e].RecurInvoice.toString()+'"',n.e.StringIsNullOrEmpty(this.DepositsGrid1[e].InclChequeGen)?t+=' InclChkGen="0"':t+=' InclChkGen="'+this.DepositsGrid1[e].InclChequeGen.toString()+'"',this.tempGridColumn.Contains("Dim_Key")&&!n.e.StringIsNullOrEmpty(this.DepositsGrid1[e].Dim_Key)&&(t+=' DimNodeID="'+this.DepositsGrid1[e].Dim_Key.toString()+'"'),t+=' Vat="'+n.e.String(this.DepositsGrid1[e].Vat)+'"',t+=' Percentage="'+n.e.String(this.DepositsGrid1[e].Percentage)+'"',t+=' Amount="'+n.e.String(this.DepositsGrid1[e].Amount)+'"',t+=' Months="'+n.e.String(this.DepositsGrid1[e].Months)+'"',t+=' TypeID="'+n.e.String(this.DepositsGrid1[e].Type)+'"',t+=' ContractType="'+n.e.String(this.DepositsGrid1[e].ContractType)+'"';for(var i=0;i<this.DepositsGrid.length;i++)this.DepositsGrid[i].DisplayMember.startsWith("CCNID")&&this.DepositsGrid1Obj.TableColumns.Contains(this.DepositsGrid[i].ValueMember)&&""!=this.DepositsGrid1[e][this.DepositsGrid[i].ValueMember].toString()&&(t+=this.DepositsGrid[i].DisplayMember+'="'+this.DepositsGrid1[e][this.DepositsGrid[i].ValueMember].toString()+'" ');t+="/>"}t.length>0&&(t+="</XML>")}return Logger.InfoLog("PropertyDepositsViewModel::Leaving GetXML Which Returns XML as"+t),t.toString()}},{key:"ClearData",value:function(){this.DepositsGrid1.Clear();for(var t=0;t<10;t++)this.DepositsGrid1Obj.addEmptyRow()}},{key:"Load",value:function(t){if(null!=t&&t.length>0){for(var e=0;e<t.length;e++){this.DepositsGrid1Obj.addEmptyRow(),this.DepositsGrid1[e].Sno=e+1,n.e.StringIsNullOrEmpty(t[e].ParticularID)||(this.DepositsGrid1[e].Particulars_Key=t[e].ParticularID.toString(),this.DepositsGrid1[e].Particulars=t[e].NAME.toString()),n.e.StringIsNullOrEmpty(t[e].CreditAccountID)||(this.DepositsGrid1[e].CreditAccount_Key=t[e].CreditAccountID.toString(),this.DepositsGrid1[e].CreditAccount=n.e.StringIsNullOrEmpty(t[e].A)?"":t[e].A.toString()),n.e.StringIsNullOrEmpty(t[e].DebitAccountID)||(this.DepositsGrid1[e].DebitAccount_Key=t[e].DebitAccountID.toString(),this.DepositsGrid1[e].DebitAccount=n.e.StringIsNullOrEmpty(t[e].B)?"":t[e].B.toString()),n.e.IsEmpty(t[e].BankAccountID)||(this.DepositsGrid1[e].BankAccountID_Key=t[e].BankAccountID.toString(),this.DepositsGrid1[e].BankAccountID=n.e.String(t[e].BankAccount)),n.e.StringIsNullOrEmpty(t[e].AdvanceAccountID)||(this.DepositsGrid1[e].Advance_Key=t[e].AdvanceAccountID.toString(),this.DepositsGrid1[e].Advance=n.e.StringIsNullOrEmpty(t[e].AdvanceAccountName)?"":t[e].AdvanceAccountName.toString()),n.e.StringIsNullOrEmpty(t[e].TaxCategoryID)||(this.DepositsGrid1[e].TaxCategory_Key=t[e].TaxCategoryID.toString(),this.DepositsGrid1[e].TaxCategory=n.e.StringIsNullOrEmpty(t[e].TaxCategory)?"":t[e].TaxCategory.toString()),n.e.StringIsNullOrEmpty(t[e].SPTypeName)||(n.e.StringIsNullOrEmpty(t[e].SPType)||(this.DepositsGrid1[e].SPType_Key=t[e].SPType.toString()),this.DepositsGrid1[e].SPType=t[e].SPTypeName.toString()),n.e.StringIsNullOrEmpty(t[e].VatType)||(this.DepositsGrid1[e].VatType=t[e].VatType.toString()),this.DepositsGrid1[e].Refund=n.e.StringIsNullOrEmpty(t[e].Refund)?"0":t[e].Refund.toString(),this.DepositsGrid1[e].Display=n.e.StringIsNullOrEmpty(t[e].Display)?"1":t[e].Display.toString(),this.DepositsGrid1[e].InclChequeGen=n.e.StringIsNullOrEmpty(t[e].InclChkGen)?"0":t[e].InclChkGen.toString();var i=!1;n.e.StringIsNullOrEmpty(t[e].RecurInvoice)?this.DepositsGrid1[e].RecurInvoice=n.e.StringIsNullOrEmpty(t[e].RecurInvoice)?"0":t[e].RecurInvoice.toString():(i=Object(o.j)(t[e].RecurInvoice),this.DepositsGrid1[e].RecurInvoice=i?"1":"0"),n.e.StringIsNullOrEmpty(t[e].PostDebit)?this.DepositsGrid1[e].PostDebit=n.e.StringIsNullOrEmpty(t[e].PostDebit)?"0":t[e].PostDebit.toString():(i=Object(o.j)(t[e].PostDebit),this.DepositsGrid1[e].PostDebit=i?"1":"0"),this.tempGridColumn.Contains("Dim_Key")&&null!=t[e].Dimname&&!n.e.StringIsNullOrEmpty(t[e].DimNodeID)&&(this.DepositsGrid1[e].Dim_Key=n.e.String(t[e].DimNodeID),this.DepositsGrid1[e].Dim=n.e.String(t[e].Dimname));for(var s=0;s<this.DepositsGrid.length;s++)this.DepositsGrid[s].DisplayMember.startsWith("CCNID")&&this.DepositsGrid1Obj.TableColumns.Contains(this.DepositsGrid[s].ValueMember)&&t.Columns.Contains(this.DepositsGrid[s].DisplayMember)&&""!=t[e][this.DepositsGrid[s].DisplayMember].toString()&&(this.DepositsGrid1[e][this.DepositsGrid[s].ValueMember]=t[e][this.DepositsGrid[s].DisplayMember].toString());this.DepositsGrid1[e].Vat=n.e.String(t[e].Vat),this.DepositsGrid1[e].Percentage=n.e.String(t[e].DiscountPercentage),this.DepositsGrid1[e].Amount=n.e.String(t[e].DiscountAmount),this.DepositsGrid1[e].Months=n.e.String(t[e].Months),n.e.StringIsNullOrEmpty(t[e].TypeID)||(this.DepositsGrid1[e].Type=t[e].TypeID.toString()),n.e.StringIsNullOrEmpty(t[e].ContractType)||(this.DepositsGrid1[e].ContractType=t[e].ContractType.toString()),n.e.StringIsNullOrEmpty(t[e].PercType)||(this.DepositsGrid1[e].PercType=t[e].PercType.toString()),this.DepositsGrid1Obj.updateRow(this.DepositsGrid1[e])}this.RefreshGrid=!0}else this.ClearData()}},{key:"OnCellEditEnding",value:function(t){Logger.InfoLog("PropertyDepositsViewModel ::Entering OnCellEditEnding");try{var e=t.item,i=t.column.DataGridColumn.Binding;if("ComboBox"==t.column.DataGridColumn.DataType)return;"DebitAccountID"==i&&n.e.StringIsNullOrEmpty(e.DebitAccountID)&&(e.DebitAccountID_Key="0"),"Particulars"==i&&n.e.StringIsNullOrEmpty(e.ContractType)&&(e.ContractType="1",e.Type="3",this.RefreshGrid=!0)}catch(s){Logger.ErrorLog("PropertyDepositsViewModel :: OnCellEditEnding"+s.stack)}}},{key:"angularGrid",get:function(){return this.DepositsGrid1Obj.angularGrid}},{key:"DepositsGrid1",get:function(){return this.DepositsGrid1Obj.Table}},{key:"DepositsGrid",get:function(){return this.DepositsGrid1Obj.Columns},set:function(t){this.DepositsGrid1Obj.Columns=t}},{key:"DepositGridColumns",get:function(){return this.DepositsGrid1Obj.TableColumns}},{key:"SelectedRow",get:function(){return this.DepositsGrid1Obj.SelectedItem},set:function(t){this.DepositsGrid1Obj.SelectedItem=t}}]),t}()},wJuo:function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var s=i("Do2H"),n=i("Lp6j"),a=i("eQJW"),r=i("4HhE"),o=i("OvA8"),l=i("xnJf"),h=function(){function t(){_classCallCheck(this,t),this.parent=null,this.SubmitClick=new r.b,this._AttachmentVisibility=!1,this.ClassName="PopupAttachmentsViewModel"}return _createClass(t,[{key:"OnShowAttachment",value:function(){Logger.InfoLog("AddProductViewModel::Entering OnShowAttachment"),Logger.InfoLog("AddProductViewModel::Exiting OnShowAttachment")}},{key:"OnAddAttachment",value:function(){Logger.InfoLog("AddProductViewModel::Entering AddAttachment"),this.Attachment=new l.AddAttachmentViewModel,this.Attachment.AddAttachmentViewModel_2(this),Logger.InfoLog("AddProductViewModel::Entering AddAttachment")}},{key:"PopupAttachmentsViewModel_1",value:function(t,e,i){var s,r,h,c=this;this.parent=i,this.AttachmentVisibility=!0,this.OnAddAttachment(),this.CostCenterID=t,this.NID=e,this._ViewAttachments=new o.ViewAttachmentViewModel(this),this.SubmitClick.Subscribe(this,"ListAttachments");var u=0,p="",d="";if("AddProductScreenViewModel"==(null===(s=this.parent)||void 0===s?void 0:s.ClassName)?(u=i.FileID,p=i.ProductPhoto,d=i.FileDescription):"AddEditAccountViewModel"==(null===(r=this.parent)||void 0===r?void 0:r.ClassName)||"AddUsersViewModel"==(null===(h=this.parent)||void 0===h?void 0:h.ClassName)?(u=i.FileID,p=i.AccountPhoto):(u=this.parent.FileID,p=this.parent.AccountPhoto,d=this.parent.FileDescription),null!=i){if(!n.e.IsEmpty(p)){var m=new l.AddAttachmentViewModel;if(m.AddAttachmentViewModel_2(this),m.AttachmentID=u,u>0){var D=null;"AddProductScreenViewModel"==this.parent.ClassName||"AddEditAccountViewModel"==this.parent.ClassName?D=i.ds.Tables[4].filter((function(t){return t.FileID==u})):"AddUsersViewModel"==this.parent.ClassName||"AddCostCenterViewModel"==this.parent.ClassName?D=this.parent.ds.Tables[3].filter((function(t){return t.FileID==u})):"AddEditEmpMasterViewModel"==this.parent.ClassName?D=this.parent.dsEdit.Tables[3].filter((function(t){return t.FileID==u})):"AddEditPropertyViewModel"==i.ClassName?D=i.ds.Tables[18].filter((function(t){return t.FileID==u})):"AddEditUnitsViewModel"==i.ClassName?D=i.ds.Tables[6].filter((function(t){return t.FileID==u})):"AddEditTenantViewModel"==i.ClassName&&(D=i.Dset.Tables[4].filter((function(t){return t.FileID==u}))),D.length>0&&(m.ActualFileName=D[0].ActualFileName.toString(),m.FileExtension=D[0].FileExtension.toString(),m.FileDescription=D[0].FileDescription.toString(),m.FilePath="",m.Guid=D[0].GUID.toString(),m.RelativeFileName=D[0].RelativeFileName.toString(),m.MainFilePath=D[0].FilePath.toString(),m.IsProductImage=!0,m.IsDefaultImage=!0,m.IsDefaultImageVisible=!0,m.CancelVisible=!1,m.Guid=D[0].GUID.toString(),n.e.hasprop(D[0],"HasThumb")&&(m.HasThumb=Object(a.j)(D[0].HasThumb)))}else{m.FilePath=p,m.MainFilePath=p,m.RelativeFileName=p,m.ActualFileName=m.FilePath.substr(m.FilePath.lastIndexOf("\\")+1);var g=m.FilePath.split("."),I="";g.length>1&&(I=g[g.length-1]),m.FileExtension=I,m.FileDescription=d,m.IsProductImage=!0,m.IsDefaultImage=!0,m.IsDefaultImageVisible=!0,m.CancelVisible=!1,m.Guid=this.parent.guid}this.ViewAttachments.AttachmentsList.push(m)}var y=[];(n.e.IsType(i,"IAttachment")||n.e.hasprop(i,"ViewAttachments"))&&(y=this.parent.ViewAttachments.AttachmentsList),y.forEach((function(t){if(t.IsProductImage){var e=new l.AddAttachmentViewModel;e.AddAttachmentViewModel_2(c),e.AttachmentID=t.AttachmentID,e.ActualFileName=t.ActualFileName,e.FileExtension=t.FileExtension,e.FileDescription=t.FileDescription,e.MainFilePath=t.MainFilePath,e.FilePath=t.FilePath,e.Guid=t.guid,e.RelativeFileName=t.RelativeFileName,e.IsProductImage=t.IsProductImage,e.IsDefaultImage=t.IsDefaultImage,e.IsDefaultImageVisible=!0,e.HasThumb=t.HasThumb,c.ViewAttachments.AttachmentsList.push(e)}}))}}},{key:"ListAttachments",value:function(t){var e=this;if("Submit"==t.toString()){if("AddProductScreenViewModel"==this.parent.ClassName){var i=0;this.ViewAttachments.AttachmentsList.forEach((function(t){var s=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.RelativeFileName==t.RelativeFileName}));t.IsDefaultImage?(i++,null!=s&&s.length>0&&e.parent.ViewAttachments.AttachmentsList.Remove(s),(n.e.IsEmpty(t.FilePath)||e.parent.ProductPhoto==t.FilePath)&&e.parent.ProductPhoto.Contains(n.e.GetPath(t.guid+"."+t.FileExtension))||(e.parent.FileID=t.AttachmentID,e.parent.ProductPhoto=n.e.IsEmpty(t.guid)?t.FilePath:n.e.GetPath(t.guid+"."+t.FileExtension),e.parent.ActualFileName=t.ActualFileName,e.parent.ThumbnailPhoto=t.ThumbnailPhoto,e.parent.guid=t.guid,e.parent.Guid=t.guid,e.parent.FileExtension=t.FileExtension,e.parent.IsPhotoChanged=!0,e.parent.PhotoTextVisibility=!1,e.parent.DisplayMessage="",e.parent.MessageVisibility=!1,e.parent.FileDescription=t.FileDescription),t.IsModified=!0):null==s||0==s.length?(t.AttachmentID>0?(t.IsModified=!0,null!=(s=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.AttachmentID==t.AttachmentID})))&&e.parent.ViewAttachments.AttachmentsList.Remove(s)):(t.IsModified=!1,t._Flg=!0),e.parent.ViewAttachments.AttachmentsList.push(t)):(s.FileDescription=t.FileDescription,s.IsModified=!0)})),0==i&&(this.parent.ProductPhoto="",this.parent.ActualFileName="",this.parent.ThumbnailPhoto="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.DialogResult=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage="",this.parent.FileDescription=""),this.ViewAttachments.DeletedAttachments.forEach((function(t){e.parent.ViewAttachments.DeletedAttachments.push(t);var i=e.parent.ViewAttachments.AttachmentsList.find((function(e){return e.AttachmentID==t.AttachmentID}));null!=i&&e.parent.ViewAttachments.AttachmentsList.Remove(i)}))}else if("AddEditAccountViewModel"==this.parent.ClassName){var a=0;this.ViewAttachments.AttachmentsList.forEach((function(t){var i=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.RelativeFileName==t.RelativeFileName}));t.IsDefaultImage?(a++,null!=i&&i.length>0&&e.parent.ViewAttachments.AttachmentsList.Remove(i),(n.e.IsEmpty(t.FilePath)||e.parent.AccountPhoto==t.FilePath)&&e.parent.AccountPhoto.Contains(n.e.GetPath(t.guid+"."+t.FileExtension))||(e.parent.FileID=t.AttachmentID,e.parent.AccountPhoto=n.e.IsEmpty(t.guid)?t.FilePath:n.e.GetPath(t.guid+"."+t.FileExtension),e.parent.ActualFileName=t.ActualFileName,e.parent.guid=t.guid,e.parent.Guid=t.guid,e.parent.FileExtension=t.FileExtension,e.parent.IsPhotoChanged=!0,e.parent.PhotoTextVisibility=!1,e.parent.DisplayMessage="",e.parent.MessageVisibility=!1),t.IsModified=!0):null==i||0==i.length?(t.AttachmentID>0?(t.IsModified=!0,null!=(i=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.AttachmentID==t.AttachmentID})))&&e.parent.ViewAttachments.AttachmentsList.Remove(i)):(t.IsModified=!1,t._Flg=!0),e.parent.ViewAttachments.AttachmentsList.push(t)):(i.FileDescription=t.FileDescription,i.IsModified=!0)})),0==a&&(this.parent.AccountPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage=""),this.ViewAttachments.DeletedAttachments.forEach((function(t){e.parent.ViewAttachments.DeletedAttachments.push(t);var i=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.AttachmentID==t.AttachmentID}));null!=i&&e.parent.ViewAttachments.AttachmentsList.Remove(i)}))}else if("AddUsersViewModel"==this.parent.ClassName){var r=0;this.ViewAttachments.AttachmentsList.forEach((function(t){var i=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.RelativeFileName==t.RelativeFileName}));t.IsDefaultImage?(r++,null!=i&&i.length>0&&e.parent.ViewAttachments.AttachmentsList.Remove(i),(n.e.IsEmpty(t.FilePath)||e.parent.AccountPhoto==t.FilePath)&&e.parent.AccountPhoto.Contains(n.e.GetPath(t.guid+"."+t.FileExtension))||(e.parent.FileID=t.AttachmentID,e.parent.AccountPhoto=n.e.IsEmpty(t.guid)?t.FilePath:n.e.GetPath(t.guid+"."+t.FileExtension),e.parent.ActualFileName=t.ActualFileName,e.parent.IsPhotoChanged=!0,e.parent.PhotoTextVisibility=!1,e.parent.DisplayMessage="",e.parent.MessageVisibility=!1),t.IsModified=!0):null==i||0==i.length?(t.AttachmentID>0?(t.IsModified=!0,null!=(i=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.AttachmentID==t.AttachmentID})))&&e.parent.ViewAttachments.AttachmentsList.Remove(i)):(t.IsModified=!1,t._Flg=!0),e.parent.ViewAttachments.AttachmentsList.push(t)):(i.FileDescription=t.FileDescription,i.IsModified=!0)})),0==r&&(this.parent.AccountPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.DialogResult=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage=""),this.ViewAttachments.DeletedAttachments.forEach((function(t){e.parent.ViewAttachments.DeletedAttachments.push(t);var i=e.parent.ViewAttachments.AttachmentsList.find((function(e){return e.AttachmentID==t.AttachmentID}));i&&e.parent.ViewAttachments.AttachmentsList.Remove(i)}))}else if("AddCostCenterViewModel"==this.parent.ClassName){var o=0;this.ViewAttachments.AttachmentsList.forEach((function(t){var i=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.RelativeFileName==t.RelativeFileName}));t.IsDefaultImage?(o++,null!=i&&i.length>0&&e.parent.ViewAttachments.AttachmentsList.Remove(i),(n.e.IsEmpty(t.FilePath)||e.parent.AccountPhoto==t.FilePath)&&e.parent.AccountPhoto.Contains(n.e.GetPath(t.guid))||(e.parent.FileID=t.AttachmentID,e.parent.AccountPhoto=n.e.IsEmpty(t.guid)?t.FilePath:n.e.GetPath(t.guid),e.parent.ThumbnailPhoto=t.ThumbnailPhoto,e.parent.ActualFileName=t.ActualFileName,e.parent.guid=t.guid,e.parent.Guid=t.guid,e.parent.FileExtension=t.FileExtension,e.parent.IsPhotoChanged=!0,e.parent.PhotoTextVisibility=!1,e.parent.DisplayMessage="",e.parent.MessageVisibility=!1),t.IsModified=!0):null==i||0==i.length?(t.AttachmentID>0?(t.IsModified=!0,null!=(i=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.AttachmentID==t.AttachmentID})))&&e.parent.ViewAttachments.AttachmentsList.Remove(i)):(t.IsModified=!1,t._Flg=!0),e.parent.ViewAttachments.AttachmentsList.push(t)):(i.FileDescription=t.FileDescription,i.IsModified=!0)})),0==o&&(this.parent.AccountPhoto="",this.parent.ThumbnailPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage=""),this.ViewAttachments.DeletedAttachments.forEach((function(t){e.parent.ViewAttachments.DeletedAttachments.push(t);var i=e.parent.ViewAttachments.AttachmentsList.find((function(e){return e.AttachmentID==t.AttachmentID}));i&&e.parent.ViewAttachments.AttachmentsList.Remove(i)}))}else if("AddEditEmpMasterViewModel"==this.parent.ClassName||"AddEditPropertyViewModel"==this.parent.ClassName||"AddEditUnitsViewModel"==this.parent.ClassName||"AddEditTenantViewModel"==this.parent.ClassName){var l=0;this.ViewAttachments.AttachmentsList.forEach((function(t){var i=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.RelativeFileName==t.RelativeFileName}));t.IsDefaultImage?(l++,null!=i&&e.parent.ViewAttachments.AttachmentsList.Remove(i),(n.e.IsEmpty(t.FilePath)||e.parent.AccountPhoto==t.FilePath)&&e.parent.AccountPhoto.Contains(n.e.GetPath(t.guid+"."+t.FileExtension))||(e.parent.FileID=t.AttachmentID,e.parent.AccountPhoto=n.e.IsEmpty(t.guid)?t.FilePath:n.e.GetPath(t.guid+"."+t.FileExtension),e.parent.ActualFileName=t.ActualFileName,e.parent.IsPhotoChanged=!0,e.parent.PhotoTextVisibility=!1,e.parent.EmpAttachmentguid=t.guid.toString(),e.parent.DisplayMessage="",e.parent.FileExtension=t.FileExtension,e.parent.MessageVisibility=!1,e.parent.FileDescription=t.FileDescription),t.IsModified=!0):null==i||0==i.length?(t.AttachmentID>0?(t.IsModified=!0,null!=(i=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.AttachmentID==t.AttachmentID})))&&e.parent.ViewAttachments.AttachmentsList.Remove(i)):(t.IsModified=!1,t._Flg=!0),e.parent.ViewAttachments.AttachmentsList.push(t)):(i.FileDescription=t.FileDescription,i.IsModified=!0)})),0==l&&(this.parent.AccountPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage="",this.parent.FileDescription=""),this.ViewAttachments.DeletedAttachments.forEach((function(t){e.parent.ViewAttachments.DeletedAttachments.push(t);var i=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.AttachmentID==t.AttachmentID}));null!=i&&e.parent.ViewAttachments.AttachmentsList.Remove(i)}))}s.a.page.HideDialog()}else s.a.page.HideDialog()}},{key:"ProductPhoto",get:function(){return this._ProductPhoto},set:function(t){t!=this._ProductPhoto&&(this._ProductPhoto=t)}},{key:"AttachmentVisibility",get:function(){return this._AttachmentVisibility},set:function(t){t!=this._AttachmentVisibility&&(this._AttachmentVisibility=t)}},{key:"Attachment",get:function(){return this._Attachment},set:function(t){t!=this._Attachment&&(this._Attachment=t)}},{key:"ViewAttachments",get:function(){return this._ViewAttachments},set:function(t){t!=this._ViewAttachments&&(this._ViewAttachments=t)}}]),t}()}}]);