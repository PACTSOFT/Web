(window.webpackJsonp=window.webpackJsonp||[]).push([[197],{"j1+j":function(e,a,t){"use strict";t.r(a),t.d(a,"POSCashRegisterViewModel",(function(){return c}));var s=t("ScVY"),n=t("4HhE"),o=t("ockk"),r=t("Do2H"),i=t("9UOb"),l=t("xbaw"),h=t("8B8H");class c extends s.b{constructor(e){super(),this.ButtonClick=new n.b,Logger.InfoLog("DocumentDraftsViewModel:: Entering DocumentDraftsViewModel"),this.oparent=e,this.ButtonClick.Subscribe(this,"OnButtonClick"),this.DisplayName="Cash Register",this.Title="Cash Register",this.TableObj=new h.a,this.ColSource=[],this.TableObj.Table=[];let a,t=parseInt(r.a.SessionManager.Preferences.CashIn)+"~"+parseInt(r.a.SessionManager.Preferences.CashOut)+"~"+parseInt(r.a.SessionManager.Preferences.Registers),s=+this.oparent.ScreenObject.RegisterNodeID+"~"+this.oparent.ScreenObject.ShiftNodeID+"~"+parseInt(r.a.SessionManager.Preferences.PosShifts),i=this.oparent.DocumentDate.ToString("dd/MMM/yyyy"),l=r.a.common.GetDataSet3("POS003",t,s,i);if(null!=l&&l.Tables.length>0&&(this.TableObj.Table=l.Tables[0],null!=this.TableObj)){this.TableObj.TableColumns.push("Sno"),this.TableObj.TableColumns.push("Type");let e=0;this.TableObj.Table.forEach(a=>{e++,a.Sno=e,""!=a.CostCenterID.toString()&&(a.CostCenterID.toString()==r.a.SessionManager.Preferences.CashIn?a.Type="CashIn":a.CostCenterID.toString()==r.a.SessionManager.Preferences.CashOut&&(a.Type="CashOut"))})}a=new o.a,a.Header=r.a.GetResource("DocumentDesigner_Sno"),a.DisplayMember="Sno",a.ReadOnly=!0,a.IsFrozen=!0,a.Width=45,this.ColSource.push(a),a=new o.a,a.Header=r.a.GetResource("Import_Type"),a.DisplayMember="Type",a.ReadOnly=!0,a.IsFrozen=!0,a.Width=100,this.ColSource.push(a),a=new o.a,a.Header=r.a.GetResource("DocumentDesigner_VoucherNo"),a.DisplayMember="DocNo",a.ID="DocNo",a.DataType="LINK",a.ReadOnly=!0,a.IsFrozen=!0,a.Width=150,this.ColSource.push(a),a=new o.a,a.Header=r.a.GetResource("DocumentDesigner_Amount"),a.DisplayMember="Amount",a.ReadOnly=!0,a.IsFrozen=!0,a.Width=100,this.ColSource.push(a),this.PopupWidth=450,this.TableObj.Columns=this.ColSource,Logger.InfoLog("DocumentDraftsViewModel:: Entering DocumentDraftsViewModel")}get angularGrid(){return this.TableObj.angularGrid}get DataTable(){return this.TableObj.Table}get SelectedRow(){return this.TableObj.SelectedItem}OnButtonClick(e){"Cancel"==e.toString()&&("AddEditDocumentViewModel"==this.oparent.ClassName&&(this.oparent.res="No"),r.a.page.HideDialog())}LoadDocument(e){if("AddEditDocumentViewModel"==this.oparent.ClassName)if(r.a.page.HideDialog(),"CashIn"==e.Type.toString()){if(r.a.SessionManager.Preferences.ContainsKey("CashIn")&&""!=r.a.SessionManager.Preferences.CashIn&&"0"!=r.a.SessionManager.Preferences.CashIn){let a=new i.PostVoucherSaveViewModel(this.oparent,parseInt(r.a.SessionManager.Preferences.CashIn),parseFloat(e.Amount),parseInt(e.CreditAccount),1,1,!1,!1);r.a.page.ShowDialog(a,l.PostVoucherSaveComponent)}}else if("CashOut"==e.Type.toString()&&r.a.SessionManager.Preferences.ContainsKey("CashOut")&&""!=r.a.SessionManager.Preferences.CashOut&&"0"!=r.a.SessionManager.Preferences.CashOut){let a=new i.PostVoucherSaveViewModel(this.oparent,parseInt(r.a.SessionManager.Preferences.CashOut),parseFloat(e.Amount),parseInt(e.DebitAccount),1,1,!1,!1);r.a.page.ShowDialog(a,l.PostVoucherSaveComponent)}}}}}]);