(window.webpackJsonp=window.webpackJsonp||[]).push([[200,127],{"4k0m":function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var a=s("Do2H"),i=s("ScVY"),n=s("EQd/"),r=s("0/4Q");class o extends i.b{constructor(e,t,s,i){super(),this.Remarks=new n.c(0),this.CostCenterID=0,this.NodeID=0,this.Parent=null,this.retValWeb=0,this.IsUpdated=!1,this.CostCenterID=e,this.NodeID=t,this.Parent=i,this.ScreenObject=s,this.Remarks.Label=a.a.GetResource("Remarks")}SaveStatus(e,t,s,a=!0){let i=!1,n=null;"MonthlyPayrollViewModel"==this.Parent.ClassName?(n=this.Parent.SetDocStatus(e,t,s,new Date,this.Remarks.Text,!0,""),null!=n&&n.Tables.length>0&&n.Tables[0].length>0&&n.Columns[0].Contains("status")&&(this.Parent.DocStatus="["+n.Tables[0][0].status.toString()+"]",i=!0),null!=n&&n.Tables.length>0&&n.Tables[n.Tables.length-1].length>0&&n.Columns[n.Tables.length-1].Contains("ErrorMessage")&&(this.Parent.this.DisplayMessage=n.Tables[n.Tables.length-1][0].ErrorMessage.toString()),this.Parent.this.MessageVisibility=!0,i&&this.Parent.btnClear_Click()):"FinalSettlementViewModel"==this.Parent.ClassName&&(n=this.Parent.SetDocStatus(e,t,s,new Date,this.Remarks.Text,!0,""),null!=n&&n.Tables.length>0&&n.Tables[0].length>0&&n.Columns[0].Contains("status")&&(this.Parent.DocStatus="["+n.Tables[0][0].status.toString()+"]",i=!0),null!=n&&n.Tables.length>0&&n.Tables[n.Tables.length-1].length>0&&n.Columns[n.Tables.length-1].Contains("ErrorMessage")&&(this.Parent.this.DisplayMessage=n.Tables[n.Tables.length-1][0].ErrorMessage.toString()),this.Parent.this.MessageVisibility=!0,i&&this.Parent.Button_Click("Clear"))}onButtonClick(e){let t=0;if(40054==this.CostCenterID)"Approve"==e?a.a.SessionManager.IsActionAssigned(this.CostCenterID,"Edit")?this.Parent.btnPost_Click():this.SaveStatus(369,parseInt(this.Parent.oCMP.arrLstOthMPFields[0].dvPayProcessed[0].WorkFlowID),""):"Reject"==e&&this.SaveStatus(372,0,""),a.a.page.HideDialog();else if(40095==this.CostCenterID)"Approve"==e?a.a.SessionManager.IsActionAssigned(this.CostCenterID,"Edit")?(this.Parent.sCmdParameter="Approve",this.Parent.Button_Click("Save")):this.SaveStatus(369,this.Parent.WID,""):"Reject"==e&&this.SaveStatus(372,0,""),a.a.page.HideDialog();else{let s=this.ScreenObject.CurrentStatus;if("Approve"==e){if(!this.IsSaveValidated())return;let e=a.a.common.ApproveCostCenter(this.CostCenterID,this.NodeID,s,this.Remarks.Text,!1,0);this.DisplayMessage=e.Message,t=e.RetValue,t>0&&(this.IsUpdated||(this.ScreenObject.ButtonApproveVisible=!1,this.UpdateStatusID(t),null!=this.ScreenObject.drpStatus&&(null==this.ScreenObject.drpStatus.Items.find(e=>e.Value==t.toString())&&("1001"==t.toString()?this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Un Approved","1001")):"1002"==t.toString()?this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Approved","1002")):this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Rejected","1003"))),this.ScreenObject.drpStatus.SelectedValue=t.toString(),this.ScreenObject.drpStatus.SetSelectedItem(t.toString())),a.a.SessionManager.IsWebApplication&&(this.retValWeb=t)),a.a.page.HideDialog())}else if("Reject"==e){if(!this.IsSaveValidated())return;let e=a.a.common.ApproveCostCenter(this.CostCenterID,this.NodeID,s,this.Remarks.Text,!0,0);this.DisplayMessage=e.Message,t=e.RetValue,t>0&&(this.IsUpdated||(this.UpdateStatusID(t),null!=this.ScreenObject.drpStatus&&(null==this.ScreenObject.drpStatus.Items.find(e=>e.Value==t.toString())&&("1001"==t.toString()?this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Un Approved","1001")):"1002"==t.toString()?this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Approved","1002")):this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Rejected","1003"))),this.ScreenObject.drpStatus.SelectedValue=t.toString(),this.ScreenObject.drpStatus.SetSelectedItem(t.toString())),a.a.SessionManager.IsWebApplication&&(this.retValWeb=t)),a.a.page.HideDialog())}else a.a.page.HideDialog()}}UpdateStatusID(e){this.ScreenObject.CurrentStatus=e,"QuickAddAccountScreenViewModel"==this.Parent.ClassName||"AddEditAccountScreenViewModel"==this.Parent.ClassName?this.Parent.obj.StatusID=e:"QuickAddProductViewModel"==this.Parent.ClassName?this.Parent.objProduct.ProductStatus=e:"AddProductScreenViewModel"==this.Parent.ClassName?this.Parent.oProduct.ProductStatus=e:"QuickAddCostCenterViewModel"==this.Parent.ClassName||"AddCostCenterViewModel"==this.Parent.ClassName?this.Parent.objCostCenter.Status=e:"AddEditEmpMasterViewModel"==this.Parent.ClassName&&(this.Parent.objEmp.StatusID=e)}IsSaveValidated(){if(this.IsUpdated=!1,"QuickAddAccountScreenViewModel"==this.Parent.ClassName){let e=this.Parent;if(e.ButtonSave.Visible&&e.ButtonSave.Enable){if(e.SaveMethod("APPROVE_CALL"),0!=e.AccountID)return this.DisplayMessage=e.DisplayMessage,e.DisplayMessage="",!1;this.IsUpdated=!0,e.DisplayMessage=""}}else if("AddEditAccountScreenViewModel"==this.Parent.ClassName){let e=this.Parent;if(e.ButtonSave.Visible&&e.ButtonSave.Enable){if(e.OnSaveAccount("APPROVE_CALL"),0!=e.AccountID)return this.DisplayMessage=e.DisplayMessage,e.DisplayMessage="",!1;this.IsUpdated=!0,e.DisplayMessage=""}}else if("QuickAddProductViewModel"==this.Parent.ClassName){let e=this.Parent;if(e.ButtonSave.Visible&&e.ButtonSave.Enable){if(e.onSaveProduct("APPROVE_CALL"),0!=e.objProduct.ProductID)return this.DisplayMessage=e.DisplayMessage,e.DisplayMessage="",!1;this.IsUpdated=!0,e.DisplayMessage=""}}else if("AddProductScreenViewModel"==this.Parent.ClassName){let e=this.Parent;if(e.ButtonSave.Visible&&e.ButtonSave.Enable){if(e.OnSaveProduct("APPROVE_CALL"),0!=e.ProductID)return this.DisplayMessage=e.DisplayMessage,e.DisplayMessage="",!1;this.IsUpdated=!0,e.DisplayMessage=""}}else if("QuickAddCostCenterViewModel"==this.Parent.ClassName){let e=this.Parent;if(e.ButtonSave.Visible&&e.ButtonSave.Enable){if(e.SaveMethod(),0!=e.NodeID)return this.DisplayMessage=e.DisplayMessage,e.DisplayMessage="",!1;this.IsUpdated=!0,e.DisplayMessage=""}}else if("AddCostCenterViewModel"==this.Parent.ClassName){let e=this.Parent;if(e.ButtonSave.Visible&&e.ButtonSave.Enable){if(e.OnSaveCostCenter("Save"),0!=e.NodeID)return this.DisplayMessage=e.DisplayMessage,e.DisplayMessage="",!1;this.IsUpdated=!0,e.DisplayMessage=""}}else if("AddEditEmpMasterViewModel"==this.Parent.ClassName){let e=this.Parent;if(e.ButtonSave.Visible&&e.ButtonSave.Enable){if(e.OnSaveEmployee("Save"),0!=e.NodeID)return this.DisplayMessage=e.DisplayMessage,e.DisplayMessage="",!1;this.IsUpdated=!0,e.DisplayMessage=""}}return!0}}},bwbx:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var a=s("3Pt+"),i=s("fXoL"),n=s("ofXK"),r=s("sYmb");function o(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",7),i.Wc(1,"\n            "),i.Zb(2,"a",8),i.hc("click",(function(){i.Ic(e);const s=t.$implicit;return i.lc(2).obj.OnReportsLinkClick(s.DBColumnID)})),i.Wc(3),i.Yb(),i.Wc(4,"\n        "),i.Yb()}if(2&e){const e=t.$implicit;i.Db(3),i.Xc(e.Label)}}function l(e,t){if(1&e){const e=i.ac();i.Zb(0,"div",1),i.Wc(1,"\n    "),i.Zb(2,"div",2),i.Wc(3,"\n        "),i.Wc(4,"\n        "),i.Uc(5,o,5,1,"div",3),i.Wc(6,"\n    "),i.Yb(),i.Wc(7,"\n\n    "),i.Zb(8,"div",4),i.Wc(9,"\n        "),i.Zb(10,"div"),i.Wc(11,"\n            "),i.Zb(12,"button",5),i.hc("click",(function(){return i.Ic(e),i.lc().obj.OnSave("Cancel")})),i.Ub(13,"i",6),i.Wc(14),i.mc(15,"translate"),i.Yb(),i.Wc(16,"\n        "),i.Yb(),i.Wc(17,"\n    "),i.Yb(),i.Wc(18,"\n"),i.Yb()}if(2&e){const e=i.lc();i.Db(5),i.tc("ngForOf",e.obj.ReportsList),i.Db(9),i.Xc(i.nc(15,2,"Cancel"))}}let c=(()=>{class e{constructor(){this.form=new a.j({})}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Nb({type:e,selectors:[["app-reportslist"]],inputs:{obj:"obj"},decls:1,vars:1,consts:[["class","master-screen",4,"ngIf"],[1,"master-screen"],[1,"pagesection-noborder","row","form-row"],["class","form-group col-xl-12 col-md-12 col-sm-12 col-xs-12 PACTControl hlink",4,"ngFor","ngForOf"],[1,"Pactdailogfooter"],[1,"secondary-btn-wicon",3,"click"],[1,"fa-light","fa-rectangle-xmark"],[1,"form-group","col-xl-12","col-md-12","col-sm-12","col-xs-12","PACTControl","hlink"],[3,"click"]],template:function(e,t){1&e&&i.Uc(0,l,19,4,"div",0),2&e&&i.tc("ngIf",t.obj.ReportInfoVisibility)},directives:[n.t,n.s],pipes:[r.d],styles:[""]}),e})()}}]);