(window.webpackJsonp=window.webpackJsonp||[]).push([[24,127,200],{"4k0m":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var s=i("Do2H"),a=i("ScVY"),n=i("EQd/"),r=i("0/4Q");class o extends a.b{constructor(t,e,i,a){super(),this.Remarks=new n.c(0),this.CostCenterID=0,this.NodeID=0,this.Parent=null,this.retValWeb=0,this.IsUpdated=!1,this.CostCenterID=t,this.NodeID=e,this.Parent=a,this.ScreenObject=i,this.Remarks.Label=s.a.GetResource("Remarks")}SaveStatus(t,e,i,s=!0){let a=!1,n=null;"MonthlyPayrollViewModel"==this.Parent.ClassName?(n=this.Parent.SetDocStatus(t,e,i,new Date,this.Remarks.Text,!0,""),null!=n&&n.Tables.length>0&&n.Tables[0].length>0&&n.Columns[0].Contains("status")&&(this.Parent.DocStatus="["+n.Tables[0][0].status.toString()+"]",a=!0),null!=n&&n.Tables.length>0&&n.Tables[n.Tables.length-1].length>0&&n.Columns[n.Tables.length-1].Contains("ErrorMessage")&&(this.Parent.this.DisplayMessage=n.Tables[n.Tables.length-1][0].ErrorMessage.toString()),this.Parent.this.MessageVisibility=!0,a&&this.Parent.btnClear_Click()):"FinalSettlementViewModel"==this.Parent.ClassName&&(n=this.Parent.SetDocStatus(t,e,i,new Date,this.Remarks.Text,!0,""),null!=n&&n.Tables.length>0&&n.Tables[0].length>0&&n.Columns[0].Contains("status")&&(this.Parent.DocStatus="["+n.Tables[0][0].status.toString()+"]",a=!0),null!=n&&n.Tables.length>0&&n.Tables[n.Tables.length-1].length>0&&n.Columns[n.Tables.length-1].Contains("ErrorMessage")&&(this.Parent.this.DisplayMessage=n.Tables[n.Tables.length-1][0].ErrorMessage.toString()),this.Parent.this.MessageVisibility=!0,a&&this.Parent.Button_Click("Clear"))}onButtonClick(t){let e=0;if(40054==this.CostCenterID)"Approve"==t?s.a.SessionManager.IsActionAssigned(this.CostCenterID,"Edit")?this.Parent.btnPost_Click():this.SaveStatus(369,parseInt(this.Parent.oCMP.arrLstOthMPFields[0].dvPayProcessed[0].WorkFlowID),""):"Reject"==t&&this.SaveStatus(372,0,""),s.a.page.HideDialog();else if(40095==this.CostCenterID)"Approve"==t?s.a.SessionManager.IsActionAssigned(this.CostCenterID,"Edit")?(this.Parent.sCmdParameter="Approve",this.Parent.Button_Click("Save")):this.SaveStatus(369,this.Parent.WID,""):"Reject"==t&&this.SaveStatus(372,0,""),s.a.page.HideDialog();else{let i=this.ScreenObject.CurrentStatus;if("Approve"==t){if(!this.IsSaveValidated())return;let t=s.a.common.ApproveCostCenter(this.CostCenterID,this.NodeID,i,this.Remarks.Text,!1,0);this.DisplayMessage=t.Message,e=t.RetValue,e>0&&(this.IsUpdated||(this.ScreenObject.ButtonApproveVisible=!1,this.UpdateStatusID(e),null!=this.ScreenObject.drpStatus&&(null==this.ScreenObject.drpStatus.Items.find(t=>t.Value==e.toString())&&("1001"==e.toString()?this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Un Approved","1001")):"1002"==e.toString()?this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Approved","1002")):this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Rejected","1003"))),this.ScreenObject.drpStatus.SelectedValue=e.toString(),this.ScreenObject.drpStatus.SetSelectedItem(e.toString())),s.a.SessionManager.IsWebApplication&&(this.retValWeb=e)),s.a.page.HideDialog())}else if("Reject"==t){if(!this.IsSaveValidated())return;let t=s.a.common.ApproveCostCenter(this.CostCenterID,this.NodeID,i,this.Remarks.Text,!0,0);this.DisplayMessage=t.Message,e=t.RetValue,e>0&&(this.IsUpdated||(this.UpdateStatusID(e),null!=this.ScreenObject.drpStatus&&(null==this.ScreenObject.drpStatus.Items.find(t=>t.Value==e.toString())&&("1001"==e.toString()?this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Un Approved","1001")):"1002"==e.toString()?this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Approved","1002")):this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Rejected","1003"))),this.ScreenObject.drpStatus.SelectedValue=e.toString(),this.ScreenObject.drpStatus.SetSelectedItem(e.toString())),s.a.SessionManager.IsWebApplication&&(this.retValWeb=e)),s.a.page.HideDialog())}else s.a.page.HideDialog()}}UpdateStatusID(t){this.ScreenObject.CurrentStatus=t,"QuickAddAccountScreenViewModel"==this.Parent.ClassName||"AddEditAccountScreenViewModel"==this.Parent.ClassName?this.Parent.obj.StatusID=t:"QuickAddProductViewModel"==this.Parent.ClassName?this.Parent.objProduct.ProductStatus=t:"AddProductScreenViewModel"==this.Parent.ClassName?this.Parent.oProduct.ProductStatus=t:"QuickAddCostCenterViewModel"==this.Parent.ClassName||"AddCostCenterViewModel"==this.Parent.ClassName?this.Parent.objCostCenter.Status=t:"AddEditEmpMasterViewModel"==this.Parent.ClassName&&(this.Parent.objEmp.StatusID=t)}IsSaveValidated(){if(this.IsUpdated=!1,"QuickAddAccountScreenViewModel"==this.Parent.ClassName){let t=this.Parent;if(t.ButtonSave.Visible&&t.ButtonSave.Enable){if(t.SaveMethod("APPROVE_CALL"),0!=t.AccountID)return this.DisplayMessage=t.DisplayMessage,t.DisplayMessage="",!1;this.IsUpdated=!0,t.DisplayMessage=""}}else if("AddEditAccountScreenViewModel"==this.Parent.ClassName){let t=this.Parent;if(t.ButtonSave.Visible&&t.ButtonSave.Enable){if(t.OnSaveAccount("APPROVE_CALL"),0!=t.AccountID)return this.DisplayMessage=t.DisplayMessage,t.DisplayMessage="",!1;this.IsUpdated=!0,t.DisplayMessage=""}}else if("QuickAddProductViewModel"==this.Parent.ClassName){let t=this.Parent;if(t.ButtonSave.Visible&&t.ButtonSave.Enable){if(t.onSaveProduct("APPROVE_CALL"),0!=t.objProduct.ProductID)return this.DisplayMessage=t.DisplayMessage,t.DisplayMessage="",!1;this.IsUpdated=!0,t.DisplayMessage=""}}else if("AddProductScreenViewModel"==this.Parent.ClassName){let t=this.Parent;if(t.ButtonSave.Visible&&t.ButtonSave.Enable){if(t.OnSaveProduct("APPROVE_CALL"),0!=t.ProductID)return this.DisplayMessage=t.DisplayMessage,t.DisplayMessage="",!1;this.IsUpdated=!0,t.DisplayMessage=""}}else if("QuickAddCostCenterViewModel"==this.Parent.ClassName){let t=this.Parent;if(t.ButtonSave.Visible&&t.ButtonSave.Enable){if(t.SaveMethod(),0!=t.NodeID)return this.DisplayMessage=t.DisplayMessage,t.DisplayMessage="",!1;this.IsUpdated=!0,t.DisplayMessage=""}}else if("AddCostCenterViewModel"==this.Parent.ClassName){let t=this.Parent;if(t.ButtonSave.Visible&&t.ButtonSave.Enable){if(t.OnSaveCostCenter("Save"),0!=t.NodeID)return this.DisplayMessage=t.DisplayMessage,t.DisplayMessage="",!1;this.IsUpdated=!0,t.DisplayMessage=""}}else if("AddEditEmpMasterViewModel"==this.Parent.ClassName){let t=this.Parent;if(t.ButtonSave.Visible&&t.ButtonSave.Enable){if(t.OnSaveEmployee("Save"),0!=t.NodeID)return this.DisplayMessage=t.DisplayMessage,t.DisplayMessage="",!1;this.IsUpdated=!0,t.DisplayMessage=""}}return!0}}},bwbx:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var s=i("3Pt+"),a=i("fXoL"),n=i("ofXK"),r=i("sYmb");function o(t,e){if(1&t){const t=a.ac();a.Zb(0,"div",7),a.Wc(1,"\n            "),a.Zb(2,"a",8),a.hc("click",(function(){a.Ic(t);const i=e.$implicit;return a.lc(2).obj.OnReportsLinkClick(i.DBColumnID)})),a.Wc(3),a.Yb(),a.Wc(4,"\n        "),a.Yb()}if(2&t){const t=e.$implicit;a.Db(3),a.Xc(t.Label)}}function h(t,e){if(1&t){const t=a.ac();a.Zb(0,"div",1),a.Wc(1,"\n    "),a.Zb(2,"div",2),a.Wc(3,"\n        "),a.Wc(4,"\n        "),a.Uc(5,o,5,1,"div",3),a.Wc(6,"\n    "),a.Yb(),a.Wc(7,"\n\n    "),a.Zb(8,"div",4),a.Wc(9,"\n        "),a.Zb(10,"div"),a.Wc(11,"\n            "),a.Zb(12,"button",5),a.hc("click",(function(){return a.Ic(t),a.lc().obj.OnSave("Cancel")})),a.Ub(13,"i",6),a.Wc(14),a.mc(15,"translate"),a.Yb(),a.Wc(16,"\n        "),a.Yb(),a.Wc(17,"\n    "),a.Yb(),a.Wc(18,"\n"),a.Yb()}if(2&t){const t=a.lc();a.Db(5),a.tc("ngForOf",t.obj.ReportsList),a.Db(9),a.Xc(a.nc(15,2,"Cancel"))}}let l=(()=>{class t{constructor(){this.form=new s.j({})}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Nb({type:t,selectors:[["app-reportslist"]],inputs:{obj:"obj"},decls:1,vars:1,consts:[["class","master-screen",4,"ngIf"],[1,"master-screen"],[1,"pagesection-noborder","row","form-row"],["class","form-group col-xl-12 col-md-12 col-sm-12 col-xs-12 PACTControl hlink",4,"ngFor","ngForOf"],[1,"Pactdailogfooter"],[1,"secondary-btn-wicon",3,"click"],[1,"fa-light","fa-rectangle-xmark"],[1,"form-group","col-xl-12","col-md-12","col-sm-12","col-xs-12","PACTControl","hlink"],[3,"click"]],template:function(t,e){1&t&&a.Uc(0,h,19,4,"div",0),2&t&&a.tc("ngIf",e.obj.ReportInfoVisibility)},directives:[n.t,n.s],pipes:[r.d],styles:[""]}),t})()},tCvu:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var s=i("Do2H"),a=i("Lp6j"),n=i("ockk"),r=i("0/4Q"),o=i("eQJW"),h=i("8B8H");class l{constructor(t,e,i){this.Module="RENT",this.ClassName="PropertyDepositsViewModel",this.Visible=!0,this.contextVisible=!0,this.ds=[],this.SelectedNode=0,this.PropertyID=0,this.RefreshGrid=!1,this.ColumnSpan="4",this.tempGridColumn=[],this.DimCCID=0,this.DepositsGrid1Obj=new h.a,this.SNO=1,Logger.InfoLog("PropertyDepositsViewModel::Entering PropertyDepositsViewModel With oParent="+t),this.PropertyID=e,this.ds=s.a.rental.GetParticularsScreenDetails(i,0),this.BuildTempDataTable(),this.DepositsGrid1Obj.CellEditEnding.Subscribe(this,"OnCellEditEnding"),Logger.InfoLog("PropertyDepositsViewModel::Leaving PropertyDepositsViewModel")}get angularGrid(){return this.DepositsGrid1Obj.angularGrid}get DepositsGrid1(){return this.DepositsGrid1Obj.Table}get DepositsGrid(){return this.DepositsGrid1Obj.Columns}set DepositsGrid(t){this.DepositsGrid1Obj.Columns=t}get DepositGridColumns(){return this.DepositsGrid1Obj.TableColumns}get SelectedRow(){return this.DepositsGrid1Obj.SelectedItem}set SelectedRow(t){this.DepositsGrid1Obj.SelectedItem=t}BuildTempDataTable(){this.DepositsGrid1Obj.Clear(),this.tempGridColumn.push("Sno"),this.tempGridColumn.push("Particulars"),this.tempGridColumn.push("Particulars_Key"),this.tempGridColumn.push("CreditAccount"),this.tempGridColumn.push("CreditAccount_Key"),this.tempGridColumn.push("DebitAccount"),this.tempGridColumn.push("DebitAccount_Key"),this.tempGridColumn.push("Advance"),this.tempGridColumn.push("Advance_Key"),this.tempGridColumn.push("Refund"),this.tempGridColumn.push("Percentage"),this.tempGridColumn.push("Amount"),this.tempGridColumn.push("Months"),this.tempGridColumn.push("Type"),this.tempGridColumn.push("ContractType"),this.tempGridColumn.push("Vat"),this.tempGridColumn.push("VatType"),this.tempGridColumn.push("TaxCategory"),this.tempGridColumn.push("TaxCategory_Key"),this.tempGridColumn.push("BankAccountID"),this.tempGridColumn.push("BankAccountID_Key"),this.tempGridColumn.push("SPType"),this.tempGridColumn.push("SPType_Key"),this.tempGridColumn.push("InclChequeGen"),this.tempGridColumn.push("RecurInvoice"),this.tempGridColumn.push("PostDebit"),this.tempGridColumn.push("Display"),this.tempGridColumn.push("PercType");for(let s=0;s<10;s++)this.DepositsGrid1Obj.addEmptyRow();let t=[],e=new n.a;e.DisplayMember="Sno",e.Header=s.a.GetResource("Sno"),e.DataType="TextBox",e.Width=50,e.IsVisible=!0,e.ReadOnly=!0,t.push(e),this.DepositsGrid=t,e=new n.a,e.DisplayMember="Particulars",e.ValueMember="Particulars_Key",e.CostCenterID=parseInt(this.ds.Tables[2][0].value.toString()),e.TypeID=1,e.DataType="LISTBOX",e.Header=s.a.GetResource("Deposits_Particulars"),e.Width=100,e.IsVisible=!0,t.push(e),e=new n.a,e.CostCenterID=2;let i=this.ds.Tables[3].filter(t=>"CrAccListview"==t.Name);e.TypeID=null!=i&&i.length>0?parseInt(i[0].Value.toString()):100,e.DisplayMember="CreditAccount",e.ValueMember="CreditAccount_Key",e.Header=s.a.GetResource("Deposits_CreditAcc"),e.DataType="LISTBOX",e.Width=150,e.IsVisible=!0,t.push(e),e=new n.a,e.CostCenterID=2,i=this.ds.Tables[3].filter(t=>"DrAccListview"==t.Name),e.TypeID=null!=i&&i.length>0?parseInt(i[0].Value.toString()):108,e.DisplayMember="DebitAccount",e.ValueMember="DebitAccount_Key",e.Header=s.a.GetResource("Deposits_DebitAcc"),e.DataType="LISTBOX",e.Width=150,e.IsVisible=!0,t.push(e),e=new n.a,e.CostCenterID=2,e.TypeID=2,e.DisplayMember="Advance",e.ValueMember="Advance_Key",e.Header="Advance A/c",e.DataType="LISTBOX",e.Width=150,t.push(e),e=new n.a,e.ComboData=this.ReturnRefund(),e.DisplayMember="Refund",e.ValueMember="Value",e.ValueBinding="Refund",e.DataType="ComboBox",e.Header=s.a.GetResource("Deposits_Refund"),e.Width=100,e.IsVisible=!0,t.push(e),e=new n.a,e.DisplayMember="Percentage",e.Header=s.a.GetResource("Deposits_Percentage"),e.DataType="FLOAT",e.Width=100,e.IsVisible=!0,t.push(e),e=new n.a,e.DisplayMember="Amount",e.Header=s.a.GetResource("Deposits_Amount"),e.DataType="FLOAT",e.Width=100,e.IsVisible=!0,t.push(e),e=new n.a,e.DisplayMember="Months",e.Header="Amount(Months)",e.DataType="FLOAT",e.Width=120,e.IsVisible=!0,t.push(e),e=new n.a,e.DisplayMember="Vat",e.Header="VAT(%)",e.DataType="FLOAT",e.Width=100,e.IsVisible=!0,t.push(e),e=new n.a,e.CostCenterID=50060,e.TypeID=1,e.DisplayMember="TaxCategory",e.ValueMember="TaxCategory_Key",e.Header="TaxCategory",e.DataType="LISTBOX",e.Width=120,t.push(e),e=new n.a,e.CostCenterID=50061,e.TypeID=1,e.DisplayMember="SPType",e.ValueMember="SPType_Key",e.Header="Sales purchase type",e.DataType="LISTBOX",e.Width=120,t.push(e),e=new n.a,e.Header="Vat Type",e.ValueBinding="VatType",e.DataType="ComboBox",e.DisplayMember="Name",e.ValueMember="Value",e.Width=100;let o=new Array;o.push(r.d.ComboBoxItems_2("Exclusive","Exclusive")),o.push(r.d.ComboBoxItems_2("Inclusive","Inclusive")),e.ComboData=o,e.IsVisible=!0,t.push(e),e=new n.a,e.Header="Recur",e.ValueBinding="RecurInvoice",e.DataType="ComboBox",e.DisplayMember="Name",e.ValueMember="Value",e.Width=120,o=new Array,o.push(r.d.ComboBoxItems_2("Yes","1")),o.push(r.d.ComboBoxItems_2("No","0")),e.ComboData=o,t.push(e),e=new n.a,e.Header="Type",e.ValueBinding="Type",e.DataType="ComboBox",e.DisplayMember="Name",e.ValueMember="Value",e.Width=100,o=new Array,o.push(r.d.ComboBoxItems_2("New","1")),o.push(r.d.ComboBoxItems_2("Renew","2")),o.push(r.d.ComboBoxItems_2("Both","3")),o.push(r.d.ComboBoxItems_2("Refund & Terminate ","4")),o.push(r.d.ComboBoxItems_2("Terminate","5")),o.push(r.d.ComboBoxItems_2("Refund","6")),e.ComboData=o,e.IsVisible=!0,t.push(e),e=new n.a,e.Header="Generate Cheque",e.ValueBinding="InclChequeGen",e.DataType="ComboBox",e.DisplayMember="Name",e.ValueMember="Value",e.Width=120,o=new Array,o.push(r.d.ComboBoxItems_2("Yes","1")),o.push(r.d.ComboBoxItems_2("No","0")),o.push(r.d.ComboBoxItems_2("Incl Vat","2")),e.ComboData=o,t.push(e),e=new n.a,e.Header="Contract Type",e.ValueBinding="ContractType",e.DataType="ComboBox",e.DisplayMember="Name",e.ValueMember="Value",e.Width=100;let h=new Array;if(h.push(r.d.ComboBoxItems_2("Sales","1")),h.push(r.d.ComboBoxItems_2("Purchase","2")),e.ComboData=h,e.IsVisible=!0,t.push(e),e=new n.a,e.Header="Post to Debit",e.ValueBinding="PostDebit",e.DataType="ComboBox",e.DisplayMember="Name",e.ValueMember="Value",e.Width=100,h=new Array,h.push(r.d.ComboBoxItems_2("Yes","1")),h.push(r.d.ComboBoxItems_2("No","0")),e.ComboData=h,e.IsVisible=!0,t.push(e),e=new n.a,e.CostCenterID=2,e.TypeID=10,e.DisplayMember="BankAccountID",e.ValueMember="BankAccountID_Key",e.Header="Bank",e.DataType="LISTBOX",e.Width=120,t.push(e),i=this.ds.Tables[3].filter(t=>"DimensionWiseContract"==t.Name),this.DimCCID=a.e.IntTryParse(i[0].Value),this.DimCCID=null!=i&&i.length>0&&this.DimCCID>0?parseInt(i[0].Value.toString()):0,this.DimCCID>5e4&&(e=new n.a,e.DisplayMember="Dim",e.ValueMember="Dim_Key",e.DataType="LISTBOX",e.CostCenterID=this.DimCCID,e.TypeID=1,this.ds.Tables.length>4&&this.ds.Tables[4].length>0&&(e.Header=this.ds.Tables[4][0][Object.keys(this.ds.Tables[4][0])[0]].toString()),e.Width=150,e.ID="0",t.push(e),this.tempGridColumn.push("Dim"),this.tempGridColumn.push("Dim_Key")),e=new n.a,e.Header="Display",e.ValueBinding="Display",e.DataType="ComboBox",e.DisplayMember="Name",e.ValueMember="Value",e.Width=100,h=new Array,h.push(r.d.ComboBoxItems_2("Yes","1")),h.push(r.d.ComboBoxItems_2("No","0")),e.ComboData=h,e.IsVisible=!0,e=new n.a,e.Header="Percentage Type",e.ValueBinding="PercType",e.DataType="ComboBox",e.DisplayMember="Name",e.ValueMember="Value",e.Width=120,h=new Array,h.push(r.d.ComboBoxItems_2("Rent","1")),h.push(r.d.ComboBoxItems_2("Un-Occupied","2")),e.ComboData=h,e.IsVisible=!0,t.push(e),this.ds.Tables.length>5&&this.ds.Tables[5].length>0)for(let s=0;s<this.ds.Tables[5].length;s++)this.DimCCID!=parseInt(this.ds.Tables[5][s].ColumnCostCenterID.toString())&&(e=new n.a,e.DisplayMember=this.ds.Tables[5][s].SysColumnName.toString(),e.ValueMember=this.ds.Tables[5][s].SysColumnName.toString()+"_Key",e.DataType="LISTBOX",e.CostCenterID=parseInt(this.ds.Tables[5][s].ColumnCostCenterID.toString()),e.TypeID=parseInt(this.ds.Tables[5][s].ColumnCCListViewTypeID.toString()),e.Header=this.ds.Tables[5][s].ResourceData.toString(),e.Width=""!=a.e.StringValue(this.ds.Tables[5][s].uiwidth)?parseInt(this.ds.Tables[5][s].uiwidth.toString()):150,e.ID=this.ds.Tables[5][s].CostCenterColID.toString(),t.push(e),this.tempGridColumn.push(e.DisplayMember),this.tempGridColumn.push(e.ValueMember));this.DepositsGrid=t}OnCmnItem_Click(t){switch(Logger.InfoLog("PropertyDepositsViewModel::Entering OnCmnItem_Click"),t){case"DELETE":this.DepositsGrid1.length>0&&(this.DepositsGrid1.Remove(this.SelectedNode),this.UpdateSequence())}Logger.InfoLog("PropertyDepositsViewModel::Exiting OnCmnItem_Click")}UpdateSequence(){this.SNO=1,this.DepositsGrid1.forEach(t=>{t.Sno=this.SNO++})}ReturnRefund(){let t=[],e={Refund:"Yes",Value:"1"};return t.push(e),e={},e.Refund="No",e.Value="0",t.push(e),e={},e.Refund="Partial onTerminate",e.Value="2",t.push(e),t}FillParticulars(t){}GetXML(){Logger.InfoLog("PropertyDepositsViewModel::Entering GetXML");let t="";if(null!=this.DepositsGrid1&&this.DepositsGrid1.length>0){t+="<XML>";for(let e=0;e<this.DepositsGrid1.length;e++)if(!a.e.StringIsNullOrEmpty(this.DepositsGrid1[e].Particulars_Key)){t+="<Row   ",t+=' PropertyID="'+this.PropertyID+'"',t+=' RowNo="'+(e+1)+'"',t+=' Particulars="'+this.DepositsGrid1[e].Particulars_Key.toString()+'"',t+=' CreditAccount="'+a.e.String(this.DepositsGrid1[e].CreditAccount_Key)+'"',t+=' DebitAccount="'+a.e.String(this.DepositsGrid1[e].DebitAccount_Key)+'"',a.e.StringIsNullOrEmpty(this.DepositsGrid1[e].Advance_Key)||(t+=' AdvanceAccountID="'+this.DepositsGrid1[e].Advance_Key.toString()+'"'),a.e.IsEmpty(this.DepositsGrid1[e].BankAccountID_Key)||(t+=' BankAccountID="'+this.DepositsGrid1[e].BankAccountID_Key.toString()+'"'),a.e.StringIsNullOrEmpty(this.DepositsGrid1[e].VatType)||(t+=' VatType="'+this.DepositsGrid1[e].VatType.toString()+'"'),a.e.StringIsNullOrEmpty(this.DepositsGrid1[e].TaxCategory_Key)||(t+=' TaxCategoryID="'+this.DepositsGrid1[e].TaxCategory_Key.toString()+'"'),a.e.StringIsNullOrEmpty(this.DepositsGrid1[e].SPType_Key)||(t+=' SPType="'+this.DepositsGrid1[e].SPType_Key.toString()+'"'),a.e.StringIsNullOrEmpty(this.DepositsGrid1[e].Display)?t+=' Display="1"':t+=' Display="'+this.DepositsGrid1[e].Display.toString()+'"',a.e.IsEmpty(this.DepositsGrid1[e].PercType)?t+=' PercType="1"':t+=' PercType="'+this.DepositsGrid1[e].PercType.toString()+'"',a.e.StringIsNullOrEmpty(this.DepositsGrid1[e].Refund)?t+=' Refund="0"':t+=' Refund="'+this.DepositsGrid1[e].Refund.toString()+'"',a.e.StringIsNullOrEmpty(this.DepositsGrid1[e].PostDebit)?t+=' PostDebit="0"':t+=' PostDebit="'+this.DepositsGrid1[e].PostDebit.toString()+'"',a.e.StringIsNullOrEmpty(this.DepositsGrid1[e].RecurInvoice)?t+=' RecurInvoice="0"':t+=' RecurInvoice="'+this.DepositsGrid1[e].RecurInvoice.toString()+'"',a.e.StringIsNullOrEmpty(this.DepositsGrid1[e].InclChequeGen)?t+=' InclChkGen="0"':t+=' InclChkGen="'+this.DepositsGrid1[e].InclChequeGen.toString()+'"',this.tempGridColumn.Contains("Dim_Key")&&!a.e.StringIsNullOrEmpty(this.DepositsGrid1[e].Dim_Key)&&(t+=' DimNodeID="'+this.DepositsGrid1[e].Dim_Key.toString()+'"'),t+=' Vat="'+a.e.String(this.DepositsGrid1[e].Vat)+'"',t+=' Percentage="'+a.e.String(this.DepositsGrid1[e].Percentage)+'"',t+=' Amount="'+a.e.String(this.DepositsGrid1[e].Amount)+'"',t+=' Months="'+a.e.String(this.DepositsGrid1[e].Months)+'"',t+=' TypeID="'+a.e.String(this.DepositsGrid1[e].Type)+'"',t+=' ContractType="'+a.e.String(this.DepositsGrid1[e].ContractType)+'"';for(let i=0;i<this.DepositsGrid.length;i++)this.DepositsGrid[i].DisplayMember.startsWith("CCNID")&&this.DepositsGrid1Obj.TableColumns.Contains(this.DepositsGrid[i].ValueMember)&&""!=this.DepositsGrid1[e][this.DepositsGrid[i].ValueMember].toString()&&(t+=this.DepositsGrid[i].DisplayMember+'="'+this.DepositsGrid1[e][this.DepositsGrid[i].ValueMember].toString()+'" ');t+="/>"}t.length>0&&(t+="</XML>")}return Logger.InfoLog("PropertyDepositsViewModel::Leaving GetXML Which Returns XML as"+t),t.toString()}ClearData(){this.DepositsGrid1.Clear();for(let t=0;t<10;t++)this.DepositsGrid1Obj.addEmptyRow()}Load(t){if(null!=t&&t.length>0){for(let e=0;e<t.length;e++){this.DepositsGrid1Obj.addEmptyRow(),this.DepositsGrid1[e].Sno=e+1,a.e.StringIsNullOrEmpty(t[e].ParticularID)||(this.DepositsGrid1[e].Particulars_Key=t[e].ParticularID.toString(),this.DepositsGrid1[e].Particulars=t[e].NAME.toString()),a.e.StringIsNullOrEmpty(t[e].CreditAccountID)||(this.DepositsGrid1[e].CreditAccount_Key=t[e].CreditAccountID.toString(),this.DepositsGrid1[e].CreditAccount=a.e.StringIsNullOrEmpty(t[e].A)?"":t[e].A.toString()),a.e.StringIsNullOrEmpty(t[e].DebitAccountID)||(this.DepositsGrid1[e].DebitAccount_Key=t[e].DebitAccountID.toString(),this.DepositsGrid1[e].DebitAccount=a.e.StringIsNullOrEmpty(t[e].B)?"":t[e].B.toString()),a.e.IsEmpty(t[e].BankAccountID)||(this.DepositsGrid1[e].BankAccountID_Key=t[e].BankAccountID.toString(),this.DepositsGrid1[e].BankAccountID=a.e.String(t[e].BankAccount)),a.e.StringIsNullOrEmpty(t[e].AdvanceAccountID)||(this.DepositsGrid1[e].Advance_Key=t[e].AdvanceAccountID.toString(),this.DepositsGrid1[e].Advance=a.e.StringIsNullOrEmpty(t[e].AdvanceAccountName)?"":t[e].AdvanceAccountName.toString()),a.e.StringIsNullOrEmpty(t[e].TaxCategoryID)||(this.DepositsGrid1[e].TaxCategory_Key=t[e].TaxCategoryID.toString(),this.DepositsGrid1[e].TaxCategory=a.e.StringIsNullOrEmpty(t[e].TaxCategory)?"":t[e].TaxCategory.toString()),a.e.StringIsNullOrEmpty(t[e].SPTypeName)||(a.e.StringIsNullOrEmpty(t[e].SPType)||(this.DepositsGrid1[e].SPType_Key=t[e].SPType.toString()),this.DepositsGrid1[e].SPType=t[e].SPTypeName.toString()),a.e.StringIsNullOrEmpty(t[e].VatType)||(this.DepositsGrid1[e].VatType=t[e].VatType.toString()),this.DepositsGrid1[e].Refund=a.e.StringIsNullOrEmpty(t[e].Refund)?"0":t[e].Refund.toString(),this.DepositsGrid1[e].Display=a.e.StringIsNullOrEmpty(t[e].Display)?"1":t[e].Display.toString(),this.DepositsGrid1[e].InclChequeGen=a.e.StringIsNullOrEmpty(t[e].InclChkGen)?"0":t[e].InclChkGen.toString();let i=!1;a.e.StringIsNullOrEmpty(t[e].RecurInvoice)?this.DepositsGrid1[e].RecurInvoice=a.e.StringIsNullOrEmpty(t[e].RecurInvoice)?"0":t[e].RecurInvoice.toString():(i=Object(o.j)(t[e].RecurInvoice),this.DepositsGrid1[e].RecurInvoice=i?"1":"0"),a.e.StringIsNullOrEmpty(t[e].PostDebit)?this.DepositsGrid1[e].PostDebit=a.e.StringIsNullOrEmpty(t[e].PostDebit)?"0":t[e].PostDebit.toString():(i=Object(o.j)(t[e].PostDebit),this.DepositsGrid1[e].PostDebit=i?"1":"0"),this.tempGridColumn.Contains("Dim_Key")&&null!=t[e].Dimname&&!a.e.StringIsNullOrEmpty(t[e].DimNodeID)&&(this.DepositsGrid1[e].Dim_Key=a.e.String(t[e].DimNodeID),this.DepositsGrid1[e].Dim=a.e.String(t[e].Dimname));for(let s=0;s<this.DepositsGrid.length;s++)this.DepositsGrid[s].DisplayMember.startsWith("CCNID")&&this.DepositsGrid1Obj.TableColumns.Contains(this.DepositsGrid[s].ValueMember)&&t.Columns.Contains(this.DepositsGrid[s].DisplayMember)&&""!=t[e][this.DepositsGrid[s].DisplayMember].toString()&&(this.DepositsGrid1[e][this.DepositsGrid[s].ValueMember]=t[e][this.DepositsGrid[s].DisplayMember].toString());this.DepositsGrid1[e].Vat=a.e.String(t[e].Vat),this.DepositsGrid1[e].Percentage=a.e.String(t[e].DiscountPercentage),this.DepositsGrid1[e].Amount=a.e.String(t[e].DiscountAmount),this.DepositsGrid1[e].Months=a.e.String(t[e].Months),a.e.StringIsNullOrEmpty(t[e].TypeID)||(this.DepositsGrid1[e].Type=t[e].TypeID.toString()),a.e.StringIsNullOrEmpty(t[e].ContractType)||(this.DepositsGrid1[e].ContractType=t[e].ContractType.toString()),a.e.StringIsNullOrEmpty(t[e].PercType)||(this.DepositsGrid1[e].PercType=t[e].PercType.toString()),this.DepositsGrid1Obj.updateRow(this.DepositsGrid1[e])}this.RefreshGrid=!0}else this.ClearData()}OnCellEditEnding(t){Logger.InfoLog("PropertyDepositsViewModel ::Entering OnCellEditEnding");try{let e=t.item,i=t.column.DataGridColumn.Binding;if("ComboBox"==t.column.DataGridColumn.DataType)return;"DebitAccountID"==i&&a.e.StringIsNullOrEmpty(e.DebitAccountID)&&(e.DebitAccountID_Key="0"),"Particulars"==i&&a.e.StringIsNullOrEmpty(e.ContractType)&&(e.ContractType="1",e.Type="3",this.RefreshGrid=!0)}catch(e){Logger.ErrorLog("PropertyDepositsViewModel :: OnCellEditEnding"+e.stack)}}}},wJuo:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var s=i("Do2H"),a=i("Lp6j"),n=i("eQJW"),r=i("4HhE"),o=i("OvA8"),h=i("xnJf");class l{constructor(){this.parent=null,this.SubmitClick=new r.b,this._AttachmentVisibility=!1,this.ClassName="PopupAttachmentsViewModel"}get ProductPhoto(){return this._ProductPhoto}set ProductPhoto(t){t!=this._ProductPhoto&&(this._ProductPhoto=t)}get AttachmentVisibility(){return this._AttachmentVisibility}set AttachmentVisibility(t){t!=this._AttachmentVisibility&&(this._AttachmentVisibility=t)}get Attachment(){return this._Attachment}set Attachment(t){t!=this._Attachment&&(this._Attachment=t)}get ViewAttachments(){return this._ViewAttachments}set ViewAttachments(t){t!=this._ViewAttachments&&(this._ViewAttachments=t)}OnShowAttachment(){Logger.InfoLog("AddProductViewModel::Entering OnShowAttachment"),Logger.InfoLog("AddProductViewModel::Exiting OnShowAttachment")}OnAddAttachment(){Logger.InfoLog("AddProductViewModel::Entering AddAttachment"),this.Attachment=new h.AddAttachmentViewModel,this.Attachment.AddAttachmentViewModel_2(this),Logger.InfoLog("AddProductViewModel::Entering AddAttachment")}PopupAttachmentsViewModel_1(t,e,i){var s,r,l;this.parent=i,this.AttachmentVisibility=!0,this.OnAddAttachment(),this.CostCenterID=t,this.NID=e,this._ViewAttachments=new o.ViewAttachmentViewModel(this),this.SubmitClick.Subscribe(this,"ListAttachments");let p=0,d="",c="";if("AddProductScreenViewModel"==(null===(s=this.parent)||void 0===s?void 0:s.ClassName)?(p=i.FileID,d=i.ProductPhoto,c=i.FileDescription):"AddEditAccountViewModel"==(null===(r=this.parent)||void 0===r?void 0:r.ClassName)||"AddUsersViewModel"==(null===(l=this.parent)||void 0===l?void 0:l.ClassName)?(p=i.FileID,d=i.AccountPhoto):(p=this.parent.FileID,d=this.parent.AccountPhoto,c=this.parent.FileDescription),null!=i){if(!a.e.IsEmpty(d)){let t=new h.AddAttachmentViewModel;if(t.AddAttachmentViewModel_2(this),t.AttachmentID=p,p>0){let e=null;"AddProductScreenViewModel"==this.parent.ClassName||"AddEditAccountViewModel"==this.parent.ClassName?e=i.ds.Tables[4].filter(t=>t.FileID==p):"AddUsersViewModel"==this.parent.ClassName||"AddCostCenterViewModel"==this.parent.ClassName?e=this.parent.ds.Tables[3].filter(t=>t.FileID==p):"AddEditEmpMasterViewModel"==this.parent.ClassName?e=this.parent.dsEdit.Tables[3].filter(t=>t.FileID==p):"AddEditPropertyViewModel"==i.ClassName?e=i.ds.Tables[18].filter(t=>t.FileID==p):"AddEditUnitsViewModel"==i.ClassName?e=i.ds.Tables[6].filter(t=>t.FileID==p):"AddEditTenantViewModel"==i.ClassName&&(e=i.Dset.Tables[4].filter(t=>t.FileID==p)),e.length>0&&(t.ActualFileName=e[0].ActualFileName.toString(),t.FileExtension=e[0].FileExtension.toString(),t.FileDescription=e[0].FileDescription.toString(),t.FilePath="",t.Guid=e[0].GUID.toString(),t.RelativeFileName=e[0].RelativeFileName.toString(),t.MainFilePath=e[0].FilePath.toString(),t.IsProductImage=!0,t.IsDefaultImage=!0,t.IsDefaultImageVisible=!0,t.CancelVisible=!1,t.Guid=e[0].GUID.toString(),a.e.hasprop(e[0],"HasThumb")&&(t.HasThumb=Object(n.j)(e[0].HasThumb)))}else{t.FilePath=d,t.MainFilePath=d,t.RelativeFileName=d,t.ActualFileName=t.FilePath.substr(t.FilePath.lastIndexOf("\\")+1);let e=t.FilePath.split("."),i="";e.length>1&&(i=e[e.length-1]),t.FileExtension=i,t.FileDescription=c,t.IsProductImage=!0,t.IsDefaultImage=!0,t.IsDefaultImageVisible=!0,t.CancelVisible=!1,t.Guid=this.parent.guid}this.ViewAttachments.AttachmentsList.push(t)}let t=[];(a.e.IsType(i,"IAttachment")||a.e.hasprop(i,"ViewAttachments"))&&(t=this.parent.ViewAttachments.AttachmentsList),t.forEach(t=>{if(t.IsProductImage){let e=new h.AddAttachmentViewModel;e.AddAttachmentViewModel_2(this),e.AttachmentID=t.AttachmentID,e.ActualFileName=t.ActualFileName,e.FileExtension=t.FileExtension,e.FileDescription=t.FileDescription,e.MainFilePath=t.MainFilePath,e.FilePath=t.FilePath,e.Guid=t.guid,e.RelativeFileName=t.RelativeFileName,e.IsProductImage=t.IsProductImage,e.IsDefaultImage=t.IsDefaultImage,e.IsDefaultImageVisible=!0,e.HasThumb=t.HasThumb,this.ViewAttachments.AttachmentsList.push(e)}})}}ListAttachments(t){if("Submit"==t.toString()){if("AddProductScreenViewModel"==this.parent.ClassName){let t=0;this.ViewAttachments.AttachmentsList.forEach(e=>{var i=this.parent.ViewAttachments.AttachmentsList.filter(t=>t.RelativeFileName==e.RelativeFileName);e.IsDefaultImage?(t++,null!=i&&i.length>0&&this.parent.ViewAttachments.AttachmentsList.Remove(i),(a.e.IsEmpty(e.FilePath)||this.parent.ProductPhoto==e.FilePath)&&this.parent.ProductPhoto.Contains(a.e.GetPath(e.guid+"."+e.FileExtension))||(this.parent.FileID=e.AttachmentID,this.parent.ProductPhoto=a.e.IsEmpty(e.guid)?e.FilePath:a.e.GetPath(e.guid+"."+e.FileExtension),this.parent.ActualFileName=e.ActualFileName,this.parent.ThumbnailPhoto=e.ThumbnailPhoto,this.parent.guid=e.guid,this.parent.Guid=e.guid,this.parent.FileExtension=e.FileExtension,this.parent.IsPhotoChanged=!0,this.parent.PhotoTextVisibility=!1,this.parent.DisplayMessage="",this.parent.MessageVisibility=!1,this.parent.FileDescription=e.FileDescription),e.IsModified=!0):null==i||0==i.length?(e.AttachmentID>0?(e.IsModified=!0,null!=(i=this.parent.ViewAttachments.AttachmentsList.filter(t=>t.AttachmentID==e.AttachmentID))&&this.parent.ViewAttachments.AttachmentsList.Remove(i)):(e.IsModified=!1,e._Flg=!0),this.parent.ViewAttachments.AttachmentsList.push(e)):(i.FileDescription=e.FileDescription,i.IsModified=!0)}),0==t&&(this.parent.ProductPhoto="",this.parent.ActualFileName="",this.parent.ThumbnailPhoto="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.DialogResult=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage="",this.parent.FileDescription=""),this.ViewAttachments.DeletedAttachments.forEach(t=>{this.parent.ViewAttachments.DeletedAttachments.push(t);let e=this.parent.ViewAttachments.AttachmentsList.find(e=>e.AttachmentID==t.AttachmentID);null!=e&&this.parent.ViewAttachments.AttachmentsList.Remove(e)})}else if("AddEditAccountViewModel"==this.parent.ClassName){let t=0;this.ViewAttachments.AttachmentsList.forEach(e=>{var i=this.parent.ViewAttachments.AttachmentsList.filter(t=>t.RelativeFileName==e.RelativeFileName);e.IsDefaultImage?(t++,null!=i&&i.length>0&&this.parent.ViewAttachments.AttachmentsList.Remove(i),(a.e.IsEmpty(e.FilePath)||this.parent.AccountPhoto==e.FilePath)&&this.parent.AccountPhoto.Contains(a.e.GetPath(e.guid+"."+e.FileExtension))||(this.parent.FileID=e.AttachmentID,this.parent.AccountPhoto=a.e.IsEmpty(e.guid)?e.FilePath:a.e.GetPath(e.guid+"."+e.FileExtension),this.parent.ActualFileName=e.ActualFileName,this.parent.guid=e.guid,this.parent.Guid=e.guid,this.parent.FileExtension=e.FileExtension,this.parent.IsPhotoChanged=!0,this.parent.PhotoTextVisibility=!1,this.parent.DisplayMessage="",this.parent.MessageVisibility=!1),e.IsModified=!0):null==i||0==i.length?(e.AttachmentID>0?(e.IsModified=!0,null!=(i=this.parent.ViewAttachments.AttachmentsList.filter(t=>t.AttachmentID==e.AttachmentID))&&this.parent.ViewAttachments.AttachmentsList.Remove(i)):(e.IsModified=!1,e._Flg=!0),this.parent.ViewAttachments.AttachmentsList.push(e)):(i.FileDescription=e.FileDescription,i.IsModified=!0)}),0==t&&(this.parent.AccountPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage=""),this.ViewAttachments.DeletedAttachments.forEach(t=>{this.parent.ViewAttachments.DeletedAttachments.push(t);let e=this.parent.ViewAttachments.AttachmentsList.filter(e=>e.AttachmentID==t.AttachmentID);null!=e&&this.parent.ViewAttachments.AttachmentsList.Remove(e)})}else if("AddUsersViewModel"==this.parent.ClassName){let t=0;this.ViewAttachments.AttachmentsList.forEach(e=>{var i=this.parent.ViewAttachments.AttachmentsList.filter(t=>t.RelativeFileName==e.RelativeFileName);e.IsDefaultImage?(t++,null!=i&&i.length>0&&this.parent.ViewAttachments.AttachmentsList.Remove(i),(a.e.IsEmpty(e.FilePath)||this.parent.AccountPhoto==e.FilePath)&&this.parent.AccountPhoto.Contains(a.e.GetPath(e.guid+"."+e.FileExtension))||(this.parent.FileID=e.AttachmentID,this.parent.AccountPhoto=a.e.IsEmpty(e.guid)?e.FilePath:a.e.GetPath(e.guid+"."+e.FileExtension),this.parent.ActualFileName=e.ActualFileName,this.parent.IsPhotoChanged=!0,this.parent.PhotoTextVisibility=!1,this.parent.DisplayMessage="",this.parent.MessageVisibility=!1),e.IsModified=!0):null==i||0==i.length?(e.AttachmentID>0?(e.IsModified=!0,null!=(i=this.parent.ViewAttachments.AttachmentsList.filter(t=>t.AttachmentID==e.AttachmentID))&&this.parent.ViewAttachments.AttachmentsList.Remove(i)):(e.IsModified=!1,e._Flg=!0),this.parent.ViewAttachments.AttachmentsList.push(e)):(i.FileDescription=e.FileDescription,i.IsModified=!0)}),0==t&&(this.parent.AccountPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.DialogResult=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage=""),this.ViewAttachments.DeletedAttachments.forEach(t=>{this.parent.ViewAttachments.DeletedAttachments.push(t);let e=this.parent.ViewAttachments.AttachmentsList.find(e=>e.AttachmentID==t.AttachmentID);e&&this.parent.ViewAttachments.AttachmentsList.Remove(e)})}else if("AddCostCenterViewModel"==this.parent.ClassName){let t=0;this.ViewAttachments.AttachmentsList.forEach(e=>{var i=this.parent.ViewAttachments.AttachmentsList.filter(t=>t.RelativeFileName==e.RelativeFileName);e.IsDefaultImage?(t++,null!=i&&i.length>0&&this.parent.ViewAttachments.AttachmentsList.Remove(i),(a.e.IsEmpty(e.FilePath)||this.parent.AccountPhoto==e.FilePath)&&this.parent.AccountPhoto.Contains(a.e.GetPath(e.guid))||(this.parent.FileID=e.AttachmentID,this.parent.AccountPhoto=a.e.IsEmpty(e.guid)?e.FilePath:a.e.GetPath(e.guid),this.parent.ThumbnailPhoto=e.ThumbnailPhoto,this.parent.ActualFileName=e.ActualFileName,this.parent.guid=e.guid,this.parent.Guid=e.guid,this.parent.FileExtension=e.FileExtension,this.parent.IsPhotoChanged=!0,this.parent.PhotoTextVisibility=!1,this.parent.DisplayMessage="",this.parent.MessageVisibility=!1),e.IsModified=!0):null==i||0==i.length?(e.AttachmentID>0?(e.IsModified=!0,null!=(i=this.parent.ViewAttachments.AttachmentsList.filter(t=>t.AttachmentID==e.AttachmentID))&&this.parent.ViewAttachments.AttachmentsList.Remove(i)):(e.IsModified=!1,e._Flg=!0),this.parent.ViewAttachments.AttachmentsList.push(e)):(i.FileDescription=e.FileDescription,i.IsModified=!0)}),0==t&&(this.parent.AccountPhoto="",this.parent.ThumbnailPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage=""),this.ViewAttachments.DeletedAttachments.forEach(t=>{this.parent.ViewAttachments.DeletedAttachments.push(t);let e=this.parent.ViewAttachments.AttachmentsList.find(e=>e.AttachmentID==t.AttachmentID);e&&this.parent.ViewAttachments.AttachmentsList.Remove(e)})}else if("AddEditEmpMasterViewModel"==this.parent.ClassName||"AddEditPropertyViewModel"==this.parent.ClassName||"AddEditUnitsViewModel"==this.parent.ClassName||"AddEditTenantViewModel"==this.parent.ClassName){let t=0;this.ViewAttachments.AttachmentsList.forEach(e=>{var i=this.parent.ViewAttachments.AttachmentsList.filter(t=>t.RelativeFileName==e.RelativeFileName);e.IsDefaultImage?(t++,null!=i&&this.parent.ViewAttachments.AttachmentsList.Remove(i),(a.e.IsEmpty(e.FilePath)||this.parent.AccountPhoto==e.FilePath)&&this.parent.AccountPhoto.Contains(a.e.GetPath(e.guid+"."+e.FileExtension))||(this.parent.FileID=e.AttachmentID,this.parent.AccountPhoto=a.e.IsEmpty(e.guid)?e.FilePath:a.e.GetPath(e.guid+"."+e.FileExtension),this.parent.ActualFileName=e.ActualFileName,this.parent.IsPhotoChanged=!0,this.parent.PhotoTextVisibility=!1,this.parent.EmpAttachmentguid=e.guid.toString(),this.parent.DisplayMessage="",this.parent.FileExtension=e.FileExtension,this.parent.MessageVisibility=!1,this.parent.FileDescription=e.FileDescription),e.IsModified=!0):null==i||0==i.length?(e.AttachmentID>0?(e.IsModified=!0,null!=(i=this.parent.ViewAttachments.AttachmentsList.filter(t=>t.AttachmentID==e.AttachmentID))&&this.parent.ViewAttachments.AttachmentsList.Remove(i)):(e.IsModified=!1,e._Flg=!0),this.parent.ViewAttachments.AttachmentsList.push(e)):(i.FileDescription=e.FileDescription,i.IsModified=!0)}),0==t&&(this.parent.AccountPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage="",this.parent.FileDescription=""),this.ViewAttachments.DeletedAttachments.forEach(t=>{this.parent.ViewAttachments.DeletedAttachments.push(t);let e=this.parent.ViewAttachments.AttachmentsList.filter(e=>e.AttachmentID==t.AttachmentID);null!=e&&this.parent.ViewAttachments.AttachmentsList.Remove(e)})}s.a.page.HideDialog()}else s.a.page.HideDialog()}}}}]);