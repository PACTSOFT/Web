(window.webpackJsonp=window.webpackJsonp||[]).push([[167,75,77,89,113,121,141,148,150,160,210,212],{EggS:function(e,t,o){"use strict";o.d(t,"a",(function(){return l}));var n=o("Do2H"),a=o("Lp6j"),i=o("eQJW");class l{constructor(){this.CustomerID=0,this.CustomerTypeID=0,this.StatusID=0,this.AccountID=0,this.ParentID=0,this.SelectedNodeID=0,this.CodeNumber=0,this.IsGroup=!1,this.CreditDays=0,this.CreditLimit=0,this.DebitDays=0,this.Debitlimit=0,this.IsCode=!1,this.ActivityXml="",this.CCXML=""}SaveCustomerQuick(){try{let e=[];return e.push(this.CustomerID),e.push(null!=this.CustomerCode?this.CustomerCode:""),e.push(null!=this.CustomerName?this.CustomerName:""),e.push(this.StatusID),e.push(this.CodePrefix),e.push(this.CodeNumber),e.push(this.StaticFieldsQuery),e.push(this.CustomFieldsQuery),e.push(this.CustomCostCenterFieldsQuery),e.push(n.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(""),e.push(n.a.SessionManager.UserName),e.push(n.a.SessionManager.RoleID),e.push(n.a.SessionManager.LanguageID),n.a.crmService.SetCustomerQuick(e)}catch(e){return Logger.ErrorLog("Account:: SaveAccountQuick"+e.stack),""}}SaveCustomer(){Logger.InfoLog("Customer:: Inside SaveCustomer");try{0==this.CustomerID&&(this.GUID=a.e.NewGuid());let e=[];return e.push(this.CustomerID),e.push(null!=this.CustomerCode?this.CustomerCode:""),e.push(null!=this.CustomerName?this.CustomerName:""),e.push(null!=this.AliasName?this.AliasName:""),e.push(this.CustomerTypeID),e.push(this.StatusID),e.push(this.AccountID),e.push(this.SelectedNodeID),e.push(this.IsGroup),e.push(this.CreditDays),e.push(this.CreditLimit),e.push(null!=this.UserName?this.UserName:""),e.push(null!=this.Password?this.Password:""),e.push(null!=this.OnlineCustType?this.OnlineCustType:""),e.push(n.a.SessionManager.CompanyGUID),e.push(null!=this.GUID?this.GUID:"GUID"),e.push(""),e.push(n.a.SessionManager.UserName),e.push(this.CustomFieldsQuery),e.push(this.CustomCostCenterFieldsQuery),e.push(this.ContactsXML),e.push(this.AttachmetsXML),e.push(this.NotesXML),e.push(this.AddressXML),e.push(this.ActivityXml),e.push(this.CCXML),e.push(!1),e.push(null==this.PrimaryContactQuery?"":this.PrimaryContactQuery),e.push(n.a.SessionManager.RoleID),e.push(n.a.SessionManager.LanguageID),e.push(null!=this.CodePrefix?this.CodePrefix:""),e.push(this.CodeNumber),e.push(this.IsCode),n.a.crmService.SaveCustomer(e)}catch(e){return Logger.ErrorLog("Customer:: SaveCustomer"+e.stack),""}}GetCustomerDetails(){let e=n.a.crmService.GetCustomerInfo("?UserID="+n.a.SessionManager.UserID+"&RoleID="+n.a.SessionManager.RoleID+"&LangID="+n.a.SessionManager.LangID+"&CustomerID="+this.CustomerID);return!e.Columns[0].Contains("ErrorMessage")&&e.Tables.length>0&&e.Tables[0].length>0&&(this.CustomerID=parseInt(e.Tables[0][0].CustomerID),this.CustomerCode=a.e.String(e.Tables[0][0].CustomerCode),this.CustomerName=a.e.String(e.Tables[0][0].CustomerName),this.AliasName=a.e.String(e.Tables[0][0].AliasName),a.e.IsEmpty(e.Tables[0][0].CustomerTypeID)||(this.CustomerTypeID=parseInt(e.Tables[0][0].CustomerTypeID)),this.StatusID=parseInt(e.Tables[0][0].StatusID),a.e.IsEmpty(e.Tables[0][0].AccountID)||(this.AccountID=parseInt(e.Tables[0][0].AccountID)),this.IsGroup=Object(i.j)(e.Tables[0][0].IsGroup),a.e.IsEmpty(e.Tables[0][0].CreditDays)||(this.CreditDays=parseInt(e.Tables[0][0].CreditDays)),a.e.IsEmpty(e.Tables[0][0].CreditLimit)||(this.CreditLimit=parseFloat(e.Tables[0][0].CreditLimit)),this.ParentID=parseInt(e.Tables[0][0].ParentID),this.GUID=a.e.String(e.Tables[0][0].GUID),this.Description=a.e.String(e.Tables[0][0].Description),this.CodePrefix=a.e.String(e.Tables[0][0].CodePrefix),this.UserName=a.e.String(e.Tables[0][0].UserName),this.OnlineCustType=a.e.String(e.Tables[0][0].OnlineCustType),this.Password=a.e.String(e.Tables[0][0].Password),a.e.IsEmpty(e.Tables[0][0].CodeNumber)||(this.CodeNumber=parseInt(e.Tables[0][0].CodeNumber))),e}DeleteCustomer(e,t){try{let o=[];return o.push(e),o.push(t),o.push(n.a.SessionManager.RoleID),o.push(n.a.SessionManager.LanguageID),Logger.InfoLog("Customer:: Success: DBH.DeleteCustomer "+e.toString()),n.a.crmService.RemoveCustomer(o)}catch(o){return Logger.ErrorLog("LEAD::DeleteLead"+o.stack),""}}}},IRiK:function(e,t,o){"use strict";o.r(t),o.d(t,"GSTModule",(function(){return Je}));var n=o("ofXK"),a=o("PCNd"),i=o("3Pt+"),l=o("Do2H"),s=o("Lp6j"),C=o("JIg3"),p=o("ockk"),r=o("ScVY"),T=o("vTM8"),D=o("8B8H"),u=o("4ADR"),d=o("mvPR"),m=o("ThYU"),I=o("MCLT");class h{constructor(){this.CompanyStartRow=0,this.CompanyEndRow=0,this.DataStartRow=0,this.DataEndRow=0,this.TotalStartRow=0}}var c=function(e){return e[e.None=0]="None",e[e.GSTR1Summary=1]="GSTR1Summary",e}({});let S=(()=>{class e{static ColumnsXML(t,o){if(o==c.GSTR1Summary)return e.GSTSummaryColumnsXML(t);if(e.dicReports.ContainsKey(t))return e.dicReports[t];let n="";return"ANX1_B2C"==t?n+="<XML GroupBy='PoS,Rate'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN of Recipient</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place of Supply*</Caption></Col>\n<Col ID='DifferentialTaxRate' Width='120' IsReadOnly='1'><Caption>Differential % of Tax Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='SupplyUnderSec7' Width='155' IsReadOnly='1'><Caption>Supply Covered Under Sec 7 of IGST Act*</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_B2B"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120' InUse='0'><Caption>Reverse Charge</Caption></Col>\n<Col ID='PartyType' Width='100' Combo='TEXT' InUse='0'><Caption>Party Type</Caption></Col>\n<Col ID='SaleType' Width='100' Combo='TEXT' InUse='0'><Caption>Sale Type</Caption></Col>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN/UIN of Recipient*</Caption></Col>\n<Col ID='ReceiverName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Trade/Legal  Name</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='ANX1_B2BDocType'><Caption>Document Type*</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Document Number*</Caption></Col>\n<Col ID='DocDate' Width='110' IsReadOnly='1'><Caption>Document Date*</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Document Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place of Supply*</Caption></Col>\n<Col ID='DifferentialTaxRate' Width='120' IsReadOnly='1'><Caption>Differential % of Tax Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='SupplyUnderSec7' Width='155' IsReadOnly='1'><Caption>Supply Covered Under Sec 7 of IGST Act*</Caption></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_EXP"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN/UIN of Recipient*</Caption></Col>\n<Col ID='PartyType' Width='100' Combo='TEXT' InUse='0'><Caption>Party Type</Caption></Col>\n<Col ID='SaleType' Width='100' Combo='TEXT' InUse='0'><Caption>Sale Type</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='ANX1_B2BDocType'><Caption>Document Type*</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Document Number*</Caption></Col>\n<Col ID='DocDate' Width='110' IsReadOnly='1'><Caption>Document Date*</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Document Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='ExportType' Width='140' Combo='TEXT'><Caption>Export Type*</Caption></Col>\n<Col ID='PortCode' Combo='TEXT' Width='120'><Caption>Port Code</Caption></Col>\n<Col ID='ShipBillNo' Combo='TEXT' Width='160'><Caption>Shipping Bill Number</Caption></Col>\n<Col ID='ShipBillDate' Combo='DATE' Width='150'><Caption>Shipping Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code*</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_SEZ"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='PartyType' Width='100' Combo='TEXT' InUse='0'><Caption>Party Type</Caption></Col>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN/UIN of Recipient*</Caption></Col>\n<Col ID='ReceiverName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Trade/Legal  Name</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='ANX1_B2BDocType'><Caption>Document Type*</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Document Number*</Caption></Col>\n<Col ID='DocDate' Width='110' IsReadOnly='1'><Caption>Document Date*</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Document Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place of Supply*</Caption></Col>\n<Col ID='GSTPaymentType' Width='140' Combo='TEXT'><Caption>GST Payment Type*</Caption></Col>\n<Col ID='DifferentialTaxRate' Width='120' IsReadOnly='1'><Caption>Differential % of Tax Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='WouldClaimRefund' Width='110' IsReadOnly='1'><Caption>Would You Claim Refund*</Caption></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code*</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_DE"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='PartyType' Width='100' Combo='TEXT' InUse='0'><Caption>Party Type</Caption></Col>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN/UIN of Recipient*</Caption></Col>\n<Col ID='ReceiverName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Trade/Legal  Name</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='ANX1_B2BDocType'><Caption>Document Type*</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Document Number*</Caption></Col>\n<Col ID='DocDate' Width='110' IsReadOnly='1'><Caption>Document Date*</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Document Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place of Supply*</Caption></Col>\n<Col ID='DifferentialTaxRate' Width='120' IsReadOnly='1'><Caption>Differential % of Tax Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='SupplyUnderSec7' Width='155' IsReadOnly='1'><Caption>Supply Covered Under Sec 7 of IGST Act*</Caption></Col>\n<Col ID='WouldClaimRefund' Width='110' IsReadOnly='1'><Caption>Would You Claim Refund*</Caption></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code*</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_ECOM"==t?n+="<XML GroupBy='RecipientGSTIN'>\n<Col ID='IsEcomCustomer' Width='110' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>Is Ecom Customer</Caption></Col>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN of E-com*</Caption></Col>\n<Col ID='ReceiverName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Trade/Legal  Name</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='ANX1_B2BDocType'><Caption>Document Type*</Caption></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Value of supplies made*</Caption><DType>FLOAT</DType></Col>\n<Col ID='RetInvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Value of Suppies Returned*</Caption><DType>FLOAT</DType></Col>\n<Col ID='NetValue' Combo='NUM' Width='120' IsReadOnly='1'><Caption>Net Value of Supplies</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_REV"==t?n+="<XML GroupBy='SupplierGSTIN,hsnCode,Rate'>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120' InUse='0'><Caption>Reverse Charge</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='ANX1_B2BDocType' InUse='0'><Caption>Document Type*</Caption></Col>\n\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN/PAN of Supplier*</Caption></Col>\n<Col ID='SupplierName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Trade/Legal  Name</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place of Supply*</Caption></Col>\n<Col ID='DifferentialTaxRate' Width='120' IsReadOnly='1'><Caption>Differential % of Tax Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='SupplyUnderSec7' Width='155' IsReadOnly='1'><Caption>Supply Covered Under Sec 7 of IGST Act*</Caption></Col>\n<Col ID='SupplyType' Width='100' Combo='TEXT'><Caption>Supply Type</Caption></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_IMPS"==t?n+="<XML GroupBy='PoS,hsnCode,Rate'>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120' InUse='0'><Caption>Reverse Charge</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='ANX1_B2BDocType' InUse='0'><Caption>Document Type*</Caption></Col>\n\n<Col ID='SupplierName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Trade/Legal  Name</Caption></Col>\n<Col ID='SupplyType' Width='100' Combo='TEXT'><Caption>Supply Type</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place of Supply*</Caption></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_IMPG"==t?n+="<XML GroupBy='PoS,hsnCode,BillNo,Rate'>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120' InUse='0'><Caption>Reverse Charge</Caption></Col>\n<Col ID='PartyType' Width='100' Combo='TEXT' InUse='0'><Caption>Party Type</Caption></Col>\n\n<Col ID='IMPGDocType' Width='110' IsReadOnly='1'><Caption>Document Type*</Caption></Col>\n<Col ID='PortCode' Combo='TEXT' Width='90'><Caption>Port Code*</Caption></Col>\n<Col ID='BillNo' Combo='TEXT' Width='160'><Caption>Bill of Entry Number*</Caption></Col>\n<Col ID='BillDate' Combo='DATE' Width='150'><Caption>Bill of Entry Date*</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Bill of Entry Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place of Supply*</Caption></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code*</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_IMPGSEZ"==t?n+="<XML GroupBy='SupplierGSTIN,PoS,PortCode,hsnCode,Rate'>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120' InUse='0'><Caption>Reverse Charge</Caption></Col>\n<Col ID='PartyType' Width='100' Combo='TEXT' InUse='0'><Caption>Party Type</Caption></Col>\n\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN/PAN of Supplier*</Caption></Col>\n<Col ID='SupplierName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Trade/Legal  Name</Caption></Col>\n<Col ID='IMPGDocType' Width='110' IsReadOnly='1'><Caption>Document Type*</Caption></Col>\n<Col ID='PortCode' Combo='TEXT' Width='90'><Caption>Port Code*</Caption></Col>\n<Col ID='BillNo' Combo='TEXT' Width='160'><Caption>Bill of Entry Number*</Caption></Col>\n<Col ID='BillDate' Combo='DATE' Width='150'><Caption>Bill of Entry Date*</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Bill of Entry Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place of Supply*</Caption></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code*</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_PurchaseRegister"==t?n+="<XML GroupBy='SupplierGSTIN,BillNo'>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN of supplier *</Caption></Col>\n<Col ID='SupplierName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Trade/Legal name</Caption></Col>\n<Col ID='InwardSuppType' Combo='TEXT' Width='160'><Caption>Type of inward supplies *</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='ANX1_B2BDocType'><Caption>Document Type*</Caption></Col>\n\n<Col ID='BillNo' Combo='TEXT' Width='160'><Caption>Document number *</Caption></Col>\n<Col ID='BillDate' Combo='DATE' Width='150'><Caption>Document date *</Caption><DType>DATE</DType></Col>\n\n<Col ID='TotalTax' Combo='NUM' Width='110' Agg='SUM'><Caption>TotalTax*</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"b2b"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='ReceiverName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Receiver Name</Caption></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120'><Caption>Reverse Charge</Caption></Col>\n<Col ID='ApplicableTaxRate' Combo='NUM' Width='130' IsOptional='1'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='InvType' Combo='TEXT' Width='110'><Caption>Invoice Type</Caption></Col>\n<Col ID='ECommGSTIN' Combo='TEXT' ComboDefValue='2' Width='140'><Caption>E-Commerce GSTIN</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='GSTTaxType' ComboDefValue='3' Combo='TEXT' Width='130' IsOptional='1' InUse='0'><Caption>GST Tax Type</Caption></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"b2cl"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='ApplicableTaxRate' Combo='NUM' Width='130' IsOptional='1'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='ECommGSTIN' Combo='TEXT' ComboDefValue='2' Width='140'><Caption>E-Commerce GSTIN</Caption></Col>\n<Col ID='GSTTaxType' ComboDefValue='3' Combo='TEXT' Width='130' IsOptional='1' InUse='0'><Caption>GST Tax Type</Caption></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"b2cs"==t?n+="<XML GroupBy='Type,PoS,Rate'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' InUse='0' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='Type' Width='110' Combo='TEXT'><Caption>Type</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='ApplicableTaxRate' Combo='NUM' Width='130' IsOptional='1'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='ECommGSTIN' Combo='TEXT' ComboDefValue='2' Width='140'><Caption>E-Commerce GSTIN</Caption></Col>\n<Col ID='GSTTaxType' ComboDefValue='3' Combo='TEXT' Width='130' IsOptional='1' InUse='0'><Caption>GST Tax Type</Caption></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"cdnr"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='ReceiverName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Receiver Name</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Note Number</Caption></Col>\n<Col ID='DocDate' Width='110' IsReadOnly='1'><Caption>Note Date</Caption><DType>DATE</DType></Col>\n<Col ID='DocumentType' Width='110' Combo='cdnrDocumentType'><Caption>Note Type</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120'><Caption>Reverse Charge</Caption></Col>\n<Col ID='InvType' Combo='TEXT' Width='160'><Caption>Note Supply Type</Caption></Col>\n<Col ID='InvValue' Combo='NUM' Width='140' IsOptional='1'><Caption>Note Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='ApplicableTaxRate' Combo='NUM' Width='130' IsOptional='1'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='GSTTaxType' ComboDefValue='3' Combo='TEXT' Width='130' IsOptional='1' InUse='0'><Caption>GST Tax Type</Caption></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"cdnur"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='URType' Width='140' Combo='TEXT'><Caption>UR Type</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Note Number</Caption></Col>\n<Col ID='DocDate' Width='110' IsReadOnly='1'><Caption>Note Date</Caption><DType>DATE</DType></Col>\n<Col ID='DocumentType' Width='110' Combo='cdnrDocumentType'><Caption>Note Type</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='InvValue' Combo='NUM' Width='140' IsOptional='1'><Caption>Note Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='ApplicableTaxRate' Combo='NUM' Width='130' IsOptional='1'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='GSTTaxType' ComboDefValue='3' Combo='TEXT' Width='130' IsOptional='1' InUse='0'><Caption>GST Tax Type</Caption></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"exp"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='ExportType' Width='140' Combo='TEXT'><Caption>Export Type</Caption></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PortCode' Combo='TEXT' Width='120'><Caption>Port Code</Caption></Col>\n<Col ID='ShipBillNo' Combo='TEXT' Width='160'><Caption>Shipping Bill Number</Caption></Col>\n<Col ID='ShipBillDate' Combo='DATE' Width='150'><Caption>Shipping Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"at"==t?n+="<XML GroupBy='PoS,Rate'>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='ApplicableTaxRate' Combo='NUM' Width='130' IsOptional='1'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvReceived' Combo='NUM' Width='150' Agg='SUM'><Caption>Gross Advance Received</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"atadj"==t?n+="<XML GroupBy='PoS,Rate'>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='ApplicableTaxRate' Combo='NUM' Width='130' IsOptional='1'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvReceived' Combo='NUM' Width='150' Agg='SUM' InUse='0'><Caption>Gross Advance Received</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvAdjusted' Combo='NUM' Width='150' Agg='SUM' IsReadOnly='1'><Caption>Gross Advance Adjusted</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"exemp"==t?n+="<XML>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120' InUse='0'><Caption>Place Of Supply</Caption></Col>\n<Col ID='Description' Width='240' IsReadOnly='1'><Caption>Description</Caption></Col>\n<Col ID='Value' Combo='NUM' Width='120' Agg='SUM' InUse='0'><Caption>Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='NilRated' ComboDefValue='3' Combo='TEXT' Width='140' Agg='SUM'><Caption>Nil Rated Supplies</Caption><DType>FLOAT</DType></Col>\n<Col ID='Exempted' ComboDefValue='3' Combo='TEXT' Width='180' Agg='SUM'><Caption>Exempted(other than nil rated/non GST supply)</Caption><DType>FLOAT</DType></Col>\n<Col ID='NonGST' ComboDefValue='3' Combo='TEXT' Width='140' Agg='SUM'><Caption>Non-GST supplies</Caption><DType>FLOAT</DType></Col>\n</XML>":"hsn"==t?n+="<XML GroupBy='HSN,UQC,Rate'>\n<Col ID='HSN' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>HSN</Caption></Col>\n<Col ID='Description' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Description</Caption></Col>\n<Col ID='PRType' Width='160' Combo='TEXT' ComboDefValue='3' IsOptional='1'><Caption>Product Type</Caption></Col>\n<Col ID='UQC' Width='160' Combo='TEXTUOM' IsOptional='1'><Caption>UQC</Caption></Col>\n<Col ID='TotalQty' Combo='NUM' Width='120' Agg='SUM'><Caption>Total Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='TotalValue' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Total Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Agg='SUM' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"docs"==t?n+="<XML>\n<Col ID='NatureofDocument' Width='280' Combo='NatureofDocument'><Caption>Nature of Document</Caption></Col>\n<Col ID='SrNoFrom' Width='120' IsReadOnly='1'><Caption>Sr. No. From</Caption></Col>\n<Col ID='SrNoTo' Width='120' IsReadOnly='1'><Caption>Sr. No. To</Caption></Col>\n<Col ID='TotalNumber' Width='120' IsReadOnly='1' Decimals='0'><Caption>Total Number</Caption><DType>FLOAT</DType></Col>\n<Col ID='Cancelled' Width='110' IsReadOnly='1' Decimals='0'><Caption>Cancelled</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR1Summary"==t?n+="<XML>\n<Col ID='Particulars' Width='200' IsOptional='1' IsReadOnly='1'><Caption>Particulars</Caption></Col>\n<Col ID='Cnt' Width='80' IsOptional='1' IsReadOnly='1'><Caption>Count</Caption></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>State Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1' IsReadOnly='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n</XML>":"CT01"==t?n+="<XML OrderBy='DocDate,VoucherNo'>\n<Col ID='DocDate' Width='100' IsReadOnly='1' CT='transaction_date'><Caption>Invoice Date</Caption><DType>DATE</DType></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1' CT='id'><Caption>Invoice Number</Caption></Col>\n<Col ID='RecipientName' Width='160' Combo='TEXT' ComboDefValue='2' IsOptional='1' CT='receiver.name'><Caption>Customer Billing Name</Caption></Col>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' CT='receiver.gstin'><Caption>Customer Billing GSTIN</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='130' CT='place_of_supply'><Caption>State Place of Supply</Caption></Col>\n\n<Col ID='ItemGorS' Width='185' Combo='TEXT' ComboDefValue='3' CT='gst_type'><Caption>Is the item a GOOD (G) or SERVICE (S)</Caption></Col>\n<Col ID='ItemDescription' Width='160' Combo='TEXT' ComboDefValue='3' CT='description'><Caption>Item Description</Caption></Col>\n<Col ID='HSN' Width='140' Combo='TEXT' ComboDefValue='3'><Caption>HSN or SAC code</Caption></Col>\n<Col ID='ItemQty' Combo='NUM' Width='110' Agg='SUM' CT='quantity'><Caption>Item Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='UQC' Width='160' Combo='TEXTUOM' CT='unit_of_measurement'><Caption>Item Unit of Measurement</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' CT='unit_price'><Caption>Item Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Discount' Combo='NUM' Width='135' IsOptional='1' CT='discount'><Caption>Total Item Discount Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='130' Agg='SUM' CT='taxable_val'><Caption>Item Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='CGSTRate' Combo='NUM' Width='110' CT='cgst_rate'><Caption>CGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='cgst_val'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTRate' Combo='NUM' Width='110' CT='sgst_rate'><Caption>SGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='sgst_val'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTRate' Combo='NUM' Width='110' CT='igst_rate'><Caption>IGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='igst_val'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessRate' Combo='NUM' Width='110' IsOptional='1' CT='cess_rate'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' CT='cess_val'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IsBillOfSupply' Combo='TEXT' Width='130' IsOptional='1'><Caption>Is this a Bill of Supply?</Caption></Col>\n<Col ID='ReverseCharge' Combo='TEXT' Width='130' IsOptional='1' CT='reverse_charge_applicable'><Caption>Is Reverse Charge Applicable?</Caption></Col>\n<Col ID='IsNilRatedExmNonGST' Combo='TEXT' Width='140' IsOptional='1'><Caption>Is this a Nil Rated/Exempt/NonGST item?</Caption></Col>\n\n<Col ID='OrgDocDate' Width='120' IsOptional='1' Combo='DATE'><Caption>Original Invoice Date (In case of amendment)</Caption><DType>DATE</DType></Col>\n<Col ID='OrgVoucherNo' Width='130' IsOptional='1' Combo='TEXT'><Caption>Original Invoice Number (In case of amendment)</Caption></Col>\n<Col ID='OrgRecipientName' Width='180' Combo='TEXT' ComboDefValue='2' IsOptional='1'><Caption>Original Customer Billing GSTIN (In case of amendment)</Caption></Col>\n\n<Col ID='ECommGSTIN' Combo='TEXT' ComboDefValue='2' Width='160' IsOptional='1'><Caption>GSTIN of Ecommerce Marketplace</Caption></Col>\n\n<Col ID='LinkAdvDocDate' Width='150' IsOptional='1' Combo='DATE'><Caption>Date of Linked Advance Receipt</Caption><DType>DATE</DType></Col>\n<Col ID='LinkAdvVoucherNo' Width='160' IsOptional='1' Combo='TEXT'><Caption>Voucher Number of Linked Advance Receipt</Caption></Col>\n<Col ID='LinkAdvAdjAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Adjustment Amount of the Linked Advance Receipt</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='ExportType' Combo='TEXT' Width='140' IsOptional='1'><Caption>Type of Export</Caption></Col>\n<Col ID='PortCode' Combo='TEXT' Width='160' IsOptional='1'><Caption>Shipping Port Code - Export</Caption></Col>\n<Col ID='ShipBillNo' Combo='TEXT' Width='150' IsOptional='1'><Caption>Shipping Bill Number - Export</Caption></Col>\n<Col ID='ShipBillDate' Combo='DATE' Width='150' IsOptional='1'><Caption>Shipping Bill Date - Export</Caption><DType>DATE</DType></Col>\n\n<Col ID='HasGSTTDSDeducted' Combo='TEXT' Width='160' IsOptional='1'><Caption>Has GST/IDT TDS been deducted</Caption></Col>\n\n<Col ID='RecipientBillAddress' Combo='TEXT' Width='160' IsOptional='1' CT='receiver.address'><Caption>Customer Billing Address</Caption></Col>\n<Col ID='RecipientBillCity' Combo='TEXT' Width='140' IsOptional='1' CT='receiver.city'><Caption>Customer Billing City</Caption></Col>\n<Col ID='RecipientBillState' Combo='TEXT' Width='140' IsOptional='1' CT='receiver.state'><Caption>Customer Billing State</Caption></Col>\n\n\n<Col ID='MyGSTIN' Combo='TEXT' Width='140' CT='seller.gstin'><Caption>My GSTIN</Caption></Col>\n<Col ID='SellerState' Combo='TEXT' Width='140' IsOptional='1' CT='seller.state'><Caption>My State</Caption></Col>\n\n<Col ID='IsDocCancelled' Combo='TEXT' Width='165' IsOptional='1' CT='is_canceled'><Caption>Is this document cancelled?</Caption></Col>\n\n\n<Col ID='ItemCode' Width='160' Combo='TEXT' ComboDefValue='3' CT='item_code' InUse='0'><Caption>Item Code</Caption></Col>\n</XML>":"CT02"==t?n+="<XML OrderBy='DocDate,VoucherNo'>\n<Col ID='DocDate' Width='130' IsReadOnly='1' CT='transaction_date'><Caption>Credit/Debit Note Date</Caption><DType>DATE</DType></Col>\n<Col ID='VoucherNo' Width='140' IsReadOnly='1' CT='id'><Caption>Credit/Debit Note Number</Caption></Col>\n<Col ID='CrDrNoteType' Width='170' Combo='TEXT'><Caption>Credit (C)/Debit (D) Note Type</Caption></Col>\n<Col ID='LinkDocDate' Width='100' IsReadOnly='1' CT='original_invoice_date'><Caption>Invoice Date</Caption><DType>DATE</DType></Col>\n<Col ID='LinkVoucherNo' Width='110' IsReadOnly='1' CT='original_invoice_serial_num'><Caption>Invoice Number</Caption></Col>\n\n<Col ID='RecipientName' Width='160' Combo='TEXT' ComboDefValue='2' IsOptional='1' CT='receiver.name'><Caption>Customer Billing Name</Caption></Col>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' CT='receiver.gstin'><Caption>Customer Billing GSTIN</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='130' CT='place_of_supply'><Caption>State Place of Supply</Caption></Col>\n\n<Col ID='ItemGorS' Width='185' Combo='TEXT' ComboDefValue='3' CT='gst_type'><Caption>Is the item a GOOD (G) or SERVICE (S)</Caption></Col>\n<Col ID='ItemDescription' Width='160' Combo='TEXT' ComboDefValue='3' CT='description'><Caption>Item Description</Caption></Col>\n<Col ID='HSN' Width='140' Combo='TEXT' ComboDefValue='3'><Caption>HSN or SAC code</Caption></Col>\n<Col ID='ItemQty' Combo='NUM' Width='110' Agg='SUM' CT='quantity'><Caption>Item Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='UQC' Width='160' Combo='TEXTUOM' CT='unit_of_measurement'><Caption>Item Unit of Measurement</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' CT='unit_price'><Caption>Item Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Discount' Combo='NUM' Width='140' IsOptional='1' CT='discount'><Caption>Total Item Discount Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='130' Agg='SUM' CT='taxable_val'><Caption>Item Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='CGSTRate' Combo='NUM' Width='110' CT='cgst_rate'><Caption>CGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='cgst_val'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTRate' Combo='NUM' Width='110' CT='sgst_rate'><Caption>SGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='sgst_val'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTRate' Combo='NUM' Width='110' CT='igst_rate'><Caption>IGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='igst_val'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessRate' Combo='NUM' Width='110' IsOptional='1' CT='cess_rate'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' CT='cess_val'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='ReverseCharge' Combo='TEXT' Width='130' IsOptional='1' CT='reverse_charge_applicable'><Caption>Is Reverse Charge Applicable?</Caption></Col>\n<Col ID='IsNilRatedExmNonGST' Combo='TEXT' Width='140' IsOptional='1'><Caption>Is this a Nil Rated/Exempt/NonGST item?</Caption></Col>\n\n<Col ID='OrgDocDate' Width='120' IsOptional='1' Combo='DATE' CT='original_note_date'><Caption>Original Credit/Debit Note Date (In case of amendment)</Caption><DType>DATE</DType></Col>\n<Col ID='OrgVoucherNo' Width='130' IsOptional='1' Combo='TEXT'><Caption>Original Credit/Debit Note Number (In case of amendment)</Caption></Col>\n<Col ID='OrgRecipientName' Width='180' Combo='TEXT' ComboDefValue='2' IsOptional='1'><Caption>Original Customer Billing GSTIN (In Case of amendment)</Caption></Col>\n\n<Col ID='MyGSTIN' Combo='TEXT' Width='140' CT='seller.gstin'><Caption>My GSTIN</Caption></Col>\n<Col ID='MyState' Combo='TEXT' Width='140' IsOptional='1' CT='seller.state'><Caption>My State</Caption></Col>\n\n<Col ID='RecipientBillAddress' Combo='TEXT' Width='160' IsOptional='1' CT='receiver.address'><Caption>Customer Billing Address</Caption></Col>\n<Col ID='RecipientBillCity' Combo='TEXT' Width='140' IsOptional='1' CT='receiver.city'><Caption>Customer Billing City</Caption></Col>\n<Col ID='RecipientBillState' Combo='TEXT' Width='140' IsOptional='1' CT='receiver.state'><Caption>Customer Billing State</Caption></Col>\n\n<Col ID='IsDocCancelled' Combo='TEXT' Width='165' IsOptional='1' CT='is_canceled'><Caption>Is this document cancelled?</Caption></Col>\n</XML>":"CT03"==t?n+="<XML OrderBy='DocDate,VoucherNo'>\n<Col ID='DocDate' Width='140' IsReadOnly='1' CT='transaction_date'><Caption>Advance Receipt Voucher Date</Caption><DType>DATE</DType></Col>\n<Col ID='VoucherNo' Width='150' IsReadOnly='1' CT='id'><Caption>Advance Receipt Voucher Number</Caption></Col>\n<Col ID='RecipientName' Width='160' Combo='TEXT' ComboDefValue='2' IsOptional='1' CT='receiver.name'><Caption>Customer Billing Name</Caption></Col>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' CT='receiver.gstin'><Caption>Customer Billing GSTIN</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='130' CT='place_of_supply'><Caption>State Place of Supply</Caption></Col>\n\n<Col ID='ItemGorS' Width='185' Combo='TEXT' ComboDefValue='3' CT='gst_type'><Caption>Is the item a GOOD (G) or SERVICE (S)</Caption></Col>\n<Col ID='ItemDescription' Width='160' Combo='TEXT' ComboDefValue='3' CT='description'><Caption>Item Description</Caption></Col>\n<Col ID='HSN' Width='140' Combo='TEXT' ComboDefValue='3'><Caption>HSN or SAC code</Caption></Col>\n<Col ID='ItemQty' Combo='NUM' Width='110' Agg='SUM' CT='quantity'><Caption>Item Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='UQC' Width='160' Combo='TEXTUOM' CT='unit_of_measurement'><Caption>Item Unit of Measurement</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' CT='unit_price'><Caption>Item Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Discount' Combo='NUM' Width='140' IsOptional='1' CT='discount'><Caption>Total Item Discount Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='130' Agg='SUM' CT='taxable_val'><Caption>Item Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='CGSTRate' Combo='NUM' Width='110' CT='cgst_rate'><Caption>CGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='cgst_val'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTRate' Combo='NUM' Width='110' CT='sgst_rate'><Caption>SGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='sgst_val'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTRate' Combo='NUM' Width='110' CT='igst_rate'><Caption>IGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='igst_val'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessRate' Combo='NUM' Width='110' IsOptional='1' CT='cess_rate'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' CT='cess_val'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='ReverseCharge' Combo='TEXT' Width='130' IsOptional='1' CT='reverse_charge_applicable'><Caption>Is Reverse Charge Applicable?</Caption></Col>\n\n<Col ID='OrgDocDate' Width='120' IsOptional='1' Combo='DATE'><Caption>Original Advance Receipt Date (In case of amendment)</Caption><DType>DATE</DType></Col>\n<Col ID='OrgVoucherNo' Width='130' IsOptional='1' Combo='TEXT' CT='original_invoice_serial_num'><Caption>Original Advance Receipt Voucher Number (In case of amendment)</Caption></Col>\n<Col ID='OrgRecipientName' Width='180' Combo='TEXT' ComboDefValue='2' IsOptional='1'><Caption>Original Customer Billing GSTIN (In case of amendment)</Caption></Col>\n\n<Col ID='MyGSTIN' Combo='TEXT' Width='140' CT='seller.gstin'><Caption>My GSTIN</Caption></Col>\n<Col ID='MyState' Combo='TEXT' Width='140' IsOptional='1' CT='seller.state'><Caption>My State</Caption></Col>\n\n<Col ID='RecipientBillAddress' Combo='TEXT' Width='160' IsOptional='1' CT='receiver.address'><Caption>Customer Billing Address</Caption></Col>\n<Col ID='RecipientBillCity' Combo='TEXT' Width='140' IsOptional='1' CT='receiver.city'><Caption>Customer Billing City</Caption></Col>\n<Col ID='RecipientBillState' Combo='TEXT' Width='140' IsOptional='1' CT='receiver.state'><Caption>Customer Billing State</Caption></Col>\n\n<Col ID='IsDocCancelled' Combo='TEXT' Width='165' IsOptional='1' CT='is_canceled'><Caption>Is this document cancelled?</Caption></Col>\n</XML>":"CT04"==t?n+="<XML OrderBy='DocDate,VoucherNo'>\n<Col ID='DocDate' Width='100' IsReadOnly='1' CT='transaction_date'><Caption>Invoice Date</Caption><DType>DATE</DType></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1' CT='id'><Caption>Invoice Number</Caption></Col>\n<Col ID='SupplierName' Width='160' Combo='TEXT' ComboDefValue='2' IsOptional='1' CT='seller.name'><Caption>Supplier Name</Caption></Col>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' CT='seller.gstin'><Caption>Supplier GSTIN</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='130' CT='place_of_supply'><Caption>State Place of Supply</Caption></Col>\n\n<Col ID='ItemGorS' Width='185' Combo='TEXT' ComboDefValue='3' CT='gst_type'><Caption>Is the item a GOOD (G) or SERVICE (S)</Caption></Col>\n<Col ID='ItemDescription' Width='160' Combo='TEXT' ComboDefValue='3' CT='description'><Caption>Item Description</Caption></Col>\n<Col ID='HSN' Width='140' Combo='TEXT' ComboDefValue='3'><Caption>HSN or SAC code</Caption></Col>\n<Col ID='ItemQty' Combo='NUM' Width='110' Agg='SUM' CT='quantity'><Caption>Item Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='UQC' Width='160' Combo='TEXTUOM' CT='unit_of_measurement'><Caption>Item Unit of Measurement</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' CT='unit_price'><Caption>Item Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Discount' Combo='NUM' Width='135' IsOptional='1' CT='discount'><Caption>Total Item Discount Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='130' Agg='SUM' CT='taxable_val'><Caption>Item Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='CGSTRate' Combo='NUM' Width='110' CT='cgst_rate'><Caption>CGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='cgst_val'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTRate' Combo='NUM' Width='110' CT='sgst_rate'><Caption>SGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='sgst_val'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTRate' Combo='NUM' Width='110' CT='igst_rate'><Caption>IGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='igst_val'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessRate' Combo='NUM' Width='110' IsOptional='1' CT='cess_rate'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' CT='cess_val'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='ITCClaimType' Combo='TEXT' Width='110' IsOptional='1'><Caption>ITC Claim Type</Caption></Col>\n<Col ID='CGSTITCClaimAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CGST ITC Claim Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTITCClaimAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>SGST ITC Claim Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTITCClaimAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>IGST ITC Claim Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessITCClaimAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS ITC Claim Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IsBillOfSupply' Combo='TEXT' Width='130' IsOptional='1'><Caption>Is this a Bill of Supply?</Caption></Col>\n<Col ID='ReverseCharge' Combo='TEXT' Width='130' IsOptional='1' CT='reverse_charge_applicable'><Caption>Is Reverse Charge Applicable?</Caption></Col>\n<Col ID='IsNilRatedExmNonGST' Combo='TEXT' Width='140' IsOptional='1'><Caption>Is this a Nil Rated/Exempt/NonGST item?</Caption></Col>\n\n<Col ID='OrgDocDate' Width='120' IsOptional='1' Combo='DATE'><Caption>Original Invoice Date (In case of amendment)</Caption><DType>DATE</DType></Col>\n<Col ID='OrgVoucherNo' Width='130' IsOptional='1' Combo='TEXT'><Caption>Original Invoice Number (In case of amendment)</Caption></Col>\n<Col ID='OrgSupplierName' Width='180' Combo='TEXT' ComboDefValue='2' IsOptional='1'><Caption>Original Supplier GSTIN (In case of amendment)</Caption></Col>\n\n<Col ID='LinkAdvDocDate' Width='150' IsOptional='1' Combo='DATE'><Caption>Date of Linked Advance Payment</Caption><DType>DATE</DType></Col>\n<Col ID='LinkAdvVoucherNo' Width='160' IsOptional='1' Combo='TEXT'><Caption>Voucher Number of Linked Advance Payment</Caption></Col>\n<Col ID='LinkAdvAdjAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Adjustment Amount of Linked Advance Payment</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='TypeofImport' Combo='TEXT' Width='140' IsOptional='1'><Caption>Type of Import (Goods, Services, SEZ)</Caption></Col>\n<Col ID='PortCode' Combo='TEXT' Width='160' IsOptional='1'><Caption>Bill of Entry Port Code</Caption></Col>\n<Col ID='PivBillNo' Combo='TEXT' Width='150' IsOptional='1'><Caption>Bill of Entry Number</Caption></Col>\n<Col ID='PivBillDate' Combo='DATE' Width='150' IsOptional='1'><Caption>Bill of Entry Date</Caption><DType>DATE</DType></Col>\n\n<Col ID='MyGSTIN' Combo='TEXT' Width='140' CT='receiver.gstin'><Caption>My GSTIN</Caption></Col>\n<Col ID='MyStae' Combo='TEXT' Width='140' CT='receiver.state'><Caption>My State</Caption></Col>\n\n<Col ID='SupplierBillAddress' Combo='TEXT' Width='160' IsOptional='1' CT='seller.address'><Caption>Supplier Address</Caption></Col>\n<Col ID='SupplierBillCity' Combo='TEXT' Width='140' IsOptional='1' CT='seller.city'><Caption>Supplier City</Caption></Col>\n<Col ID='SupplierBillState' Combo='TEXT' Width='140' IsOptional='1' CT='seller.state'><Caption>Supplier State</Caption></Col>\n\n<Col ID='GRNNo' Combo='TEXT' Width='150' IsOptional='1'><Caption>Goods Receipt Note Number</Caption></Col>\n<Col ID='GRNDate' Combo='DATE' Width='150' IsOptional='1'><Caption>Goods Receipt Note Date</Caption><DType>DATE</DType></Col>\n<Col ID='GRNQty' Combo='NUM' Width='110' Agg='SUM'><Caption>Goods Receipt Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='GRNAmt' Combo='NUM' Width='110' Agg='SUM'><Caption>Goods Receipt Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IsDocCancelled' Combo='TEXT' Width='165' IsOptional='1' CT='is_canceled'><Caption>Is this document cancelled?</Caption></Col>\n</XML>":"CT05"==t?n+="<XML OrderBy='DocDate,VoucherNo'>\n<Col ID='DocDate' Width='100' IsReadOnly='1' CT='transaction_date'><Caption>Credit/Debit Note Date</Caption><DType>DATE</DType></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1' CT='id'><Caption>Credit/Debit Note Number</Caption></Col>\n<Col ID='CrDrNoteType' Width='170' Combo='TEXT'><Caption>Credit (C)/Debit (D) Note Type</Caption></Col>\n<Col ID='LinkDocDate' Width='100' IsReadOnly='1' CT='original_invoice_date'><Caption>Linked Invoice Date</Caption><DType>DATE</DType></Col>\n<Col ID='LinkVoucherNo' Width='110' IsReadOnly='1' CT='original_invoice_serial_num'><Caption>Linked Invoice Number</Caption></Col>\n\n<Col ID='SupplierName' Width='160' Combo='TEXT' ComboDefValue='2' IsOptional='1' CT='seller.name'><Caption>Supplier Name</Caption></Col>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' CT='seller.gstin'><Caption>Supplier GSTIN</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='130' CT='place_of_supply'><Caption>State Place of Supply</Caption></Col>\n\n<Col ID='ItemGorS' Width='185' Combo='TEXT' ComboDefValue='3' CT='gst_type'><Caption>Is the item a GOOD (G) or SERVICE (S)</Caption></Col>\n<Col ID='ItemDescription' Width='160' Combo='TEXT' ComboDefValue='3' CT='description'><Caption>Item Description</Caption></Col>\n<Col ID='HSN' Width='140' Combo='TEXT' ComboDefValue='3'><Caption>HSN or SAC code</Caption></Col>\n<Col ID='ItemQty' Combo='NUM' Width='110' Agg='SUM' CT='quantity'><Caption>Item Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='UQC' Width='160' Combo='TEXTUOM' CT='unit_of_measurement'><Caption>Item Unit of Measurement</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' CT='unit_price'><Caption>Item Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Discount' Combo='NUM' Width='135' IsOptional='1' CT='discount'><Caption>Total Item Discount Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='130' Agg='SUM' CT='taxable_val'><Caption>Item Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='CGSTRate' Combo='NUM' Width='110' CT='cgst_rate'><Caption>CGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='cgst_val'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTRate' Combo='NUM' Width='110' CT='sgst_rate'><Caption>SGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='sgst_val'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTRate' Combo='NUM' Width='110' CT='igst_rate'><Caption>IGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='igst_val'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessRate' Combo='NUM' Width='110' IsOptional='1' CT='cess_rate'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' CT='cess_val'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='ITCClaimType' Combo='TEXT' Width='110' IsOptional='1'><Caption>ITC Claim Type</Caption></Col>\n<Col ID='CGSTITCClaimAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CGST ITC Claim Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTITCClaimAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>SGST ITC Claim Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTITCClaimAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>IGST ITC Claim Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessITCClaimAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS ITC Claim Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='ReverseCharge' Combo='TEXT' Width='130' IsOptional='1' CT='reverse_charge_applicable'><Caption>Is Reverse Charge Applicable?</Caption></Col>\n<Col ID='IsNilRatedExmNonGST' Combo='TEXT' Width='140' IsOptional='1'><Caption>Is this a Nil Rated/Exempt/NonGST item?</Caption></Col>\n\n<Col ID='OrgDocDate' Width='120' IsOptional='1' Combo='DATE' CT='original_note_date'><Caption>Original Credit/Debit Note Date (In case of amendment)</Caption><DType>DATE</DType></Col>\n<Col ID='OrgVoucherNo' Width='130' IsOptional='1' Combo='TEXT'><Caption>Original Credit/Debit Note Number (In case of amendment)</Caption></Col>\n<Col ID='OrgSupplierName' Width='180' Combo='TEXT' ComboDefValue='2' IsOptional='1'><Caption>Original Supplier GSTIN (In case of amendment)</Caption></Col>\n\n<Col ID='LinkAdvDocDate' Width='150' IsOptional='1' Combo='DATE'><Caption>Date of Linked Advance Payment</Caption><DType>DATE</DType></Col>\n<Col ID='LinkAdvVoucherNo' Width='160' IsOptional='1' Combo='TEXT'><Caption>Voucher Number of Linked Advance Payment</Caption></Col>\n<Col ID='LinkAdvAdjAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Adjustment Amount of Linked Advance Payment</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='MyGSTIN' Combo='TEXT' Width='140' CT='receiver.gstin'><Caption>My GSTIN</Caption></Col>\n<Col ID='MyState' Combo='TEXT' Width='140' IsOptional='1' CT='receiver.state'><Caption>My State</Caption></Col>\n\n<Col ID='SupplierBillAddress' Combo='TEXT' Width='160' IsOptional='1' CT='seller.address'><Caption>Supplier Address</Caption></Col>\n<Col ID='SupplierBillCity' Combo='TEXT' Width='140' IsOptional='1' CT='seller.city'><Caption>Supplier City</Caption></Col>\n<Col ID='SupplierBillState' Combo='TEXT' Width='140' IsOptional='1' CT='seller.state'><Caption>Supplier State</Caption></Col>\n\n<Col ID='IsDocCancelled' Combo='TEXT' Width='165' IsOptional='1' CT='is_canceled'><Caption>Is this document cancelled?</Caption></Col>\n</XML>":"CT06"==t?n+="<XML OrderBy='DocDate,VoucherNo'>\n<Col ID='DocDate' Width='100' IsReadOnly='1' CT='transaction_date'><Caption>Advance Payment Date</Caption><DType>DATE</DType></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1' CT='id'><Caption>Advance Payment Voucher Number</Caption></Col>\n\n<Col ID='SupplierName' Width='160' Combo='TEXT' ComboDefValue='2' IsOptional='1' CT='seller.name'><Caption>Supplier Name</Caption></Col>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' CT='seller.gstin'><Caption>Supplier GSTIN</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='130' CT='place_of_supply'><Caption>State Place of Supply</Caption></Col>\n\n<Col ID='ItemGorS' Width='185' Combo='TEXT' ComboDefValue='3' CT='gst_type'><Caption>Is the item a GOOD (G) or SERVICE (S)</Caption></Col>\n<Col ID='ItemDescription' Width='160' Combo='TEXT' ComboDefValue='3' CT='description'><Caption>Item Description</Caption></Col>\n<Col ID='HSN' Width='140' Combo='TEXT' ComboDefValue='3'><Caption>HSN/SAC code</Caption></Col>\n<Col ID='ItemQty' Combo='NUM' Width='110' Agg='SUM' CT='quantity'><Caption>Item Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='UQC' Width='160' Combo='TEXTUOM' CT='unit_of_measurement'><Caption>Item Unit of Measurement</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' CT='unit_price'><Caption>Item Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Discount' Combo='NUM' Width='135' IsOptional='1' CT='discount'><Caption>Total Item Discount Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='130' Agg='SUM' CT='taxable_val'><Caption>Item Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='CGSTRate' Combo='NUM' Width='110' CT='cgst_rate'><Caption>CGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='cgst_val'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTRate' Combo='NUM' Width='110' CT='sgst_rate'><Caption>SGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='sgst_val'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTRate' Combo='NUM' Width='110' CT='igst_rate'><Caption>IGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='igst_val'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessRate' Combo='NUM' Width='110' IsOptional='1' CT='cess_rate'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' CT='cess_val'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IsAdvForSupply' Combo='TEXT' Width='130' IsOptional='1'><Caption>Is this Advance for a Bill of Supply?</Caption></Col>\n<Col ID='ReverseCharge' Combo='TEXT' Width='130' IsOptional='1' CT='reverse_charge_applicable'><Caption>Is Reverse Charge Applicable?</Caption></Col>\n\n<Col ID='OrgDocDate' Width='120' IsOptional='1' Combo='DATE'><Caption>Original Advance Payment Date (In case of amendment)</Caption><DType>DATE</DType></Col>\n<Col ID='OrgVoucherNo' Width='130' IsOptional='1' Combo='TEXT'><Caption>Original Advance Payment Voucher Number (In case of amendment)</Caption></Col>\n<Col ID='OrgSupplierName' Width='180' Combo='TEXT' ComboDefValue='2' IsOptional='1'><Caption>Original Supplier GSTIN (In case of amendment)</Caption></Col>\n\n<Col ID='MyGSTIN' Combo='TEXT' Width='140' CT='receiver.gstin'><Caption>MY GSTIN</Caption></Col>\n<Col ID='MyState' Combo='TEXT' Width='140' IsOptional='1' CT='receiver.state'><Caption>My State</Caption></Col>\n\n<Col ID='SupplierBillAddress' Combo='TEXT' Width='160' IsOptional='1' CT='seller.address'><Caption>Supplier Address</Caption></Col>\n<Col ID='SupplierBillCity' Combo='TEXT' Width='140' IsOptional='1' CT='seller.city'><Caption>Supplier City</Caption></Col>\n<Col ID='SupplierBillState' Combo='TEXT' Width='140' IsOptional='1' CT='seller.state'><Caption>Supplier State</Caption></Col>\n\n<Col ID='IsDocCancelled' Combo='TEXT' Width='165' IsOptional='1' CT='is_canceled'><Caption>Is this document cancelled?</Caption></Col>\n</XML>":"GSTR2_b2b"==t?n+="<XML GroupBy='BillDate,BillNo,Rate,ITCEligible,GSTTaxType'>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN of Supplier</Caption></Col>\n<Col ID='GSTTaxType' ComboDefValue='3' Combo='TEXT' Width='130' InUse='0'><Caption>GST Tax Type</Caption></Col>\n<Col ID='GSTRegistrationType' ComboDefValue='2' Combo='TEXT' Width='130' InUse='0'><Caption>Registration Type</Caption></Col>\n<Col ID='BillNo' Combo='TEXTALL' Width='110' IsOptional='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='BillDate' Combo='DATE' Width='100' IsOptional='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120'><Caption>Reverse Charge</Caption></Col>\n<Col ID='InvType' Combo='TEXT' Width='110'><Caption>Invoice Type</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Integrated Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Central Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>State/UT Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCEligible' Combo='TEXT' Width='110' ComboDefValue='3'><Caption>Eligibility For ITC</Caption></Col>\n<Col ID='ITCIntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCTaxAmt' Combo='NUM' Width='140' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCSTaxAmt' Combo='NUM' Width='140' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCessAmt' Combo='NUM' Width='110' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_b2bur"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate,ITCEligible,GSTTaxType'>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN of Supplier</Caption></Col>\n<Col ID='GSTTaxType' ComboDefValue='3' Combo='TEXT' Width='130' InUse='0'><Caption>GST Tax Type</Caption></Col>\n<Col ID='GSTRegistrationType' ComboDefValue='2' Combo='TEXT' Width='130' InUse='0'><Caption>Registration Type</Caption></Col>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120' InUse='0'><Caption>Reverse Charge</Caption></Col>\n<Col ID='SupplierName' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>Supplier Name</Caption></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='SupplyType' Combo='TEXT' Width='110' IgnoreInQuery='1'><Caption>Supply Type</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Integrated Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Central Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>State/UT Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCEligible' Combo='TEXT' Width='110' ComboDefValue='3'><Caption>Eligibility For ITC</Caption></Col>\n<Col ID='ITCIntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCTaxAmt' Combo='NUM' Width='140' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCSTaxAmt' Combo='NUM' Width='140' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCessAmt' Combo='NUM' Width='110' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_imps"==t?n+="<XML GroupBy='BillDate,BillNo,Rate,ITCEligible'>\n<Col ID='BillNo' Combo='TEXTALL' Width='110' IsOptional='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='BillDate' Combo='DATE' Width='100' IsOptional='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM'><Caption>Integrated Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCEligible' Combo='TEXT' Width='110' ComboDefValue='3'><Caption>Eligibility For ITC</Caption></Col>\n<Col ID='ITCIntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCessAmt' Combo='NUM' Width='110' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_impg"==t?n+="<XML GroupBy='BillDate,BillNo,Rate,Documenttype,ITCEligible'>\n<Col ID='PortCode' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>Port Code</Caption></Col>\n<Col ID='BillNo' Combo='TEXTALL' Width='110' IsOptional='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='BillDate' Combo='DATE' Width='100' IsOptional='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Bill Of Entry Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='Documenttype' Combo='TEXT' Width='110' ComboDefValue='2'><Caption>Document type</Caption></Col>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN Of SEZ Supplier</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM'><Caption>Integrated Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCEligible' Combo='TEXT' Width='110' ComboDefValue='3'><Caption>Eligibility For ITC</Caption></Col>\n<Col ID='ITCIntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCessAmt' Combo='NUM' Width='110' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_cdnr"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN of Supplier</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Note/Refund Voucher Number</Caption></Col>\n<Col ID='DocDate' Width='110' IsReadOnly='1'><Caption>Note/Refund Voucher date</Caption><DType>DATE</DType></Col>\n<Col ID='LinkVoucherNo' Combo='TEXTALL' Width='160' IsOptional='1'><Caption>Invoice/Advance Payment Voucher Number</Caption></Col>\n<Col ID='LinkDocDate' Combo='DATE' Width='120' IsOptional='1'><Caption>Invoice/Advance Payment Voucher date</Caption><DType>DATE</DType></Col>\n\n<Col ID='PreGST' Width='80' IsReadOnly='1'><Caption>Pre GST</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='cdnrDocumentType'><Caption>Document Type</Caption></Col>\n<Col ID='ReasonForIssDoc' Width='180' Combo='TEXT'><Caption>Reason For Issuing document</Caption></Col>\n<Col ID='SupplyType' Combo='TEXT' Width='110' IsOptional='1'><Caption>Supply Type</Caption></Col>\n\n<Col ID='InvValue' Combo='NUM' Width='140' IsOptional='1'><Caption>Note/Refund Voucher Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Integrated Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Central Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>State/UT Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCEligible' Combo='TEXT' Width='110' ComboDefValue='3'><Caption>Eligibility For ITC</Caption></Col>\n<Col ID='ITCIntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCTaxAmt' Combo='NUM' Width='140' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCSTaxAmt' Combo='NUM' Width='140' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCessAmt' Combo='NUM' Width='110' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_cdnur"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN of Supplier</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Note/Refund Voucher Number</Caption></Col>\n<Col ID='DocDate' Width='110' IsReadOnly='1'><Caption>Note/Refund Voucher date</Caption><DType>DATE</DType></Col>\n<Col ID='LinkVoucherNo' Combo='TEXTALL' Width='160' IsOptional='1'><Caption>Invoice/Advance Payment Voucher Number</Caption></Col>\n<Col ID='LinkDocDate' Combo='DATE' Width='120' IsOptional='1'><Caption>Invoice/Advance Payment Voucher date</Caption><DType>DATE</DType></Col>\n\n<Col ID='PreGST' Width='80' IsReadOnly='1'><Caption>Pre GST</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='cdnrDocumentType'><Caption>Document Type</Caption></Col>\n<Col ID='ReasonForIssDoc' Width='180' Combo='TEXT'><Caption>Reason For Issuing document</Caption></Col>\n<Col ID='SupplyType' Combo='TEXT' Width='110' IsOptional='1'><Caption>Supply Type</Caption></Col>\n\n<Col ID='InvValue' Combo='NUM' Width='140' IsOptional='1'><Caption>Note/Refund Voucher Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Integrated Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Central Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>State/UT Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCEligible' Combo='TEXT' Width='110' ComboDefValue='3'><Caption>Eligibility For ITC</Caption></Col>\n<Col ID='ITCIntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCTaxAmt' Combo='NUM' Width='140' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCSTaxAmt' Combo='NUM' Width='140' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCessAmt' Combo='NUM' Width='110' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_at"==t?n+="<XML GroupBy='PoS,Rate'>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120' InUse='0'><Caption>Reverse Charge</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvReceived' Combo='NUM' Width='150' Agg='SUM'><Caption>Gross Advance Received</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_atadj"==t?n+="<XML GroupBy='PoS,Rate'>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120' InUse='0'><Caption>Reverse Charge</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvReceived' Combo='NUM' Width='150' Agg='SUM' InUse='0'><Caption>Gross Advance Received</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvAdjusted' Combo='NUM' Width='150' Agg='SUM' IsReadOnly='1'><Caption>Gross Advance Adjusted</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_exemp"==t?n+="<XML>\n<Col ID='PoS' Combo='DIM' Width='120' InUse='0'><Caption>Place Of Supply</Caption></Col>\n<Col ID='Description' Width='240' IsReadOnly='1'><Caption>Description</Caption></Col>\n<Col ID='Value' Combo='NUM' Width='120' Agg='SUM' InUse='0'><Caption>Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='CompositTaxPer' ComboDefValue='2' Combo='TEXT' Width='180' Agg='SUM'><Caption>Composition taxable person</Caption><DType>FLOAT</DType></Col>\n<Col ID='NilRated' ComboDefValue='3' Combo='TEXT' Width='140' Agg='SUM'><Caption>Nil Rated Supplies</Caption><DType>FLOAT</DType></Col>\n<Col ID='Exempted' ComboDefValue='3' Combo='TEXT' Width='180' Agg='SUM'><Caption>Exempted (other than nil rated/non GST supply )</Caption><DType>FLOAT</DType></Col>\n<Col ID='NonGST' ComboDefValue='3' Combo='TEXT' Width='140' Agg='SUM'><Caption>Non-GST supplies</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_itcr"==t?n+="<XML>\n<Col ID='Value' Combo='NUM' Width='120' Agg='SUM' InUse='0'><Caption>Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Integrated Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Central Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>State/UT Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Paid</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_hsnsum"==t?n+="<XML GroupBy='HSN,UQC'>\n<Col ID='HSN' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>HSN</Caption></Col>\n<Col ID='Description' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Description</Caption></Col>\n<Col ID='UQC' Width='160' Combo='TEXTUOM' IsOptional='1'><Caption>UQC</Caption></Col>\n<Col ID='TotalQty' Combo='NUM' Width='120' Agg='SUM'><Caption>Total Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='TotalValue' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Total Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"VATAED1"==t?n+="<XML>\n<Col ID='Section' Width='30' IsOptional='1' IsReadOnly='1'><Caption></Caption></Col>\n<Col ID='Description' Width='280' IsOptional='1' IsReadOnly='1'><Caption></Caption></Col>\n<Col ID='TaxableValue' Combo='NUMFC' Width='160' IsOptional='1' IsReadOnly='1' Decimals='"+l.a.SessionManager.Preferences.DecimalsinAmount+"'><Caption></Caption><DType>FLOAT</DType></Col>\n<Col ID='VATAmount' Combo='NUMFC' Width='130' IsOptional='1' IsReadOnly='1' Decimals='"+l.a.SessionManager.Preferences.DecimalsinAmount+"'><Caption></Caption><DType>FLOAT</DType></Col>\n<Col ID='Adjustment' Combo='NUMFC' Width='130' IsOptional='1' IsReadOnly='1' Decimals='"+l.a.SessionManager.Preferences.DecimalsinAmount+"'><Caption></Caption><DType>FLOAT</DType></Col>\n</XML>":"VATFATPurchaseList"==t?n+="<XML OrderBy='DocDate,VoucherNo,DocSeqNo'>\n<Col ID='SupplierName' Width='180' Combo='TEXT' ComboDefValue='2'><Caption>SupplierName</Caption></Col>\n<Col ID='SupplierTIN' Width='160' Combo='TEXT' ComboDefValue='2' CT='SupplierTINTRN'><Caption>SupplierTIN/TRN</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1' CT='InvoiceDate'><Caption>InvoiceDate</Caption><DType>DATE</DType></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1' CT='InvoiceNo'><Caption>InvoiceNo</Caption></Col>\n<Col ID='PermitNo' Combo='TEXT' Width='120' IsOptional='1'><Caption>PermitNo</Caption></Col>\n<Col ID='DocSeqNo' Width='70' IsReadOnly='1' CT='LineNo'><Caption>LineNo</Caption></Col>\n<Col ID='ProductDescription' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>ProductDescription</Caption></Col>\n<Col ID='PurchaseValueAED' Combo='NUMFC' Width='110' Agg='SUM'><Caption>PurchaseValueAED</Caption><DType>FLOAT</DType></Col>\n<Col ID='VATValueAED' Combo='NUMFC' Width='110' Agg='SUM'><Caption>VATValueAED</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxCode' Combo='TEXT' Width='120'><Caption>TaxCode</Caption></Col>\n<Col ID='FCYCode' Combo='TEXT' Width='120' IsOptional='1' ComboDefValue='12'><Caption>FCY Code</Caption></Col>\n<Col ID='PurchaseFCY' Combo='NUMFC' Width='110' Agg='SUM' IsOptional='1'><Caption>PurchaseFCY</Caption><DType>FLOAT</DType></Col>\n<Col ID='AEDFCY' Combo='NUMFC' Width='110' Agg='SUM' IsOptional='1'><Caption>AEDFCY</Caption><DType>FLOAT</DType></Col>\n</XML>":"VATFATSupplyList"==t?n+="<XML OrderBy='DocDate,VoucherNo,DocSeqNo'>\n<Col ID='CustomerName' Width='180' Combo='TEXT' ComboDefValue='2'><Caption>Customer Name</Caption></Col>\n<Col ID='CustomerTIN' Width='160' Combo='TEXT' ComboDefValue='2' CT='CustomerTINTRN'><Caption>CustomerTIN/TRN</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1' CT='InvoiceDate'><Caption>InvoiceDate</Caption><DType>DATE</DType></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1' CT='InvoiceNo'><Caption>InvoiceNo</Caption></Col>\n<Col ID='DocSeqNo' Width='70' IsReadOnly='1' CT='LineNo'><Caption>LineNo</Caption></Col>\n<Col ID='ProductDescription' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>ProductDescription</Caption></Col>\n<Col ID='SupplyValueAED' Combo='NUMFC' Width='110' Agg='SUM'><Caption>SupplyValueAED</Caption><DType>FLOAT</DType></Col>\n<Col ID='VATValueAED' Combo='NUMFC' Width='110' Agg='SUM'><Caption>VATValueAED</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxCode' Combo='TEXT' Width='120'><Caption>TaxCode</Caption></Col>\n<Col ID='Country' Combo='DIM' Width='120' ComboDefValue='50058'><Caption>Country</Caption></Col>\n<Col ID='FCYCode' Combo='TEXT' Width='120' IsOptional='1' ComboDefValue='12'><Caption>FCYCode</Caption></Col>\n<Col ID='SupplyFCY' Combo='NUMFC' Width='110' Agg='SUM' IsOptional='1'><Caption>SupplyFCY</Caption><DType>FLOAT</DType></Col>\n<Col ID='VATFCY' Combo='NUMFC' Width='110' Agg='SUM' IsOptional='1'><Caption>VATFCY</Caption><DType>FLOAT</DType></Col>\n</XML>":"VATSAS1"==t?n+="<XML>\n<Col ID='Section' Width='30' IsOptional='1' IsReadOnly='1'><Caption></Caption></Col>\n<Col ID='Description' Width='280' IsOptional='1' IsReadOnly='1'><Caption></Caption></Col>\n<Col ID='TaxableValue' Combo='NUMFC' Width='130' IsOptional='1' IsReadOnly='1' Decimals='"+l.a.SessionManager.Preferences.DecimalsinAmount+"'><Caption>Amount (SAR)</Caption><DType>FLOAT</DType></Col>\n<Col ID='Adjustment' Combo='NUMFC' Width='130' IsOptional='1' IsReadOnly='1' Decimals='"+l.a.SessionManager.Preferences.DecimalsinAmount+"'><Caption>Adjustment (SAR)</Caption><DType>FLOAT</DType></Col>\n<Col ID='VATAmount' Combo='NUMFC' Width='130' IsOptional='1' IsReadOnly='1' Decimals='"+l.a.SessionManager.Preferences.DecimalsinAmount+"'><Caption>VAT Amount (SAR)</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR3_GSTR3B_Outward"==t?n+="<XML GroupBy='PoS,GSTTaxType,GSTRegistrationType,GSTPartyType'>\n<Col ID='DocumentType' Width='115' Combo='GSTR3IsReturn' InUse='0'><Caption>Is Return Document</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='110' InUse='0'><Caption>Place Of Supply</Caption></Col>\n<Col ID='GSTTaxType' ComboDefValue='3' Combo='TEXT' Width='130' InUse='0'><Caption>GST Tax Type</Caption></Col>\n<Col ID='GSTRegistrationType' ComboDefValue='2' Combo='TEXT' Width='130' InUse='0'><Caption>Registration Type</Caption></Col>\n<Col ID='GSTPartyType' ComboDefValue='2' Combo='TEXT' Width='130' InUse='0'><Caption>Party Type</Caption></Col>\n\n<Col ID='Description' Width='260' IsReadOnly='1' IgnoreInQuery='1'><Caption>Description</Caption></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='125' Agg='SUM'><Caption>Total Taxable value</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR3_GSTR3B_OutwardDetail"==t?n+="<XML GroupBy=''>\n<Col ID='PoS' Width='320' IsReadOnly='1'><Caption>Place of Supply(State/UT)</Caption></Col>\n<Col ID='TaxableValueUnregistered' Combo='NUM' Width='180' Agg='SUM'><Caption>Taxable value(Unregistered)</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmtUnregistered' Combo='NUM' Width='180' Agg='SUM' IsOptional='1'><Caption>Integrated Tax(Unregistered)</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValueComposition' Combo='NUM' Width='180' Agg='SUM'><Caption>Taxable value(Composition)</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmtComposition' Combo='NUM' Width='175' Agg='SUM' IsOptional='1'><Caption>Integrated Tax(Composition)</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValueUINholders' Combo='NUM' Width='180' Agg='SUM'><Caption>Taxable value(UIN holders)</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmtUINholders' Combo='NUM' Width='170' Agg='SUM' IsOptional='1'><Caption>Integrated Tax(UIN holders)</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR3_GSTR3B_EligibleITC"==t?n+="<XML GroupBy=''>\n<Col ID='Details' Width='270' IsReadOnly='1'><Caption>Details</Caption></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR3_GSTR3B_5"==t?n+="<XML GroupBy=''>\n<Col ID='Natureofsupplies' Width='260' IsReadOnly='1'><Caption>Nature of supplies</Caption></Col>\n<Col ID='InterState' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Inter-state supplies</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntraState' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Intra-state supplies</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR3_GSTR3B_5_1"==t?n+="<XML GroupBy=''>\n<Col ID='Description' Width='230' IsReadOnly='1'><Caption>Description</Caption></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GENEWAYBILL"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='supplyType' Width='160' Combo='TEXT' ComboDefValue='2' IsReadOnly='1'><Caption>Supply Type</Caption></Col>\n<Col ID='subSupplyType' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Sub Supply Type</Caption></Col>\n\n<Col ID='docType' Combo='TEXT' Width='110'><Caption>Doc Type</Caption></Col>\n<Col ID='docNo' Width='110' IsReadOnly='1'><Caption>Doc No</Caption></Col>\n<Col ID='docDate' Width='100' IsReadOnly='1'><Caption>Doc Date</Caption><DType>DATE</DType></Col>\n\n<Col ID='fromGstin' Combo='TEXT' Width='140'><Caption>From GSTIN</Caption></Col>\n<Col ID='fromTrdName' Combo='TEXT' Width='140'><Caption>From TradeName</Caption></Col>\n<Col ID='fromAddr1' Combo='TEXT' Width='140'><Caption>From Address1</Caption></Col>\n<Col ID='fromAddr2' Combo='TEXT' Width='140'><Caption>From Address2</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromPincode' Combo='TEXT' Width='140'><Caption>From Pincode</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='dispAddr1' Combo='TEXT' Width='140'><Caption>Dispatch Address1</Caption></Col>\n<Col ID='dispAddr2' Combo='TEXT' Width='140'><Caption>Dispatch Address2</Caption></Col>\n<Col ID='dispPlace' Combo='TEXT' Width='140'><Caption>Dispatch Place</Caption></Col>\n<Col ID='dispPincode' Combo='TEXT' Width='140'><Caption>Dispatch Pincode</Caption></Col>\n<Col ID='dispStateCode' Combo='TEXT' Width='140'><Caption>Dispatch State</Caption></Col>\n\n<Col ID='gstReg' Combo='TEXT' Width='140'><Caption>GST Registration</Caption></Col>\n<Col ID='toGstin' Combo='TEXT' Width='140'><Caption>To GSTIN</Caption></Col>\n<Col ID='toTrdName' Combo='TEXT' Width='140'><Caption>To TradeName</Caption></Col>\n<Col ID='toAddr1' Combo='TEXT' Width='140'><Caption>To Address1</Caption></Col>\n<Col ID='toAddr2' Combo='TEXT' Width='140'><Caption>To Address2</Caption></Col>\n<Col ID='toPlace' Combo='TEXT' Width='140'><Caption>To Place</Caption></Col>\n<Col ID='toPincode' Combo='TEXT' Width='140'><Caption>To Pincode</Caption></Col>\n<Col ID='toStateCode' Combo='TEXT' Width='140'><Caption>To State</Caption></Col>\n<Col ID='shipAddr1' Combo='TEXT' Width='140'><Caption>Ship To Address1</Caption></Col>\n<Col ID='shipAddr2' Combo='TEXT' Width='140'><Caption>Ship To Address2</Caption></Col>\n<Col ID='shipPlace' Combo='TEXT' Width='140'><Caption>Ship To Place</Caption></Col>\n<Col ID='shipPincode' Combo='TEXT' Width='140'><Caption>Ship To Pincode</Caption></Col>\n<Col ID='shipStateCode' Combo='TEXT' Width='140'><Caption>Ship To State</Caption></Col>\n\n<Col ID='transactionType' Combo='TEXT' Width='140'><Caption>Transaction Type</Caption></Col>\n\n<Col ID='productName' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Product</Caption></Col>\n<Col ID='productDesc' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Description</Caption></Col>\n<Col ID='hsnCode' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>HSN Code</Caption></Col>\n<Col ID='qtyUnit' Width='160' Combo='TEXTUOM' IsOptional='1'><Caption>Unit</Caption></Col>\n<Col ID='quantity' Combo='NUM' Width='120' Agg='SUM'><Caption>Qty</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='cgstRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgstRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>SGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='igstRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>IGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessAdvol' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS Advol</Caption></Col>\n<Col ID='taxableAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='totValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Total Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='cgstValue' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgstValue' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='igstValue' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessValue' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='totInvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Total Invoice Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Transport Mode</Caption></Col>\n<Col ID='transDistance' Combo='TEXT' Width='110'><Caption>Distance (Km)</Caption><DType>FLOAT</DType></Col>\n<Col ID='transporterId' Combo='TEXT' Width='110'><Caption>Transporter ID</Caption></Col>\n<Col ID='transporterName' Combo='TEXT' Width='110'><Caption>Transporter Name</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Transport DocNo</Caption></Col>\n<Col ID='transDocDate' Combo='TEXT' Width='100' IsReadOnly='1'><Caption>Transport Date</Caption><DType>DATE</DType></Col>\n<Col ID='vehicleNo' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='vehicleType' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Vehicle Type</Caption></Col>\n\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Eway Bill No</Caption></Col>\n<Col ID='ewayBillDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Eway Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='alert' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Alert</Caption></Col>\n</XML>":"VEHEWB"==t?n+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='vehicleNo' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='vehicleType' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Vehicle Type</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='reasonRem' Combo='TEXT' Width='140'><Caption>Reason Remarks</Caption></Col>\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Transport Mode</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Transport DocNo</Caption></Col>\n<Col ID='transDocDate' Width='100' IsReadOnly='1'><Caption>Transport Date</Caption><DType>DATE</DType></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='vehUpdDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Updated Date</Caption><DType>DATE</DType></Col>\n</XML>":"GENCEWB"==t?n+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='vehicleNo' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Transport Mode</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Transport DocNo</Caption></Col>\n<Col ID='transDocDate' Width='100' IsReadOnly='1'><Caption>Transport Date</Caption><DType>DATE</DType></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='cEwbNo' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Consolidate EWB No</Caption></Col>\n<Col ID='cEWBDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Consolidate Date</Caption><DType>DATE</DType></Col>\n</XML>":"REGENTRIPSHEET"==t?n+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='tripSheetNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='vehicleNo' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='reasonRem' Combo='TEXT' Width='140'><Caption>Reason Remarks</Caption></Col>\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Transport Mode</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Transport DocNo</Caption></Col>\n<Col ID='transDocDate' Width='100' IsReadOnly='1'><Caption>Transport Date</Caption><DType>DATE</DType></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='newtripSheetNo' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>New Con EWB No</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Eway Bill Nos</Caption></Col>\n</XML>":"EXTENDVALIDITY"==t?n+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='vehicleNo' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='remainingDistance' Combo='NUM' Width='110'><Caption>Distance (Km)</Caption><DType>FLOAT</DType></Col>\n<Col ID='extnRemarks' Combo='TEXT' Width='140'><Caption>Extended Remarks</Caption></Col>\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Transport Mode</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Transport DocNo</Caption></Col>\n<Col ID='transDocDate' Width='100' IsReadOnly='1'><Caption>Transport Date</Caption><DType>DATE</DType></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='updatedDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Updated Date</Caption><DType>DATE</DType></Col>\n</XML>":"MULTIVEHMOVINT"==t?n+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>To State</Caption></Col>\n<Col ID='toPlace' Combo='TEXT' Width='140'><Caption>To Place</Caption></Col>\n<Col ID='toState' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Transport Mode</Caption></Col>\n<Col ID='totalQuantity' Combo='NUM' Width='110'><Caption>Total Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='unitCode' Combo='TEXT' Width='110'><Caption>Unit Code</Caption></Col>\n<Col ID='reasonRem' Combo='TEXT' Width='140'><Caption>Reason Remarks</Caption></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='createdDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Created Date</Caption><DType>DATE</DType></Col>\n</XML>":"MULTIVEHADD"==t?n+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='vehicleNo' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Transport DocNo</Caption></Col>\n<Col ID='transDocDate' Width='100' IsReadOnly='1'><Caption>Transport Date</Caption><DType>DATE</DType></Col>\n<Col ID='quantity' Combo='NUM' Width='110'><Caption>Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='vehAddedDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Vehicle Added Date</Caption><DType>DATE</DType></Col>\n</XML>":"MULTIVEHUPD"==t?n+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='oldvehicleNo' Width='110' IsReadOnly='1'><Caption>Old Vehicle No</Caption></Col>\n<Col ID='newVehicleNo' Width='110' ><Caption>New Vehicle No</Caption></Col>\n<Col ID='oldTranNo' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Old Transport DocNo</Caption></Col>\n<Col ID='newTranNo' Combo='TEXT' Width='110'><Caption>New Transport DocNo</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>From Place</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>From State</Caption></Col>\n<Col ID='reasonRem' Combo='TEXT' Width='140'><Caption>Reason Remarks</Caption></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='vehUpdDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Vehicle Updated Date</Caption><DType>DATE</DType></Col>\n</XML>":"UPDATETRANSPORTER"==t?n+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='transporterId' Combo='TEXT' Width='110'><Caption>Transporter ID</Caption></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='transUpdateDate' Width='140' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Transporter Update Date</Caption><DType>DATE</DType></Col>\n</XML>":"CANEWB"==t?n+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='cancelRmrk' Combo='TEXT' Width='140'><Caption>Cancel Remarks</Caption></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='cancelDate' Width='140' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Cancel Date</Caption><DType>DATE</DType></Col>\n</XML>":"REJEWB"==t?n+="<XML>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='ewbRejectedDate' Width='140' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Rejected Date</Caption><DType>DATE</DType></Col>\n</XML>":"GetEwayBill"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='supplyType' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>Supply Type</Caption></Col>\n<Col ID='subSupplyType' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Sub Type</Caption></Col>\n<Col ID='docType' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Doc Type</Caption></Col>\n<Col ID='docNo' Width='110' IsReadOnly='1'><Caption>Doc No</Caption></Col>\n<Col ID='docDate' Width='100' IsReadOnly='1'><Caption>Doc Date</Caption><DType>DATE</DType></Col>\n\n<Col ID='fromTrdName' Combo='TEXT' Width='140'><Caption>From_OtherPartyName</Caption></Col>\n<Col ID='fromGstin' Combo='TEXT' Width='140'><Caption>From_GSTIN</Caption></Col>\n<Col ID='fromAddr1' Combo='TEXT' Width='140'><Caption>From_Address1</Caption></Col>\n<Col ID='fromAddr2' Combo='TEXT' Width='140'><Caption>From_Address2</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From_Place</Caption></Col>\n<Col ID='fromPincode' Combo='TEXT' Width='140'><Caption>From_Pin Code</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>From_State</Caption></Col>\n<Col ID='dispStateCode' Combo='TEXT' Width='140'><Caption>Dispatch State</Caption></Col>\n\n<Col ID='toTrdName' Combo='TEXT' Width='140'><Caption>To_OtherPartyName</Caption></Col>\n<Col ID='toGstin' Combo='TEXT' Width='140'><Caption>To_GSTIN</Caption></Col>\n<Col ID='toAddr1' Combo='TEXT' Width='140'><Caption>To_Address1</Caption></Col>\n<Col ID='toAddr2' Combo='TEXT' Width='140'><Caption>To_Address2</Caption></Col>\n<Col ID='toPlace' Combo='TEXT' Width='140'><Caption>To_Place</Caption></Col>\n<Col ID='toPincode' Combo='TEXT' Width='140'><Caption>To_Pin Code</Caption></Col>\n<Col ID='toStateCode' Combo='TEXT' Width='140'><Caption>To_State</Caption></Col>\n<Col ID='shipStateCode' Combo='TEXT' Width='140'><Caption>Ship To State</Caption></Col>\n\n<Col ID='totValue' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Total Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='cgstValue' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgstValue' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='igstValue' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessValue' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessNonAdvolValue' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Non Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='otherValue' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Other Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='totInvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Total Invoice Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='transactionType' Width='110' IsReadOnly='1'><Caption>Trans Type</Caption></Col>\n<Col ID='transporterName' Combo='TEXT' Width='110'><Caption>Trans Name</Caption></Col>\n<Col ID='transporterId' Combo='TEXT' Width='110'><Caption>Trans ID</Caption></Col>\n<Col ID='vehicleType' Width='110' IsReadOnly='1'><Caption>Vehicle Type</Caption></Col>\n\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='ewayBillDate' Width='100' IsReadOnly='1'><Caption>Eway Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='noValidDays' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>Valid Days</Caption></Col>\n<Col ID='rejectStatus' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>Reject Status</Caption></Col>\n<Col ID='actualDist' Combo='NUM' Width='110'><Caption>Distance (Km)</Caption><DType>FLOAT</DType></Col>\n<Col ID='extendedTimes' Combo='TEXT' Width='160'><Caption>extended Times</Caption></Col>\n<Col ID='genMode' Combo='TEXT' Width='140'><Caption>Mode</Caption></Col>\n<Col ID='status' Combo='TEXT' Width='140'  ><Caption>Status</Caption></Col>\n\n<Col ID='itemNo' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Item No</Caption></Col>\n<Col ID='productId' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Product Id</Caption></Col>\n<Col ID='productName' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Product</Caption></Col>\n<Col ID='productDesc' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Description</Caption></Col>\n<Col ID='hsnCode' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>HSN</Caption></Col>\n<Col ID='qtyUnit' Width='160' Combo='TEXTUOM' IsOptional='1'><Caption>Unit</Caption></Col>\n<Col ID='quantity' Combo='NUM' Width='120' Agg='SUM'><Caption>Qty</Caption><DType>FLOAT</DType></Col>\n<Col ID='taxableAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='cgstRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgstRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>SGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='igstRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>IGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessNonAdvol' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Non</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='updMode' Combo='TEXT' Width='110'><Caption>Upd Mode</Caption></Col>\n<Col ID='vehicleNo' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='vfromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromState' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='tripshtNo' Combo='TEXT' Width='140'><Caption>Tripsht No</Caption></Col>\n<Col ID='userGSTINTransin' Combo='TEXT' Width='140'><Caption>User GSTIN</Caption></Col>\n<Col ID='enteredDate' Width='100' IsReadOnly='1'><Caption>Entered Date</Caption><DType>DATE</DType></Col>\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Trans Mode</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Trans DocNo</Caption></Col>\n<Col ID='transDocDate' Width='100' IsReadOnly='1'><Caption>Trans Date</Caption><DType>DATE</DType></Col>\n<Col ID='groupNo' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Group No</Caption></Col>\n\n</XML>":"GetEwayBillGeneratedByConsigner"==t?n+="<XML>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='ewayBillDate' Width='100' IsReadOnly='1'><Caption>Eway Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='alert' Combo='TEXT' Width='140'  ><Caption>Alert</Caption></Col>\n</XML>":"GetEwayBillsByDate"==t||"GetEwayBillsForTransporter"==t||"GetEwayBillsForTransporterByGstin"==t||"GetEwayBillsForTransporterByState"==t||"GetEwayBillsRejectedByOthers"==t?(n+="<XML>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='ewayBillDate' Width='100' IsReadOnly='1'><Caption>Eway Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='genGstin' Combo='TEXT' Width='140'><Caption>GSTIN</Caption></Col>\n<Col ID='docNo' Width='110' IsReadOnly='1'><Caption>Doc No</Caption></Col>\n<Col ID='docDate' Width='100' IsReadOnly='1'><Caption>Doc Date</Caption><DType>DATE</DType></Col>",n+="GetEwayBillsRejectedByOthers"==t?"\n<Col ID='validUpto' Width='100' IsReadOnly='1'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='status' Combo='TEXT' Width='140'  ><Caption>Status</Caption></Col>\n<Col ID='rejectStatus' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>Reject Status</Caption></Col>\n<Col ID='rejectedDate' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>Reject Date</Caption><DType>DATE</DType></Col>\n</XML>":"<Col ID='delPinCode' Combo='TEXT' Width='140'><Caption>Pin Code</Caption></Col>\n<Col ID='delStateCode' Combo='TEXT' Width='140'><Caption>State Code</Caption></Col>\n<Col ID='delPlace' Combo='TEXT' Width='140'><Caption>Place</Caption></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='extendedTimes' Combo='TEXT' Width='160'><Caption>extended Times</Caption></Col>\n<Col ID='status' Combo='TEXT' Width='140'  ><Caption>Status</Caption></Col>\n<Col ID='rejectStatus' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>Reject Status</Caption></Col>\n</XML>"):"GetEwayBillsofOtherParty"==t?n+="<XML>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='ewayBillDate' Width='100' IsReadOnly='1'><Caption>Eway Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='genMode' Combo='TEXT' Width='140'><Caption>Mode</Caption></Col>\n<Col ID='genGstin' Combo='TEXT' Width='140'><Caption>GSTIN</Caption></Col>\n<Col ID='docNo' Width='110' IsReadOnly='1'><Caption>Doc No</Caption></Col>\n<Col ID='docDate' Width='100' IsReadOnly='1'><Caption>Doc Date</Caption><DType>DATE</DType></Col>\n<Col ID='fromTradeName' Combo='TEXT' Width='140'><Caption>From Trade Name</Caption></Col>\n<Col ID='fromGstin' Combo='TEXT' Width='140'><Caption>From GSTIN</Caption></Col>\n<Col ID='toTradeName' Combo='TEXT' Width='140'><Caption>To Trade Name</Caption></Col>\n<Col ID='toGstin' Combo='TEXT' Width='140'><Caption>To GSTIN</Caption></Col>\n<Col ID='totInvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Total Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code</Caption></Col>\n<Col ID='hsnDesc' Combo='TEXT' Width='140'><Caption>HSN Description</Caption></Col>\n<Col ID='status' Combo='TEXT' Width='140'  ><Caption>Status</Caption></Col>\n<Col ID='rejectStatus' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>Reject Status</Caption></Col>\n</XML>":"GetTripSheet"==t?n+="<XML>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='ewayBillDate' Width='100' IsReadOnly='1'><Caption>Eway Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='userGstin' Combo='TEXT' Width='140'><Caption>GSTIN</Caption></Col>\n<Col ID='docNo' Width='110' IsReadOnly='1'><Caption>Doc No</Caption></Col>\n<Col ID='docDate' Width='100' IsReadOnly='1'><Caption>Doc Date</Caption><DType>DATE</DType></Col>\n<Col ID='fromTradeName' Combo='TEXT' Width='140'><Caption>From Trade Name</Caption></Col>\n<Col ID='fromGstin' Combo='TEXT' Width='140'><Caption>From GSTIN</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='toTradeName' Combo='TEXT' Width='140'><Caption>To Trade Name</Caption></Col>\n<Col ID='toGstin' Combo='TEXT' Width='140'><Caption>To GSTIN</Caption></Col>\n<Col ID='totInvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Total Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='transMode' Combo='TEXT' Width='140'><Caption>Trans Mode</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Trans DocNo</Caption></Col>\n<Col ID='transDocDate' Width='100' IsReadOnly='1'><Caption>Trans Date</Caption><DType>DATE</DType></Col>\n<Col ID='vehicleNo' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='enteredDate' Width='100' IsReadOnly='1'><Caption>Entered Date</Caption><DType>DATE</DType></Col>\n<Col ID='tripSheetNo' Combo='TEXT' Width='140'><Caption>Trip Sheet No</Caption></Col>\n<Col ID='status' Combo='TEXT' Width='140'><Caption>Status</Caption></Col>\n<Col ID='ComStatus' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>Complete Status</Caption></Col>\n</XML>":"GetErrorList"==t?n+="<XML>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='errorCode' Combo='TEXT' Width='100'><Caption>Code</Caption></Col>\n<Col ID='errorDesc' Combo='TEXT' Width='250'><Caption>Description</Caption></Col>\n</XML>":"GetHsnDetailsByHsnCode"==t?n+="<XML>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code</Caption></Col>\n<Col ID='hsnDesc' Combo='TEXT' Width='140'><Caption>HSN Description</Caption></Col>\n</XML>":"GetGSTINDetails"==t||"GetTransporterDetails"==t?(n+="<XML>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='gstin' Combo='TEXT' Width='140'><Caption>GSTIN</Caption></Col>\n<Col ID='legalName' Combo='TEXT' Width='140'><Caption>Legal Name</Caption></Col>\n<Col ID='tradeName' Combo='TEXT' Width='140'><Caption>Trade Name</Caption></Col>\n<Col ID='address1' Combo='TEXT' Width='140'><Caption>Address1</Caption></Col>\n<Col ID='address2' Combo='TEXT' Width='140'><Caption>Address2</Caption></Col>\n<Col ID='pinCode' Combo='TEXT' Width='140'><Caption>Pin Code</Caption></Col>\n<Col ID='stateCode' Combo='TEXT' Width='140'><Caption>State Code</Caption></Col>","GetGSTINDetails"==t&&(n+="<Col ID='txpType' Combo='TEXT' Width='140'><Caption>Tax Type</Caption></Col>",n+="<Col ID='status' Combo='TEXT' Width='140'><Caption>Status</Caption></Col>",n+="<Col ID='blkStatus' Combo='TEXT' Width='140'><Caption>blk Status</Caption></Col>"),n+="</XML>"):"INVOICE"==t?n+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='SupTyp' Width='140' Combo='TEXT' ComboDefValue='2' IsReadOnly='1'><Caption>Supply Type</Caption></Col>\n<Col ID='RegRev' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Reverse Charge</Caption></Col>\n<Col ID='EcmGstin' Width='140' Combo='TEXT' ComboDefValue='2' IsReadOnly='1'><Caption>Ecom GSTIN</Caption></Col>\n<Col ID='IgstOnIntra' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Igst On Intra</Caption></Col>\n\n<Col ID='docType' Combo='TEXT' Width='110'><Caption>Doc Type</Caption></Col>\n<Col ID='docNo' Width='110' IsReadOnly='1'><Caption>Doc No</Caption></Col>\n<Col ID='docDate' Width='100' IsReadOnly='1'><Caption>Doc Date</Caption><DType>DATE</DType></Col>\n\n<Col ID='fromGstin' Combo='TEXT' Width='140'><Caption>From GSTIN</Caption></Col>\n<Col ID='fromLglName' Combo='TEXT' Width='140'><Caption>From LegalName</Caption></Col>\n<Col ID='fromTrdName' Combo='TEXT' Width='140'><Caption>From TradeName</Caption></Col>\n<Col ID='fromAddr1' Combo='TEXT' Width='140'><Caption>From Address1</Caption></Col>\n<Col ID='fromAddr2' Combo='TEXT' Width='140'><Caption>From Address2</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromPincode' Combo='TEXT' Width='140'><Caption>From Pincode</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='fromPhone' Combo='TEXT' Width='140'><Caption>From Phone</Caption></Col>\n<Col ID='fromEmail' Combo='TEXT' Width='140'><Caption>From Email</Caption></Col>\n\n<Col ID='dispLglName' Combo='TEXT' Width='140'><Caption>Dispatch LegalName</Caption></Col>\n<Col ID='dispAddr1' Combo='TEXT' Width='140'><Caption>Dispatch Address1</Caption></Col>\n<Col ID='dispAddr2' Combo='TEXT' Width='140'><Caption>Dispatch Address2</Caption></Col>\n<Col ID='dispPlace' Combo='TEXT' Width='140'><Caption>Dispatch Place</Caption></Col>\n<Col ID='dispPincode' Combo='TEXT' Width='140'><Caption>Dispatch Pincode</Caption></Col>\n<Col ID='dispStateCode' Combo='TEXT' Width='140'><Caption>Dispatch State</Caption></Col>\n\n<Col ID='gstReg' Combo='TEXT' Width='140'><Caption>GST Registration</Caption></Col>\n<Col ID='toGstin' Combo='TEXT' Width='140'><Caption>To GSTIN</Caption></Col>\n<Col ID='toLglName' Combo='TEXT' Width='140'><Caption>To LegalName</Caption></Col>\n<Col ID='toTrdName' Combo='TEXT' Width='140'><Caption>To TradeName</Caption></Col>\n<Col ID='Pos' Combo='TEXT' Width='140'><Caption>Pos</Caption></Col>\n<Col ID='toAddr1' Combo='TEXT' Width='140'><Caption>To Address1</Caption></Col>\n<Col ID='toAddr2' Combo='TEXT' Width='140'><Caption>To Address2</Caption></Col>\n<Col ID='toPlace' Combo='TEXT' Width='140'><Caption>To Place</Caption></Col>\n<Col ID='toPincode' Combo='TEXT' Width='140'><Caption>To Pincode</Caption></Col>\n<Col ID='toStateCode' Combo='TEXT' Width='140'><Caption>To State</Caption></Col>\n<Col ID='toPhone' Combo='TEXT' Width='140'><Caption>To Phone</Caption></Col>\n<Col ID='toEmail' Combo='TEXT' Width='140'><Caption>To Email</Caption></Col>\n\n<Col ID='shipGstin' Combo='TEXT' Width='140'><Caption>Ship To GSTIN</Caption></Col>\n<Col ID='shipLglName' Combo='TEXT' Width='140'><Caption>Ship To LegalName</Caption></Col>\n<Col ID='shipTrdName' Combo='TEXT' Width='140'><Caption>Ship To TradeName</Caption></Col>\n<Col ID='shipAddr1' Combo='TEXT' Width='140'><Caption>Ship To Address1</Caption></Col>\n<Col ID='shipAddr2' Combo='TEXT' Width='140'><Caption>Ship To Address2</Caption></Col>\n<Col ID='shipPlace' Combo='TEXT' Width='140'><Caption>Ship To Place</Caption></Col>\n<Col ID='shipPincode' Combo='TEXT' Width='140'><Caption>Ship To Pincode</Caption></Col>\n<Col ID='shipStateCode' Combo='TEXT' Width='140'><Caption>Ship To State</Caption></Col>\n\n<Col ID='productDesc' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Description</Caption></Col>\n<Col ID='isService' Width='120' Combo='TEXT' ComboDefValue='3'><Caption>Service</Caption></Col>\n<Col ID='hsnCode' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>HSN Code</Caption></Col>\n<Col ID='barCode' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Barcode</Caption></Col>\n<Col ID='qtyUnit' Width='160' Combo='TEXTUOM' IsOptional='1'><Caption>Unit</Caption></Col>\n<Col ID='quantity' Combo='NUM' Width='120' Agg='SUM'><Caption>Qty</Caption><DType>FLOAT</DType></Col>\n<Col ID='freeQty' Combo='NUM' Width='120' Agg='SUM'><Caption>Free Qty</Caption><DType>FLOAT</DType></Col>\n<Col ID='unitPrice' Combo='NUM' Width='120' Agg='SUM'><Caption>Unit Price</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='discount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>Discount</Caption><DType>FLOAT</DType></Col>\n<Col ID='preTaxVal' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>Pre Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='taxableAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='gstRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>GST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='cgstAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgstAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='igstAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='cessRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessNonAdvlAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS Advol</Caption></Col>\n<Col ID='stateCessRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>State CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='stateCessAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>State CESS Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='stateCessNonAdvlAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>State CESS Advol</Caption></Col>\n<Col ID='OtherCharges' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Other Charges</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='ordLineRef' Width='120' Combo='TEXT' ComboDefValue='3'><Caption>Order Ref</Caption></Col>\n<Col ID='orgCountry' Width='120' Combo='TEXT' ComboDefValue='3'><Caption>Origin Country</Caption></Col>\n<Col ID='serialNo' Width='120' Combo='TEXT' ComboDefValue='3'><Caption>Product Serial No</Caption></Col>\n<Col ID='batchName' Width='120' Combo='TEXT' IsOptional='1'><Caption>Batch Name</Caption></Col>\n<Col ID='batchExpDate' Width='120' Combo='TEXT' ComboDefValue='3'><Caption>Batch Exp Date</Caption></Col>\n<Col ID='batchWarDate' Width='120' Combo='TEXT' IsOptional='1'><Caption>Batch War Date</Caption></Col>\n<Col ID='attributeName' Width='120' Combo='TEXT' IsOptional='1'><Caption>Attribute Name</Caption></Col>\n\n<Col ID='totValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Total Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='cgstValue' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Total CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgstValue' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Total SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='igstValue' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Total IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessValue' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Total CESS Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='stateCessValue' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Total State CESS Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='totDiscount' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Total Discount</Caption><DType>FLOAT</DType></Col>\n<Col ID='totOtherCharges' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Total Other Charges</Caption><DType>FLOAT</DType></Col>\n<Col ID='roundOffAmout' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Round Off</Caption><DType>FLOAT</DType></Col>\n<Col ID='totInvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Total Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='totInvValueFC' Combo='NUM' Width='120' IsOptional='1'><Caption>Total Invoice Value(FC)</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='PayeeName' Combo='TEXT' Width='110'><Caption>Payee Name</Caption></Col>\n<Col ID='AccountNumber' Combo='TEXT' Width='110'><Caption>Account Number</Caption><DType>FLOAT</DType></Col>\n<Col ID='ModeOfPayment' Combo='TEXT' Width='110'><Caption>Mode Of Payment</Caption></Col>\n<Col ID='IFSCCode' Combo='TEXT' Width='110'><Caption>IFSC Code</Caption></Col>\n<Col ID='PaymentTerms' Combo='TEXT' Width='110'><Caption>Payment Terms</Caption></Col>\n<Col ID='PaymentInstruction' Combo='TEXT' Width='100' IsReadOnly='1'><Caption>Payment Instruction</Caption><DType>DATE</DType></Col>\n<Col ID='CreditTransfer' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Credit Transfer</Caption><DType>FLOAT</DType></Col>\n<Col ID='DirectDebit' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Direct Debit</Caption><DType>FLOAT</DType></Col>\n<Col ID='CreditDays' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Credit Days</Caption><DType>FLOAT</DType></Col>\n<Col ID='PaidAmount' Combo='NUM' Width='110' IsOptional='1'><Caption>Paid Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='PaymentDue' Combo='NUM' Width='110' IsOptional='1'><Caption>Payment Due</Caption><DType>FLOAT</DType></Col>\n\n\n\n<Col ID='ShipBillNo' Combo='TEXT' Width='110'><Caption>Ship Bill No</Caption></Col>\n<Col ID='ShipBillDate' Combo='TEXT' Width='110'><Caption>Ship Bill Date</Caption><DType>FLOAT</DType></Col>\n<Col ID='Port' Combo='TEXT' Width='110'><Caption>Port</Caption></Col>\n<Col ID='RefClm' Combo='TEXT' Width='110'><Caption>Claiming Refund</Caption></Col>\n<Col ID='ForCur' Combo='TEXT' Width='110'><Caption>Currency</Caption></Col>\n<Col ID='CntCode' Combo='TEXT' Width='100' IsReadOnly='1'><Caption>Country</Caption><DType>DATE</DType></Col>\n<Col ID='ExpDuty' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Export Duty</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Transport Mode</Caption></Col>\n<Col ID='transDistance' Combo='TEXT' Width='110'><Caption>Distance (Km)</Caption><DType>FLOAT</DType></Col>\n<Col ID='transporterId' Combo='TEXT' Width='110'><Caption>Transporter ID</Caption></Col>\n<Col ID='transporterName' Combo='TEXT' Width='110'><Caption>Transporter Name</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Transport DocNo</Caption></Col>\n<Col ID='transDocDate' Combo='TEXT' Width='100' IsReadOnly='1'><Caption>Transport Date</Caption><DType>DATE</DType></Col>\n<Col ID='vehicleNo' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='vehicleType' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Vehicle Type</Caption></Col>\n\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='AckNo' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Acknowledge No</Caption></Col>\n<Col ID='AckDt' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Acknowledge Date</Caption><DType>DATE</DType></Col>\n<Col ID='Irn' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Irn</Caption><DType>DATE</DType></Col>\n<Col ID='SignedInvoice' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Signed Invoice</Caption></Col>\n<Col ID='SignedQRCode' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Signed QR Code</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Eway Bill No</Caption></Col>\n<Col ID='ewayBillDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Eway Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='Remarks' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Remarks</Caption></Col>\n<Col ID='Status' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Status</Caption></Col>\n</XML>":"EWAYBILL"==t?n+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='Irn' Width='150' IsReadOnly='1'><Caption>IRN</Caption></Col>\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Transport Mode</Caption></Col>\n<Col ID='transDistance' Combo='TEXT' Width='110'><Caption>Distance (Km)</Caption><DType>FLOAT</DType></Col>\n<Col ID='transporterId' Combo='TEXT' Width='110'><Caption>Transporter ID</Caption></Col>\n<Col ID='transporterName' Combo='TEXT' Width='110'><Caption>Transporter Name</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Transport DocNo</Caption></Col>\n<Col ID='transDocDate' Combo='TEXT' Width='100' IsReadOnly='1'><Caption>Transport Date</Caption><DType>DATE</DType></Col>\n<Col ID='vehicleNo' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='vehicleType' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Vehicle Type</Caption></Col>\n\n<Col ID='shipAddr1' Combo='TEXT' Width='140'><Caption>Ship To Address1</Caption></Col>\n<Col ID='shipAddr2' Combo='TEXT' Width='140'><Caption>Ship To Address2</Caption></Col>\n<Col ID='shipPlace' Combo='TEXT' Width='140'><Caption>Ship To Place</Caption></Col>\n<Col ID='shipPincode' Combo='TEXT' Width='140'><Caption>Ship To Pincode</Caption></Col>\n<Col ID='shipStateCode' Combo='TEXT' Width='140'><Caption>Ship To State</Caption></Col>\n\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Eway Bill No</Caption></Col>\n<Col ID='ewayBillDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Eway Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='Remarks' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Remarks</Caption></Col>\n</XML>":"INVOICE/CANCEL"==t?n+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='Irn' Width='150' IsReadOnly='1'><Caption>IRN</Caption></Col>\n<Col ID='cancelRmrk' Combo='TEXT' Width='140'><Caption>Cancel Remarks</Caption></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='cancelDate' Width='140' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Cancel Date</Caption><DType>DATE</DType></Col>\n</XML>":"EWAYAPI"==t&&(n+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='150' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='cancelRmrk' Combo='TEXT' Width='140'><Caption>Cancel Remarks</Caption></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='cancelDate' Width='140' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Cancel Date</Caption><DType>DATE</DType></Col>\n</XML>"),e.dicReports.push(t,n.toString()),e.dicReports[t]}static GSTSummaryColumnsXML(e){let t="";return"b2b"==e?t+="<XML GroupBy='VoucherNo'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"b2cl"==e?t+="<XML GroupBy='VoucherNo'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"b2cs"==e?t+="<XML GroupBy='Type'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' InUse='0' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='Type' Width='110' Combo='TEXT'><Caption>Type</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='ECommGSTIN' Combo='TEXT' ComboDefValue='2' Width='140'><Caption>E-Commerce GSTIN</Caption></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"cdnr"==e?t+="<XML GroupBy='VoucherNo'>\n<Col ID='LinkVoucherNo' Width='150' IsReadOnly='1'><Caption>Invoice/Advance Receipt Number</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Note/Refund Voucher Number</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='cdnrDocumentType'><Caption>Document Type</Caption></Col>\n<Col ID='InvValue' Combo='NUM' Width='140' IsOptional='1'><Caption>Note/Refund Voucher Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"exp"==e?t+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='ExportType' Width='140' Combo='TEXT'><Caption>Export Type</Caption></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PortCode' Combo='TEXT' Width='120'><Caption>Port Code</Caption></Col>\n<Col ID='ShipBillNo' Combo='TEXT' Width='160'><Caption>Shipping Bill Number</Caption></Col>\n<Col ID='ShipBillDate' Combo='DATE' Width='150'><Caption>Shipping Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"at"==e?t+="<XML GroupBy='PoS,Rate'>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvReceived' Combo='NUM' Width='150' Agg='SUM'><Caption>Gross Advance Received</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"atadj"==e?t+="<XML GroupBy='PoS,Rate'>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvReceived' Combo='NUM' Width='150' Agg='SUM' InUse='0'><Caption>Gross Advance Received</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvAdjusted' Combo='NUM' Width='150' Agg='SUM' IsReadOnly='1'><Caption>Gross Advance Adjusted</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"exemp"==e&&(t+="<XML GroupBy='VoucherNo'>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Note/Refund Voucher Number</Caption></Col>\n<Col ID='Value' Combo='NUM' Width='120' Agg='SUM' InUse='0'><Caption>Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='NilRated' ComboDefValue='3' Combo='TEXT' Width='140'><Caption>Nil Rated Supplies</Caption><DType>FLOAT</DType></Col>\n</XML>"),t.toString()}static GSTR2AColumnsXML(e){let t="";return"b2b"==e||"b2ba"==e?(t="<XML>","b2ba"==e&&(t+="<Col ID='oinum' Width='110' IsReadOnly='1'><Caption>Orginal Invoice number</Caption></Col>\n<Col ID='oidt' Width='100' IsReadOnly='1'><Caption>Orginal Invoice Date</Caption><DType>DATE</DType></Col>"),t+="<Col ID='chksum' Width='160' IsVisible='0'><Caption>Check Sum</Caption></Col>\n<Col ID='ctin' Width='160' IsReadOnly='1'><Caption>GSTIN of supplier</Caption></Col>\n<Col ID='inum' Width='110' IsReadOnly='1'><Caption>Invoice number</Caption></Col>\n<Col ID='inv_typ' Width='110' IsReadOnly='1'><Caption>Invoice type</Caption></Col>\n<Col ID='idt' Width='100' IsReadOnly='1'><Caption>Invoice Date</Caption><DType>DATE</DType></Col>\n<Col ID='val' Combo='NUM' Width='120' IsReadOnly='1'><Caption>Invoice Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='pos' Width='120' IsReadOnly='1'><Caption>Place of supply</Caption></Col>\n<Col ID='rchrg' Width='120' IsReadOnly='1'><Caption>Supply Attract Reverse Charge</Caption></Col>\n<Col ID='diff_percent' Combo='NUM' Width='130' IsVisible='0'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='rt' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Rate (%)</Caption><DType>FLOAT</DType></Col>\n<Col ID='txval' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Taxable Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='iamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='camt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Central Tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='samt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>State/UT tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='csamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='cfs' Width='160' IsReadOnly='1'><Caption>GSTR-1/IFF/GSTR-5 Filing Status</Caption></Col>\n<Col ID='fldtr1' Width='100' IsReadOnly='1'><Caption>GSTR-1/IFF/GSTR-5 Filing Date</Caption><DType>DATE</DType></Col>\n<Col ID='flprdr1' Width='100' IsReadOnly='1'><Caption>GSTR-1/IFF/GSTR-5 Filing Period</Caption><DType>DATE</DType></Col>\n<Col ID='cfs3b' Width='160' IsReadOnly='1'><Caption>GSTR-3B Filing Status</Caption></Col>\n<Col ID='atyp' Width='160' IsReadOnly='1'><Caption>Amendment made, if any</Caption></Col>\n<Col ID='aspd' Width='100' IsReadOnly='1'><Caption>Tax Period in which Amended</Caption><DType>DATE</DType></Col>\n<Col ID='dtcancel' Width='100' IsReadOnly='1'><Caption>Effective date of cancellation</Caption><DType>DATE</DType></Col>","b2b"==e&&(t+="<Col ID='srctyp' Width='100' IsReadOnly='1'><Caption>Source</Caption></Col>\n<Col ID='irn' Width='140' IsReadOnly='1'><Caption>IRN</Caption></Col>\n<Col ID='irngendate' Width='100' IsReadOnly='1'><Caption>IRN date</Caption><DType>DATE</DType></Col>"),t+="</XML>"):"cdn"==e||"cdna"==e?(t+="<XML>","cdna"==e&&(t+="<Col ID='ontty' Width='110' IsReadOnly='1'><Caption>Orginal Note type</Caption></Col>\n<Col ID='ont_num' Width='110' IsReadOnly='1'><Caption>Orginal Note Number</Caption></Col>\n<Col ID='ont_dt' Width='100' IsReadOnly='1'><Caption>Orginal Note date</Caption><DType>DATE</DType></Col>"),t+="<Col ID='chksum' Width='160' IsVisible='0'><Caption>Check Sum</Caption></Col>\n<Col ID='ctin' Width='160' IsReadOnly='1'><Caption>GSTIN of supplier</Caption></Col>\n<Col ID='ntty' Width='110' IsReadOnly='1'><Caption>Note type</Caption></Col>\n<Col ID='nt_num' Width='110' IsReadOnly='1'><Caption>Note Number</Caption></Col>\n<Col ID='inv_typ' Width='110' IsReadOnly='1'><Caption>Note Supply type</Caption></Col>\n<Col ID='nt_dt' Width='100' IsReadOnly='1'><Caption>Note date</Caption><DType>DATE</DType></Col>\n<Col ID='p_gst' Width='100' IsReadOnly='1' IsVisible='0'><Caption>p_gst</Caption></Col>\n<Col ID='d_flag' Width='100' IsReadOnly='1' IsVisible='0'><Caption>d_flag</Caption></Col>\n<Col ID='inum' Width='110' IsReadOnly='1' IsVisible='0'><Caption>Invoice number</Caption></Col>\n<Col ID='idt' Width='100' IsReadOnly='1' IsVisible='0'><Caption>Invoice Date</Caption><DType>DATE</DType></Col>\n<Col ID='val' Combo='NUM' Width='120' IsReadOnly='1'><Caption>Note Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='pos' Width='120' IsReadOnly='1'><Caption>Place of supply</Caption></Col>\n<Col ID='rchrg' Width='120' IsReadOnly='1'><Caption>Supply Attract Reverse Charge</Caption></Col>\n<Col ID='diff_percent' Combo='NUM' Width='130' IsVisible='0'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='rt' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Rate (%)</Caption><DType>FLOAT</DType></Col>\n<Col ID='txval' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Taxable Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='iamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='camt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Central Tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='samt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>State/UT tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='csamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='cfs' Width='160' IsReadOnly='1'><Caption>GSTR-1/IFF/GSTR-5 Filing Status</Caption></Col>\n<Col ID='fldtr1' Width='100' IsReadOnly='1'><Caption>GSTR-1/IFF/GSTR-5 Filing Date</Caption><DType>DATE</DType></Col>\n<Col ID='flprdr1' Width='100' IsReadOnly='1'><Caption>GSTR-1/IFF/GSTR-5 Filing Period</Caption><DType>DATE</DType></Col>\n<Col ID='cfs3b' Width='160' IsReadOnly='1'><Caption>GSTR-3B Filing Status</Caption></Col>\n<Col ID='atyp' Width='160' IsReadOnly='1'><Caption>Amendment made, if any</Caption></Col>\n<Col ID='aspd' Width='100' IsReadOnly='1'><Caption>Tax Period in which Amended</Caption><DType>DATE</DType></Col>\n<Col ID='dtcancel' Width='100' IsReadOnly='1'><Caption>Effective date of cancellation</Caption><DType>DATE</DType></Col>","cdn"==e&&(t+="<Col ID='srctyp' Width='100' IsReadOnly='1'><Caption>Source</Caption></Col>\n<Col ID='irn' Width='140' IsReadOnly='1'><Caption>IRN</Caption></Col>\n<Col ID='irngendate' Width='100' IsReadOnly='1'><Caption>IRN date</Caption><DType>DATE</DType></Col>\n<Col ID='cflag' Width='100' IsReadOnly='1' IsVisible='0'><Caption>cflag</Caption></Col>\n<Col ID='updby' Width='100' IsReadOnly='1' IsVisible='0'><Caption>updby</Caption></Col>"),t+="</XML>"):"isd"==e||"isda"==e?(t+="<XML>","isda"==e&&(t+="<Col ID='oisd_docty' Width='110' IsReadOnly='1'><Caption>Orginal ISD Document type</Caption></Col>\n<Col ID='odocnum' Width='110' IsReadOnly='1'><Caption>Orginal Document Number</Caption></Col>\n<Col ID='odocdt' Width='100' IsReadOnly='1'><Caption>Orginal Document date</Caption><DType>DATE</DType></Col>"),t+="<Col ID='itc_elg' Width='110' IsReadOnly='1'><Caption>Eligibility of ITC</Caption></Col>\n<Col ID='chksum' Width='160' IsVisible='0'><Caption>Check Sum</Caption></Col>\n<Col ID='ctin' Width='160' IsReadOnly='1'><Caption>GSTIN of ISD</Caption></Col>\n<Col ID='isd_docty' Width='110' IsReadOnly='1'><Caption>ISD Document type</Caption></Col>\n<Col ID='docnum' Width='110' IsReadOnly='1'><Caption>ISD Invoice number</Caption></Col>\n<Col ID='docdt' Width='100' IsReadOnly='1'><Caption>ISD Invoice date</Caption><DType>DATE</DType></Col>\n\n<Col ID='iamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='camt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Central Tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='samt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>State/UT tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='csamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='cfs' Width='160' IsReadOnly='1'><Caption>ISD GSTR-6 Filing status</Caption></Col>\n<Col ID='atyp' Width='160' IsReadOnly='1'><Caption>Amendment made, if any</Caption></Col>\n<Col ID='aspd' Width='100' IsReadOnly='1'><Caption>Tax Period in which Amended</Caption><DType>DATE</DType></Col>\n</XML>"):"tds"==e||"tdsa"==e?(t+="<XML>","tdsa"==e&&(t+="<Col ID='ogstin_ded' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>Orginal GSTIN/UIN of Deduction</Caption></Col>\n<Col ID='omonth' Width='130' IsReadOnly='1'><Caption>Orginal Period</Caption></Col>\n<Col ID='oamt_ded' Combo='NUM' Width='110' Agg='SUM'><Caption>Orginal Taxable Value</Caption><DType>FLOAT</DType></Col>"),t+="<Col ID='gstin_ded' Width='160' IsReadOnly='1'><Caption>GSTIN of Deductor</Caption></Col>\n<Col ID='amt_ded' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Taxable Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='iamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='camt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Central Tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='samt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>State/UT tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n</XML>"):"tcs"==e?t+="<XML>\n<Col ID='chksum' Width='160' IsVisible='0'><Caption>Check Sum</Caption></Col>\n<Col ID='eitn' Width='160' IsReadOnly='1'><Caption>GSTIN of E-com. Operator</Caption></Col>\n<Col ID='sup_val' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Gross Value of  supplies (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='tx_val' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Net amount liable for TCS (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='iamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='camt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Central Tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='samt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>State/UT tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='csamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n</XML>":"impg"!=e&&"impgsez"!=e||(t+="<XML>","impgsez"==e&&(t+="<Col ID='sgstin' Width='160' IsReadOnly='1'><Caption>GSTIN of supplier</Caption></Col>\n<Col ID='tdname' Width='160' IsVisible='0'><Caption>Trade/Legal name</Caption></Col>"),t+="<Col ID='refdt' Width='100' IsReadOnly='1'><Caption>Reference date (ICEGATE)</Caption><DType>DATE</DType></Col>\n<Col ID='portcd' Width='110' IsReadOnly='1'><Caption>Port code</Caption></Col>\n<Col ID='benum' Width='110' IsReadOnly='1'><Caption>Number</Caption></Col>\n<Col ID='bedt' Width='100' IsReadOnly='1'><Caption>Date</Caption><DType>DATE</DType></Col>\n\n<Col ID='txval' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Taxable Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='iamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='csamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='amd' Width='100' IsReadOnly='1'><Caption>Amended(Yes)</Caption><DType>DATE</DType></Col>\n</XML>"),t.toString()}static GSTR2BColumnsXML(e){let t="";return"b2b"==e||"b2ba"==e?(t+="<XML>","b2ba"==e&&(t+="<Col ID='oinum' Width='110' IsReadOnly='1'><Caption>Orginal Invoice number</Caption></Col>\n<Col ID='oidt' Width='100' IsReadOnly='1'><Caption>Orginal Invoice Date</Caption><DType>DATE</DType></Col>"),t+="<Col ID='chksum' Width='160' IsVisible='0'><Caption>Check Sum</Caption></Col>\n<Col ID='ctin' Width='160' IsReadOnly='1'><Caption>GSTIN of supplier</Caption></Col>\n<Col ID='trdnm' Width='160' IsReadOnly='1'><Caption>Trade/Legal name</Caption></Col>\n<Col ID='supfildt' Width='150' IsReadOnly='1'><Caption>Supplier Filing Date</Caption><DType>DATE</DType></Col>\n<Col ID='supprd' Width='150' IsReadOnly='1'><Caption>Supplier Filing Period</Caption><DType>DATE</DType></Col>\n<Col ID='inum' Width='110' IsReadOnly='1'><Caption>Invoice number</Caption></Col>\n<Col ID='typ' Width='110' IsReadOnly='1'><Caption>Invoice type</Caption></Col>\n<Col ID='dt' Width='100' IsReadOnly='1'><Caption>Invoice Date</Caption><DType>DATE</DType></Col>\n<Col ID='val' Combo='NUM' Width='120' IsReadOnly='1'><Caption>Invoice Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='pos' Width='120' IsReadOnly='1'><Caption>Place of supply</Caption></Col>\n<Col ID='rev' Width='120' IsReadOnly='1'><Caption>Supply Attract Reverse Charge</Caption></Col>\n<Col ID='itcavl' Width='120' IsReadOnly='1'><Caption>ITC available</Caption></Col>\n<Col ID='rsn' Width='120' IsReadOnly='1'><Caption>RSN</Caption></Col>\n<Col ID='diffprcnt' Combo='NUM' Width='130' IsVisible='0'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='rt' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Rate (%)</Caption><DType>FLOAT</DType></Col>\n<Col ID='txval' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Taxable Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='igst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='cgst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Central Tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>State/UT tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='cess' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>",t+="</XML>"):"cdnr"==e||"cdnra"==e?(t+="<XML>","cdnra"==e&&(t+="<Col ID='onttyp' Width='110' IsReadOnly='1'><Caption>Orginal Note type</Caption></Col>\n<Col ID='ontnum' Width='110' IsReadOnly='1'><Caption>Orginal Note Number</Caption></Col>\n<Col ID='ontdt' Width='100' IsReadOnly='1'><Caption>Orginal Note date</Caption><DType>DATE</DType></Col>"),t+="<Col ID='chksum' Width='160' IsVisible='0'><Caption>Check Sum</Caption></Col>\n<Col ID='ctin' Width='160' IsReadOnly='1'><Caption>GSTIN of supplier</Caption></Col>\n<Col ID='trdnm' Width='160' IsReadOnly='1'><Caption>Trade/Legal name</Caption></Col>\n<Col ID='supfildt' Width='150' IsReadOnly='1'><Caption>Supplier Filing Date</Caption><DType>DATE</DType></Col>\n<Col ID='supprd' Width='150' IsReadOnly='1'><Caption>Supplier Filing Period</Caption><DType>DATE</DType></Col>\n<Col ID='ntnum' Width='110' IsReadOnly='1'><Caption>Note Number</Caption></Col>\n<Col ID='typ' Width='110' IsReadOnly='1'><Caption>Note type</Caption></Col>\n<Col ID='suptyp' Width='110' IsReadOnly='1'><Caption>Note Supply type</Caption></Col>\n<Col ID='dt' Width='100' IsReadOnly='1'><Caption>Note date</Caption><DType>DATE</DType></Col>\n<Col ID='val' Combo='NUM' Width='120' IsReadOnly='1'><Caption>Note Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='pos' Width='120' IsReadOnly='1'><Caption>Place of supply</Caption></Col>\n<Col ID='rev' Width='120' IsReadOnly='1'><Caption>Supply Attract Reverse Charge</Caption></Col>\n<Col ID='itcavl' Width='120' IsReadOnly='1'><Caption>ITC available</Caption></Col>\n<Col ID='rsn' Width='120' IsReadOnly='1'><Caption>RSN</Caption></Col>\n<Col ID='diffprcnt' Combo='NUM' Width='130' IsVisible='0'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='rt' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Rate (%)</Caption><DType>FLOAT</DType></Col>\n<Col ID='txval' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Taxable Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='igst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='cgst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Central Tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>State/UT tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='cess' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>",t+="</XML>"):"isd"==e||"isda"==e?(t+="<XML>","isda"==e&&(t+="<Col ID='odoctyp' Width='110' IsReadOnly='1'><Caption>Orginal ISD Document type</Caption></Col>\n<Col ID='odocnum' Width='110' IsReadOnly='1'><Caption>Orginal Document Number</Caption></Col>\n<Col ID='odocdt' Width='100' IsReadOnly='1'><Caption>Orginal Document date</Caption><DType>DATE</DType></Col>"),t+="<Col ID='itcelg' Width='110' IsReadOnly='1'><Caption>Eligibility of ITC</Caption></Col>\n<Col ID='chksum' Width='160' IsVisible='0'><Caption>Check Sum</Caption></Col>\n<Col ID='ctin' Width='160' IsReadOnly='1'><Caption>GSTIN of ISD</Caption></Col>\n<Col ID='trdnm' Width='160' IsReadOnly='1'><Caption>Trade Name</Caption></Col>\n<Col ID='supfildt' Width='150' IsReadOnly='1'><Caption>Supplier Filing Date</Caption><DType>DATE</DType></Col>\n<Col ID='supprd' Width='150' IsReadOnly='1'><Caption>Supplier Filing Period</Caption><DType>DATE</DType></Col>\n<Col ID='doctyp' Width='110' IsReadOnly='1'><Caption>ISD Document type</Caption></Col>\n<Col ID='docnum' Width='110' IsReadOnly='1'><Caption>ISD Invoice number</Caption></Col>\n<Col ID='docdt' Width='100' IsReadOnly='1'><Caption>ISD Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='oinvnum' Width='110' IsReadOnly='1'><Caption>Orginal Invoice number</Caption></Col>\n<Col ID='oinvdt' Width='100' IsReadOnly='1'><Caption>Orginal Invoice date</Caption><DType>DATE</DType></Col>\n\n<Col ID='igst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='cgst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Central Tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>State/UT tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='cess' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n</XML>"):"impg"!=e&&"impgsez"!=e||(t+="<XML>","impgsez"==e&&(t+="<Col ID='ctin' Width='160' IsReadOnly='1'><Caption>GSTIN of supplier</Caption></Col>\n<Col ID='trdnm' Width='160' IsVisible='0'><Caption>Trade/Legal name</Caption></Col>"),t+="<Col ID='refdt' Width='100' IsReadOnly='1'><Caption>Reference date (ICEGATE)</Caption><DType>DATE</DType></Col>\n<Col ID='recdt' Width='100' IsReadOnly='1'><Caption>Reciept date</Caption><DType>DATE</DType></Col>\n<Col ID='portcode' Width='110' IsReadOnly='1'><Caption>Port code</Caption></Col>\n<Col ID='boenum' Width='110' IsReadOnly='1'><Caption>Number</Caption></Col>\n<Col ID='boedt' Width='100' IsReadOnly='1'><Caption>Date</Caption><DType>DATE</DType></Col>\n\n<Col ID='txval' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Taxable Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='igst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='cess' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='isamd' Width='100' IsReadOnly='1'><Caption>Amended(Yes)</Caption><DType>DATE</DType></Col>\n</XML>"),t.toString()}}return e.IsMultipleLocs=!1,e.LocationWhere="",e.AllowGSTatVAT=!1,e.dicReports=new T.a,e})();class y extends r.b{constructor(){super(),this.GSTR2=["GSTR2_b2b","GSTR2_b2bur","GSTR2_imps","GSTR2_impg","GSTR2_cdnr","GSTR2_cdnur","GSTR2_at","GSTR2_atadj","GSTR2_exemp","GSTR2_itcr","GSTR2_hsnsum"],this.lstGSTReport=new T.a,this.lstGridViewModel=new T.a,this.dicReportID=new T.a,this.Tab=new u.a;let e=l.a.common.GetDataTable("GST002","");for(let t=0;t<this.GSTR2.length;t++){let o=this.GSTR2[t],n=e.filter(e=>e.ReportName==o);if(0==n.length)continue;let a=new D.a;a.Width="",a.Height=0,this.lstGridViewModel.push(o,a),this.dicReportID.push(o,parseInt(n[0].ReportID));let i=new u.b;i.Name=o,i.Header=o.replace("GSTR2_",""),i.Fields.push(a),this.Tab.Tabs.push(i)}0==this.lstGridViewModel.length&&(this.DisplayMessage="No GSTR2 Reports Found")}static Add_AvailedITC(e,t){let o=!0,n="BillDate",a="BillNo";"GSTR2_b2bur"==e||"GSTR2_cdnr"==e||"GSTR2_cdnur"==e?(n="DocDate",a="VoucherNo"):"GSTR2_imps"!=e&&"GSTR2_impg"!=e||(o=!1),t.Columns[0].push("ITCIntTaxAmt"),t.Columns[0].push("ITCCessAmt"),o&&(t.Columns[0].push("ITCCTaxAmt"),t.Columns[0].push("ITCSTaxAmt"));let i,l,C,p,r,T=null,D=null,u=0,d=-1235,m=0,I=0,h=0,c=0;for(let S=t.Tables[0].length-1;S>=0;S--)p=t.Tables[0][S],i=s.e.String(p[n]),l=s.e.String(p[a]),C=s.e.String(p.ITCEligible),u=null==p.Rate?0:parseFloat(p.Rate),T==i&&D==l&&d==u?(r=t.Tables[0][S+1],null!=p.TaxableValue&&(r.TaxableValue=parseFloat(r.TaxableValue)+parseFloat(p.TaxableValue)),null!=p.IntTaxAmt&&(r.IntTaxAmt=parseFloat(r.IntTaxAmt)+parseFloat(p.IntTaxAmt)),null!=p.CessAmt&&(r.CessAmt=parseFloat(r.CessAmt)+parseFloat(p.CessAmt)),o&&(null!=p.CTaxAmt&&(r.CTaxAmt=parseFloat(r.CTaxAmt)+parseFloat(p.CTaxAmt)),null!=p.STaxAmt&&(r.STaxAmt=parseFloat(r.STaxAmt)+parseFloat(p.STaxAmt))),"Ineligible"!=C&&(r.ITCEligible=p.ITCEligible,null!=p.IntTaxAmt&&(m+=parseFloat(p.IntTaxAmt),r.ITCIntTaxAmt=m),null!=p.CessAmt&&(c+=parseFloat(p.CessAmt),r.ITCCessAmt=c),o&&(null!=p.CTaxAmt&&(I+=parseFloat(p.CTaxAmt),r.ITCCTaxAmt=I),null!=p.STaxAmt&&(h+=parseFloat(p.STaxAmt),r.ITCSTaxAmt=h))),t.Tables[0].RemoveAt(S)):(null==p.TaxableValue&&(p.TaxableValue=0),null==p.IntTaxAmt&&(p.IntTaxAmt=0),null==p.CessAmt&&(p.CessAmt=0),o&&(null==p.CTaxAmt&&(p.CTaxAmt=0),null==p.STaxAmt&&(p.STaxAmt=0)),"Ineligible"!=C?(m=parseFloat(p.IntTaxAmt),c=parseFloat(p.CessAmt),p.ITCIntTaxAmt=m,p.ITCCessAmt=c,o&&(I=parseFloat(p.CTaxAmt),h=parseFloat(p.STaxAmt),p.ITCCTaxAmt=I,p.ITCSTaxAmt=h)):m=I=h=c=0,T=i,D=l,d=u);"GSTR2_b2bur"==e&&(T=null)}static Update_at(e,t=!1){let o,n,a=null,i=0,l=0,C=0,p=0,r=0,T=0,D="",u="";e.Columns[0].push("InvValue");for(let m=0;m<e.Tables[0].length;m++){for(o=e.Tables[0][m],D="AccountID="+s.e.String(o.AccountID)+" and RefDocNo='"+s.e.String(o.VoucherNo)+"' and AdjAmount!=0",D!=u&&(a=e.Tables[1].filter(e=>e.AccountID==s.e.String(o.AccountID)&&e.RefDocNo==s.e.String(o.VoucherNo)&&0!=e.AdjAmount),i=0,u=D),o.InvValue=o.AdvReceived,r=null!=o.AdvReceived?parseFloat(o.AdvReceived):0,r=Math.abs(r),T=r;i<a.length;){if(p=Math.abs(parseFloat(a[i].AdjAmount)),p>=r){a[i].AdjAmount=p-r,r=0,e.Tables[0].RemoveAt(m),m--;break}a[i].AdjAmount=0,r-=p,o.AdvReceived=r,i++}r>0&&(C=null!=o.CessAmt?parseFloat(o.CessAmt):0,C>0&&T!=r&&(C=parseFloat((C*r/T).ToString("N2")),o.CessAmt=C))}let d=[];if(t)n={},e.Tables[0].length>0&&(n.TaxableValue=e.Tables[0].Compute("sum","AdvReceived"),n.CessAmt=e.Tables[0].Compute("sum","CessAmt"),n.IntTaxAmt=e.Tables[0].Compute("sum","IntTaxAmt"),n.CTaxAmt=e.Tables[0].Compute("sum","CTaxAmt"),n.STaxAmt=e.Tables[0].Compute("sum","STaxAmt"),n.Cnt=e.Tables[0].ToTable(!0,["VoucherNo"]).length),d.push(n);else{n=null,u=null;for(let t=0;t<e.Tables[0].length;t++)o=e.Tables[0][t],D="PoS='"+o.PoS.toString()+"' and Rate="+o.Rate.toString(),D!=u&&(n={},n.PoS=o.PoS,n.Rate=o.Rate,d.push(n),u=D,l=0,C=0),l+=parseFloat(o.AdvReceived),C+=null!=o.CessAmt?parseFloat(o.CessAmt):0,n.AdvReceived=l,n.CessAmt=C}e.Tables.Clear(),e.Tables.push(d)}static Update_atadj(e,t=!1){let o,n,a=null,i=0,l=0,C=0,p=0,r=0,T=0,D=0,u="",d="";for(let I=0;I<e.Tables[0].length;I++){if(o=e.Tables[0][I],u="AccountID="+s.e.String(o.AccountID)+" and RefDocNo='"+s.e.String(o.VoucherNo)+"' and AdjAmount!=0",u!=d){if(a=e.Tables[1].filter(e=>e.AccountID==s.e.String(o.AccountID)&&e.RefDocNo==s.e.String(o.VoucherNo)&&0!=e.AdjAmount),0==a.length){e.Tables[0].RemoveAt(I),I--;continue}i=0,d=u}for(r=null!=o.AdvReceived?parseFloat(o.AdvReceived):0,r=Math.abs(r),D=r,T=0;i<a.length;){if(p=Math.abs(parseFloat(a[i].AdjAmount)),p>=r){T+=r,a[i].AdjAmount=p-r,r-=p;break}a[i].AdjAmount=0,T+=p,r-=p,i++}0!=T?(o.AdvAdjusted=T,C=null!=o.CessAmt?parseFloat(o.CessAmt):0,C>0&&0!=T&&D!=T&&(C=parseFloat((C*T/D).ToString("N2")),o.CessAmt=C)):(e.Tables[0].RemoveAt(I),I--)}let m=[];if(t)n={},e.Tables[0].length>0&&(n.TaxableValue=e.Tables[0].Compute("sum","AdvAdjusted"),n.CessAmt=e.Tables[0].Compute("sum","CessAmt"),n.IntTaxAmt=e.Tables[0].Compute("sum","IntTaxAmt"),n.CTaxAmt=e.Tables[0].Compute("sum","CTaxAmt"),n.STaxAmt=e.Tables[0].Compute("sum","STaxAmt"),n.Cnt=e.Tables[0].ToTable(!0,["VoucherNo"]).length),m.push(n);else{n=null,d=null;for(let t=0;t<e.Tables[0].length;t++)o=e.Tables[0][t],u="PoS='"+o.PoS.toString()+"' and Rate="+o.Rate.toString(),u!=d&&(n={},n.PoS=o.PoS,n.Rate=o.Rate,m.push(n),d=u,l=0,C=0),l+=parseFloat(o.AdvAdjusted),C+=null!=o.CessAmt?parseFloat(o.CessAmt):0,n.AdvAdjusted=l,n.CessAmt=C}e.Tables.Clear(),e.Tables.push(m)}static UpdateVAT(e,t,o,n){let a=null;if("VATAED1"==e){let e,a=[],i=new Array(3).fill(0),C=new Array(3).fill(0),p=new Array(3).fill(0),r="";l.a.SessionManager.Preferences.ContainsKey("VATMaintainOn")&&("50001"==l.a.SessionManager.Preferences.VATMaintainOn?r=l.a.SessionManager.DivisionID>0?"select Name TaxPerName,AliasName TaxPerNameArabic,ccAlpha43 TRN,ccAlpha44 TaxAgencyName,ccAlpha45 AGNTAN,ccAlpha46 AgentName,ccAlpha47 TAAN from com_division with(nolock) where NodeID="+l.a.SessionManager.DivisionID:"select Name TaxPerName,AliasName TaxPerNameArabic,ccAlpha43 TRN,ccAlpha44 TaxAgencyName,ccAlpha45 AGNTAN,ccAlpha46 AgentName,ccAlpha47 TAAN from com_division with(nolock) where NodeID in ("+l.a.SessionManager.DivisionWhere+")":"50002"==l.a.SessionManager.Preferences.VATMaintainOn&&(r=l.a.SessionManager.LocationID>0?"select Name TaxPerName,AliasName TaxPerNameArabic,ccAlpha43 TRN,ccAlpha44 TaxAgencyName,ccAlpha45 AGNTAN,ccAlpha46 AgentName,ccAlpha47 TAAN from com_location with(nolock) where NodeID="+l.a.SessionManager.LocationID:"select Name TaxPerName,AliasName TaxPerNameArabic,ccAlpha43 TRN,ccAlpha44 TaxAgencyName,ccAlpha45 AGNTAN,ccAlpha46 AgentName,ccAlpha47 TAAN from com_location with(nolock) where NodeID in ("+(S.IsMultipleLocs?S.LocationWhere:l.a.SessionManager.LocationWhere)+")")),0==r.length&&(r="select  C.Name TaxPerName,acAlpha43 TaxPerNameArabic,acAlpha44 TRN,acAlpha45 TaxAgencyName,acAlpha46 AGNTAN,acAlpha47 AgentName,acAlpha48 TAAN,acAlpha49,acAlpha50 \nfrom PACT2C.dbo.ADM_CompanyExtended E with(nolock) inner join PACT2C.dbo.ADM_Company C with(nolock) on C.CompanyID=E.CompanyID\nwhere C.DBIndex="+l.a.SessionManager.CompanyIndex);let T=l.a.report.GetDataTable("RPT022",r),D={Description:"Main",StyleIsBold:"1"};a.push(D),D={},D.Description="Form Type",D.TaxableValue="",a.push(D),D={},D.Description="Document Locator",D.TaxableValue="",a.push(D),D={},D.Description="Tax Form Filing Type",D.TaxableValue="",a.push(D),D={},D.Description="Submission Date",D.TaxableValue="",a.push(D),a.push(),D={},D.Description="Taxable Person details",D.StyleIsBold="1",a.push(D),D={},D.Description="TRN",D.TaxableValue=T.length>1?s.e.String(T.Compute("max","TRN")):T.length>0?s.e.String(T[0].TRN):"",a.push(D),D={},D.Description="Taxable Person Name (English)",T.length>1&&(D.TaxableValue=s.e.String(T.Compute("max","TaxPerName"))),D.TaxableValue=T.length>0?s.e.String(T[0].TaxPerName):"",a.push(D),D={},D.Description="Taxable Person Name (Arabic)",T.length>1&&(D.TaxableValue=s.e.String(T.Compute("max","TaxPerNameArabic"))),D.TaxableValue=T.length>0?s.e.String(T[0].TaxPerNameArabic):"",a.push(D),D={},D.Description="Taxable Person Address",D.TaxableValue="",a.push(D),D={},D.Description="Tax Agency Name",T.length>1&&(D.TaxableValue=s.e.String(T.Compute("max","TaxAgencyName"))),D.TaxableValue=T.length>0?s.e.String(T[0].TaxAgencyName):"",a.push(D),D={},D.Description="TAN",T.length>1&&(D.TaxableValue=s.e.String(T.Compute("max","AGNTAN"))),D.TaxableValue=T.length>0?s.e.String(T[0].AGNTAN):"",a.push(D),D={},D.Description="Tax Agent Name",T.length>1&&(D.TaxableValue=s.e.String(T.Compute("max","AgentName"))),D.TaxableValue=T.length>0?s.e.String(T[0].AgentName):"",a.push(D),D={},D.Description="TAAN",T.length>1&&(D.TaxableValue=s.e.String(T.Compute("max","TAAN"))),D.TaxableValue=T.length>0?s.e.String(T[0].TAAN):"",a.push(D),a.push(),D={},D.Description="VAT Return Period",D.StyleIsBold="1",a.push(D),D={},D.Description="VAT Return Period",D.TaxableValue="",a.push(D),D={},D.Description="Tax Year",D.TaxableValue="",a.push(D),D={},D.Description="VAT Return Period Reference Number",D.TaxableValue=o.ToString("dd-MM-yyyy")+" - "+n.ToString("dd-MM-yyyy"),a.push(D),a.push(),D={},D.Description="VAT on Sales and all other Outputs",D.StyleIsBold="1",a.push(D),D={},D.TaxableValue="Amount (AED)",D.VATAmount="VAT Amount (AED)",D.Adjustment="Adjustment (AED)",D.StyleIsBold="1",a.push(D),D={},D.Section="1a",D.Description="Standard rated supplies in Abu Dhabi";let u=t.Tables[0].filter(e=>3==e.VATState);u.length>0&&(D.TaxableValue=y.GetNumberString(u[0].TaxableValue),D.VATAmount=y.GetNumberString(u[0].VATStdAmt),D.Adjustment=y.GetNumberString(u[0].StdAdjustment),i[0]+=parseFloat(u[0].TaxableValue),i[1]+=parseFloat(u[0].VATStdAmt),i[2]+=parseFloat(u[0].StdAdjustment)),a.push(D),D={},D.Section="1b",D.Description="Standard rated supplies in Dubai",u=t.Tables[0].filter(e=>6==e.VATState),u.length>0&&(D.TaxableValue=y.GetNumberString(u[0].TaxableValue),D.VATAmount=y.GetNumberString(u[0].VATStdAmt),D.Adjustment=y.GetNumberString(u[0].StdAdjustment),i[0]+=parseFloat(u[0].TaxableValue),i[1]+=parseFloat(u[0].VATStdAmt),i[2]+=parseFloat(u[0].StdAdjustment)),a.push(D),D={},D.Section="1c",D.Description="Standard rated supplies in Sharjah",u=t.Tables[0].filter(e=>5==e.VATState),u.length>0&&(D.TaxableValue=y.GetNumberString(u[0].TaxableValue),D.VATAmount=y.GetNumberString(u[0].VATStdAmt),D.Adjustment=y.GetNumberString(u[0].StdAdjustment),i[0]+=parseFloat(u[0].TaxableValue),i[1]+=parseFloat(u[0].VATStdAmt),i[2]+=parseFloat(u[0].StdAdjustment)),a.push(D),D={},D.Section="1d",D.Description="Standard rated supplies in Ajman",u=t.Tables[0].filter(e=>4==e.VATState),u.length>0&&(D.TaxableValue=y.GetNumberString(u[0].TaxableValue),D.VATAmount=y.GetNumberString(u[0].VATStdAmt),D.Adjustment=y.GetNumberString(u[0].StdAdjustment),i[0]+=parseFloat(u[0].TaxableValue),i[1]+=parseFloat(u[0].VATStdAmt),i[2]+=parseFloat(u[0].StdAdjustment)),a.push(D),D={},D.Section="1e",D.Description="Standard rated supplies in Umm Al Quwain",u=t.Tables[0].filter(e=>9==e.VATState),u.length>0&&(D.TaxableValue=y.GetNumberString(u[0].TaxableValue),D.VATAmount=y.GetNumberString(u[0].VATStdAmt),D.Adjustment=y.GetNumberString(u[0].StdAdjustment),i[0]+=parseFloat(u[0].TaxableValue),i[1]+=parseFloat(u[0].VATStdAmt),i[2]+=parseFloat(u[0].StdAdjustment)),a.push(D),D={},D.Section="1f",D.Description="Standard rated supplies in Ras Al Khaimah",u=t.Tables[0].filter(e=>8==e.VATState),u.length>0&&(D.TaxableValue=y.GetNumberString(u[0].TaxableValue),D.VATAmount=y.GetNumberString(u[0].VATStdAmt),D.Adjustment=y.GetNumberString(u[0].StdAdjustment),i[0]+=parseFloat(u[0].TaxableValue),i[1]+=parseFloat(u[0].VATStdAmt),i[2]+=parseFloat(u[0].StdAdjustment)),a.push(D),D={},D.Section="1g",D.Description="Standard rated supplies in Fujairah",u=t.Tables[0].filter(e=>7==e.VATState),u.length>0&&(D.TaxableValue=y.GetNumberString(u[0].TaxableValue),D.VATAmount=y.GetNumberString(u[0].VATStdAmt),D.Adjustment=y.GetNumberString(u[0].StdAdjustment),i[0]+=parseFloat(u[0].TaxableValue),i[1]+=parseFloat(u[0].VATStdAmt),i[2]+=parseFloat(u[0].StdAdjustment)),a.push(D),D={},D.Section="2",D.Description="Tax Refunds provided to Tourists under the Tax Returns or Tourists Scheme",t.Columns[4].Contains("VATStdAmt")&&(e=t.Tables[4].Compute("sum","TaxableValue"),null!=e&&(i[0]+=parseFloat(e),D.TaxableValue=y.GetNumberString(e)),e=t.Tables[4].Compute("VATStdAmt","sum"),null!=e&&(i[1]+=parseFloat(e),D.VATAmount=y.GetNumberString(e))),a.push(D),D={},D.Section="3",D.Description="Supplies subject to the reverse charge provisions",t.Columns[3].Contains("VATStd")&&(e=t.Tables[3].filter(e=>e.VATRCM>0&&3==e.ProductType).Compute("sum","TaxableValue"),null!=e&&(i[0]+=parseFloat(e),p[0]+=parseFloat(e),D.TaxableValue=y.GetNumberString(e)),e=t.Tables[3].filter(e=>e.VATRCM>0&&3==e.ProductType).Compute("sum","VATRCMAmt"),null!=e&&(i[1]+=parseFloat(e),p[1]+=parseFloat(e),D.VATAmount=y.GetNumberString(e)),e=t.Tables[3].filter(e=>e.VATRCM>0&&3==e.ProductType).Compute("sum","RCMAdjustment"),null!=e&&(i[2]+=parseFloat(e),p[2]+=parseFloat(e),D.Adjustment=y.GetNumberString(e))),a.push(D),D={},D.Section="4",D.Description="Zero rated supplies",e=t.Tables[1].filter(e=>13==e.SaleType).Compute("sum","TaxableValue"),D.TaxableValue=y.GetNumberString(e),null!=e&&(i[0]+=parseFloat(e)),a.push(D),D={},D.Section="5",D.Description="Exempt supplies",e=t.Tables[1].filter(e=>14==e.SaleType).Compute("sum","TaxableValue"),D.TaxableValue=y.GetNumberString(e),null!=e&&(i[0]+=parseFloat(e)),a.push(D),D={},D.Section="6",D.Description="Goods imported into the UAE",D.TaxableValue=y.GetNumberString(t.Tables[2][0].TaxableValue),null!=D.TaxableValue&&(i[0]+=parseFloat(D.TaxableValue),p[0]+=parseFloat(D.TaxableValue)),D.VATAmount=y.GetNumberString(t.Tables[2][0].VATCustomAmt),null!=t.Tables[2][0].VATCustomAmt&&(i[1]+=parseFloat(t.Tables[2][0].VATCustomAmt),p[1]+=parseFloat(t.Tables[2][0].VATCustomAmt)),a.push(D),D={},D.Section="7",D.Description="Adjustments to goods imported into the UAE",t.Columns[5].Contains("VATStdAmt")&&(e=t.Tables[5].Compute("TaxableValue","sum"),null!=e&&(i[2]+=parseFloat(e),D.Adjustment=y.GetNumberString(e))),a.push(D),D={},D.Section="8",D.Description="Totals",D.TaxableValue=y.GetNumberString(i[0]),D.VATAmount=y.GetNumberString(i[1]),D.Adjustment=y.GetNumberString(i[2]),a.push(D),a.push(),D={},D.Description="VAT on Expenses and all other Inputs",D.StyleIsBold="1",a.push(D),D={},D.TaxableValue="Amount (AED)",D.VATAmount="Recoverable VAT Amount (AED)",D.Adjustment="Adjustment (AED)",D.StyleIsBold="1",a.push(D),D={},D.Section="9",D.Description="Standard rated expenses",t.Columns[3].Contains("VATStd")&&(e=t.Tables[3].filter(e=>e.VATStd>0).Compute("sum","TaxableValue"),null!=e&&(D.TaxableValue=y.GetNumberString(e),C[0]+=parseFloat(e)),e=t.Tables[3].filter(e=>e.VATStd>0).Compute("sum","VATStdAmt"),null!=e&&(D.VATAmount=y.GetNumberString(e),C[1]+=parseFloat(e)),e=t.Tables[3].filter(e=>e.VATStd>0).Compute("sum","StdAdjustment"),null!=e&&(D.Adjustment=y.GetNumberString(e),C[2]+=parseFloat(e))),a.push(D),D={},D.Section="10",D.Description="Supplies subject to the reverse charge provisions",D.TaxableValue=y.GetNumberString(p[0]),C[0]+=p[0],D.VATAmount=y.GetNumberString(p[1]),C[1]+=p[1],D.Adjustment=y.GetNumberString(p[2]),C[2]+=p[2],a.push(D),D={},D.Section="11",D.Description="Totals",D.TaxableValue=y.GetNumberString(C[0]),D.VATAmount=y.GetNumberString(C[1]),D.Adjustment=y.GetNumberString(C[2]),a.push(D),D={},a.push(D),D={},D.Description="Net VAT due",D.StyleIsBold="1",a.push(D),D={},D.Section="12",D.Description="Total value of due tax for the period",D.TaxableValue=y.GetNumberString(i[1]+i[2]),a.push(D),D={},D.Section="13",D.Description="Total value of recoverable tax for the period",D.TaxableValue=y.GetNumberString(C[1]+C[2]),a.push(D),D={},D.Section="14",D.Description="Net VAT due(or reclaimed) for the period ",D.TaxableValue=y.GetNumberString(i[1]+i[2]-(C[1]+C[2])),a.push(D),t.Tables.Clear(),t.Tables.push(a)}else if("VATSAS1"==e){let e,o=[],n=(y.GetVATTaxblePersonDetails(),0),a=0,i=0,l=0,s=0,C=0;e={},e.Description="VAT on Sales",e.StyleIsBold="1",o.push(e),e={},e.Section="1",e.Description="Standard rated sales";let p=t.Tables[0].Compute("sum","TaxableValue");null==p&&(p=0),e.TaxableValue=y.GetNumberString(p),n+=parseFloat(p),p=t.Tables[0].Compute("sum","Adjustment"),null==p&&(p=0),e.Adjustment=y.GetNumberString(p),a+=parseFloat(p),p=t.Tables[0].Compute("sum","VATStdAmt)"),null==p&&(p=0),e.VATAmount=y.GetNumberString(p),i+=parseFloat(p),o.push(e),e={},e.Section="2",e.Description="Sales to Customers in VAT implementing GCC Countries",p=t.Tables[1].filter(e=>8==e.AccType).Compute("sum","TaxableValue"),null==p&&(p=0),e.TaxableValue=y.GetNumberString(p),n+=parseFloat(p),p=t.Tables[1].filter(e=>8==e.AccType).Compute("sum","Adjustment"),null==p&&(p=0),e.Adjustment=y.GetNumberString(p),a+=parseFloat(p),o.push(e),e={},e.Section="3",e.Description="Zero rated domestic sales",p=t.Tables[1].filter(e=>13==e.SaleType).Compute("sum","TaxableValue"),null==p&&(p=0),e.TaxableValue=y.GetNumberString(p),n+=parseFloat(p),p=t.Tables[1].filter(e=>13==e.SaleType).Compute("sum","Adjustment"),null==p&&(p=0),e.Adjustment=y.GetNumberString(p),a+=parseFloat(p),o.push(e),e={},e.Section="4",e.Description="Exports",o.push(e),e={},e.Section="5",e.Description="Exempt sales",p=t.Tables[1].filter(e=>14==e.SaleType).Compute("sum","TaxableValue"),null==p&&(p=0),e.TaxableValue=y.GetNumberString(p),n+=parseFloat(p),p=t.Tables[1].filter(e=>14==e.SaleType).Compute("sum","Adjustment"),null==p&&(p=0),e.Adjustment=y.GetNumberString(p),a+=parseFloat(p),o.push(e),e={},e.Section="6",e.Description="Total Sales",e.TaxableValue=y.GetNumberString(n),e.VATAmount=y.GetNumberString(i),e.Adjustment=y.GetNumberString(a),e.Row_Foreground="Red",o.push(e),o.push(),e={},e.Description="VAT on Purchases",e.StyleIsBold="1",o.push(e),e={},e.Section="7",e.Description="Standard rated domestic purchases",t.Columns[3].Contains("VATStd")&&(p=t.Tables[3].filter(e=>e.VATStd>0).Compute("sum","TaxableValue"),null==p&&(p=0),e.TaxableValue=y.GetNumberString(p),l+=parseFloat(p),p=t.Tables[3].filter(e=>e.VATStd>0).Compute("sum","VATStdAmt"),null==p&&(p=0),e.VATAmount=y.GetNumberString(p),C+=parseFloat(p),p=t.Tables[3].filter(e=>e.VATStd>0).Compute("sum","Adjustment"),null==p&&(p=0),e.Adjustment=y.GetNumberString(p),s+=parseFloat(p)),o.push(e),e={},e.Section="8",e.Description="Imports subject to VAT paid at customs",t.Columns[3].Contains("VATStd")&&(p=t.Tables[3].filter(e=>e.VATCustom>0).Compute("sum","TaxableValue"),null==p&&(p=0),e.TaxableValue=y.GetNumberString(p),l+=parseFloat(p),p=t.Tables[3].filter(e=>e.VATCustom>0).Compute("sum","VATCustomAmt"),null==p&&(p=0),e.VATAmount=y.GetNumberString(p),C+=parseFloat(p),p=t.Tables[3].filter(e=>e.VATCustom>0).Compute("sum","Adjustment"),null==p&&(p=0),e.Adjustment=y.GetNumberString(p),s+=parseFloat(p)),o.push(e),e={},e.Section="9",e.Description="Imports subject to VAT accounted for through reverse charge mechanism",t.Columns[3].Contains("VATStd")&&(p=t.Tables[3].filter(e=>e.VATRCM>0).Compute("sum","TaxableValue"),null==p&&(p=0),e.TaxableValue=y.GetNumberString(p),l+=parseFloat(p),p=t.Tables[3].filter(e=>e.VATRCM>0).Compute("sum","VATRCMAmt"),null==p&&(p=0),e.VATAmount=y.GetNumberString(p),C+=parseFloat(p),p=t.Tables[3].filter(e=>e.VATRCM>0).Compute("sum","Adjustment"),null==p&&(p=0),e.Adjustment=y.GetNumberString(p),s+=parseFloat(p)),o.push(e),e={},e.Section="10",e.Description="Zero rated purchases",t.Columns[3].Contains("VATStd")&&(p=t.Tables[3].filter(e=>0==e.VAT&&13==e.SaleType).Compute("sum","TaxableValue"),null==p&&(p=0),e.TaxableValue=y.GetNumberString(p),l+=parseFloat(p),p=t.Tables[3].filter(e=>0==e.VAT&&13==e.SaleType).Compute("sum","Adjustment"),null==p&&(p=0),e.Adjustment=y.GetNumberString(p),s+=parseFloat(p)),o.push(e),e={},e.Section="11",e.Description="Exempt purchases",t.Columns[3].Contains("VATStd")&&(p=t.Tables[3].filter(e=>0==e.VAT&&14==e.SaleType).Compute("sum","TaxableValue"),null==p&&(p=0),e.TaxableValue=y.GetNumberString(p),l+=parseFloat(p),p=t.Tables[3].filter(e=>0==e.VAT&&14==e.SaleType).Compute("sum","Adjustment"),null==p&&(p=0),e.Adjustment=y.GetNumberString(p),s+=parseFloat(p)),o.push(e),e={},e.Section="12",e.Description="Total Purchases",e.TaxableValue=y.GetNumberString(l),e.VATAmount=y.GetNumberString(C),e.Adjustment=y.GetNumberString(s),e.Row_Foreground="Red",o.push(e),o.push(),e={},e.Section="13",e.Description="Total VAT due for current period",e.VATAmount=y.GetNumberString(i-C),o.push(e),e={},e.Section="14",e.Description="Corrections from previous period(between SAR 5,000+/-)",e.VATAmount=0,o.push(e),e={},e.Section="15",e.Description="VAT credit carried forward from previous period(s)",e.VATAmount=0,o.push(e),e={},e.Description="Net VAT due(or claim)",e.VATAmount=y.GetNumberString(i-C),o.push(e),t.Tables.Clear(),t.Tables.push(o)}else if("VATFATPurchaseList"==e||"VATFATSupplyList"==e){let o,n,i=0,l="",C=t.Tables[0];a=new h,"VATFATPurchaseList"==e?(l="SupplierName",a.ValueColumn="SupplierTIN",o=C.Compute("sum","PurchaseValueAED"),i=null!=o?parseFloat(o):0,n={},n.XMLID="PurchaseTotalAED",n[l]="Purchase Total AED",n[a.ValueColumn]=i.ToString("N2"),n.StyleIsBold="1",C.push(n),o=C.Compute("sum","VATValueAED"),i=null!=o?parseFloat(o):0,n={},n.XMLID="VATTotalAED",n[l]="VAT Total AED",n[a.ValueColumn]=i.ToString("N2"),n.StyleIsBold="1",C.push(n)):"VATFATSupplyList"==e&&(l="CustomerName",a.ValueColumn="CustomerTIN",o=C.Compute("sum","SupplyValueAED"),i=null!=o?parseFloat(o):0,n={},n.XMLID="SupplyTotalAED",n[l]="Supply Total AED",n[a.ValueColumn]=i.ToString("N2"),n.StyleIsBold="1",C.push(n),o=C.Compute("sum","VATValueAED"),i=null!=o?parseFloat(o):0,n={},n.XMLID="VATTotalAED",n[l]="VAT Total AED",n[a.ValueColumn]=i.ToString("N2"),n.StyleIsBold="1",C.push(n)),n={},n.XMLID="TransactionCountTotal",n[l]="Transaction Count Total",n[a.ValueColumn]=C.filter(e=>!s.e.StringIsNullOrEmpty(e.VoucherNo)).ToTable(!0,["VoucherNo"]).length.toString(),n.StyleIsBold="1",C.push(n);let p=y.GetVATTaxblePersonDetails().Tables[0];n={},n[l]="Taxable Person details",n.StyleIsBold="1",C.InsertAt(n,0),n={},n.XMLID="TaxablePersonNameEn",n[l]="Taxable Person Name (English)",p.length>1&&(n[a.ValueColumn]=s.e.String(p.Compute("max","TaxPerName"))),n[a.ValueColumn]=p.length>0?s.e.String(p[0].TaxPerName):"",C.InsertAt(n,1),n={},n.XMLID="TaxablePersonNameAr",n[l]="Taxable Person Name (Arabic)",p.length>1&&(n[a.ValueColumn]=s.e.String(p.Compute("max","TaxPerNameArabic"))),n[a.ValueColumn]=p.length>0?s.e.String(p[0].TaxPerNameArabic):"",C.InsertAt(n,2),n={},n.XMLID="TRN",n[l]="TRN",n[a.ValueColumn]=p.length>1?s.e.String(p.Compute("max","TRN")):p.length>0?s.e.String(p[0].TRN):"",C.InsertAt(n,3),n={},n.XMLID="TaxAgencyName",n[l]="Tax Agency Name",p.length>1&&(n[a.ValueColumn]=s.e.String(p.Compute("max","TaxAgencyName"))),n[a.ValueColumn]=p.length>0?s.e.String(p[0].TaxAgencyName):"",C.InsertAt(n,4),n={},n.XMLID="TAN",n[l]="TAN",p.length>1&&(n[a.ValueColumn]=s.e.String(p.Compute("max","AGNTAN"))),n[a.ValueColumn]=p.length>0?s.e.String(p[0].AGNTAN):"",C.InsertAt(n,5),n={},n.XMLID="TaxAgentName",n[l]="Tax Agent Name",p.length>1&&(n[a.ValueColumn]=s.e.String(p.Compute("max","AgentName"))),n[a.ValueColumn]=p.length>0?s.e.String(p[0].AgentName):"",C.InsertAt(n,6),n={},n.XMLID="TAAN",n[l]="TAAN",p.length>1&&(n[a.ValueColumn]=s.e.String(p.Compute("max","TAAN"))),n[a.ValueColumn]=p.length>0?s.e.String(p[0].TAAN):"",C.InsertAt(n,7),n={},n.XMLID="PeriodStart",n[l]="VAT Period Start",n[a.ValueColumn]="",C.InsertAt(n,8),n={},n.XMLID="PeriodEnd",n[l]="VAT Period End",n[a.ValueColumn]="",C.InsertAt(n,9),n={},n.XMLID="FAFCreationDate",n[l]="FAF creation date",n[a.ValueColumn]="",C.InsertAt(n,10),n={},n.XMLID="ProductVersion",n[l]="Product Version",n[a.ValueColumn]="",C.InsertAt(n,11),n={},n.XMLID="FAFVersion",n[l]="FAF Version",n[a.ValueColumn]="",C.InsertAt(n,12),a.CompanyStartRow=1,a.CompanyEndRow=12,n={},C.InsertAt(n,13),a.DataStartRow=14,a.DataEndRow=C.length-4}return a}static GetVATTaxblePersonDetails(){return l.a.report.DataSet("RPT022","\ndeclare @VATDIM nvarchar(20)\nselect @VATDIM=Value from adm_globalpreferences with(nolock) where Name='VATMaintainOn'\nif @VATDIM='50001'\nselect Name TaxPerName,AliasName TaxPerNameArabic,ccAlpha43 TRN,ccAlpha44 TaxAgencyName,ccAlpha45 AGNTAN,ccAlpha46 AgentName,ccAlpha47 TAAN from com_division with(nolock) where NodeID="+l.a.SessionManager.DivisionID+"\nelse if @VATDIM='50002'\nselect Name TaxPerName,AliasName TaxPerNameArabic,ccAlpha43 TRN,ccAlpha44 TaxAgencyName,ccAlpha45 AGNTAN,ccAlpha46 AgentName,ccAlpha47 TAAN from com_location with(nolock) where NodeID="+l.a.SessionManager.LocationID+"\nelse\nselect  C.Name TaxPerName,acAlpha43 TaxPerNameArabic,acAlpha44 TRN,acAlpha45 TaxAgencyName,acAlpha46 AGNTAN,acAlpha47 AgentName,acAlpha48 TAAN,acAlpha49,acAlpha50 \nfrom PACT2C.dbo.ADM_CompanyExtended E with(nolock) inner join PACT2C.dbo.ADM_Company C with(nolock) on C.CompanyID=E.CompanyID\nwhere C.CompanyID="+l.a.SessionManager.CompanyIndex)}static GetNumberString(e){return s.e.IsNum(e)?parseFloat(e).ToString("N"+l.a.SessionManager.Preferences.DecimalsinAmount):y.GetNumberString(0)}static FillRows(e,t){let o,n=!1;e.Data.Clear(),t.forEach(t=>{n=!1;let a=new d.d(e.ReportColumns.length);"1"==s.e.String(t.StyleIsBold)&&(n=!0),o="",""!=s.e.String(t.Row_Foreground)&&(o=t.Row_Foreground.toString());for(let i=0;i<e.ReportColumns.length;i++){let l=e.ReportColumns[i];if(!Object(I.isNullOrUndefined)(t[l.ID]))continue;let C=s.e.String(t[l.ID]);""!=C&&(m.ReportViewModel.SetCellValue(C,l.DataFormat,l.ColumnType,-1,a.Cells[i]),(n||""!=o)&&(a.Cells[i].IsNormal=!1,a.Cells[i].CellAppearance=l.DataAppearance.Clone(),n&&(a.Cells[i].CellAppearance.IsBold=!0),o.length>0&&(a.Cells[i].CellAppearance.ForeColor=o)))}e.Data.push(a)})}}class b extends r.b{constructor(){super(...arguments),this.Status=""}}class A extends b{constructor(){super(),this.GSTR1=["b2b","b2cl","b2cs","cdnr","cdnur","exp","at","atadj","exemp","hsn","docs"],this.lstGSTReport=new T.a,this.lstGridViewModel=new T.a,this.dicReportID=new T.a,this.Tab=new u.a;let e=l.a.common.GetDataTable("GST001","");for(let t=0;t<this.GSTR1.length;t++){let o=this.GSTR1[t],n=e.filter(e=>e.ReportName==o);if(0==n.length)continue;let a=new D.a;a.Width="",a.Height=0,this.lstGridViewModel.push(o,a),this.dicReportID.push(o,parseInt(n[0].ReportID));let i=new u.b;i.Name=o,i.Header=o.replace("GSTR1_",""),i.Fields.push(a),this.Tab.Tabs.push(i)}0==this.lstGridViewModel.length&&(this.DisplayMessage="No GSTR1 Reports Found")}static Update_at(e,t=!1){let o,n,a=null,i=0,l=0,C=0,p=0,r=0,T=0,D="",u="";e.Columns[0].push("InvValue");for(let m=0;m<e.Tables[0].length;m++){for(o=e.Tables[0][m],D="AccountID="+s.e.String(o.AccountID)+" and RefDocNo='"+s.e.String(o.VoucherNo)+"' and AdjAmount!=0",D!=u&&(a=e.Tables[1].filter(e=>e.AccountID==s.e.String(o.AccountID)&&e.RefDocNo==s.e.String(o.VoucherNo)&&0!=e.AdjAmount),i=0,u=D),o.InvValue=o.AdvReceived,r=null!=o.AdvReceived?parseFloat(o.AdvReceived):0,r=Math.abs(r),T=r;i<a.length;){if(p=Math.abs(parseFloat(a[i].AdjAmount)),p>=r){a[i].AdjAmount=p-r,r=0,e.Tables[0].RemoveAt(m),m--;break}a[i].AdjAmount=0,r-=p,o.AdvReceived=r,i++}r>0&&(C=null!=o.CessAmt?parseFloat(o.CessAmt):0,C>0&&T!=r&&(C=parseFloat((C*r/T).ToString("N2")),o.CessAmt=C))}let d=[];if(t)n={},e.Tables[0].length>0&&(n.TaxableValue=e.Tables[0].Compute("sum(AdvReceived)",""),n.CessAmt=e.Tables[0].Compute("sum(CessAmt)",""),n.IntTaxAmt=e.Tables[0].Compute("sum(IntTaxAmt)",""),n.CTaxAmt=e.Tables[0].Compute("sum(CTaxAmt)",""),n.STaxAmt=e.Tables[0].Compute("sum(STaxAmt)",""),n.Cnt=e.Tables[0].ToTable(!0,["VoucherNo"]).length),d.push(n);else{n=null,u=null;for(let t=0;t<e.Tables[0].length;t++)o=e.Tables[0][t],D="PoS='"+s.e.String(o.PoS)+"' and Rate="+s.e.String(o.Rate),D!=u&&(n={},n.PoS=o.PoS,n.Rate=o.Rate,d.push(n),u=D,l=0,C=0),l+=parseFloat(o.AdvReceived),C+=null!=o.CessAmt?parseFloat(o.CessAmt):0,n.AdvReceived=l,n.CessAmt=C}e.Tables.Clear(),e.Tables.push(d)}static Update_atadj(e,t=!1){let o,n,a=null,i=0,l=0,C=0,p=0,r=0,T=0,D=0,u="",d="";for(let I=0;I<e.Tables[0].length;I++){if(o=e.Tables[0][I],u="AccountID="+s.e.String(o.AccountID)+" and RefDocNo='"+s.e.String(o.VoucherNo)+"' and AdjAmount!=0",u!=d){if(a=e.Tables[1].filter(e=>e.AccountID==s.e.String(o.AccountID)&&e.RefDocNo==s.e.String(o.VoucherNo)&&0!=e.AdjAmount),0==a.length){e.Tables[0].RemoveAt(I),I--;continue}i=0,d=u}for(r=null!=o.AdvReceived?parseFloat(o.AdvReceived):0,r=Math.abs(r),D=r,T=0;i<a.length;){if(p=Math.abs(parseFloat(a[i].AdjAmount)),p>=r){T+=r,a[i].AdjAmount=p-r,r-=p;break}a[i].AdjAmount=0,T+=p,r-=p,i++}0!=T?(o.AdvAdjusted=T,C=null!=o.CessAmt?parseFloat(o.CessAmt):0,C>0&&0!=T&&D!=T&&(C=parseFloat((C*T/D).ToString("N2")),o.CessAmt=C)):(e.Tables[0].RemoveAt(I),I--)}let m=[];if(t)n={},e.Tables[0].length>0&&(n.TaxableValue=e.Tables[0].Compute("sum(AdvAdjusted)",""),n.CessAmt=e.Tables[0].Compute("sum(CessAmt)",""),n.IntTaxAmt=e.Tables[0].Compute("sum(IntTaxAmt)",""),n.CTaxAmt=e.Tables[0].Compute("sum(CTaxAmt)",""),n.STaxAmt=e.Tables[0].Compute("sum(STaxAmt)",""),n.Cnt=e.Tables[0].ToTable(!0,["VoucherNo"]).length),m.push(n);else{n=null,d=null;for(let t=0;t<e.Tables[0].length;t++)o=e.Tables[0][t],u="PoS='"+o.PoS.toString()+"' and Rate="+o.Rate.toString(),u!=d&&(n={},n.PoS=o.PoS,n.Rate=o.Rate,m.push(n),d=u,l=0,C=0),l+=parseFloat(o.AdvAdjusted),C+=null!=o.CessAmt?parseFloat(o.CessAmt):0,n.AdvAdjusted=l,n.CessAmt=C}e.Tables.Clear(),e.Tables.push(m)}}class N extends r.b{constructor(){super(),this.dtMain=null,this.dtFeatures=null,this.dtSalesDocs=null,this.dicDataTables=new T.a,this.Columns=new Array,this.OldRowTypeValue="",this.GSTType="",this.dtMain=[],this.ReportGrid=new D.a,this.ReportGrid.Table=this.dtMain,this.ReportGrid.CanUserAddRows=!0,this.ReportGrid.CanUserDeleteRows=!0}onBeginEdit(e,t,o){return!1}static SetQueryWhere(e,t,o,n){let a,i=null!=n?n.Date():o.AddMonths(1).AddDays(-1);return a="atadj"==t?" and INV.DocDate<convert(float,convert(datetime,'"+o.ToString("dd MMM yyyy")+"'))":t.endsWith("GSTR2_")?" and INV.BillDate between convert(float,convert(datetime,'"+o.ToString("dd MMM yyyy")+"')) and convert(float,convert(datetime,'"+i.ToString("dd MMM yyyy")+"'))":" and INV.DocDate between convert(float,convert(datetime,'"+o.ToString("dd MMM yyyy")+"')) and convert(float,convert(datetime,'"+i.ToString("dd MMM yyyy")+"'))","True"==l.a.SessionManager.Preferences.EnableLocationWise.toString()&&"True"==l.a.SessionManager.Preferences["LW Reports"]&&(S.IsMultipleLocs?a+=" and DCC.dcCCNID2 in ("+S.LocationWhere+")":l.a.SessionManager.LocationID>0?a+=" and DCC.dcCCNID2="+l.a.SessionManager.LocationID:"1"!=l.a.SessionManager.RoleID&&l.a.SessionManager.LocationWhere.length>0&&(a+=" and DCC.dcCCNID2 in ("+l.a.SessionManager.LocationWhere+")"),"True"!=l.a.SessionManager.Preferences.Login.toString()&&"True"!=l.a.SessionManager.Preferences.EnableDivisionWise.toString()||(l.a.SessionManager.DivisionID>0?a+=" and DCC.dcCCNID1="+l.a.SessionManager.DivisionID:"1"!=l.a.SessionManager.RoleID&&l.a.SessionManager.DivisionWhere.length>0&&(a+=" and DCC.dcCCNID1 in ("+l.a.SessionManager.DivisionWhere+")"))),(e=e.Replace("@WHERE@",a)).Contains("@FROMDATE@")&&(e=e.Replace("@FROMDATE@","'"+o.ToString("dd MMM yyyy")+"'")),"at"!=t&&"atadj"!=t&&"GSTR2_at"!=t&&"GSTR2_atadj"!=t||(e=e.Replace("@atWHERE@"," and CB.DocDate between convert(float,convert(datetime,'"+o.ToString("dd MMM yyyy")+"')) and convert(float,convert(datetime,'"+i.ToString("dd MMM yyyy")+"'))")),e}static SetVATQueryWhere(e,t,o,n){let a="";return"VATFATPurchaseList"!=t&&"VATFATSupplyList"!=t||(a=" and INV.DocDate between convert(float,convert(datetime,'"+o.ToString("dd MMM yyyy")+"')) and convert(float,convert(datetime,'"+n.ToString("dd MMM yyyy")+"'))"),"True"==l.a.SessionManager.Preferences.EnableLocationWise.toString()&&"True"==l.a.SessionManager.Preferences["LW Reports"]&&(S.IsMultipleLocs?a+=" and DCC.dcCCNID2 in ("+S.LocationWhere+")":l.a.SessionManager.LocationID>0?a+=" and DCC.dcCCNID2="+l.a.SessionManager.LocationID:"1"!=l.a.SessionManager.RoleID&&l.a.SessionManager.LocationWhere.length>0&&(a+=" and DCC.dcCCNID2 in ("+l.a.SessionManager.LocationWhere+")"),"True"!=l.a.SessionManager.Preferences.Login.toString()&&"True"!=l.a.SessionManager.Preferences.EnableDivisionWise.toString()||(l.a.SessionManager.DivisionID>0?a+=" and DCC.dcCCNID1="+l.a.SessionManager.DivisionID:"1"!=l.a.SessionManager.RoleID&&l.a.SessionManager.DivisionWhere.length>0&&(a+=" and DCC.dcCCNID1 in ("+l.a.SessionManager.DivisionWhere+")"))),(e=e.Replace("@WHERE@",a)).Contains("@FROMDATE@")&&(e=e.Replace("@FROMDATE@","'"+o.ToString("dd MMM yyyy")+"'")),e.Contains("@TODATE@")&&(e=e.Replace("@TODATE@","'"+n.ToString("dd MMM yyyy")+"'")),e}static GetReportDocs(e){let t="",o=new Array,n=l.a.common.GetDataTable("GST003",e);for(let a=0;a<n.length;a++){let e=n[a].DefaultPreferences.toString();if(0==e.length)continue;let i=new s.f;i.LoadXml(e);let l=i.SelectSingleNode("UTILXML");if(null!=l&&l.children.length>0)for(let n=1;n<l.children.length;n++){let e=s.f.SelectSingleNode(l.children[n],"RowType");e.innerHTML.length>0&&!o.Contains(e.innerHTML)&&(o.push(e.innerHTML),t.length>0&&(t+=","),t+=e.innerHTML)}}return t}static ResetData(e,t,o,n,a,i=null){let l=null;"at"==e?A.Update_at(t):"atadj"==e?A.Update_atadj(t):"GSTR2_b2b"==e||"GSTR2_b2bur"==e||"GSTR2_cdnr"==e||"GSTR2_cdnur"==e||"GSTR2_imps"==e||"GSTR2_impg"==e?y.Add_AvailedITC(e,t):"GSTR2_at"==e?y.Update_at(t):"GSTR2_atadj"==e?y.Update_atadj(t):e.startsWith("GSTR3_GSTR3B")?this.GSTR3ViewModel.Update_GSTR3_GSTR3B(e,t,o,n,i):e.startsWith("VAT")&&(l=y.UpdateVAT(e,t,o,n));for(let s=0;s<t.Columns[0].length;s++);if(a.length>0){let o="dd-MMM-yyyy";e.startsWith("VAT")&&(o="dd-MM-yyyy"),t.Tables[0].forEach(e=>{a.forEach(t=>{e[t]&&(e[t+"_Key"]=new Date(e[t]).ToString(o))})})}return l}}var g=o("wlFP"),R=o("0/4Q"),M=o("EQd/");let O=(()=>{class e{static GetGSTDocumentFields(t,o){try{if(e.dsBuffer_GST.ContainsKey(t)&&e.dsBuffer_GST[t].ContainsKey(o))return e.dsBuffer_GST[t][o];let n="";if("NUM"==o)n="SELECT C.CostCenterColID ID\n,Case when C.SysColumnName like 'dcCalcNum%' then ISNULL(R.ResourceData,C.UserColumnName) +'_Calculated' else ISNULL(R.ResourceData,C.UserColumnName) end ColumnName\n,C.SysTableName,C.SysColumnName,C.ColumnCostCenterID\nFROM ADM_CostCenterDef C WITH(NOLOCK)\nLEFT JOIN COM_LanguageResources R WITH(NOLOCK) ON R.ResourceID=C.ResourceID AND R.LanguageID=1\nWHERE CostCenterID="+t+" AND (SysColumnName LIKE 'dcNum%' or SysColumnName LIKE 'dcCalcNum%' or SysColumnName in ('Gross','Rate','StockValue','Quantity')) AND SysColumnName not LIKE '%dcCalcNumFC%' AND IsColumnInUse=1";else if("NUMFC"==o)n="SELECT C.CostCenterColID ID\n,Case when C.SysColumnName like 'dcCalcNumFC%' then ISNULL(R.ResourceData,C.UserColumnName) +'_FCCalculated'\nwhen C.SysColumnName like 'dcCalcNum%' then ISNULL(R.ResourceData,C.UserColumnName) +'_Calculated' \nelse ISNULL(R.ResourceData,C.UserColumnName) end ColumnName\n,C.SysTableName,C.SysColumnName,C.ColumnCostCenterID\nFROM ADM_CostCenterDef C WITH(NOLOCK)\nLEFT JOIN COM_LanguageResources R WITH(NOLOCK) ON R.ResourceID=C.ResourceID AND R.LanguageID=1\nWHERE CostCenterID="+t+" AND (SysColumnName LIKE 'dcNum%' or SysColumnName LIKE 'dcCalcNum%' or SysColumnName in ('Gross','Rate','StockValue','Quantity')) AND IsColumnInUse=1";else if("DIM"==o)n="SELECT C.CostCenterColID ID,ISNULL(R.ResourceData,C.UserColumnName) ColumnName,C.SysTableName,C.SysColumnName,C.ColumnCostCenterID\nFROM ADM_CostCenterDef C WITH(NOLOCK)\nLEFT JOIN COM_LanguageResources R WITH(NOLOCK) ON R.ResourceID=C.ResourceID AND R.LanguageID=1\nWHERE CostCenterID="+t+" AND IsColumnInUse=1",n+=t>4e4&&t<5e4?" AND SysColumnName LIKE '%ccnid%'":"";else if("TEXT"==o||"TEXTALL"==o)n="SELECT C.CostCenterColID ID,ISNULL(R.ResourceData,C.UserColumnName) ColumnName,C.SysTableName,C.SysColumnName,C.ColumnCostCenterID\nFROM ADM_CostCenterDef C WITH(NOLOCK)\nLEFT JOIN COM_LanguageResources R WITH(NOLOCK) ON R.ResourceID=C.ResourceID AND R.LanguageID=1\nWHERE CostCenterID="+t+" AND IsColumnInUse=1",n+=t>4e4&&t<5e4?"TEXT"==o?" AND SysColumnName LIKE '%alpha%'":" AND (SysColumnName LIKE '%alpha%' or IsColumnUserDefined=0) and ColumnDataType!='FLOAT' and ColumnDataType!='DATE'":"";else if("DATE"==o)n="SELECT C.CostCenterColID ID,ISNULL(R.ResourceData,C.UserColumnName) ColumnName,C.SysTableName,C.SysColumnName,C.ColumnCostCenterID\nFROM ADM_CostCenterDef C WITH(NOLOCK)\nLEFT JOIN COM_LanguageResources R WITH(NOLOCK) ON R.ResourceID=C.ResourceID AND R.LanguageID=1\nWHERE CostCenterID="+t+" AND IsColumnInUse=1 AND UserColumnType='DATE'";else if("TEXTUOM"==o)n="SELECT C.CostCenterColID ID,ISNULL(R.ResourceData,C.UserColumnName) ColumnName,C.SysTableName,C.SysColumnName,C.ColumnCostCenterID\nFROM ADM_CostCenterDef C WITH(NOLOCK)\nLEFT JOIN COM_LanguageResources R WITH(NOLOCK) ON R.ResourceID=C.ResourceID AND R.LanguageID=1\nWHERE CostCenterID="+t+" AND IsColumnInUse=1",n+=t>4e4&&t<5e4?" AND (SysColumnName LIKE '%alpha%' or SysColumnName='Unit')":"";else{if("NatureofDocument"==o){if(null==e.dtNatureofDocument){let t={Tables:[]};e.dtNatureofDocument=[],e.dtNatureofDocument.push({ID:"-101",ColumnName:"Invoices for outward supply",SysTableName:null,SysColumnName:null}),e.dtNatureofDocument.push({ID:"-102",ColumnName:"Invoices for inward supply from unregistered person",SysTableName:null,SysColumnName:null}),e.dtNatureofDocument.push({ID:"-103",ColumnName:"Revised Invoice",SysTableName:null,SysColumnName:null}),e.dtNatureofDocument.push({ID:"-104",ColumnName:"Debit Note",SysTableName:null,SysColumnName:null}),e.dtNatureofDocument.push({ID:"-105",ColumnName:"Credit Note",SysTableName:null,SysColumnName:null}),e.dtNatureofDocument.push({ID:"-106",ColumnName:"Receipt Voucher",SysTableName:null,SysColumnName:null}),e.dtNatureofDocument.push({ID:"-107",ColumnName:"Payment Voucher",SysTableName:null,SysColumnName:null}),e.dtNatureofDocument.push({ID:"-108",ColumnName:"Refund Voucher",SysTableName:null,SysColumnName:null}),e.dtNatureofDocument.push({ID:"-109",ColumnName:"Delivery Challan for job work",SysTableName:null,SysColumnName:null}),e.dtNatureofDocument.push({ID:"-110",ColumnName:"Delivery Challan for supply on approval",SysTableName:null,SysColumnName:null}),e.dtNatureofDocument.push({ID:"-111",ColumnName:"Delivery Challan in case of liquid gas",SysTableName:null,SysColumnName:null}),e.dtNatureofDocument.push({ID:"-112",ColumnName:"Delivery Challan in case other than by way of supply (excluding at S no. 9 to 11)",SysTableName:null,SysColumnName:null}),t.Tables.push(e.dtNatureofDocument)}return e.dtNatureofDocument}if("ANX1_B2BDocType"==o){let n=[];return n.push({ID:"-401",ColumnName:"Invoice",SysTableName:null,SysColumnName:null}),n.push({ID:"-402",ColumnName:"Debit Note",SysTableName:null,SysColumnName:null}),n.push({ID:"-403",ColumnName:"Credit Note",SysTableName:null,SysColumnName:null}),e.dsBuffer_GST.ContainsKey(t)||e.dsBuffer_GST.push(t,new T.a),e.dsBuffer_GST[t].ContainsKey(o)||e.dsBuffer_GST[t].push(o,n),n}if("cdnrDocumentType"==o){let n=[];return n.push({ID:"-201",ColumnName:"C",SysTableName:null,SysColumnName:null}),n.push({ID:"-202",ColumnName:"D",SysTableName:null,SysColumnName:null}),n.push({ID:"-203",ColumnName:"R",SysTableName:null,SysColumnName:null}),e.dsBuffer_GST.ContainsKey(t)||e.dsBuffer_GST.push(t,new T.a),e.dsBuffer_GST[t].ContainsKey(o)||e.dsBuffer_GST[t].push(o,n),n}if("GSTR3IsReturn"==o){let n=[];return n.push({ID:"-301",ColumnName:"YES",SysTableName:null,SysColumnName:null}),n.push({ID:"-302",ColumnName:"NO",SysTableName:null,SysColumnName:null}),e.dsBuffer_GST.ContainsKey(t)||e.dsBuffer_GST.push(t,new T.a),e.dsBuffer_GST[t].ContainsKey(o)||e.dsBuffer_GST[t].push(o,n),n}}n+=" ORDER BY ColumnName";let a=[];a.push(n),a.push(l.a.SessionManager.UserID),a.push(l.a.SessionManager.LanguageID);let i=l.a.report.ReportDataSet("RPT022",!1,n);return e.dsBuffer_GST.ContainsKey(t)||e.dsBuffer_GST.push(t,new T.a),e.dsBuffer_GST[t].ContainsKey(o)||e.dsBuffer_GST[t].push(o,i.Tables[0]),i.Tables[0]}catch(n){return Logger.ErrorLog("ReportLayout:: GetReportLayout"+n.stack),null}}}return e.CurrentVersion=0,e.dtNatureofDocument=null,e.dsBuffer_GST=new T.c,e})();class V{constructor(){this.dtMain=null,this.dtFeatures=null,this.dtSalesDocs=null,this.dicDataTables=new T.a,this.Columns=new Array,this.DisplayMessage="",this.OldRowTypeValue="",this.GSTType="",this.ParentGSTType=c.None,this.strcdnrDocs=null,this.stratDocs=null,this.stkVAT=!1,this.stkVAT2=!1,this.cmbReport=new R.e,this.cmbReportModule=new R.e,this.cmbReportType=new R.e,this.txtReportName=new M.d,this.txtexempZero=new M.d,this.txtexempNill=new M.d,this.txtexempExempted=new M.d,this.txtexempNonGST=new M.d,this.ReportID=0,this.sb="",this.objReport=null,this.IsCreditAccount=!1,this.IsInvValueEmpty=!1,this.lstDocuments=new T.c,this.DocumentFields=["VoucherNo","DocDate","BillNo","BillDate","DocSeqNo"],this.Entities=new T.a,this.dicNatureOfDocs=new T.a}ReportBuilder_1(e=!1){this.dtMain=[],this.ReportGrid=new D.a,this.ReportGrid.HeaderHeight=36,this.ReportGrid.Width="",this.ReportGrid.Table=this.dtMain,this.ReportGrid.CanUserAddRows=!0,this.ReportGrid.CanUserDeleteRows=!0;let t=[];l.a.SessionManager.IsVAT&&!S.AllowGSTatVAT||(t.push(R.d.ComboBoxItems_2("ANX1","ANX1")),t.push(R.d.ComboBoxItems_2("GSTR-1","GSTR1")),t.push(R.d.ComboBoxItems_2("GSTR-2","GSTR2")),t.push(R.d.ComboBoxItems_2("GSTR-3","GSTR3")),t.push(R.d.ComboBoxItems_2("ClearTax","ClearTax"))),l.a.SessionManager&&t.push(R.d.ComboBoxItems_2("VAT","VAT")),this.cmbReportModule.Items.AddRange(t),this.cmbReportModule.SelectedValue=t[0].Value;let o=[];o.push(R.d.ComboBoxItems_3("b2b","b2b","GSTR1")),o.push(R.d.ComboBoxItems_3("b2cl","b2cl","GSTR1")),o.push(R.d.ComboBoxItems_3("b2cs","b2cs","GSTR1")),o.push(R.d.ComboBoxItems_3("cdnr","cdnr","GSTR1")),o.push(R.d.ComboBoxItems_3("cdnur","cdnur","GSTR1")),o.push(R.d.ComboBoxItems_3("exp","exp","GSTR1")),o.push(R.d.ComboBoxItems_3("at","at","GSTR1")),o.push(R.d.ComboBoxItems_3("atadj","atadj","GSTR1")),o.push(R.d.ComboBoxItems_3("exemp","exemp","GSTR1")),o.push(R.d.ComboBoxItems_3("hsn","hsn","GSTR1")),o.push(R.d.ComboBoxItems_3("docs","docs","GSTR1")),o.push(R.d.ComboBoxItems_3("01 - Sales Invoice and Bill of Supply","CT01","ClearTax")),o.push(R.d.ComboBoxItems_3("02 - Outward Credit Debit Note","CT02","ClearTax")),o.push(R.d.ComboBoxItems_3("03 - Outward Advance Receipts","CT03","ClearTax")),o.push(R.d.ComboBoxItems_3("04 - Purchase Invoice and Bill of Supply","CT04","ClearTax")),o.push(R.d.ComboBoxItems_3("05 - Inward Credit Debit Note","CT05","ClearTax")),o.push(R.d.ComboBoxItems_3("06 - Inward Advance Payments","CT06","ClearTax")),o.push(R.d.ComboBoxItems_3("b2b","GSTR2_b2b","GSTR2")),o.push(R.d.ComboBoxItems_3("b2bur","GSTR2_b2bur","GSTR2")),o.push(R.d.ComboBoxItems_3("imps","GSTR2_imps","GSTR2")),o.push(R.d.ComboBoxItems_3("impg","GSTR2_impg","GSTR2")),o.push(R.d.ComboBoxItems_3("cdnr","GSTR2_cdnr","GSTR2")),o.push(R.d.ComboBoxItems_3("cdnur","GSTR2_cdnur","GSTR2")),o.push(R.d.ComboBoxItems_3("at","GSTR2_at","GSTR2")),o.push(R.d.ComboBoxItems_3("atadj","GSTR2_atadj","GSTR2")),o.push(R.d.ComboBoxItems_3("exemp","GSTR2_exemp","GSTR2")),o.push(R.d.ComboBoxItems_3("hsnsum","GSTR2_hsnsum","GSTR2")),o.push(R.d.ComboBoxItems_3("GSTR3B_Outward","GSTR3_GSTR3B_Outward","GSTR3")),o.push(R.d.ComboBoxItems_3("B2C","ANX1_B2C","ANX1")),o.push(R.d.ComboBoxItems_3("B2B","ANX1_B2B","ANX1")),o.push(R.d.ComboBoxItems_3("EXP","ANX1_EXP","ANX1")),o.push(R.d.ComboBoxItems_3("SEZ","ANX1_SEZ","ANX1")),o.push(R.d.ComboBoxItems_3("DE","ANX1_DE","ANX1")),o.push(R.d.ComboBoxItems_3("REV","ANX1_REV","ANX1")),o.push(R.d.ComboBoxItems_3("IMPS","ANX1_IMPS","ANX1")),o.push(R.d.ComboBoxItems_3("IMPG","ANX1_IMPG","ANX1")),o.push(R.d.ComboBoxItems_3("IMPGSEZ","ANX1_IMPGSEZ","ANX1")),o.push(R.d.ComboBoxItems_3("ECOM","ANX1_ECOM","ANX1")),o.push(R.d.ComboBoxItems_3("Purchase Register","ANX1_PurchaseRegister","ANX1")),o.push(R.d.ComboBoxItems_3("AED - VAT return form","VATAED1","VAT")),o.push(R.d.ComboBoxItems_3("FTA VAT Audit File (Purchase List)","VATFATPurchaseList","VAT")),o.push(R.d.ComboBoxItems_3("FTA VAT Audit File (Supply List)","VATFATSupplyList","VAT")),o.push(R.d.ComboBoxItems_3("SAS - VAT return form","VATSAS1","VAT")),this.cmbReportType.Items.AddRange(o),e||(this.cmbReportModule_SelectionChanged(),this.ClearReportModel(),this.cmbReportType_SelectionChanged())}ReportBuilder_2(e,t){this.GSTType=t,this.DisplayMessage="",this.dtMain=[],this.ReportGrid=new D.a,this.ReportGrid.Table=this.dtMain;let o=[];o.push({ReportID:e,ReportName:"RPT"}),this.cmbReport=new R.e,this.txtReportName=new M.d,this.txtexempZero=new M.d,this.txtexempNill=new M.d,this.txtexempExempted=new M.d,this.txtexempNonGST=new M.d,this.cmbReport.Items=o,this.cmbReport.SetSelectedItem(e.toString())}cmbReportModule_SelectionChanged(){if(this.cmbReportModule.SelectedValue&&this.cmbReportType.Items.length>0){this.dicDataTables.Clear();let e=this.cmbReportType.Items.find(e=>e.Parent==this.cmbReportModule.SelectedValue.toString());this.cmbReportType.SelectedValue=e.Value,this.cmbReportType_SelectionChanged(),this.txtReportName.Enable="ANX1"!=this.cmbReportModule.SelectedValue.toString()&&"GSTR2"!=this.cmbReportModule.SelectedValue.toString()&&"GSTR3"!=this.cmbReportModule.SelectedValue.toString()&&"VAT"!=this.cmbReportModule.SelectedValue.toString()}}cmbReportType_SelectionChanged(){if(this.txtReportName.Text="",this.strcdnrDocs=null,this.stratDocs=null,null!=this.cmbReportType.SelectedValue)try{if(this.GSTType=this.cmbReportType.SelectedValue.toString(),"VATAED1"==this.GSTType||"VATSAS1"==this.GSTType){if(null==this.VATSaleReturnDocs){this.VATSaleReturnDocs=new R.b;let e=l.a.report.GetDataTable("RPT050",l.a.SessionManager.RoleID,l.a.SessionManager.UserID);this.VATSaleReturnDocs=new R.b,this.lstVATPurDocs=new R.b,this.VATPurReturnDocs=new R.b,this.VATBadDebtsDocs=new R.b,this.VATTouristDocs=new R.b,this.VATCustomsAdjDocs=new R.b,e.forEach(e=>{let t=parseInt(e.DocumentType);6==t||39==t||43==t?(this.VATSaleReturnDocs.Items.push(R.c.CheckedListBoxItem_5(e.DocumentName.toString(),e.CostCenterID.toString(),!0)),this.VATBadDebtsDocs.Items.push(R.c.CheckedListBoxItem_5(e.DocumentName.toString(),e.CostCenterID.toString(),!1))):10==t||41==t?this.VATPurReturnDocs.Items.push(R.c.CheckedListBoxItem_5(e.DocumentName.toString(),e.CostCenterID.toString(),!0)):(this.lstVATPurDocs.Items.push(R.c.CheckedListBoxItem_5(e.DocumentName.toString(),e.CostCenterID.toString(),!0)),this.VATTouristDocs.Items.push(R.c.CheckedListBoxItem_5(e.DocumentName.toString(),e.CostCenterID.toString(),!0)),this.VATCustomsAdjDocs.Items.push(R.c.CheckedListBoxItem_5(e.DocumentName.toString(),e.CostCenterID.toString(),!1)))})}this.stkVAT=!0,this.stkVAT2=!0}else this.stkVAT=!1,this.stkVAT2=!1;let e=l.a.report.GetDataTable("RPT022","select ReportID,ReportName from adm_revenureports with(nolock)\nwhere StaticReportType=-1 and DefaultPreferences is not null and DefaultPreferences!='' and DefaultPreferences like '%<UTILREPORT>"+this.GSTType+"</UTILREPORT>%'");this.cmbReport.SelectionChangedCommand.UnSubscribe(),this.cmbReport.Items.Clear(),e.forEach(e=>{this.cmbReport.Items.push(R.d.ComboBoxItems_2(e.ReportName.toString(),e.ReportID.toString()))}),null==this.cmbReportModule.SelectedValue||"ANX1"!=this.cmbReportModule.SelectedValue.toString()&&"GSTR2"!=this.cmbReportModule.SelectedValue.toString()&&"GSTR3"!=this.cmbReportModule.SelectedValue.toString()&&"VAT"!=this.cmbReportModule.SelectedValue.toString()||(e.length>0?this.cmbReport.SelectedValue=e[0].ReportID.toString():"ANX1"==this.cmbReportModule.SelectedValue.toString()||"GSTR2"==this.cmbReportModule.SelectedValue.toString()||"GSTR3"==this.cmbReportModule.SelectedValue.toString()?this.txtReportName.Text=this.GSTType:"VAT"==this.cmbReportModule.SelectedValue.toString()&&(this.txtReportName.Text=this.cmbReportType.GetText())),this.cmbReport.SelectionChangedCommand.Subscribe(this,"cmbReport_SelectionChanged"),this.cmbReport_SelectionChanged(null,null)}catch(e){Logger.ErrorLog(e.stack),alert(e.Message)}}cmbReport_SelectionChanged(e,t){if(this.ClearReportModel(),s.e.StringIsNullOrEmpty(this.cmbReport.SelectedValue))this.ReportID=0;else{this.ReportID=parseInt(this.cmbReport.SelectedValue);let e=l.a.report.GetRevenUReport(this.ReportID);null!=e&&e.Tables.length>0&&!e.Columns[0].Contains("ErrorMessage")&&e.Tables[0].length>0&&(this.txtReportName.Text=e.Tables[0][0].ReportName.toString(),this.objReport.DefaultPreferences=s.e.String(e.Tables[0][0].DefaultPreferences),this.objReport.ReportDefnXML=e.Tables[0][0].ReportDefnXML.toString(),this.objReport.ReportBodyXML=s.e.String(e.Tables[0][0].ReportBody),this.objReport.ReportHeaderXML=s.e.String(e.Tables[0][0].ReportHeader),this.objReport.PageHeaderXML=s.e.String(e.Tables[0][0].PageHeader),this.objReport.PageFooterXML=s.e.String(e.Tables[0][0].PageFooter),this.objReport.ReportFooterXML=s.e.String(e.Tables[0][0].ReportFooter),this.objReport.ParentID=parseInt(e.Tables[0][0].ParentID))}this.InitGrid()}InitGrid(){this.dtMain.Clear();let e={RowType:0};this.Columns.Clear();let t=new Array,o=new p.a;o.ID="RowType",o.Header="Type",o.DataType="PactComboBox",o.DisplayMember="DocumentName",o.ValueMember="CostCenterID",o.ValueBinding="RowType",o.Width=160,o.IsFrozen=!0,null==this.dtFeatures&&(this.dtFeatures=l.a.common.GetDataTable("GST004",""));let n="",a="";"at"==this.GSTType||"atadj"==this.GSTType||"GSTR2_at"==this.GSTType||"GSTR2_atadj"==this.GSTType?(a="inner join com_documentpreferences DAP with(nolock) ON DAP.CostCenterID=D.CostCenterID\n            inner join com_documentpreferences DP with(nolock) ON DP.CostCenterID=D.CostCenterID",n=" and DP.PrefName='DonotupdateInventory' and DAP.PrefName='DonotupdateAccounts' and DAP.PrefValue='False' and DP.PrefValue='True' and D.DocumentType not IN (3,5)"):this.GSTType.endsWith("cdnr")||this.GSTType.endsWith("cdnur")?(a="inner join com_documentpreferences DAP with(nolock) ON DAP.CostCenterID=D.CostCenterID",n=" and DAP.PrefName='DonotupdateAccounts' and DAP.PrefValue='False' and D.DocumentType not IN (3,5)"):"docs"==this.GSTType||this.GSTType.startsWith("CT")?(a="inner join com_documentpreferences DP with(nolock) ON DP.CostCenterID=D.CostCenterID",n=" and DP.PrefName='DonotupdateInventory' and D.DocumentType not IN (3,5)"):"VATAED1"==this.GSTType||"VATSAS1"==this.GSTType||"VATFATSupplyList"==this.GSTType?(a="inner join com_documentpreferences DAP with(nolock) ON DAP.CostCenterID=D.CostCenterID",n=" and D.DocumentType IN (7,9,11,12,24,38,42) and DAP.PrefName='DonotupdateAccounts' and DAP.PrefValue='False'"):"VATFATPurchaseList"==this.GSTType?(a="inner join com_documentpreferences DAP with(nolock) ON DAP.CostCenterID=D.CostCenterID",n=" and D.DocumentType IN (25,26,27,2,4,1,10) and DAP.PrefName='DonotupdateAccounts' and DAP.PrefValue='False'"):n="b2cs"==this.GSTType||"ANX1_B2C"==this.GSTType||"hsn"==this.GSTType||"exemp"==this.GSTType?" and D.DocumentType IN (6,7,9,11,12,24,38,39)":this.GSTType.startsWith("ANX1_")||this.GSTType.startsWith("GSTR2_")||this.GSTType.startsWith("GSTR3_")?" and (DocumentType<=27 or DocumentType in (38,39))":" and D.DocumentType IN (7,9,11,12,24,38,39)",this.dtSalesDocs=l.a.common.GetDataSet3("GST005",a,n,l.a.SessionManager.RoleID+"~"+l.a.SessionManager.UserID).Tables[0],o.ComboData=this.dtSalesDocs,t.push(o);let i=new s.f;i.LoadXml(S.ColumnsXML(this.GSTType,this.ParentGSTType)),this.GroupBy=null!=i.DocumentElement.attributes.GroupBy&&""!=i.DocumentElement.attributes.GroupBy.value?i.DocumentElement.attributes.GroupBy.value.split(","):[],this.arrOrderBy=null!=i.DocumentElement.attributes.OrderBy&&""!=i.DocumentElement.attributes.OrderBy.value?i.DocumentElement.attributes.OrderBy.value.split(","):[];for(let s=0;s<i.DocumentElement.children.length;s++){let o=new W(i.DocumentElement.children[s]);if(this.Columns.push(o),t.push(o.dgColumn),o.ComboType.length>0){if(!this.dicDataTables.ContainsKey(o.ComboType)){let e=[];this.dicDataTables.push(o.ComboType,e),"NUM"==o.ComboType?e.push({RowType:0,Value:400,Name:"Documents"}):(e.push({RowType:0,Value:400,Name:"Documents"}),this.dtFeatures.filter(e=>[2,3,12].Contains(e.FeatureID)||e.FeatureID>5e4).forEach(t=>{e.push({RowType:0,Value:parseInt(t.FeatureID),Name:t.Name.toString()})}))}if("PoS"==o.ID&&l.a.SessionManager.Preferences.GST_PoSDim.length>0&&(o.ComboDefValue=l.a.SessionManager.Preferences.GST_PoSDim),o.ComboDefValue.length>0){e[o.ID]=parseInt(o.ComboDefValue);let t=this.dtFeatures.filter(e=>e.FeatureID==parseInt(o.ComboDefValue));t.length>0&&(e[o.ID+"_Key"]=t[0].Name.toString()),this.LoadDocumentFields(parseInt(o.ComboDefValue))}else e[o.ID]=400,e[o.ID+"_Key"]="Documents";o.dgColumn.ComboData=this.dicDataTables[o.ComboType],o.dtComboData=this.dicDataTables[o.ComboType]}}if(this.ReportGrid.Columns=t,this.dtMain.push(e),this.objReport.DefaultPreferences.length>0){i.LoadXml(this.objReport.DefaultPreferences);let t=s.f.SelectSingleNode(i.DocumentElement,"UTILXML");if(null!=t&&t.children.length>0){let o,n;this.Columns.forEach(o=>{if(n=s.f.SelectSingleNode(t.children[0],o.ID),null!=n&&n.innerHTML.length>0){e[o.ID]=n.innerHTML;let t=this.dtFeatures.filter(e=>e.FeatureID==parseInt(n.innerHTML));t.length>0?e[o.ID+"_Key"]=t[0].Name.toString():"400"==n.innerHTML&&(e[o.ID+"_Key"]="Documents"),"400"!=n.innerHTML&&this.LoadDocumentFields(parseInt(n.innerHTML))}});for(let e=1;e<t.children.length;e++){let a={};n=s.f.SelectSingleNode(t.children[e],"RowType"),a.RowType=n.innerHTML,o=this.dtSalesDocs.filter(e=>e.CostCenterID==n.innerHTML),o.length>0&&(a.RowType_Key=o[0].DocumentName.toString()),this.LoadDocumentFields(parseInt(n.innerHTML)),this.Columns.forEach(i=>{n=s.f.SelectSingleNode(t.children[e],i.ID),null!=n&&n.innerHTML.length>0&&(a[i.ID]=n.innerHTML,o=i.dtComboData.filter(e=>e.Value==n.innerHTML),o.length>0&&(a[i.ID+"_Key"]=o[0].Name.toString()),"-1"==n.innerHTML?(n=s.f.SelectSingleNode(t.children[e],i.ID+"_Formula"),null!=n&&(a[i.ID+"_Formula"]=n.innerHTML)):"-2"==n.innerHTML&&(n=s.f.SelectSingleNode(t.children[e],i.ID+"_MultFileds"),null!=n&&(a[i.ID+"_MultFileds"]=n.innerHTML)))}),this.dtMain.push(a)}if(n=s.f.SelectSingleNode(i.DocumentElement,"UTILOptions/ZeroRated"),null!=n&&(this.txtexempZero.Text=n.innerHTML),n=s.f.SelectSingleNode(i.DocumentElement,"UTILOptions/NilRated"),null!=n&&(this.txtexempNill.Text=n.innerHTML),n=s.f.SelectSingleNode(i.DocumentElement,"UTILOptions/Exempted"),null!=n&&(this.txtexempExempted.Text=n.innerHTML),n=s.f.SelectSingleNode(i.DocumentElement,"UTILOptions/NonGST"),null!=n&&(this.txtexempNonGST.Text=n.innerHTML),"VATAED1"==this.GSTType||"VATSAS1"==this.GSTType){if(n=s.f.SelectSingleNode(i.DocumentElement,"VATReturnDocs"),null!=n){let e=n.innerHTML.split(",");this.VATSaleReturnDocs.Items.forEach(t=>{t.IsChecked=e.Contains(t.Value)})}if(n=s.f.SelectSingleNode(i.DocumentElement,"lstVATPurDocs"),null!=n){let e=n.innerHTML.split(",");this.lstVATPurDocs.Items.forEach(t=>{t.IsChecked=e.Contains(t.Value)})}if(n=s.f.SelectSingleNode(i.DocumentElement,"VATPurReturnDocs"),null!=n){let e=n.innerHTML.split(",");this.VATPurReturnDocs.Items.forEach(t=>{t.IsChecked=e.Contains(t.Value)})}if(n=s.f.SelectSingleNode(i.DocumentElement,"VATBadDebtsDocs"),null!=n){let e=n.innerHTML.split(",");this.VATBadDebtsDocs.Items.forEach(t=>{t.IsChecked=e.Contains(t.Value)})}if(n=s.f.SelectSingleNode(i.DocumentElement,"VATTouristDocs"),null!=n){let e=n.innerHTML.split(",");this.VATTouristDocs.Items.forEach(t=>{t.IsChecked=e.Contains(t.Value)})}if(n=s.f.SelectSingleNode(i.DocumentElement,"VATCustomsAdjDocs"),null!=n){let e=n.innerHTML.split(",");this.VATCustomsAdjDocs.Items.forEach(t=>{t.IsChecked=e.Contains(t.Value)})}}}}0!=this.ReportID||"VATAED1"!=this.GSTType&&"VATSAS1"!=this.GSTType||this.dtSalesDocs.forEach(e=>{let t={};t.RowType=e.CostCenterID,t.RowType_Key=e.DocumentName.toString(),this.LoadDocumentFields(parseInt(e.CostCenterID));let o=this.dicDataTables.ContainsKey("NUMFC")?"NUMFC":"NUM",n=this.dicDataTables[o].filter(t=>t.RowType==parseInt(e.CostCenterID)&&"dcNum51"==t.SysColumnName);n.length>0&&(t.TaxableValue=n[0].Value,t.TaxableValue_Key=n[0].Name.toString()),n=this.dicDataTables[o].filter(t=>t.RowType==parseInt(e.CostCenterID)&&"dcNum61"==t.SysColumnName),n.length>0&&(t.VATAmount=n[0].Value,t.VATAmount_Key=n[0].Name.toString()),this.dtMain.push(t)});for(let l=this.dtMain.length;l<15;l++)this.dtMain.push()}LoadDocumentFields(e){for(let t=0;t<this.dicDataTables.keys.length;t++){let o={Key:this.dicDataTables.keys[t],Value:this.dicDataTables.values[t]},n=o.Value;if(0==n.filter(t=>t.RowType==e).length){let t;O.GetGSTDocumentFields(e,o.Key).forEach(o=>{t={},t.RowType=e,t.Name=o.ColumnName,t.Value=parseInt(o.ID),t.SysTableName=o.SysTableName,t.SysColumnName=o.SysColumnName,t.ColumnCostCenterID=o.ColumnCostCenterID,n.push(t)}),"NUM"==o.Key&&(t={},t.RowType=e,t.Name="MULTIPLE FIELDS",t.Value="-2",t.SysTableName="MULTIPLEFIELDS",t.SysColumnName="",n.push(t)),"cdnrDocumentType"!=o.Key&&"GSTR3IsReturn"!=o.Key&&"NatureofDocument"!=o.Key&&(t={},t.RowType=e,t.Name="",n.InsertAt(t,0))}}}ClearReportModel(){this.objReport={},this.objReport.SelectedNodeID=1,this.objReport.CustomPreferences='<XML><Filters><WHERE Name="@WHERE@"><Filter Column="convert(datetime,INV.DocDate)" MapField="DATEFILTERFIELD" />',"True"==l.a.SessionManager.Preferences.EnableLocationWise.toString()&&"True"==l.a.SessionManager.Preferences["LW Reports"]&&(this.objReport.CustomPreferences+='<Filter Column="DCC.dcCCNID2" MapField="CC_50002" />'),this.objReport.CustomPreferences+="</WHERE></Filters></XML>",this.objReport.DefaultPreferences="",this.objReport.ReportDefnXML=""}GetReportConfiguration(){this.lstDocuments.Clear();let e="";e+="<XML>",e+="<UTILREPORT>"+this.GSTType+"</UTILREPORT>",e+="<UTILXML>";for(let t=0;t<this.dtMain.length;t++){let o=this.dtMain[t];if(t>0){if(null==o.RowType)continue;if(this.lstDocuments.ContainsKey(parseInt(o.RowType)))return this.ReportGrid.SelectedIndex=t,this.DisplayMessage="Duplicate Document Row '"+o.RowType_Key+"'","";this.lstDocuments.push(parseInt(o.RowType),o)}let n="";n+="<RowType>"+o.RowType.toString()+"</RowType>";for(let e=0;e<this.Columns.length;e++){let a=this.Columns[e];if(null!=o[a.ID]){if(0==t&&(a.ColumnDimension=parseInt(o[a.ID])),n+="<"+a.ID+">"+s.e.String(o[a.ID])+"</"+a.ID+">","-1"==s.e.String(o[a.ID]))n+="<"+a.ID+"_Formula>"+o[a.ID+"_Formula"].toString()+"</"+a.ID+"_Formula>";else if("-2"==s.e.String(o[a.ID])){if(0==o[a.ID+"_MultFileds"].toString().length)return this.ReportGrid.SelectedIndex=t,this.DisplayMessage="Please select Multiple Fileds for '"+a.Caption+"'","";n+="<"+a.ID+"_MultFileds>"+o[a.ID+"_MultFileds"].toString()+"</"+a.ID+"_MultFileds>"}}else if(!a.ReadOnly&&!a.IsOptional&&t>0&&(1==t||400==parseInt(this.dtMain[0][a.ID])))return this.ReportGrid.SelectedIndex=t,this.DisplayMessage="Please select field for '"+a.Caption+"'",""}n.length>0&&(e+="<r>"+n+"</r>")}if(e+="</UTILXML>","exemp"==this.GSTType||"GSTR2_exemp"==this.GSTType?(e+="<UTILOptions>",e+="<NilRated>"+s.e.EncodeXML(this.txtexempNill.Text)+"</NilRated>",e+="<Exempted>"+s.e.EncodeXML(this.txtexempExempted.Text)+"</Exempted>",e+="<NonGST>"+s.e.EncodeXML(this.txtexempNonGST.Text)+"</NonGST>",e+="</UTILOptions>"):"GSTR3_GSTR3B_Outward"==this.GSTType&&(e+="<UTILOptions>",e+="<ZeroRated>"+s.e.EncodeXML(this.txtexempZero.Text)+"</ZeroRated>",e+="<NilRated>"+s.e.EncodeXML(this.txtexempNill.Text)+"</NilRated>",e+="<Exempted>"+s.e.EncodeXML(this.txtexempExempted.Text)+"</Exempted>",e+="<NonGST>"+s.e.EncodeXML(this.txtexempNonGST.Text)+"</NonGST>",e+="</UTILOptions>"),"VATAED1"==this.GSTType||"VATSAS1"==this.GSTType){let t="";this.VATSaleReturnDocs.Items.filter(e=>e.IsChecked).forEach(e=>{t.length>0&&(t+=","),t+=e.Value}),t.length>0&&(e+="<VATReturnDocs>",e+=t,e+="</VATReturnDocs>"),t="",this.lstVATPurDocs.Items.filter(e=>e.IsChecked).forEach(e=>{t.length>0&&(t+=","),t+=e.Value}),t.length>0&&(e+="<VATPurchaseDocs>",e+=t,e+="</VATPurchaseDocs>"),t="",this.VATPurReturnDocs.Items.filter(e=>e.IsChecked).forEach(e=>{t.length>0&&(t+=","),t+=e.Value}),t.length>0&&(e+="<VATPurReturnDocs>",e+=t,e+="</VATPurReturnDocs>"),t="",this.VATBadDebtsDocs.Items.filter(e=>e.IsChecked).forEach(e=>{t.length>0&&(t+=","),t+=e.Value}),t.length>0&&(e+="<VATBadDebtsDocs>",e+=t,e+="</VATBadDebtsDocs>"),t="",this.VATTouristDocs.Items.filter(e=>e.IsChecked).forEach(e=>{t.length>0&&(t+=","),t+=e.Value}),t.length>0&&(e+="<VATTouristDocs>",e+=t,e+="</VATTouristDocs>"),t="",this.VATCustomsAdjDocs.Items.filter(e=>e.IsChecked).forEach(e=>{t.length>0&&(t+=","),t+=e.Value}),t.length>0&&(e+="<VATCustomsAdjDocs>",e+=t,e+="</VATCustomsAdjDocs>")}return e+="</XML>",e.toString()}GetQuery(e){this.OrderBy="";let t="",o=(parseInt(l.a.SessionManager.Preferences.GST_PoSDim),parseInt(l.a.SessionManager.Preferences.GST_GSTINDim));if("VATAED1"==this.GSTType||"VATSAS1"==this.GSTType)return this.GetVATQuery(e);if("docs"==this.GSTType){this.dicNatureOfDocs.Clear();let e="";this.lstDocuments.keys.forEach(t=>{let o={Key:t,Value:this.lstDocuments[t]};e.length>0&&(e+=","),e+=o.Key;let n=o.Value.NatureofDocument_Key.toString();this.dicNatureOfDocs.ContainsKey(n)?this.dicNatureOfDocs[n]+=" or CostCenterID="+o.Key:this.dicNatureOfDocs.push(n,"CostCenterID="+o.Key)});let o="case";return this.dicNatureOfDocs.keys.forEach(e=>{o+=" when "+this.dicNatureOfDocs[e]+" then '"+e+"'"}),o+=" end",this.Entities.Clear(),this.Entities.push("Document","INV"),this.Entities.push("Document.COM_DocCCData","DCC"),t+="SELECT "+o+" NatureofDocument\n,DocAbbr+DocPrefix+'-'+convert(nvarchar,MIN(StartNo)) SrNoFrom\n,DocAbbr+DocPrefix+'-'+convert(nvarchar,MAX(EndNo)) SrNoTo\n,COUNT(VoucherNo) TotalNumber,sum(IsCancelled) Cancelled\nFROM (\nSELECT INV.CostCenterID,INV.DocPrefix,MIN(CONVERT(INT, INV.DocNumber)) AS StartNo,MAX(CONVERT(INT, INV.DocNumber)) AS EndNo,INV.DocAbbr,\nINV.VoucherNo,INV.StatusID, case when INV.StatusID=376 then 1 else 0 end IsCancelled\nFROM INV_DocDetails INV WITH(NOLOCK)\nINNER JOIN COM_DocCCData DCC WITH(NOLOCK) ON INV.InvDocDetailsID=DCC.InvDocDetailsID\nWHERE 1=1 @WHERE@\nand INV.CostCenterID in ("+e+")\nGROUP BY INV.DocPrefix,INV.DocAbbr,INV.CostCenterID,INV.VoucherNo,INV.StatusID\n) AS T\nGROUP BY CostCenterID,DocPrefix,DocAbbr",t.toString()}for(let l=0;l<this.lstDocuments.keys.length;l++){let e={Key:this.lstDocuments.keys[l],Value:this.lstDocuments.values[l]};this.Entities.Clear(),this.Entities.push("Document","INV"),this.Entities.push("Document.COM_DocCCData","DCC"),t.length>0&&(t+="\nUNION ALL\n"),this.SelectTag="",this.FromTag="INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID",this.WhereTag="INV.CostCenterID="+e.Key+" and INV.StatusID=369",this.WhereTag+=" and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)",this.GroupByDynamic="",this.IsInvValueEmpty=!1,this.IsCreditAccount=!1,"b2cs"==this.GSTType||"hsn"==this.GSTType||"exemp"==this.GSTType||"VATFATSupplyList"==this.GSTType||"ANX1_B2C"==this.GSTType||"ANX1_ECOM"==this.GSTType?this.dtSalesDocs.filter(t=>[6,39].Contains(t.DocumentType)&&t.CostCenterID==e.Key).length>0&&(this.IsCreditAccount=!0):"cdnr"==this.GSTType||"cdnur"==this.GSTType?("C"!=e.Value.DocumentType_Key.toString()&&"R"!=e.Value.DocumentType_Key.toString()||(this.IsCreditAccount=!0),null==this.stratDocs&&(this.stratDocs=N.GetReportDocs("'at'"))):"CT02"==this.GSTType||"CT03"==this.GSTType||"CT04"==this.GSTType?this.IsCreditAccount=!0:this.GSTType.startsWith("GSTR2_")||"VATFATPurchaseList"==this.GSTType?(this.IsCreditAccount=!0,"GSTR2_hsnsum"==this.GSTType||"VATFATPurchaseList"==this.GSTType?this.dtSalesDocs.filter(t=>10==t.DocumentType&&t.CostCenterID==e.Key).length>0&&(this.IsCreditAccount=!1):"GSTR2_cdnr"!=this.GSTType&&"GSTR2_cdnur"!=this.GSTType||("D"==e.Value.DocumentType_Key.toString()&&(this.IsCreditAccount=!1),null==this.stratDocs&&(this.stratDocs=N.GetReportDocs("'GSTR2_at'")))):"GSTR3_GSTR3B_Outward"==this.GSTType?"YES"==e.Value.DocumentType_Key.toString()&&(this.IsCreditAccount=!0):"ANX1_B2B"==this.GSTType||"ANX1_EXP"==this.GSTType||"ANX1_SEZ"==this.GSTType||"ANX1_DE"==this.GSTType?"-403"==e.Value.DocumentType.toString()&&(this.IsCreditAccount=!0):"ANX1_REV"!=this.GSTType&&"ANX1_IMPS"!=this.GSTType&&"ANX1_IMPG"!=this.GSTType&&"ANX1_IMPGSEZ"!=this.GSTType||(this.IsCreditAccount=!0,"-402"==s.e.String(e.Value.DocumentType)&&(this.IsCreditAccount=!1));for(let o=0;o<this.Columns.length;o++){let n=this.Columns[o];if(!n.IgnoreInQuery&&("exemp"!=this.GSTType&&"GSTR2_exemp"!=this.GSTType||"Description"!=n.ID)){if(this.SelectTag.length>0&&(this.SelectTag+=","),n.IsOptional&&0==s.e.String(e.Value[n.ID]).length&&("InvValue"==n.ID||"RetInvValue"==n.ID||"TotalValue"==n.ID&&"hsn"==this.GSTType||"TotalValue"==n.ID&&"GSTR2_hsnsum"==this.GSTType)){let e=this.IsCreditAccount?"INV.CreditAccount":"INV.DebitAccount";n.ActualColumn="(select abs(sum(Dr)-sum(Cr)) from (select Amount Dr,0 Cr from acc_docdetails ACC with(nolock) where ACC.VoucherNo=INV.VoucherNo and ACC.DebitAccount="+e+" union all select 0 Dr,Amount Cr from acc_docdetails ACC with(nolock) where ACC.VoucherNo=INV.VoucherNo and ACC.CreditAccount="+e+") as TV)","ANX1_ECOM"==this.GSTType?this.IsCreditAccount&&"InvValue"==n.ID?n.ActualColumn="NULL":this.IsCreditAccount||"RetInvValue"!=n.ID||(n.ActualColumn="NULL"):(!this.IsCreditAccount||"b2cs"!=this.GSTType&&"hsn"!=this.GSTType)&&(this.IsCreditAccount||"GSTR2_hsnsum"!=this.GSTType)||(n.ActualColumn="-"+n.ActualColumn),this.SelectTag+=n.ActualColumn,this.IsInvValueEmpty=!0}else{if("-2"==s.e.String(e.Value[n.ID]))if(null==e.Value[n.ID+"_MultFileds"])n.ActualColumn="0";else{let t="";e.Value[n.ID+"_MultFileds"].toString().split(",").forEach(o=>{this.SetActualColumn(n,e.Value,o),t.length>0&&(t+="+"),t+=n.ActualColumn}),n.ActualColumn=t,"b2b"==this.GSTType&&"InvValue"==n.ID&&(n.ActualColumn="(select abs(sum("+n.ActualColumn.Replace("NUM.","SNUM.")+")) from INV_DocDetails SINV with(nolock)\n                                inner join COM_DocNumData SNUM with(nolock) on SNUM.InvDocDetailsID=SINV.InvDocDetailsID\n                                where SINV.VoucherNo=INV.VoucherNo)")}else this.SetActualColumn(n,e.Value,""),"FLOAT"==n.DType&&(!this.IsCreditAccount&&("ANX1_REV"==this.GSTType||"ANX1_IMPS"==this.GSTType||"ANX1_IMPG"==this.GSTType||"ANX1_IMPGSEZ"==this.GSTType)||this.IsCreditAccount&&"exemp"==this.GSTType&&"NilRated"!=n.ID&&"Exempted"!=n.ID&&"NonGST"!=n.ID)&&(n.ActualColumn="-"+n.ActualColumn);"DATE"==n.DType&&(n.ActualColumn="convert(datetime,"+n.ActualColumn+")"),this.GroupBy.length>0?this.GroupBy.Contains(n.ID)||"NULL"==n.ActualColumn||"-2"==s.e.String(e.Value[n.ID])&&"b2b"==this.GSTType&&"InvValue"==n.ID?this.SelectTag+=n.ActualColumn:"hsn"==this.GSTType&&"PRType"==n.ID?(n.ActualColumn=n.ActualColumn.Replace(n.ActualCol2,n.Agg+"("+n.ActualCol2+")"),this.SelectTag+=n.ActualColumn):this.SelectTag+=n.Agg+"("+n.ActualColumn+")":this.SelectTag+=n.ActualColumn}0==t.length&&(this.SelectTag+=" "+n.ID),"INV.VoucherNo"==n.ActualColumn&&(this.SelectTag+=0==t.length?",INV.DocAbbr ["+n.ID+"Abr],INV.DocPrefix ["+n.ID+"prf],CONVERT(BIGINT,INV.DocNumber) ["+n.ID+"dno]":",INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)")}}if("b2b"==this.GSTType){var n=this.Columns.find(e=>"RecipientGSTIN"==e.ID);this.WhereTag+=" and "+n.ActualColumn+" is not null and "+n.ActualColumn+"!=''"}else if("b2cs"==this.GSTType){n=this.Columns.find(e=>"RecipientGSTIN"==e.ID),this.WhereTag+=" and ("+n.ActualColumn+" is null or "+n.ActualColumn+"='')";var a=this.Columns.find(e=>"InvValue"==e.ID);(r=this.Columns.find(e=>"PoS"==e.ID)).ColumnDimension>5e4&&o>5e4?(this.FromTag+=" inner join COM_CCCCData FromPosDCC with(nolock) on FromPosDCC.NodeID=DCC.dcCCNID"+(o-5e4),this.WhereTag+=" and FromPosDCC.CostCenterID="+o+" and (FromPosDCC.CCNID"+(r.ColumnDimension-5e4)+"=DCC.dcCCNID"+(r.ColumnDimension-5e4),a.ActualColumn.startsWith("-")?this.WhereTag+=" or "+a.ActualColumn.substr(1)+"<=250000)":this.WhereTag+=" or "+a.ActualColumn+"<=250000)"):alert(this.GSTType+"Pos Mapping Issue")}else if("b2cl"==this.GSTType)n=this.Columns.find(e=>"RecipientGSTIN"==e.ID),this.WhereTag+=" and ("+n.ActualColumn+" is null or "+n.ActualColumn+"='')",a=this.Columns.find(e=>"InvValue"==e.ID),this.WhereTag+=" and "+a.ActualColumn+">250000",(r=this.Columns.find(e=>"PoS"==e.ID)).ColumnDimension>5e4&&o>5e4?(this.FromTag+=" inner join COM_CCCCData FromPosDCC with(nolock) on FromPosDCC.NodeID=DCC.dcCCNID"+(o-5e4),this.WhereTag+=" and FromPosDCC.CostCenterID="+o+" and FromPosDCC.CCNID"+(r.ColumnDimension-5e4)+"!=DCC.dcCCNID"+(r.ColumnDimension-5e4)):alert(this.GSTType+" - Pos Mapping Issue");else if("cdnr"==this.GSTType)this.ParentGSTType!=c.GSTR1Summary&&(n=this.Columns.find(e=>"RecipientGSTIN"==e.ID),this.WhereTag+=" and "+n.ActualColumn+" is not null and "+n.ActualColumn+"!=''");else if("cdnur"==this.GSTType){if(n=this.Columns.find(e=>"RecipientGSTIN"==e.ID),this.WhereTag+=" and ("+n.ActualColumn+" is null or "+n.ActualColumn+"='')",this.dtSalesDocs.filter(t=>[6,39].Contains(t.DocumentType)&&t.CostCenterID==e.Key).length>0)if(a=this.Columns.find(e=>"InvValue"==e.ID),(r=this.Columns.find(e=>"PoS"==e.ID)).ColumnDimension>5e4&&o>5e4){this.FromTag+=" inner join COM_CCCCData FromPosDCC with(nolock) on FromPosDCC.NodeID=DCC.dcCCNID"+(o-5e4),this.WhereTag+=" and (FromPosDCC.CostCenterID="+o+" and ((FromPosDCC.CCNID"+(r.ColumnDimension-5e4)+"!=DCC.dcCCNID"+(r.ColumnDimension-5e4),a.ActualColumn.startsWith("-")?this.WhereTag+=" and "+a.ActualColumn.substr(1)+">250000)":this.WhereTag+=" and "+a.ActualColumn+">250000)";var i=this.Columns.find(e=>"URType"==e.ID);null!=i&&null!=i.ActualColumn&&(this.WhereTag+=" or "+i.ActualColumn+"='EXPWP' or "+i.ActualColumn+"='EXPWOP'"),this.WhereTag+="))"}else alert(this.GSTType+" - Pos Mapping Issue")}else if("exp"==this.GSTType)n=this.Columns.find(e=>"ExportType"==e.ID),this.WhereTag+=" and ("+n.ActualColumn+"='WPAY' or "+n.ActualColumn+"='WOPAY')";else if("at"==this.GSTType||"atadj"==this.GSTType)this.SelectTag+=",INV.VoucherNo,INV.CreditAccount AccountID","atadj"==this.GSTType&&(this.FromTag+=" inner join (select AccountID,RefDocNo from @Tbl group by AccountID,RefDocNo) AS B on B.RefDocNo=INV.VoucherNo and B.AccountID=INV.CreditAccount");else if("GSTR2_at"==this.GSTType||"GSTR2_atadj"==this.GSTType){this.SelectTag+=",INV.VoucherNo,INV.DebitAccount AccountID","GSTR2_atadj"==this.GSTType&&(this.FromTag+=" inner join (select AccountID,RefDocNo from @Tbl group by AccountID,RefDocNo) AS B on B.RefDocNo=INV.VoucherNo and B.AccountID=INV.DebitAccount");var C=this.Columns.find(e=>"ReverseCharge"==e.ID);this.WhereTag+=" and ("+C.ActualColumn+"='YES' or "+C.ActualColumn+"='Y')"}else if("exemp"==this.GSTType||"GSTR2_exemp"==this.GSTType)this.ParentGSTType!=c.GSTR1Summary&&((r=this.Columns.find(e=>"PoS"==e.ID)).ColumnDimension>5e4&&o>5e4?(this.FromTag+=" inner join COM_CCCCData FromPosDCC with(nolock) on FromPosDCC.NodeID=DCC.dcCCNID"+(o-5e4),this.WhereTag+=" and FromPosDCC.CostCenterID="+o,this.SelectTag+=",case when FromPosDCC.CCNID"+(r.ColumnDimension-5e4)+"=DCC.dcCCNID"+(r.ColumnDimension-5e4)+" then 1 else 0 end IsSameState"):alert(this.GSTType+" - Pos Mapping Issue"));else if(this.GSTType.startsWith("GSTR2_"))if("GSTR2_b2b"==this.GSTType)n=this.Columns.find(e=>"SupplierGSTIN"==e.ID),this.WhereTag+=" and "+n.ActualColumn+" is not null and "+n.ActualColumn+"!=''",(r=this.Columns.find(e=>"PoS"==e.ID)).ColumnDimension>5e4&&o>5e4?(this.FromTag+=" inner join COM_CCCCData FromPosDCC with(nolock) on FromPosDCC.NodeID=DCC.dcCCNID"+(o-5e4),this.WhereTag+=" and FromPosDCC.CostCenterID="+o,this.SelectTag+=",case when FromPosDCC.CCNID"+(r.ColumnDimension-5e4)+"=DCC.dcCCNID"+(r.ColumnDimension-5e4)+" then 'Intra State' else 'Inter State' end SupplyType",this.GroupByDynamic=",FromPosDCC.CCNID"+(r.ColumnDimension-5e4)+",DCC.dcCCNID"+(r.ColumnDimension-5e4)):alert(this.GSTType+" - Pos Mapping Issue");else if("GSTR2_b2bur"==this.GSTType){let e=this.Columns.find(e=>"SupplierGSTIN"==e.ID);this.WhereTag+=" and ("+e.ActualColumn+" is null or "+e.ActualColumn+"='')",(r=this.Columns.find(e=>"PoS"==e.ID)).ColumnDimension>5e4&&o>5e4?(this.FromTag+=" inner join COM_CCCCData FromPosDCC with(nolock) on FromPosDCC.NodeID=DCC.dcCCNID"+(o-5e4),this.WhereTag+=" and FromPosDCC.CostCenterID="+o,this.SelectTag+=",case when FromPosDCC.CCNID"+(r.ColumnDimension-5e4)+"=DCC.dcCCNID"+(r.ColumnDimension-5e4)+" then 'Intra State' else 'Inter State' end SupplyType",this.GroupByDynamic=",FromPosDCC.CCNID"+(r.ColumnDimension-5e4)+",DCC.dcCCNID"+(r.ColumnDimension-5e4)):alert(this.GSTType+" - Pos Mapping Issue")}else if("GSTR2_imps"==this.GSTType||"GSTR2_impg"==this.GSTType){var p=this.Columns.find(e=>"ITCEligible"==e.ID);this.Entities.ContainsKey("Product")||(this.Entities.push("Product","P"),this.FromTag+="\r\ninner join INV_Product P with(nolock) on P.ProductID=INV.ProductID"),"GSTR2_imps"==this.GSTType?this.WhereTag+=" and P.ProductTypeID=6 and ("+p.ActualColumn+"='Ineligible' or "+p.ActualColumn+"='Input services')":"GSTR2_impg"==this.GSTType&&(this.WhereTag+=" and P.ProductTypeID!=6 and ("+p.ActualColumn+"='Ineligible' or "+p.ActualColumn+"='Inputs' or "+p.ActualColumn+"='Capital goods')")}else"GSTR2_cdnr"==this.GSTType?(n=this.Columns.find(e=>"SupplierGSTIN"==e.ID),this.WhereTag+=" and "+n.ActualColumn+" is not null and "+n.ActualColumn+"!=''",this.stratDocs.length>0&&(this.WhereTag+=" and (LINV.CostCenterID not in ("+this.stratDocs+") or LINV.DocDate<convert(float,convert(datetime,@FROMDATE@)))")):"GSTR2_cdnur"==this.GSTType&&(n=this.Columns.find(e=>"SupplierGSTIN"==e.ID),this.WhereTag+=" and ("+n.ActualColumn+" is null or "+n.ActualColumn+"='')",this.stratDocs.length>0&&(this.WhereTag+=" and (LINV.CostCenterID not in ("+this.stratDocs+") or LINV.DocDate<convert(float,convert(datetime,@FROMDATE@)))"));else if(this.GSTType.startsWith("GSTR3_")){var r;"GSTR3_GSTR3B_Outward"==this.GSTType&&((r=this.Columns.find(e=>"PoS"==e.ID)).ColumnDimension>5e4&&o>5e4?(this.FromTag+=" inner join COM_CCCCData FromPosDCC with(nolock) on FromPosDCC.NodeID=DCC.dcCCNID"+(o-5e4),this.WhereTag+=" and FromPosDCC.CostCenterID="+o,this.SelectTag+=",FromPosDCC.CCNID"+(r.ColumnDimension-5e4)+" FromState,DCC.dcCCNID"+(r.ColumnDimension-5e4)+" ToState",this.GroupByDynamic=",FromPosDCC.CCNID"+(r.ColumnDimension-5e4)+",DCC.dcCCNID"+(r.ColumnDimension-5e4)):alert(this.GSTType+" - Pos Mapping Issue"))}else if(this.GSTType.startsWith("ANX1_"))if("ANX1_B2C"==this.GSTType)n=this.Columns.find(e=>"RecipientGSTIN"==e.ID),this.WhereTag+=" and ("+n.ActualColumn+" is null or "+n.ActualColumn+"='')";else if("ANX1_B2B"==this.GSTType){var T=this.Columns.find(e=>"RecipientGSTIN"==e.ID);this.WhereTag+=" and ("+T.ActualColumn+" is not null and "+T.ActualColumn+"!='')",T=this.Columns.find(e=>"ReverseCharge"==e.ID),this.WhereTag+=" and ("+T.ActualColumn+" is null or ("+T.ActualColumn+"!='YES' and "+T.ActualColumn+"!='Y'))",T=this.Columns.find(e=>"PartyType"==e.ID),this.WhereTag+=" and ("+T.ActualColumn+" is null or "+T.ActualColumn+"!='SEZ')",T=this.Columns.find(e=>"SaleType"==e.ID),this.WhereTag+=" and ("+T.ActualColumn+"='InterStateB2B' or "+T.ActualColumn+"='IntraStateB2B')"}else"ANX1_EXP"==this.GSTType?(T=this.Columns.find(e=>"RecipientGSTIN"==e.ID),this.WhereTag+=" and ("+T.ActualColumn+" is not null and "+T.ActualColumn+"!='')",T=this.Columns.find(e=>"PartyType"==e.ID),this.WhereTag+=" and ("+T.ActualColumn+" is null or "+T.ActualColumn+"!='SEZ')",T=this.Columns.find(e=>"SaleType"==e.ID),this.WhereTag+=" and ("+T.ActualColumn+" is null or "+T.ActualColumn+"!='SEZ')"):"ANX1_SEZ"==this.GSTType?(T=this.Columns.find(e=>"RecipientGSTIN"==e.ID),this.WhereTag+=" and ("+T.ActualColumn+" is not null and "+T.ActualColumn+"!='')",T=this.Columns.find(e=>"PartyType"==e.ID),this.WhereTag+=" and "+T.ActualColumn+"='SEZ'",T=this.Columns.find(e=>"IntTaxAmt"==e.ID),this.WhereTag+=" and ("+T.ActualColumn+">0)"):"ANX1_DE"==this.GSTType?(T=this.Columns.find(e=>"RecipientGSTIN"==e.ID),this.WhereTag+=" and ("+T.ActualColumn+" is not null and "+T.ActualColumn+"!='')",T=this.Columns.find(e=>"PartyType"==e.ID),this.WhereTag+=" and "+T.ActualColumn+"='Deemed Export'"):"ANX1_ECOM"==this.GSTType?(T=this.Columns.find(e=>"RecipientGSTIN"==e.ID),this.WhereTag+=" and ("+T.ActualColumn+" is not null and "+T.ActualColumn+"!='')",T=this.Columns.find(e=>"IsEcomCustomer"==e.ID),this.WhereTag+=" and ("+T.ActualColumn+"='YES' or "+T.ActualColumn+"='Y')"):"ANX1_REV"==this.GSTType?(T=this.Columns.find(e=>"ReverseCharge"==e.ID),this.WhereTag+=" and ("+T.ActualColumn+"='YES' or "+T.ActualColumn+"='Y')"):"ANX1_IMPS"==this.GSTType?(this.Entities.ContainsKey("Product")||(this.Entities.push("Product","P"),this.FromTag+="\r\ninner join INV_Product P with(nolock) on P.ProductID=INV.ProductID"),T=this.Columns.find(e=>"ReverseCharge"==e.ID),this.WhereTag+=" and ("+T.ActualColumn+"!='YES' and "+T.ActualColumn+"!='Y')",this.WhereTag+=" and P.ProductTypeID=6"):"ANX1_IMPG"==this.GSTType?(this.Entities.ContainsKey("Product")||(this.Entities.push("Product","P"),this.FromTag+="\r\ninner join INV_Product P with(nolock) on P.ProductID=INV.ProductID"),T=this.Columns.find(e=>"ReverseCharge"==e.ID),this.WhereTag+=" and ("+T.ActualColumn+"!='YES' and "+T.ActualColumn+"!='Y')",this.WhereTag+=" and P.ProductTypeID!=6",T=this.Columns.find(e=>"PartyType"==e.ID),this.WhereTag+=" and ("+T.ActualColumn+" is null or "+T.ActualColumn+"!='SEZ')"):"ANX1_IMPGSEZ"==this.GSTType&&(this.Entities.ContainsKey("Product")||(this.Entities.push("Product","P"),this.FromTag+="\r\ninner join INV_Product P with(nolock) on P.ProductID=INV.ProductID"),T=this.Columns.find(e=>"ReverseCharge"==e.ID),this.WhereTag+=" and ("+T.ActualColumn+"!='YES' and "+T.ActualColumn+"!='Y')",this.WhereTag+=" and P.ProductTypeID!=6",T=this.Columns.find(e=>"PartyType"==e.ID),this.WhereTag+=" and "+T.ActualColumn+"='SEZ'",T=this.Columns.find(e=>"SupplierGSTIN"==e.ID),this.WhereTag+=" and ("+T.ActualColumn+" is not null and "+T.ActualColumn+"!='')");if(0==t.length&&this.GroupBy.length>0)for(let t=0;t<this.GroupBy.length;t++){var D=this.Columns.find(e=>e.ID==this.GroupBy[t]);t>0&&(this.OrderBy+=","),"INV.VoucherNo"==D.ActualColumn?this.OrderBy+=D.ID+"Abr,"+D.ID+"prf,"+D.ID+"dno":(this.OrderBy+=D.ID,D.Sort.length>0&&(this.OrderBy+=" "+D.Sort))}if(t+="SELECT "+this.SelectTag+"\r\nFROM "+this.FromTag,t+="\r\nWHERE "+this.WhereTag,t+="@WHERE@",this.GroupBy.length>0){t+="\r\nGROUP BY ";for(let e=0;e<this.GroupBy.length;e++)"NULL"!=(D=this.Columns.find(t=>t.ID==this.GroupBy[e])).ActualColumn&&(e>0&&(t+=","),t+=D.ActualCol2.length>0?D.ActualCol2:D.ActualColumn,"INV.VoucherNo"==D.ActualColumn&&(t+=",INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)"));(this.IsInvValueEmpty||"b2cs"==this.GSTType||"hsn"==this.GSTType||"GSTR2_b2b"==this.GSTType||"GSTR2_imps"==this.GSTType||"GSTR2_impg"==this.GSTType||"GSTR2_hsnsum"==this.GSTType)&&(t+=",INV.VoucherNo",t+=","+(this.IsCreditAccount?"INV.CreditAccount":"INV.DebitAccount")),"at"==this.GSTType||"atadj"==this.GSTType?(t+=",INV.VoucherNo,INV.CreditAccount",this.OrderBy+=",VoucherNo"):"GSTR2_at"==this.GSTType||"GSTR2_atadj"==this.GSTType?(t+=",INV.VoucherNo,INV.DebitAccount",this.OrderBy+=",VoucherNo"):"GSTR2_at"!=this.GSTType&&"GSTR2_atadj"!=this.GSTType||(t+=",INV.VoucherNo,INV.DebitAccount",this.OrderBy+=",VoucherNo"),t+=this.GroupByDynamic}}if("b2cs"==this.GSTType&&this.ParentGSTType!=c.GSTR1Summary&&(t=t.Insert(0,"select Type,PoS,Rate,SUM(TaxableValue) TaxableValue,SUM(CessAmt) CessAmt,max(ECommGSTIN) ECommGSTIN from (\r\n"),t+="\r\n) as T GROUP BY Type,PoS,Rate"),"hsn"!=this.GSTType&&"GSTR2_hsnsum"!=this.GSTType||this.ParentGSTType==c.GSTR1Summary||(t=t.Insert(0,"select HSN,UQC"+("hsn"==this.GSTType?",Rate,MAX(PRType) PRType":"")+",MAX(Description) Description,SUM(TotalQty) TotalQty,SUM(TotalValue) TotalValue,SUM(TaxableValue) TaxableValue\n,SUM(IntTaxAmt) IntTaxAmt,SUM(CTaxAmt) CTaxAmt,SUM(STaxAmt) STaxAmt,SUM(CessAmt) CessAmt from (\r\n"),t+="\r\n) as T GROUP BY HSN,UQC"+("hsn"==this.GSTType?",Rate":"")),this.arrOrderBy.length>0)for(let l=0;l<this.arrOrderBy.length;l++)D=this.Columns.find(e=>e.ID==this.arrOrderBy[l]),this.OrderBy.length>0&&(this.OrderBy+=","),this.OrderBy+="INV.VoucherNo"==D.ActualColumn?D.ID+"Abr,"+D.ID+"prf,"+D.ID+"dno":D.ID;if(this.OrderBy.length>0&&t.length>0&&this.ParentGSTType!=c.GSTR1Summary&&(t+="\r\nORDER BY "+this.OrderBy),"at"==this.GSTType&&t.length>0)t+="\nSELECT CB.DocNo,CB.AccountID,RefDocNo,AdjAmount\nFROM COM_Billwise CB with(nolock)\nWHERE IsNewReference=0@atWHERE@\nAND DocType<>14 AND DocType<>19 AND (CB.StatusID=369 or CB.StatusID=429)\nand AdjAmount>0";else if("GSTR2_at"==this.GSTType&&t.length>0)t+="\nSELECT CB.DocNo,CB.AccountID,RefDocNo,AdjAmount\nFROM COM_Billwise CB with(nolock)\nWHERE IsNewReference=0@atWHERE@\nAND DocType<>14 AND DocType<>19 AND (CB.StatusID=369 or CB.StatusID=429)\nand AdjAmount<0";else if("atadj"==this.GSTType&&t.length>0){null==this.strcdnrDocs&&(this.strcdnrDocs=N.GetReportDocs("'cdnr','cdnur'"));let e="";this.lstDocuments.keys.forEach(t=>{e.length>0&&(e+=","),e+=t}),t=t.Insert(0,"declare @Tbl as table(AccountID bigint,DocNo nvarchar(50),CostCenterID int,RefDocNo nvarchar(50),RefCostCenterID int,AdjAmount float)\ninsert into @Tbl\nselect * from (\nSELECT CB.AccountID,CB.DocNo,(select top 1 CostCenterID from INV_DocDetails with(nolock) where VoucherNo=CB.DocNo) CostCenterID,RefDocNo,(select top 1 CostCenterID from INV_DocDetails with(nolock) where VoucherNo=CB.RefDocNo) RefCostCenterID,AdjAmount\nFROM COM_Billwise CB with(nolock)\nWHERE IsNewReference=0@atWHERE@\nAND DocType<>14 AND DocType<>19 AND (CB.StatusID=369 or CB.StatusID=429)\nand AdjAmount>0\n) AS T\nwhere RefCostCenterID is not null and RefCostCenterID in ("+e+")"+(this.strcdnrDocs.length>0?" and CostCenterID not in ("+this.strcdnrDocs+")":"")+"\r\n"),t+="\r\nselect * from @Tbl"}else if("GSTR2_atadj"==this.GSTType&&t.length>0){null==this.strcdnrDocs&&(this.strcdnrDocs=N.GetReportDocs("'GSTR2_cdnr','GSTR2_cdnur'"));let e="";this.lstDocuments.keys.forEach(t=>{e.length>0&&(e+=","),e+=t}),t=t.Insert(0,"declare @Tbl as table(AccountID bigint,DocNo nvarchar(50),CostCenterID int,RefDocNo nvarchar(50),RefCostCenterID int,AdjAmount float)\ninsert into @Tbl\nselect * from (\nSELECT CB.AccountID,CB.DocNo,(select top 1 CostCenterID from INV_DocDetails with(nolock) where VoucherNo=CB.DocNo) CostCenterID,RefDocNo,(select top 1 CostCenterID from INV_DocDetails with(nolock) where VoucherNo=CB.RefDocNo) RefCostCenterID,AdjAmount\nFROM COM_Billwise CB with(nolock)\nWHERE IsNewReference=0@atWHERE@\nAND DocType<>14 AND DocType<>19 AND (CB.StatusID=369 or CB.StatusID=429)\nand AdjAmount<0\n) AS T\nwhere RefCostCenterID is not null and RefCostCenterID in ("+e+")"+(this.strcdnrDocs.length>0?" and CostCenterID not in ("+this.strcdnrDocs+")":"")+"\r\n"),t+="\r\nselect * from @Tbl"}return"exemp"==this.GSTType&&t.length>0&&this.ParentGSTType!=c.GSTR1Summary?(t=t.Insert(0,"select case \nwhen RecipientGSTIN=1 and IsSameState=0 then 'Inter-State supplies to registered persons' \nwhen RecipientGSTIN=1 and IsSameState=1 then 'Intra-State supplies to registered persons' \nwhen RecipientGSTIN=0 and IsSameState=0 then 'Inter-State supplies to unregistered persons' \nwhen RecipientGSTIN=0 and IsSameState=1 then 'Intra-State supplies to unregistered persons' \nend Description\n,NilRated,Exempted,NonGST\nfrom\n(\nselect IsSameState,RecipientGSTIN\n,sum(NilRated) NilRated,sum(Exempted) Exempted,sum(NonGST) NonGST from\n("),t+=") as T\nGroup By IsSameState,RecipientGSTIN\n) as T"):"GSTR2_exemp"==this.GSTType&&t.length>0&&this.ParentGSTType!=c.GSTR1Summary?(t=t.Insert(0,"select case \nwhen IsSameState=0 then 'Inter-State supplies' \nwhen IsSameState=1 then 'Intra-State supplies' \nend Description\n,case when IsSameState=1 then CompositTaxPer else null end CompositTaxPer,NilRated,Exempted,NonGST\nfrom\n(\nselect IsSameState,sum(CompositTaxPer) CompositTaxPer,sum(NilRated) NilRated,sum(Exempted) Exempted,sum(NonGST) NonGST from\n("),t+=") as T\nGroup By IsSameState\n) as T"):"GSTR3_GSTR3B_Outward"==this.GSTType&&(t+="\nselect 'ZERO' Type,'"+this.txtexempZero.Text+"' Caption union all select 'NIL','"+this.txtexempNill.Text+"' union all select 'EXEMPTED','"+this.txtexempExempted.Text+"' union all select 'NONGST','"+this.txtexempNonGST.Text+"'"),t.toString()}GetVATQuery(e){let t="";if("VATAED1"==this.GSTType){let e="";this.lstDocuments.keys.forEach(t=>{e.length>0&&(e+=","),e+=t.toString()});let o="DCC.dcCCNID59",n="";l.a.SessionManager.Preferences.ContainsKey("VATMaintainOn")&&("50001"==l.a.SessionManager.Preferences.VATMaintainOn?(o="LCC.CCNID59",n=" inner join COM_CCCCDATA LCC with(nolock) on DCC.dcCCNID1=LCC.NodeID and LCC.CostCenterID=50002"):"50002"==l.a.SessionManager.Preferences.VATMaintainOn&&(o="LCC.CCNID59",n=" inner join COM_CCCCDATA LCC with(nolock) on DCC.dcCCNID2=LCC.NodeID and LCC.CostCenterID=50002")),t+="declare @From float,@To float\nset @From=convert(float,convert(datetime,@FROMDATE@))\nset @To=convert(float,convert(datetime,@TODATE@))",t+="\nselect VATState,sum(TaxableValue) TaxableValue,sum(VATStdAmt) VATStdAmt,sum(VATRCMAmt) VATRCMAmt,sum(VATCustomAmt) VATCustomAmt,sum(VATAdvAmt) VATAdvAmt\n,sum(StdAdjustment) StdAdjustment,sum(RCMAdjustment) RCMAdjustment from\n(",t+="SELECT inv.voucherno Description,NUM.dcCalcNum51 TaxableValue\n,NUM.dcCalcNum53 VATStdAmt,NUM.dcCalcNum55 VATRCMAmt,NUM.dcCalcNum57 VATCustomAmt,NUM.dcCalcNum59 VATAdvAmt\n,0.0 StdAdjustment,0.0 RCMAdjustment\n,"+o+" VATState\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID"+n+"\nWHERE INV.CostCenterID in ("+e+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand DCC.dcCCNID62!=8 and DCC.dcCCNID61!=13 and DCC.dcCCNID61!=14 and NUM.dcCalcNum53 is not null and (NUM.dcCalcNum53!=0 or NUM.dcCalcNum55!=0) ",t+="@WHERE@";let a="";this.VATSaleReturnDocs.Items.filter(e=>e.IsChecked).forEach(e=>{a.length>0&&(a+=","),a+=e.Value}),a.length>0&&(t+="\nUNION ALL\nSELECT inv.voucherno Description,-NUM.dcCalcNum51 TaxableValue\n,-NUM.dcCalcNum53 VATStdAmt,-NUM.dcCalcNum55 VATRCMAmt,-NUM.dcCalcNum57 VATCustomAmt,-NUM.dcCalcNum59 VATAdvAmt\n,0.0 StdAdjustment,0.0 RCMAdjustment\n,"+o+" VATState\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID"+n+"\nWHERE INV.CostCenterID in ("+a+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand DCC.dcCCNID62!=8 and DCC.dcCCNID61!=13 and DCC.dcCCNID61!=14 and (NUM.dcCalcNum53>0 or NUM.dcCalcNum55>0) ",t+="@WHERE@");let i="";this.VATBadDebtsDocs.Items.filter(e=>e.IsChecked).forEach(e=>{i.length>0&&(i+=","),i+=e.Value}),i.length>0&&(t+="\nUNION ALL\nSELECT inv.voucherno Description,0.0 TaxableValue\n,0.0 VATStdAmt,0.0 VATRCMAmt,0.0 VATCustomAmt,0.0 VATAdvAmt\n,-NUM.dcCalcNum53 StdAdjustment,-NUM.dcCalcNum55 RCMAdjustment\n,"+o+" VATState\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID"+n+"\nWHERE INV.CostCenterID in ("+i+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand DCC.dcCCNID62!=8 and DCC.dcCCNID61!=13 and DCC.dcCCNID61!=14 and (NUM.dcCalcNum53>0 or NUM.dcCalcNum55>0) ",t+="@WHERE@"),t+=") AS T\ngroup by VATState";let s=e;a.length>0&&(s+=","+a),t+="\n--Zero,Exemp,OtherGCC\nSELECT DCC.dcCCNID61 SaleType,DCC.dcCCNID62 AccType,sum(-INV.VoucherType*NUM.dcCalcNum51) TaxableValue\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+s+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand (DCC.dcCCNID61=13 or DCC.dcCCNID61=14 or DCC.dcCCNID62=8)",t+="@WHERE@",t+=" GROUP BY DCC.dcCCNID61,DCC.dcCCNID62",a="",this.lstVATPurDocs.Items.filter(e=>e.IsChecked).forEach(e=>{a.length>0&&(a+=","),a+=e.Value}),t+="\n--Customs\nSELECT isnull(sum(NUM.dcCalcNum51),0) TaxableValue,isnull(sum(NUM.dcCalcNum57),0) VATCustomAmt\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\njoin COM_CCCCDATA PCC with(nolock) on PCC.CostCenterID=3 and PCC.NodeID=INV.ProductID\nWHERE INV.CostCenterID in ("+a+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and (NUM.dcCalcNum57>0 )\nand PCC.CCNID71=1 and DCC.dcCCNID62>=5 and DCC.dcCCNID62<=8",t+="@WHERE@",a="",this.lstVATPurDocs.Items.filter(e=>e.IsChecked).forEach(e=>{a.length>0&&(a+=","),a+=e.Value}),a.length>0?(t+="\nselect VATStd,VATRCM,sum(TaxableValue) TaxableValue,sum(VATStdAmt) VATStdAmt,sum(VATRCMAmt) VATRCMAmt\n,sum(StdAdjustment) StdAdjustment,sum(RCMAdjustment) RCMAdjustment,ProductType\nfrom\n(",t+="SELECT inv.voucherno Description,NUM.dcCalcNum51 TaxableValue,NUM.dcNum52 VATStd,NUM.dcCalcNum53 VATStdAmt,NUM.dcNum54 VATRCM,NUM.dcCalcNum55 VATRCMAmt\n,0.0 StdAdjustment,0.0 RCMAdjustment,PCC.CCNID71 ProductType\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\njoin COM_CCCCDATA PCC with(nolock) on PCC.CostCenterID=3 and PCC.NodeID=INV.ProductID\nWHERE INV.CostCenterID in ("+a+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand (NUM.dcCalcNum53!=0 or NUM.dcCalcNum55!=0) ",t+="@WHERE@",a="",this.VATPurReturnDocs.Items.filter(e=>e.IsChecked).forEach(e=>{a.length>0&&(a+=","),a+=e.Value}),a.length>0&&(t+="\nUNION ALL\nSELECT inv.voucherno Description,-NUM.dcCalcNum51 TaxableValue,NUM.dcNum52 VATStd,-NUM.dcCalcNum53 VATStdAmt,NUM.dcNum54 VATRCM,-NUM.dcCalcNum55 VATRCMAmt\n,0.0 StdAdjustment,0.0 RCMAdjustment,PCC.CCNID71\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\njoin COM_CCCCDATA PCC with(nolock) on PCC.CostCenterID=3 and PCC.NodeID=INV.ProductID\nleft join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+a+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and (LINV.DocDate is null or LINV.DocDate between @From and @To)\nand (NUM.dcCalcNum53!=0 or NUM.dcCalcNum55!=0) ",t+="@WHERE@",t+="\nUNION ALL\nSELECT inv.voucherno Description,-NUM.dcCalcNum51 TaxableValue,NUM.dcNum52 VATStd,0.0 VATStdAmt,NUM.dcNum54 VATRCM,0.0 VATRCMAmt\n,-NUM.dcCalcNum53 StdAdjustment,-NUM.dcCalcNum55 RCMAdjustment,PCC.CCNID71\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\njoin COM_CCCCDATA PCC with(nolock) on PCC.CostCenterID=3 and PCC.NodeID=INV.ProductID\ninner join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+a+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and LINV.DocDate<@From\nand (NUM.dcCalcNum53!=0 or NUM.dcCalcNum55!=0) ",t+="@WHERE@"),t+=") AS T\ngroup by VATStd,VATRCM,ProductType"):t+="\nselect 0 NoPurchase where 1!=1",a="",this.VATTouristDocs.Items.filter(e=>e.IsChecked).forEach(e=>{a.length>0&&(a+=","),a+=e.Value}),a.length>0?(t+="\nselect -sum(TaxableValue) TaxableValue,-sum(VATStdAmt) VATStdAmt\nfrom\n(",t+="SELECT inv.voucherno Description,NUM.dcCalcNum51 TaxableValue,NUM.dcCalcNum53 VATStdAmt\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+a+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand NUM.dcCalcNum53 is not null and NUM.dcCalcNum53!=0 ",t+="@WHERE@",t+=") AS T"):t+="\nselect 0 NoTourist where 1!=1",a="",this.VATCustomsAdjDocs.Items.filter(e=>e.IsChecked).forEach(e=>{a.length>0&&(a+=","),a+=e.Value}),a.length>0?(t+="\nselect sum(TaxableValue) TaxableValue,sum(VATStdAmt) VATStdAmt\nfrom\n(",t+="SELECT inv.voucherno Description,NUM.dcCalcNum51 TaxableValue,NUM.dcCalcNum53 VATStdAmt\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+a+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand NUM.dcCalcNum53 is not null and NUM.dcCalcNum53!=0 ",t+="@WHERE@",t+=") AS T"):t+="\nselect 0 NoCustomAdj where 1!=1"}else if("VATSAS1"==this.GSTType){let e="";this.lstDocuments.keys.forEach(t=>{e.length>0&&(e+=","),e+=t.toString()});let o="";this.VATSaleReturnDocs.Items.filter(e=>e.IsChecked).forEach(e=>{o.length>0&&(o+=","),o+=e.Value}),t+="declare @From float,@To float\nset @From=convert(float,convert(datetime,@FROMDATE@))\nset @To=convert(float,convert(datetime,@TODATE@))",t+="\nselect sum(TaxableValue) TaxableValue,sum(VATStdAmt) VATStdAmt,sum(Adjustment) Adjustment\nfrom\n(",t+="SELECT inv.voucherno Description,NUM.dcCalcNum51 TaxableValue,NUM.dcCalcNum53 VATStdAmt,0.0 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+e+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand DCC.dcCCNID62!=8 and DCC.dcCCNID61!=13 and DCC.dcCCNID61!=14 and NUM.dcCalcNum53>0",t+=" @WHERE@",o.length>0&&(t+="\nUNION ALL\nSELECT inv.voucherno Description,-NUM.dcCalcNum51 TaxableValue,-NUM.dcCalcNum53 VATStdAmt,0.0 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\ninner join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+o+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and LINV.DocDate between @From and @To\nand DCC.dcCCNID62!=8 and DCC.dcCCNID61!=13 and DCC.dcCCNID61!=14 and NUM.dcCalcNum53>0 ",t+=" @WHERE@",t+="\nUNION ALL\nSELECT inv.voucherno Description,null TaxableValue,-NUM.dcCalcNum53 VATStdAmt,NUM.dcCalcNum51 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\ninner join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+o+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and LINV.DocDate<@From\nand DCC.dcCCNID62!=8 and DCC.dcCCNID61!=13 and DCC.dcCCNID61!=14 and NUM.dcCalcNum53>0",t+=" @WHERE@"),t+=") AS T",t+="--Zero,Exemp,OtherGCC,Customs\nselect SaleType,AccType,sum(TaxableValue) TaxableValue,sum(Adjustment) Adjustment\nfrom (\nSELECT DCC.dcCCNID61 SaleType,DCC.dcCCNID62 AccType,NUM.dcCalcNum51 TaxableValue,0.0 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+e+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand (DCC.dcCCNID61=13 or DCC.dcCCNID61=14 or DCC.dcCCNID62=8)",t+="@WHERE@",o.length>0&&(t+="\nUNION ALL\nSELECT DCC.dcCCNID61 SaleType,DCC.dcCCNID62 AccType,-NUM.dcCalcNum51 TaxableValue,0.0 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\ninner join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+o+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and LINV.DocDate between @From and @To\nand (DCC.dcCCNID61=13 or DCC.dcCCNID61=14 or DCC.dcCCNID62=8)",t+=" @WHERE@",t+="\nUNION ALL\nSELECT DCC.dcCCNID61 SaleType,DCC.dcCCNID62 AccType,0.0 TaxableValue,NUM.dcCalcNum51 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\ninner join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+o+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and LINV.DocDate<@From\nand (DCC.dcCCNID61=13 or DCC.dcCCNID61=14 or DCC.dcCCNID62=8)",t+=" @WHERE@"),t+=") AS T",t+=" GROUP BY SaleType,AccType",t+=" Select 1 ",o="",this.lstVATPurDocs.Items.filter(e=>e.IsChecked).forEach(e=>{o.length>0&&(o+=","),o+=e.Value}),o.length>0?(t+="\nselect VAT,SaleType,VATStd,VATRCM,VATCustom,sum(TaxableValue) TaxableValue,sum(VATStdAmt) VATStdAmt,sum(VATRCMAmt) VATRCMAmt,sum(VATCustomAmt) VATCustomAmt\n,sum(Adjustment) Adjustment\nfrom\n(",t+="SELECT inv.voucherno Description,DCC.dcCCNID61 SaleType,NUM.dcCalcNum51 TaxableValue,NUM.dcNum60 VAT,NUM.dcNum52 VATStd,NUM.dcCalcNum53 VATStdAmt,NUM.dcNum54 VATRCM,NUM.dcCalcNum55 VATRCMAmt,NUM.dcNum56 VATCustom,NUM.dcCalcNum57 VATCustomAmt\n,0.0 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+o+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand (NUM.dcCalcNum53>0 or NUM.dcCalcNum55>0 or NUM.dcNum56>0 or DCC.dcCCNID61=13 or DCC.dcCCNID61=14) ",t+="@WHERE@",o="",this.VATPurReturnDocs.Items.filter(e=>e.IsChecked).forEach(e=>{o.length>0&&(o+=","),o+=e.Value}),o.length>0&&(t+="\nUNION ALL\nSELECT inv.voucherno Description,DCC.dcCCNID61 SaleType,-NUM.dcCalcNum51 TaxableValue,NUM.dcNum60 VAT,NUM.dcNum52 VATStd,-NUM.dcCalcNum53 VATStdAmt,NUM.dcNum54 VATRCM,-NUM.dcCalcNum55 VATRCMAmt,NUM.dcNum56 VATCustom,-NUM.dcCalcNum57 VATCustomAmt\n,0.0 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\ninner join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+o+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and LINV.DocDate between @From and @To\nand (NUM.dcCalcNum53>0 or NUM.dcCalcNum55>0 or NUM.dcNum56>0 or DCC.dcCCNID61=13 or DCC.dcCCNID61=14) ",t+="@WHERE@",t+="\nUNION ALL\nSELECT inv.voucherno Description,DCC.dcCCNID61 SaleType,null TaxableValue,NUM.dcNum60 VAT,NUM.dcNum52 VATStd,-NUM.dcCalcNum53 VATStdAmt,NUM.dcNum54 VATRCM,-NUM.dcCalcNum55 VATRCMAmt,NUM.dcNum56 VATCustom,-NUM.dcCalcNum57 VATCustomAmt\n,NUM.dcCalcNum51 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\ninner join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+o+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and LINV.DocDate<@From\nand (NUM.dcCalcNum53>0 or NUM.dcCalcNum55>0 or NUM.dcNum56>0 or DCC.dcCCNID61=13 or DCC.dcCCNID61=14) ",t+="@WHERE@"),t+=") AS T\ngroup by VAT,SaleType,VATStd,VATRCM,VATCustom"):t+="select 0 NoPurchase where 1!=1"}return t.toString()}SetActualColumn(e,t,o){let n,a="",i="";if(this.DocumentFields.Contains(e.ID)){if(!e.IsOptional||!this.dtMain[1][e.ID]||""==s.e.String(this.dtMain[1][e.ID]))return void(e.ActualColumn="INV."+e.ID)}else{if("LinkVoucherNo"==e.ID)return this.Entities.ContainsKey("LINV")||(this.Entities.push("LINV","LINV"),this.FromTag+=" left join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID"),("GSTR2_cdnr"==this.GSTType||"GSTR2_cdnur"==this.GSTType)&&(0==o.length&&(o=s.e.String(400==e.ColumnDimension?t[e.ID]:this.dtMain[1][e.ID])),n=o.length>0?e.dtComboData.filter(e=>e.Value==o):[],n.length>0&&0==s.e.stringCompare(s.e.String(n[0].SysColumnName),"BillNo",!0))?void(e.ActualColumn="LINV.BillNo"):void(e.ActualColumn="LINV.VoucherNo");if("LinkDocDate"==e.ID)return this.Entities.ContainsKey("LINV")||(this.Entities.push("LINV","LINV"),this.FromTag+=" left join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID"),("GSTR2_cdnr"==this.GSTType||"GSTR2_cdnur"==this.GSTType)&&(0==o.length&&(o=s.e.String(400==e.ColumnDimension?t[e.ID]:this.dtMain[1][e.ID])),n=o.length>0?e.dtComboData.filter(e=>e.Value==o):[],n.length>0&&0==s.e.stringCompare(n[0].SysColumnName.toString(),"BillDate",!0))?void(e.ActualColumn="LINV.BillDate"):void(e.ActualColumn="LINV.DocDate");if("DocumentType"==e.ID)return void(e.ActualColumn="'"+t.DocumentType_Key.toString()+"'");if("PreGST"==e.ID)return void(e.ActualColumn="case when LINV.DocDate<42915 then 'Y' else 'N' end");if("IsDocCancelled"==e.ID&&this.GSTType.startsWith("CT"))return void(e.ActualColumn="case when INV.StatusID=376 then 'Y' else 'N' end");if("DifferentialTaxRate"==e.ID)return void(e.ActualColumn="0");if("SupplyUnderSec7"==e.ID||"WouldClaimRefund"==e.ID)return void(e.ActualColumn="'Yes'");if("IMPGDocType"==e.ID)return void(e.ActualColumn="'Bill of Entry'");if("NetValue"==e.ID&&"ANX1_ECOM"==this.GSTType){var l=this.Columns.find(e=>"InvValue"==e.ID);return e.ActualColumn="NULL"!=l.ActualColumn?l.ActualColumn:"",void("NULL"!=(l=this.Columns.find(e=>"RetInvValue"==e.ID)).ActualColumn&&(e.ActualColumn+="-"+l.ActualColumn))}}if(0==o.length&&(o=s.e.String(400==e.ColumnDimension?t[e.ID]:this.dtMain[1][e.ID])),n=o.length>0?e.dtComboData.filter(e=>e.Value==o):[],n.length>0&&(i=n[0].SysTableName.toString().toUpperCase()),0!=n.length){if(2==e.ColumnDimension)if(a="Account",this.Entities.ContainsKey("Account")||(this.Entities.push("Account","A"),this.FromTag+="\ninner join ACC_Accounts A with(nolock) on A.AccountID=",this.FromTag+=this.IsCreditAccount?"INV.CreditAccount":"INV.DebitAccount"),"ACC_ACCOUNTSEXTENDED"==i)a+=".Extended",this.Entities.ContainsKey(a)||(this.Entities.push(a,"AEXT"),this.FromTag+="\r\ninner join ACC_AccountsExtended AEXT with(nolock) on AEXT.AccountID=A.AccountID"),e.ActualColumn=this.Entities[a]+"."+n[0].SysColumnName.toString();else if("COM_CCCCDATA"==i){a+=".CCCCDATA",this.Entities.ContainsKey(a)||(this.Entities.push(a,"ADCC"),this.FromTag+="\r\ninner join COM_CCCCData ADCC with(nolock) on ADCC.CostCenterID=2 and ADCC.NodeID=A.AccountID");let t=parseInt(n[0].SysColumnName.toString().Replace("CCNID","")),o=this.GetTableName(5e4+t);a=a+"."+n[0].SysColumnName.toString(),this.Entities.ContainsKey(a)||(this.Entities.push(a,"ADCC_"+n[0].SysColumnName.toString()),this.FromTag+="\r\ninner join "+o+" "+this.Entities[a]+" with(nolock) on "+this.Entities[a]+".NodeID=ADCC."+n[0].SysColumnName.toString()),e.ActualColumn=this.Entities[a]+".Name"}else e.ActualColumn=this.Entities[a]+"."+n[0].SysColumnName.toString();else if(3==e.ColumnDimension)if(a="Product",this.Entities.ContainsKey("Product")||(this.Entities.push(a,"P"),this.FromTag+="\r\ninner join INV_Product P with(nolock) on P.ProductID=INV.ProductID"),"INV_PRODUCTEXTENDED"==i)a+=".Extended",this.Entities.ContainsKey(a)||(this.Entities.push(a,"PEXT"),this.FromTag+="\r\ninner join INV_ProductExtended PEXT with(nolock) on PEXT.ProductID=P.ProductID"),e.ActualColumn=this.Entities[a]+"."+n[0].SysColumnName.toString(),"44"==n[0].ColumnCostCenterID.toString()&&(e.ActualCol2=e.ActualColumn,e.ActualColumn="case when "+e.ActualColumn+" is not null and isnumeric("+e.ActualColumn+")=1 then (select TOP 1 Name from COM_Lookup L with(nolock) where L.NodeID="+e.ActualColumn+") else '' end");else if("COM_CCCCDATA"==i){a+=".CCCCDATA",this.Entities.ContainsKey(a)||(this.Entities.push(a,"PDCC"),this.FromTag+="\r\ninner join COM_CCCCData PDCC with(nolock) on PDCC.CostCenterID=3 and PDCC.NodeID=P.ProductID");let t=parseInt(n[0].SysColumnName.toString().Replace("CCNID","")),o=this.GetTableName(5e4+t);a=a+"."+n[0].SysColumnName.toString(),this.Entities.ContainsKey(a)||(this.Entities.push(a,"PDCC_"+n[0].SysColumnName.toString()),this.FromTag+="\r\ninner join "+o+" "+this.Entities[a]+" with(nolock) on "+this.Entities[a]+".NodeID=PDCC."+n[0].SysColumnName.toString()),e.ActualColumn=this.Entities[a]+".Name"}else e.ActualColumn=this.Entities[a]+"."+n[0].SysColumnName.toString();else if(12==e.ColumnDimension)a="Currency",this.Entities.ContainsKey("Currency")||(this.Entities.push(a,"CUR"),this.FromTag+="\r\ninner join COM_Currency CUR with(nolock) on CUR.CurrencyID=INV.CurrencyID"),e.ActualColumn=this.Entities[a]+"."+n[0].SysColumnName.toString();else if(400==e.ColumnDimension){if(a="Document","COM_DOCNUMDATA"==i)a+=".COM_DocNumData",this.Entities.ContainsKey(a)||(this.Entities.push(a,"NUM"),this.FromTag+="\r\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID");else if("COM_DOCTEXTDATA"==i)a+=".COM_DocTextData",this.Entities.ContainsKey(a)||(this.Entities.push(a,"TXT"),this.FromTag+="\r\ninner join COM_DocTextData TXT with(nolock) on TXT.InvDocDetailsID=INV.InvDocDetailsID");else{if("COM_DOCCCDATA"==i){let t=parseInt(n[0].SysColumnName.toString().Replace("dcCCNID","")),o=this.GetTableName(5e4+t);return a="Document.COM_DocCCData."+o,this.Entities.ContainsKey(a)||(this.Entities.push(a,"DCC_"+t),this.FromTag+="\r\ninner join "+o+" "+this.Entities[a]+" with(nolock) on "+this.Entities[a]+".NodeID=DCC.dcCCNID"+t),void(e.ActualColumn=this.Entities[a]+".Name")}if("Unit"==n[0].SysColumnName.toString())return a+=".Unit",this.Entities.ContainsKey(a)||(this.Entities.push(a,"U"),this.FromTag+="\r\ninner join COM_UOM U with(nolock) on U.UOMID=INV.Unit"),void(e.ActualColumn="U.UnitName")}if(e.ActualColumn=this.Entities[a]+"."+n[0].SysColumnName.toString(),null!=n[0].ColumnCostCenterID&&44==parseInt(n[0].ColumnCostCenterID))return void(e.ActualColumn="case when "+e.ActualColumn+" is not null and isnumeric("+e.ActualColumn+")=1 then (select TOP 1 Name from COM_Lookup L with(nolock) where L.NodeID="+e.ActualColumn+") else '' end");"Discount"==e.ID&&this.GSTType.startsWith("CT")&&(e.ActualColumn="abs("+e.ActualColumn+")"),"FLOAT"==e.DType&&"Rate"!=e.ID&&((!this.IsCreditAccount||"b2cs"!=this.GSTType&&"hsn"!=this.GSTType)&&(this.IsCreditAccount||"GSTR2_hsnsum"!=this.GSTType)||(e.ActualColumn="-"+e.ActualColumn))}else if(e.ColumnDimension>5e4){let t=this.GetTableName(e.ColumnDimension);if(("hsn"==this.GSTType||"GSTR2_hsnsum"==this.GSTType)&&"Description"==e.ID){var C=this.Columns.find(e=>"HSN"==e.ID);if(3==C.ColumnDimension&&null!=this.dtMain[1].HSN){let t=C.dtComboData.filter(e=>e.Value==this.dtMain[1].HSN.toString());if(t.length>0&&"COM_CCCCDATA"==t[0].SysTableName.toString().toUpperCase())return a="Product.CCCCDATA."+t[0].SysColumnName.toString(),void(e.ActualColumn=this.Entities[a]+"."+n[0].SysColumnName.toString())}}if(a="Document.COM_DocCCData."+t,this.Entities.ContainsKey(a)||(this.Entities.push(a,"DCC_"+(e.ColumnDimension-5e4)),this.FromTag+="\r\ninner join "+t+" "+this.Entities[a]+" with(nolock) on "+this.Entities[a]+".NodeID=DCC.dcCCNID"+(e.ColumnDimension-5e4)),"COM_CCCCDATA"==i){let o=a+".CCCCDATA";this.Entities.ContainsKey(o)||(this.Entities.push(o,"CC_D"+e.ColumnDimension),this.FromTag+="\r\ninner join COM_CCCCData "+this.Entities[o]+" with(nolock) on "+this.Entities[o]+".CostCenterID="+e.ColumnDimension+" and "+this.Entities[o]+".NodeID="+this.Entities[a]+".NodeID");let i=parseInt(n[0].SysColumnName.toString().Replace("CCNID",""));t=this.GetTableName(5e4+i),a=o+"."+n[0].SysColumnName.toString(),this.Entities.ContainsKey(a)||(this.Entities.push(a,this.Entities[o]+"_"+n[0].SysColumnName.toString()),this.FromTag+="\r\ninner join "+t+" "+this.Entities[a]+" with(nolock) on "+this.Entities[a]+".NodeID="+this.Entities[o]+"."+n[0].SysColumnName.toString()),e.ActualColumn=this.Entities[a]+".Name"}else e.ActualColumn=this.Entities[a]+"."+n[0].SysColumnName.toString()}if("b2b"!=this.GSTType&&"b2cl"!=this.GSTType&&"b2cs"!=this.GSTType&&"cdnr"!=this.GSTType&&"cdnur"!=this.GSTType||"GSTTaxType"==e.ID&&(this.WhereTag+=" and "+e.ActualColumn+" NOT IN ('Exempted','Nil Rated','Non GST')"),"exemp"==this.GSTType||"GSTR2_exemp"==this.GSTType)if("NilRated"==e.ID){var p=this.Columns.find(e=>"Value"==e.ID);e.ActualColumn="case when "+e.ActualColumn+"='"+this.txtexempNill.Text+"' then "+p.ActualColumn+" else 0 end"}else"Exempted"==e.ID?(p=this.Columns.find(e=>"Value"==e.ID),e.ActualColumn="case when "+e.ActualColumn+"='"+this.txtexempExempted.Text+"' then "+p.ActualColumn+" else 0 end"):"NonGST"==e.ID?(p=this.Columns.find(e=>"Value"==e.ID),e.ActualColumn="case when "+e.ActualColumn+"='"+this.txtexempNonGST.Text+"' then "+p.ActualColumn+" else 0 end"):"RecipientGSTIN"==e.ID?e.ActualColumn="case when "+e.ActualColumn+"='' or "+e.ActualColumn+" is null then 0 else 1 end":"CompositTaxPer"==e.ID&&(p=this.Columns.find(e=>"Value"==e.ID),e.ActualColumn="case when "+e.ActualColumn+"='Composition' then "+p.ActualColumn+" else 0 end");else"GSTR2_impg"==this.GSTType&&"Documenttype"==e.ID?e.ActualColumn="case when "+e.ActualColumn+" like '%SEZ%' then 'Received from SEZ' else 'Imports' end":"GSTR3_GSTR3B_Outward"==this.GSTType&&"FLOAT"==e.DType&&this.IsCreditAccount&&(e.ActualColumn="-("+e.ActualColumn+")")}else e.ActualColumn="FLOAT"==e.DType?"0.0":"NULL"}GetTableName(e){let t;return t=50001==e?"COM_Division":50002==e?"COM_Location":50003==e?"COM_Branch":50004==e?"COM_Department":50005==e?"COM_Salesman":50006==e?"COM_Category":50007==e?"COM_Area":50008==e?"COM_Teritory":"COM_CC"+e,t}}class W{constructor(e){this.dtComboData=null,this.ReadOnly=!1,this.InUse=!0,this.IsVisible=!0,this.IsOptional=!1,this.IgnoreInQuery=!1,this.Width=0,this.ColumnDimension=0,this.ActualCol2="";let t=s.f.SelectSingleNode(e,"DType");this.ID=e.attributes.ID.value,this.Caption=s.f.SelectSingleNode(e,"Caption").innerHTML,this.DType=null!=t?t.innerHTML:"",this.ComboType=null!=e.attributes.Combo?e.attributes.Combo.value:"",this.ComboDefValue=null!=e.attributes.ComboDefValue?e.attributes.ComboDefValue.value:"",this.Width=null!=e.attributes.Width?parseInt(e.attributes.Width.value):160,this.Agg=null!=e.attributes.Agg?e.attributes.Agg.value:"MAX",this.ReadOnly=null!=e.attributes.IsReadOnly&&"1"==e.attributes.IsReadOnly.value,this.Sort=null!=e.attributes.Sort?e.attributes.Sort.value:"",this.InUse=null==e.attributes.InUse||"0"!=e.attributes.InUse.value,this.IsVisible=null==e.attributes.IsVisible||"0"!=e.attributes.IsVisible.value,this.IsOptional=null!=e.attributes.IsOptional&&"1"==e.attributes.IsOptional.value,this.Decimals=null!=e.attributes.Decimals?e.attributes.Decimals.value:null,this.CT=null!=e.attributes.CT?e.attributes.CT.value:"",this.IgnoreInQuery=null!=e.attributes.IgnoreInQuery&&"1"==e.attributes.IgnoreInQuery.value,this.IgnoreInQuery&&(this.ReadOnly=!0),this.dc=this.ID,this.dcValue=this.ID+"_Key",this.dgColumn=new p.a,this.dgColumn.ID=this.ID,this.dgColumn.Header=this.Caption,this.dgColumn.DataType="PactComboBox",this.dgColumn.DisplayMember="Name",this.dgColumn.ValueMember="Value",this.dgColumn.ValueBinding=this.ID,this.dgColumn.FilterCondition="RowType={0}",this.dgColumn.FilterColumn="RowType",this.dgColumn.Width=this.Width,this.dgColumn.ReadOnly=this.ReadOnly,this.dgColumn.CurrID=this.InUse?1:0,this.dgColumn.IsVisible=this.IsVisible,this.InUse||(this.dgColumn.HeaderBackColor="#FFD0D0D0")}}var f=o("fXoL"),E=o("q8k3"),G=o("44PX"),U=o("sYmb");function x(e,t){if(1&e&&(f.Zb(0,"div",7),f.Wc(1,"\n                "),f.Vb(2,4),f.Wc(3,"\n            "),f.Yb()),2&e){const e=f.lc();f.Db(2),f.tc("obj",e.dtToDate)("group",e.form)}}function L(e,t){if(1&e&&(f.Zb(0,"div",15),f.Wc(1,"\n                        "),f.Vb(2,4),f.Wc(3,"\n                    "),f.Yb()),2&e){const e=f.lc().$implicit,t=f.lc();f.Db(2),f.tc("obj",t.obj.lstGridViewModel[e.Name])("group",t.form)}}function v(e,t){if(1&e&&(f.Xb(0),f.Wc(1,"\n                "),f.Zb(2,"tab",13),f.hc("selectTab",(function(){return t.$implicit.IsAccordionOpen=!0})),f.Wc(3,"\n                    "),f.Uc(4,L,4,2,"div",14),f.Wc(5,"\n                "),f.Yb(),f.Wc(6,"\n              "),f.Wb()),2&e){const e=t.$implicit,o=f.lc();f.Db(2),f.tc("heading",e.Header)("removable",!1),f.Db(2),f.tc("ngIf",o.obj.lstGridViewModel[e.Name].Columns.length>0)}}let F=(()=>{class e extends class{constructor(){this.dtReturnDate=new C.a,this.dtToDate=new C.a,this.chkToDate=new g.a,this.dtReturnDate.LblWidth="90",this.dtToDate.LblWidth="90",this.dtToDate.Label="To Date",this.dtToDate.Visible=!1,this.dtReturnDate.Date=Date.Today(),this.dtReturnDate.Label="Return Month",this.chkToDate.Label="Show To Date",this.chkToDate.CheckedChangedCommand.Subscribe(this,"onchkToDateClik")}Button_Click(e){if(this.ViewModel.DisplayMessage="","Submit"==e){let e=new Date(this.dtReturnDate.Date.getFullYear(),this.dtReturnDate.Date.getMonth(),1),t=null;this.dtToDate.Visible&&(e=this.dtReturnDate.Date,t=this.dtToDate.Date);for(let o=0;o<this.ViewModel.lstGridViewModel.length;o++){let n={Key:this.ViewModel.lstGridViewModel.keys[o],Value:this.ViewModel.lstGridViewModel.values[o]},a=N.SetQueryWhere(this.ViewModel.lstGSTReport[n.Key].objReport.QUERY,n.Key,e,t);console.log(n.Key+" Query :\r\n"+a);let i=l.a.report.ReportDataSet("RPT022",!1,a);if(null!=i&&i.Tables.length>0){if(i.Columns[0].Contains("ErrorMessage"))return void(this.ViewModel.DisplayMessage=i.Tables[0][0].ErrorMessage.toString());let o=new Array;N.ResetData(n.Key,i,e,t,o);let a=new Array;for(let e=1;e<this.ViewModel.lstGSTReport[n.Key].ReportGrid.Columns.length;e++){let t=this.ViewModel.lstGSTReport[n.Key].ReportGrid.Columns[e];if(0==t.CurrID)continue;let i=new p.a;i.ID=t.ID,i.Header=t.Header,i.Width=t.Width,i.ReadOnly=!0,i.DisplayMember=o.Contains(t.ID)?t.ID+"_Key":t.ID;let l=this.ViewModel.lstGSTReport[n.Key].Columns.find(e=>e.ID==t.ID);i.DataType=l.DType,"FLOAT"==i.DataType&&(i.DecimalPoints=s.e.IsEmpty(l.Decimals)?"2":l.Decimals,"SUM"==l.Agg&&(i.ShowTotal=!0,i.IsCalculated=1)),a.push(i)}i.Tables[0].forEach(e=>{e.id=n.Value.rowid}),n.Value.Table=i.Tables[0],n.Value.Columns=a,n.Value.RefreshColumns(),n.Value.UpdateTotals()}}}}onchkToDateClik(){if(this.chkToDate.IsChecked){this.dtReturnDate.Label="From Date",this.dtToDate.Visible=!0;let e=Date.Today();this.dtReturnDate.Date=new Date(e.getFullYear(),e.getMonth(),1),this.dtToDate.Date=new Date(e.getFullYear(),e.getMonth(),e.DaysInMonth())}else this.dtReturnDate.Label="Return Month",this.dtToDate.Visible=!1}}{constructor(){super(),this.form=new i.j({})}ngOnInit(){var e,t,o;(null===(e=this.params)||void 0===e?void 0:e.obj)&&(this.obj=null===(t=this.params)||void 0===t?void 0:t.obj),this.ViewModel=null===(o=this.params)||void 0===o?void 0:o.obj,0!=this.obj.lstGridViewModel.length&&(this.LoadData(),this.obj.DisplayMessage.length>0&&(alert(this.obj.DisplayMessage),l.a.page.removeTab(this.obj)))}LoadData(){for(let e=0;e<this.obj.lstGridViewModel.keys.length;e++){let t=this.obj.lstGridViewModel.keys[e],o=new V;if(o.ReportBuilder_2(this.obj.dicReportID[t],t),this.obj.lstGSTReport.push(t,o),o.cmbReport_SelectionChanged(null,null),o.GetReportConfiguration(),o.DisplayMessage.length>0)return void(this.obj.DisplayMessage=t+" :: "+o.DisplayMessage);if(o.objReport.QUERY=o.GetQuery(!0),0==o.objReport.QUERY.length)return void(this.obj.DisplayMessage=t+" :: Select Documents")}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f.Nb({type:e,selectors:[["app-gstr2"]],features:[f.Ab],decls:41,vars:9,consts:[[2,"overflow","auto","height","110%"],[1,"page-header",2,"display","flex"],[1,"page-title"],[2,"width","140px","padding-left","20px"],["FieldDirective","",3,"obj","group"],[1,"section"],[1,"row","form-row"],[1,"form-group","col-xl-3","col-md-4","col-sm-6","col-xs-12","PACTControl"],["class","form-group col-xl-3 col-md-4 col-sm-6 col-xs-12 PACTControl",4,"ngIf"],[1,"primary-btn-wicon",2,"width","80px",3,"click"],[1,"PACTTabFields","tab_content","tab-exrafields",2,"display","flex"],[1,"",2,"width","calc(100% - 30px)"],[4,"ngFor","ngForOf"],[3,"heading","removable","selectTab"],["style","width: calc(100% - 30px); height: calc(100% - 20px);",4,"ngIf"],[2,"width","calc(100% - 30px)","height","calc(100% - 20px)"]],template:function(e,t){1&e&&(f.Zb(0,"div",0),f.Wc(1,"\n    "),f.Zb(2,"div",1),f.Wc(3,"\n        "),f.Zb(4,"label",2),f.Wc(5,"GSTR-2"),f.Yb(),f.Wc(6,"\n        "),f.Zb(7,"div",3),f.Wc(8,"\n            "),f.Vb(9,4),f.Wc(10,"\n        "),f.Yb(),f.Wc(11,"\n    "),f.Yb(),f.Wc(12,"\n    "),f.Zb(13,"div",5),f.Wc(14,"\n        "),f.Zb(15,"div",6),f.Wc(16,"\n            "),f.Zb(17,"div",7),f.Wc(18,"\n                "),f.Vb(19,4),f.Wc(20,"\n            "),f.Yb(),f.Wc(21,"\n            "),f.Uc(22,x,4,2,"div",8),f.Wc(23,"\n            "),f.Zb(24,"div",7),f.Wc(25,"\n                "),f.Zb(26,"button",9),f.hc("click",(function(){return t.Button_Click("Submit")})),f.Wc(27),f.mc(28,"translate"),f.Yb(),f.Wc(29,"\n            "),f.Yb(),f.Wc(30,"\n        "),f.Yb(),f.Wc(31,"\n        \n        "),f.Zb(32,"div",10),f.Wc(33,"\n            "),f.Zb(34,"tabset",11),f.Wc(35,"\n               "),f.Uc(36,v,7,3,"ng-container",12),f.Wc(37,"\n            "),f.Yb(),f.Wc(38,"\n        "),f.Yb(),f.Wc(39,"\n    "),f.Yb(),f.Wc(40,"\n"),f.Yb()),2&e&&(f.Db(9),f.tc("obj",t.chkToDate)("group",t.form),f.Db(10),f.tc("obj",t.dtReturnDate)("group",t.form),f.Db(3),f.tc("ngIf",t.dtToDate.Visible),f.Db(5),f.Xc(f.nc(28,7,"Submit")),f.Db(9),f.tc("ngForOf",t.obj.Tab.Tabs))},directives:[E.a,n.t,G.e,n.s,G.b],pipes:[U.d],encapsulation:2}),e})();var w=o("Iab2");class _{constructor(e){this.DisplayMessage="",this.Success="",this.lst=e}get gspappid(){return""}get gspappsecret(){return""}OnMessageCallBack(){this.res="Yes"}UploadStatusGSTR1(e){let t=JSON.parse(e);if(null!=this.lst&&this.lst.length>0)for(let o=0;o<this.lst.length;o++){let e={Key:this.lst.keys[o],Value:this.lst.values[o]};if(!e.Value.TableColumns.Contains("UploadStatus")){e.Value.TableColumns.push("UploadStatus");let t=new Array,o=new p.a;o.Header="Upload Status",o.DisplayMember="UploadStatus",o.Width=240,o.ReadOnly=!0,t.push(o),e.Value.Columns.forEach(e=>{t.push(e)}),e.Value.Columns=t}if("b2b"==e.Key)if(null!=t.error_report&&null!=t.error_report.b2b&&t.error_report.b2b.length>0)for(let o=0;o<t.error_report.b2b.length;o++)e.Value.Table.filter(e=>e.RecipientGSTIN==t.error_report.b2b[o].ctin).forEach(e=>{e.UploadStatus=t.error_report.b2b[o].error_msg});else e.Value.Table.forEach(e=>{e.UploadStatus="Sucess"});else if("b2cl"==e.Key)if(null!=t.error_report&&null!=t.error_report.b2cl&&t.error_report.b2cl.length>0)for(let o=0;o<t.error_report.b2cl.length;o++)e.Value.Table.filter(e=>e.PoS==t.error_report.b2cl[o].pos).forEach(e=>{e.UploadStatus=t.error_report.b2cl[o].error_msg});else e.Value.Table.forEach(e=>{e.UploadStatus="Sucess"});else if("b2cs"==e.Key)if(null!=t.error_report&&null!=t.error_report.b2cs&&t.error_report.b2cs.length>0)for(let o=0;o<t.error_report.b2cs.length;o++)e.Value.Table.forEach(e=>{e.UploadStatus=t.error_report.b2cs[o].error_msg});else e.Value.Table.forEach(e=>{e.UploadStatus="Sucess"});else if("cdnr"==e.Key)if(null!=t.error_report&&null!=t.error_report.cdnr&&t.error_report.cdnr.length>0)for(let o=0;o<t.error_report.cdnr.length;o++)e.Value.Table.filter(e=>e.RecipientGSTIN==t.error_report.cdnr[o].ctin).forEach(e=>{e.UploadStatus=t.error_report.cdnr[o].error_msg});else e.Value.Table.forEach(e=>{e.UploadStatus="Sucess"});else if("cdnur"==e.Key)if(null!=t.error_report&&null!=t.error_report.cdnur&&t.error_report.cdnur.length>0)for(let o=0;o<t.error_report.cdnur.length;o++)e.Value.Table.filter(e=>e.URType==t.error_report.cdnur[o].typ).forEach(e=>{e.UploadStatus=t.error_report.cdnur[o].error_msg});else e.Value.Table.forEach(e=>{e.UploadStatus="Sucess"});else if("exp"==e.Key)if(null!=t.error_report&&null!=t.error_report.exp&&t.error_report.exp.length>0)for(let o=0;o<t.error_report.exp.length;o++)e.Value.Table.filter(e=>e.ExportType==t.error_report.exp[o].exp_typ).forEach(e=>{e.UploadStatus=t.error_report.exp[o].error_msg});else e.Value.Table.forEach(e=>{e.UploadStatus="Sucess"});else if("at"==e.Key)if(null!=t.error_report&&null!=t.error_report.at&&t.error_report.at.length>0)for(let o=0;o<t.error_report.at.length;o++)e.Value.Table.filter(e=>e.PoS==t.error_report.at[o].pos).forEach(e=>{e.UploadStatus=t.error_report.at[o].error_msg});else e.Value.Table.forEach(e=>{e.UploadStatus="Sucess"});else if("atadj"==e.Key)if(null!=t.error_report&&null!=t.error_report.txpd&&t.error_report.txpd.length>0)for(let o=0;o<t.error_report.txpd.length;o++)e.Value.Table.filter(e=>e.PoS==t.error_report.txpd[o].pos).forEach(e=>{e.UploadStatus=t.error_report.txpd[o].error_msg});else e.Value.Table.forEach(e=>{e.UploadStatus="Sucess"});else"exemp"==e.Key?e.Value.Table.forEach(null!=t.error_report&&null!=t.error_report.nil?e=>{e.UploadStatus=t.error_report.nil.error_msg}:e=>{e.UploadStatus="Sucess"}):"hsn"==e.Key?e.Value.Table.forEach(null!=t.error_report&&null!=t.error_report.hsnsum?e=>{e.UploadStatus=t.error_report.hsnsum.error_msg}:e=>{e.UploadStatus="Sucess"}):"docs"==e.Key&&e.Value.Table.forEach(null!=t.error_report&&null!=t.error_report.doc_issue?e=>{e.UploadStatus=t.error_report.doc_issue.error_msg}:e=>{e.UploadStatus="Sucess"})}}UploadingGSTR(e,t,o,n,a){if(5==e.length&&(e="0"+e),!confirm("Are you sure to Upload to GST Portal\n"+t+":"+e))return"";let i,C=s.e.NewGuid().Replace("-",""),p="";return"GSTR1"==t?p=JSON.stringify(this.GSTR1Obj(n,e)):"GSTR3B"==t?p=JSON.stringify(this.GSTR3BObj(n,e)):"ANX1"==t&&(p=JSON.stringify(this.ANX1Obj(n,e))),Logger.DebugLog("Upload : RETSAVE :Request PayLoad: "+p),i="ANX1"==t?l.a.report.GST_POSTData(t,o,"SAVEANX1",n,e,a,C,p):l.a.report.GST_PUTData(t,o,"RETSAVE",n,e,a,C,p),i&&i.then(i=>{if(Logger.DebugLog("Upload : RETSAVE :Response PayLoad: "+i),null!=i&&i.startsWith("{")){let e=JSON.parse(i);null!=e&&(this.DisplayMessage=e.message,this.Success=e.success)}if("true"==this.Success&&(i=l.a.report.GST_GetData("",o,"RETSTATUS",n,e,a,C),Logger.DebugLog("Upload : RETSTATUS :Response PayLoad: "+i),null!=i&&i.startsWith("{"))){let e=JSON.parse(i);null!=e&&"P"!=e.status_cd&&null!=e.error_report&&null!=e.error_report.error_msg?this.DisplayMessage=e.error_report.error_msg:"GSTR1"==t&&this.UploadStatusGSTR1(i)}}),this.DisplayMessage}SubmitingGSTR(e,t,o,n,a,i){if(5==e.length&&(e="0"+e),!confirm("Are you sure to Submit to GST Portal\n"+t+":"+e))return"";let C=s.e.NewGuid().Replace("-",""),p="";if("RETSUBMIT"==i){let t=new P;t.gstin=n,t.ret_period=e,p=JSON.stringify(t)}return l.a.report.GST_POSTData(t,o,i,n,e,a,C,p),this.DisplayMessage}GenerateJSON(e,t,o){5==e.length&&(e="0"+e);let n="";if("GSTR1"==t?n=JSON.stringify(this.GSTR1Obj(o,e)):"GSTR3B"==t?n=JSON.stringify(this.GSTR3BObj(o,e)):"ANX1"==t&&(n=JSON.stringify(this.ANX1Obj(o,e))),n){const a=new Blob([n],{type:"text/plain;charser=utf-8"});w.saveAs(a,t+e+o+".json")}else this.DisplayMessage="Error while creating json file";return this.DisplayMessage}RetriveData(e,t,o,n,a,i,C){5==t.length&&(t="0"+t);let p=s.e.NewGuid().Replace("-","");return l.a.report.GST_GetData(o,a,n,i,t,C,p).then(t=>{if(Logger.DebugLog("RetriveData :"+o+":"+n+": Response PayLoad: "+t),"GSTR2A"==o)if("B2B"==n||"B2BA"==n){let o=JSON.parse(t);if("B2BA"==n&&(o.b2b=o.b2ba),null!=o&&null!=o.b2b&&o.b2b.length>0)for(let t=0;t<o.b2b.length;t++)if(null!=o.b2b[t].inv&&o.b2b[t].inv.length>0)for(let a=0;a<o.b2b[t].inv.length;a++)if(null!=o.b2b[t].inv[a].itms&&o.b2b[t].inv[a].itms.length>0)for(let i=0;i<o.b2b[t].inv[a].itms.length;i++){let l={};"B2BA"==n&&(l.oinum=o.b2b[t].inv[a].oinum,l.oidt=o.b2b[t].inv[a].oidt),l.chksum=o.b2b[t].inv[a].chksum,l.ctin=o.b2b[t].ctin,l.inum=o.b2b[t].inv[a].inum,l.inv_typ=o.b2b[t].inv[a].inv_typ,l.idt=o.b2b[t].inv[a].idt,l.val=o.b2b[t].inv[a].val,l.pos=o.b2b[t].inv[a].pos,l.rchrg=o.b2b[t].inv[a].rchrg,null!=o.b2b[t].inv[a].diff_percent&&(l.diff_percent=o.b2b[t].inv[a].diff_percent),l.rt=o.b2b[t].inv[a].itms[i].itm_det.rt,l.txval=o.b2b[t].inv[a].itms[i].itm_det.txval,l.iamt=o.b2b[t].inv[a].itms[i].itm_det.iamt,l.camt=o.b2b[t].inv[a].itms[i].itm_det.camt,l.samt=o.b2b[t].inv[a].itms[i].itm_det.samt,l.csamt=o.b2b[t].inv[a].itms[i].itm_det.csamt,l.cfs=o.b2b[t].cfs,l.fldtr1=o.b2b[t].fldtr1,l.flprdr1=o.b2b[t].flprdr1,l.cfs3b=o.b2b[t].cfs3b,l.atyp=o.b2b[t].inv[a].atyp,l.aspd=o.b2b[t].inv[a].aspd,l.dtcancel=o.b2b[t].dtcancel,"B2B"==n&&(l.srctyp=o.b2b[t].inv[a].srctyp,l.irn=o.b2b[t].inv[a].irn,l.irngendate=o.b2b[t].inv[a].irngendate),e.push(l)}}else if("CDN"==n||"CDNA"==n){let o=JSON.parse(t);if(null!=o&&null==o.cdn&&null!=o.cdna&&(o.cdn=o.cdna),null!=o&&null!=o.cdn&&o.cdn.length>0)for(let t=0;t<o.cdn.length;t++)if(null!=o.cdn[t].nt&&o.cdn[t].nt.length>0)for(let a=0;a<o.cdn[t].nt.length;a++)if(null!=o.cdn[t].nt[a].itms&&o.cdn[t].nt[a].itms.length>0)for(let i=0;i<o.cdn[t].nt[a].itms.length;i++){let l={};"CDNA"==n&&(l.ontty=o.cdn[t].nt[a].ntty,l.ont_num=o.cdn[t].nt[a].ont_num,l.ont_dt=o.cdn[t].nt[a].ont_dt),l.chksum=o.cdn[t].nt[a].chksum,l.ctin=o.cdn[t].ctin,l.ntty=o.cdn[t].nt[a].ntty,l.nt_num=o.cdn[t].nt[a].nt_num,l.inv_typ=o.cdn[t].nt[a].inv_typ,l.nt_dt=o.cdn[t].nt[a].nt_dt,l.p_gst=o.cdn[t].nt[a].p_gst,l.d_flag=o.cdn[t].nt[a].d_flag,l.inum=o.cdn[t].nt[a].inum,l.idt=o.cdn[t].nt[a].idt,l.val=o.cdn[t].nt[a].val,l.pos=o.cdn[t].nt[a].pos,l.rchrg=o.cdn[t].nt[a].rchrg,null!=o.cdn[t].nt[a].diff_percent&&(l.diff_percent=o.cdn[t].nt[a].diff_percent),l.rt=o.cdn[t].nt[a].itms[i].itm_det.rt,l.txval=o.cdn[t].nt[a].itms[i].itm_det.txval,l.iamt=o.cdn[t].nt[a].itms[i].itm_det.iamt,l.camt=o.cdn[t].nt[a].itms[i].itm_det.camt,l.samt=o.cdn[t].nt[a].itms[i].itm_det.samt,l.csamt=o.cdn[t].nt[a].itms[i].itm_det.csamt,l.cfs=o.cdn[t].cfs,l.fldtr1=o.cdn[t].fldtr1,l.flprdr1=o.cdn[t].flprdr1,l.cfs3b=o.cdn[t].cfs3b,l.aspd=o.cdn[t].nt[a].aspd,l.atyp=o.cdn[t].nt[a].atyp,l.dtcancel=o.cdn[t].dtcancel,"CDN"==n&&(l.srctyp=o.cdn[t].nt[a].srctyp,l.irn=o.cdn[t].nt[a].irn,l.irngendate=o.cdn[t].nt[a].irngendate,l.cflag=o.cdn[t].nt[a].cflag,l.updby=o.cdn[t].nt[a].updby),e.push(l)}}else if("ISD"==n||"ISDA"==n){let o=JSON.parse(t);if(null!=o&&null==o.isd&&null!=o.isda&&(o.isd=o.isda),null!=o&&null!=o.isd&&o.isd.length>0)for(let t=0;t<o.isd.length;t++)if(null!=o.isd[t].doclist&&o.isd[t].doclist.length>0)for(let a=0;a<o.isd[t].doclist.length;a++){let i={};"ISDA"==n&&(i.oisd_docty=o.isd[t].doclist[a].isd_docty,i.odocnum=o.isd[t].doclist[a].odocnum,i.odocdt=o.isd[t].doclist[a].odocdt),i.itc_elg=o.isd[t].doclist[a].itc_elg,i.chksum=o.isd[t].doclist[a].chksum,i.ctin=o.isd[t].ctin,i.isd_docty=o.isd[t].doclist[a].isd_docty,i.docnum=o.isd[t].doclist[a].docnum,i.docdt=o.isd[t].doclist[a].docdt,i.iamt=o.isd[t].doclist[a].iamt,i.camt=o.isd[t].doclist[a].camt,i.samt=o.isd[t].doclist[a].samt,i.cess=o.isd[t].doclist[a].cess,i.cfs=o.isd[t].cfs,i.aspd=o.isd[t].doclist[a].aspd,i.atyp=o.isd[t].doclist[a].atyp,e.push(i)}}else if("TDS"==n||"TDSA"==n){let o=JSON.parse(t);if(null!=o&&null==o.tds&&null!=o.tdsa&&(o.tds=o.tdsa),null!=o.tds&&o.tds.length>0)for(let t=0;t<o.tds.length;t++){let a={};"TDSA"==n&&(a.ogstin_ded=o.tds[t].ogstin_ded,a.omonth=o.tds[t].omonth,a.oamt_ded=o.tds[t].oamt_ded),a.gstin_ded=o.tds[t].gstin_ded,a.amt_ded=o.tds[t].amt_ded,a.iamt=o.tds[t].iamt,a.camt=o.tds[t].camt,a.samt=o.tds[t].samt,e.push(a)}}else if("TCS"==n){let o=JSON.parse(t);if(null!=o&&null!=o.tcs_data&&o.tcs_data.length>0)for(let t=0;t<o.tcs_data.length;t++){let n={};n.chksum=o.tcs_data[t].chksum,n.eitn=o.tcs_data[t].eitn,n.sup_val=o.tcs_data[t].sup_val,n.tx_val=o.tcs_data[t].tx_val,n.iamt=o.tcs_data[t].iamt,n.camt=o.tcs_data[t].camt,n.samt=o.tcs_data[t].samt,n.csamt=o.tcs_data[t].csamt,e.push(n)}}else if("IMPG"==n||"IMPGSEZ"==n){let o=JSON.parse(t);if(null!=o&&null==o.impg&&null!=o.impgsez&&(o.impg=o.impgsez),null!=o&&null!=o.impg&&o.impg.length>0)for(let t=0;t<o.impg.length;t++){let a={};"IMPGSEZ"==n&&(a.sgstin=o.impg[t].sgstin,a.tdname=o.impg[t].tdname),a.refdt=o.impg[t].refdt,a.portcd=o.impg[t].portcd,a.benum=o.impg[t].benum,a.bedt=o.impg[t].bedt,a.txval=o.impg[t].txval,a.iamt=o.impg[t].iamt,a.csamt=o.impg[t].csamt,a.amd=o.impg[t].amd,e.push(a)}}return e})}GSTR1Obj(e,t){if(null!=this.lst&&this.lst.length>0){let o=new X;o.gstin=e,o.fp=t,o.hash="hash",l.a.SessionManager.config.GSTVersion&&(o.version=l.a.SessionManager.config.GSTVersion);let n=0;for(let t=0;t<this.lst.length;t++){let a={Key:this.lst.keys[t],Value:this.lst.values[t]},i=a.Value.Table;if(null!=i&&i.length>0)if("b2b"==a.Key){let t=i.ToTable(!0,["RecipientGSTIN"]);o.b2b=new Array;for(let a=0;a<t.length;a++){if(s.e.IsNullOrWhiteSpace(t[a].RecipientGSTIN))continue;let l=new k;l.ctin=t[a].RecipientGSTIN.toString().TrimEnd(" ");let C=i.ToTable(!0,["RecipientGSTIN","VoucherNo","DocDate","InvValue","PoS","ReverseCharge","InvType","ApplicableTaxRate","ECommGSTIN"]).filter(e=>e.RecipientGSTIN==t[a].RecipientGSTIN.toString().TrimEnd(" "));for(let t=0;t<C.length;t++){let o=new H;s.e.IsNum(C[t].InvValue)&&(o.val=s.e.Round(s.e.Double(C[t].InvValue),2)),o.pos=s.e.String(C[t].PoS).Trim().substr(0,2),o.idt=new Date(C[t].DocDate).ToString("dd-MM-yyyy"),o.rchrg=""==s.e.String(C[t].ReverseCharge)?"N":s.e.String(C[t].ReverseCharge),o.inum=s.e.String(C[t].VoucherNo).TrimEnd(" "),o.inv_typ="custombondedwarehouse"==s.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"CBW":"sezsupplieswithpayment"==s.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"SEWP":"sezsupplieswithoutpayment"==s.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"SEWOP":"deemedexp"==s.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"DE":"R",n=s.e.Double(C[t].ApplicableTaxRate),s.e.IsNum(C[t].ApplicableTaxRate)&&0!=n&&(o.diff_percent=s.e.Round(n,2)),s.e.IsNullOrWhiteSpace(C[t].ECommGSTIN)||(o.etin=C[t].ECommGSTIN.toString().TrimEnd(" "));let a=i.filter(e=>e.VoucherNo==s.e.String(C[t].VoucherNo).TrimEnd(" "));for(let t=0;t<a.length;t++){let i=new B;i.num=t+1;let l=new j;s.e.IsNum(a[t].Rate)&&(l.rt=parseInt(a[t].Rate),i.num=100*l.rt+(t+1)),s.e.IsNum(a[t].TaxableValue)&&(l.txval=s.e.Round(s.e.Double(a[t].TaxableValue),2)),n=l.txval/100*l.rt,o.pos==e.substr(0,2)?(l.camt=s.e.Round(n/2,2),l.samt=s.e.Round(n/2,2)):l.iamt=s.e.Round(n,2),s.e.IsNum(a[t].CessAmt)&&(l.csamt=s.e.Round(s.e.Double(a[t].CessAmt),2)),i.itm_det=l,o.itms.push(i)}l.inv.push(o)}o.b2b.push(l)}}else if("b2cl"==a.Key){let t=i.ToTable(!0,["PoS"]);o.b2cl=new Array;for(let a=0;a<t.length;a++){if(s.e.IsNullOrWhiteSpace(t[a].PoS))continue;let l=new Y;l.pos=t[a].PoS.toString().Trim().substr(0,2);let C=i.ToTable(!0,["PoS","VoucherNo","DocDate","InvValue","ApplicableTaxRate","ECommGSTIN"]).filter(e=>e.PoS==t[a].PoS.toString().Trim());for(let t=0;t<C.length;t++){let o=new K;o.val=parseFloat(C[t].InvValue),o.idt=new Date(C[t].DocDate).ToString("dd-MM-yyyy"),o.inum=s.e.String(C[t].VoucherNo).TrimEnd(" "),s.e.IsNullOrWhiteSpace(C[t].InvType)||(o.inv_typ="custombondedwarehouse"==s.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"CBW":"sezsupplieswithpayment"==s.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"SEWP":"sezsupplieswithoutpayment"==s.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"SEWOP":"deemedexp"==s.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"DE":"R"),n=s.e.Double(C[t].ApplicableTaxRate),s.e.IsNum(C[t].ApplicableTaxRate)&&0!=n&&(o.diff_percent=s.e.Round(n,2)),s.e.IsNullOrWhiteSpace(C[t].ECommGSTIN)||(o.etin=C[t].ECommGSTIN.toString().TrimEnd(" "));let a=i.filter(e=>e.VoucherNo==s.e.String(C[t].VoucherNo).TrimEnd(" "));for(let t=0;t<a.length;t++){let i=new B;i.num=t+1;let C=new j;s.e.IsNum(a[t].Rate)&&(C.rt=parseInt(a[t].Rate),i.num=100*C.rt+(t+1)),s.e.IsNum(a[t].TaxableValue)&&(C.txval=s.e.Round(s.e.Double(a[t].TaxableValue),2)),n=C.txval/100*C.rt,l.pos==e.substr(0,2)?(C.camt=s.e.Round(n/2,2),C.samt=s.e.Round(n/2,2)):C.iamt=s.e.Round(n,2),s.e.IsNum(a[t].CessAmt)&&(C.csamt=s.e.Round(s.e.Double(a[t].CessAmt),2)),i.itm_det=C,o.itms.push(i)}l.inv.push(o)}o.b2cl.push(l)}}else if("b2cs"==a.Key){o.b2cs=new Array;for(let t=0;t<i.length;t++){if(s.e.IsNullOrWhiteSpace(i[t].Type))continue;let a=new Q;a.sply_ty=s.e.String(i[t].PoS).Trim().substr(0,2)==e.substr(0,2)?"INTRA":"INTER",a.typ=i[t].Type.toString().TrimEnd(" "),a.pos=s.e.String(i[t].PoS).Trim().substr(0,2),s.e.IsNum(i[t].Rate)&&(a.rt=parseInt(i[t].Rate)),s.e.IsNum(i[t].TaxableValue)&&(a.txval=s.e.Round(s.e.Double(i[t].TaxableValue),2)),n=s.e.Double(i[t].ApplicableTaxRate),s.e.IsNum(i[t].ApplicableTaxRate)&&0!=n&&(a.diff_percent=s.e.Round(s.e.Double(i[t].ApplicableTaxRate),2)),s.e.IsNullOrWhiteSpace(i[t].ECommGSTIN)||(a.etin=i[t].ECommGSTIN.toString()),n=a.txval/100*a.rt,a.pos==e.substr(0,2)?(a.camt=s.e.Round(n/2,2),a.samt=s.e.Round(n/2,2)):a.iamt=s.e.Round(n,2),s.e.IsNum(i[t].CessAmt)&&(a.csamt=s.e.Round(s.e.Double(i[t].CessAmt),2)),o.b2cs.push(a)}}else if("cdnr"==a.Key){let t=i.ToTable(!0,["RecipientGSTIN"]);o.cdnr=new Array;for(let a=0;a<t.length;a++){if(s.e.IsNullOrWhiteSpace(t[a].RecipientGSTIN))continue;let l=new Z;l.ctin=t[a].RecipientGSTIN.toString().TrimEnd(" ");let C=i.ToTable(!0,["RecipientGSTIN","VoucherNo","DocDate","InvValue","PoS","DocumentType","InvType","ReverseCharge","ApplicableTaxRate"]).filter(e=>e.RecipientGSTIN&&e.RecipientGSTIN==t[a].RecipientGSTIN.toString().TrimEnd(" ")&&""!=e.RecipientGSTIN);for(let t=0;t<C.length;t++){let o=new J;o.ntty=s.e.String(C[t].DocumentType).TrimEnd(" "),o.nt_num=s.e.String(C[t].VoucherNo).TrimEnd(" "),o.pos=s.e.String(C[t].PoS).Trim().substr(0,2),o.nt_dt=new Date(C[t].DocDate).ToString("dd-MM-yyyy"),o.rchrg=""==s.e.String(C[t].ReverseCharge)?"N":s.e.String(C[t].ReverseCharge),o.inv_typ="custombondedwarehouse"==s.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"CBW":"sezsupplieswithpayment"==s.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"SEWP":"sezsupplieswithoutpayment"==s.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"SEWOP":"deemedexp"==s.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"DE":"R",s.e.IsNum(C[t].InvValue)&&(o.val=s.e.Round(s.e.Double(C[t].InvValue),2)),n=s.e.Double(C[t].ApplicableTaxRate),s.e.IsNum(C[t].ApplicableTaxRate)&&0!=n&&(o.diff_percent=s.e.Round(n,2)),s.e.IsNullOrWhiteSpace(C[t].ECommGSTIN)||(o.etin=C[t].ECommGSTIN.toString().TrimEnd(" "));let a=i.filter(e=>e.VoucherNo==s.e.String(C[t].VoucherNo).TrimEnd(" "));for(let i=0;i<a.length;i++){let l=new B;l.num=i+1;let p=new j;s.e.IsNum(a[i].Rate)&&(p.rt=parseInt(a[i].Rate),l.num=100*p.rt+(i+1)),s.e.IsNum(a[i].TaxableValue)&&(p.txval=s.e.Round(s.e.Double(a[i].TaxableValue),2)),n=p.txval/100*p.rt,s.e.String(C[t].PoS).Trim().substr(0,2)==e.substr(0,2)?(p.camt=s.e.Round(n/2,2),p.samt=s.e.Round(n/2,2)):p.iamt=s.e.Round(n,2),s.e.IsNum(a[i].CessAmt)&&(p.csamt=s.e.Round(s.e.Double(a[i].CessAmt),2)),l.itm_det=p,o.itms.push(l)}l.nt.push(o)}o.cdnr.push(l)}}else if("cdnur"==a.Key){let t=i.ToTable(!0,["URType","VoucherNo","DocDate","InvValue","PoS","DocumentType","ApplicableTaxRate"]);o.cdnur=new Array;for(let a=0;a<t.length;a++){if(s.e.IsNullOrWhiteSpace(t[a].URType))continue;let l=new z;l.typ=t[a].URType.toString().TrimEnd(" "),l.ntty=s.e.String(t[a].DocumentType).TrimEnd(" "),l.nt_num=s.e.String(t[a].VoucherNo).TrimEnd(" "),l.nt_dt=new Date(t[a].DocDate).ToString("dd-MM-yyyy"),s.e.IsNum(t[a].InvValue)&&(l.val=s.e.Round(s.e.Double(t[a].InvValue),2)),n=s.e.Double(t[a].ApplicableTaxRate),s.e.IsNum(t[a].ApplicableTaxRate)&&0!=n&&(l.diff_percent=s.e.Round(n,2));let C=i.filter(e=>e.VoucherNo==s.e.String(t[a].VoucherNo).TrimEnd(" "));for(let o=0;o<C.length;o++){let i=new B;i.num=o+1;let p=new j;s.e.IsNum(C[o].Rate)&&(p.rt=parseInt(C[o].Rate),i.num=100*p.rt+(o+1)),s.e.IsNum(C[o].TaxableValue)&&(p.txval=s.e.Round(s.e.Double(C[o].TaxableValue),2)),n=p.txval/100*p.rt,s.e.String(t[a].PoS).Trim().substr(0,2)==e.substr(0,2)?(p.camt=s.e.Round(n/2,2),p.samt=s.e.Round(n/2,2)):p.iamt=s.e.Round(n,2),s.e.IsNum(C[o].CessAmt)&&(p.csamt=s.e.Round(s.e.Double(C[o].CessAmt),2)),i.itm_det=p,l.itms.push(i)}o.cdnur.push(l)}}else if("exp"==a.Key){let e=i.ToTable(!0,["ExportType"]);o.exp=new Array;for(let t=0;t<e.length;t++){if(s.e.IsNullOrWhiteSpace(e[t].ExportType))continue;let a=new q;a.exp_typ=e[t].ExportType.toString().TrimEnd(" ");let l=i.filter(o=>o.ExportType==e[t].ExportType.toString().TrimEnd(" "));for(let e=0;e<l.length;e++){let t=new $;s.e.IsNum(l[e].InvValue)&&(t.val=s.e.Round(s.e.Double(l[e].InvValue),2)),t.idt=new Date(l[e].DocDate).ToString("dd-MM-yyyy"),t.inum=s.e.String(l[e].VoucherNo).TrimEnd(" "),s.e.IsNullOrWhiteSpace(l[e].PortCode)||(t.sbpcode=l[e].PortCode.toString().TrimEnd(" ")),s.e.IsNullOrWhiteSpace(l[e].ShipBillNo)||(t.sbnum=l[e].ShipBillNo.toString().TrimEnd(" ")),s.e.IsNullOrWhiteSpace(l[e].ShipBillDate)||(t.sbdt=new Date(l[e].ShipBillDate).ToString("dd-MM-yyyy"));let o=i.filter(t=>t.VoucherNo==s.e.String(l[e].VoucherNo).TrimEnd(" "));for(let e=0;e<o.length;e++){let a=new j;s.e.IsNum(o[e].Rate)&&(a.rt=parseInt(o[e].Rate)),s.e.IsNum(o[e].TaxableValue)&&(a.txval=s.e.Round(s.e.Double(o[e].TaxableValue),2)),n=a.txval/100*a.rt,a.iamt=s.e.Round(n,2),s.e.IsNum(o[e].CessAmt)&&(a.csamt=s.e.Round(s.e.Double(o[e].CessAmt),2)),t.itms.push(a)}a.inv.push(t)}o.exp.push(a)}}else if("at"==a.Key||"atadj"==a.Key){let t=i.ToTable(!0,["PoS","ApplicableTaxRate"]);"at"==a.Key?o.at=new Array:"atadj"==a.Key&&(o.txpd=new Array);for(let l=0;l<t.length;l++){if(s.e.IsNullOrWhiteSpace(t[l].PoS))continue;let C=new ee;C.pos=t[l].PoS.toString().Trim().substr(0,2),C.sply_ty=t[l].PoS.toString().Trim().substr(0,2)==e.substr(0,2)?"INTRA":"INTER",n=s.e.Double(t[l].ApplicableTaxRate),s.e.IsNum(t[l].ApplicableTaxRate)&&0!=n&&(C.diff_percent=s.e.Round(n,2));let p=i.filter(e=>e.PoS==t[l].PoS.toString().Trim());for(let t=0;t<p.length;t++){let o=new te;s.e.IsNum(p[t].Rate)&&(o.rt=parseInt(p[t].Rate)),"at"==a.Key&&s.e.IsNum(p[t].AdvReceived)?o.ad_amt=s.e.Round(s.e.Double(p[t].AdvReceived),2):"atadj"==a.Key&&s.e.IsNum(p[t].AdvAdjusted)&&(o.ad_amt=s.e.Round(s.e.Double(p[t].AdvAdjusted),2)),n=o.ad_amt/100*o.rt,C.pos==e.substr(0,2)?(o.camt=s.e.Round(n/2,2),o.samt=s.e.Round(n/2,2)):o.iamt=s.e.Round(n,2),s.e.IsNum(p[t].CessAmt)&&(o.csamt=s.e.Round(s.e.Double(p[t].CessAmt),2)),C.itms.push(o)}"at"==a.Key?o.at.push(C):"atadj"==a.Key&&o.txpd.push(C)}}else if("exemp"==a.Key){let e=new oe;for(let t=0;t<i.length;t++){if(s.e.IsNullOrWhiteSpace(i[t].Description))continue;let o=new ne;"interstatesuppliestoregisteredpersons"==s.e.String(i[t].Description).Replace(" ","").Replace("-","").toLowerCase()?o.sply_ty="INTRB2B":"interstatesuppliestounregisteredpersons"==s.e.String(i[t].Description).Replace(" ","").Replace("-","").toLowerCase()?o.sply_ty="INTRB2C":"intrastatesuppliestoregisteredpersons"==s.e.String(i[t].Description).Replace(" ","").Replace("-","").toLowerCase()?o.sply_ty="INTRAB2B":"intrastatesuppliestounregisteredpersons"==s.e.String(i[t].Description).Replace(" ","").Replace("-","").toLowerCase()&&(o.sply_ty="INTRAB2C"),s.e.IsNum(i[t].Exempted)&&(o.expt_amt=s.e.Round(s.e.Double(i[t].Exempted),2)),s.e.IsNum(i[t].NilRated)&&(o.nil_amt=s.e.Round(s.e.Double(i[t].NilRated),2)),s.e.IsNum(i[t].NonGST)&&(o.ngsup_amt=s.e.Round(s.e.Double(i[t].NonGST),2)),e.inv.push(o)}o.nil=e}else if("hsn"==a.Key){let e=new ae;for(let t=0;t<i.length;t++){if(s.e.IsNullOrWhiteSpace(i[t].HSN))continue;let o=new ie;o.num=t+1,o.hsn_sc=s.e.String(i[t].HSN).TrimEnd(" "),o.uqc=s.e.StringIsNullOrEmpty(i[t].PRType)||"services"!=i[t].PRType.toString().TrimEnd(" ").toLowerCase()?i[t].UQC.toString().Replace(" ","").substr(0,3).toUpperCase():"NA","NA"==o.uqc?o.qty=0:s.e.IsNum(i[t].TotalQty)&&(o.qty=s.e.Round(s.e.Double(i[t].TotalQty),2)),s.e.IsNum(i[t].Rate)&&(o.rt=parseInt(i[t].Rate)),s.e.IsNum(i[t].TaxableValue)&&(o.txval=s.e.Round(s.e.Double(i[t].TaxableValue),2)),!s.e.IsNullOrWhiteSpace(i[t].Description)&&i[t].Description.toString().TrimEnd(" ").length<32&&(o.desc=i[t].Description.toString().TrimEnd(" ")),s.e.IsNum(i[t].IntTaxAmt)&&(o.iamt=s.e.Round(s.e.Double(i[t].IntTaxAmt),2)),s.e.IsNum(i[t].CTaxAmt)&&(o.camt=s.e.Round(s.e.Double(i[t].CTaxAmt),2)),s.e.IsNum(i[t].STaxAmt)&&(o.samt=s.e.Round(s.e.Double(i[t].STaxAmt),2)),s.e.IsNum(i[t].CessAmt)&&(o.csamt=s.e.Round(s.e.Double(i[t].CessAmt),2)),e.data.push(o)}o.hsn=e}else if("docs"==a.Key&&i.filter(e=>""!=e.NatureofDocument).length>0){let e=i.filter(e=>""!=e.NatureofDocument).ToTable(!0,["NatureofDocument"]),t=new le;for(let o=0;o<e.length;o++){let n=new se;n.doc_num=o+1,s.e.IsNullOrWhiteSpace(e[o].NatureofDocument)||(n.doc_typ=e[o].NatureofDocument.toString().TrimEnd(" "));let a=i.filter(t=>t.NatureofDocument==e[o].NatureofDocument.toString().TrimEnd(" "));for(let e=0;e<a.length;e++){let t=new Ce;t.num=e+1,t.from=s.e.String(a[e].SrNoFrom).TrimEnd(" "),t.to=s.e.String(a[e].SrNoTo).TrimEnd(" "),t.totnum=parseInt(a[e].TotalNumber),t.cancel=parseInt(a[e].Cancelled),t.net_issue=t.totnum-t.cancel,n.docs.push(t)}t.doc_det.push(n)}o.doc_issue=t}}return o}return null}GSTR3BObj(e,t){if(null!=this.lst&&this.lst.length>0){let o=new pe;o.gstin=e,o.ret_period=t;for(let e=0;e<this.lst.length;e++){let t={Key:this.lst.keys[e],Value:this.lst.values[e]},n=t.Value.Table;if(null!=n&&n.length>0)if("GSTR3_GSTR3B_Outward"==t.Key){let e=new de;for(let t=0;t<n.length;t++)if(null!=n[t].Description&&(n[t].Description.toString().Contains("(a)")||n[t].Description.toString().Contains("(d)"))){let o=new Te;s.e.IsNum(n[t].TaxableValue)&&(o.txval=s.e.Round(s.e.Double(n[t].TaxableValue),2)),s.e.IsNum(n[t].CTaxAmt)&&(o.camt=s.e.Round(s.e.Double(n[t].CTaxAmt),2)),s.e.IsNum(n[t].STaxAmt)&&(o.samt=s.e.Round(s.e.Double(n[t].STaxAmt),2)),s.e.IsNum(n[t].IntTaxAmt)&&(o.iamt=s.e.Round(s.e.Double(n[t].IntTaxAmt),2)),s.e.IsNum(n[t].CessAmt)&&(o.csamt=s.e.Round(s.e.Double(n[t].CessAmt),2)),n[t].Description.toString().Contains("(a)")?e.osup_det=o:n[t].Description.toString().Contains("(d)")&&(e.isup_rev=o)}else if(null!=n[t].Description&&n[t].Description.toString().Contains("(b)")){let o=new ue;s.e.IsNum(n[t].TaxableValue)&&(o.txval=s.e.Round(s.e.Double(n[t].TaxableValue),2)),s.e.IsNum(n[t].IntTaxAmt)&&(o.iamt=s.e.Round(s.e.Double(n[t].IntTaxAmt),2)),s.e.IsNum(n[t].CessAmt)&&(o.csamt=s.e.Round(s.e.Double(n[t].CessAmt),2)),e.osup_zero=o}else if(null!=n[t].Description&&(n[t].Description.toString().Contains("(c)")||n[t].Description.toString().Contains("(e)"))){let o=new De;s.e.IsNum(n[t].TaxableValue)&&(o.txval=s.e.Round(s.e.Double(n[t].TaxableValue),2)),n[t].Description.toString().Contains("(c)")?e.osup_nil_exmp=o:n[t].Description.toString().Contains("(e)")&&(e.osup_nongst=o)}o.sup_details=e}else if("GSTR3_GSTR3B_OutwardDetail"==t.Key){let e=new me;e.comp_details=new Array,e.uin_details=new Array,e.unreg_details=new Array;for(let t=0;t<n.length;t++)if(!s.e.IsEmpty(n[t].PoS)){let o=new Ie;o.pos=n[t].PoS.toString(),s.e.IsNum(n[t].TaxableValueUnregistered)&&(o.txval=s.e.Round(s.e.Double(n[t].TaxableValueUnregistered),2)),s.e.IsNum(n[t].IntTaxAmtUnregistered)&&(o.iamt=s.e.Round(s.e.Double(n[t].IntTaxAmtUnregistered),2)),e.unreg_details.push(o),o=new Ie,o.pos=n[t].PoS.toString(),s.e.IsNum(n[t].TaxableValueComposition)&&(o.txval=s.e.Round(s.e.Double(n[t].TaxableValueComposition),2)),s.e.IsNum(n[t].IntTaxAmtComposition)&&(o.iamt=s.e.Round(s.e.Double(n[t].IntTaxAmtComposition),2)),e.comp_details.push(o),o=new Ie,o.pos=n[t].PoS.toString(),s.e.IsNum(n[t].TaxableValueUINholders)&&(o.txval=s.e.Round(s.e.Double(n[t].TaxableValueUINholders),2)),s.e.IsNum(n[t].IntTaxAmtUINholders)&&(o.iamt=s.e.Round(s.e.Double(n[t].IntTaxAmtUINholders),2)),e.uin_details.push(o)}o.inter_sup=e}else if("GSTR3_GSTR3B_EligibleITC"==t.Key){let e=new he,t=!0;e.itc_avl=new Array,e.itc_rev=new Array,e.itc_inelg=new Array;for(let o=0;o<n.length;o++)if(!s.e.IsEmpty(n[o].Details))if(n[o].Details.toString().Contains("(1)\xa0Import of goods")||n[o].Details.toString().Contains("(2)\xa0Import of services")||n[o].Details.toString().Contains("(3) Inward supplies liable to reverse charge(other than 1 &2 above)")||n[o].Details.toString().Contains("(4) Inward supplies from ISD")||n[o].Details.toString().Contains("(5) All other ITC")||n[o].Details.toString().Contains("(1)\xa0As per Rule 42 & 43 of SGST/CGST rules")||n[o].Details.toString().Contains("(2) Others")||n[o].Details.toString().Contains("(1) As per section 17(5) of CGST/SGST Act")){let a=new ce;n[o].Details.toString().Contains("(1)\xa0Import of goods")?a.ty="IMPG":n[o].Details.toString().Contains("(2)\xa0Import of services")?a.ty="IMPS":n[o].Details.toString().Contains("(3) Inward supplies liable to reverse charge(other than 1 &2 above)")?a.ty="ISRC":n[o].Details.toString().Contains("(4) Inward supplies from ISD")?a.ty="ISD":n[o].Details.toString().Contains("(5) All other ITC")||n[o].Details.toString().Contains("(2) Others")?a.ty="OTH":(n[o].Details.toString().Contains("(1)\xa0As per Rule 42 & 43 of SGST/CGST rules")||n[o].Details.toString().Contains("(1) As per section 17(5) of CGST/SGST Act"))&&(a.ty="RUL"),s.e.IsNum(n[o].CTaxAmt)&&(a.camt=s.e.Round(s.e.Double(n[o].CTaxAmt),2)),s.e.IsNum(n[o].STaxAmt)&&(a.samt=s.e.Round(s.e.Double(n[o].STaxAmt),2)),s.e.IsNum(n[o].IntTaxAmt)&&(a.iamt=s.e.Round(s.e.Double(n[o].IntTaxAmt),2)),s.e.IsNum(n[o].CessAmt)&&(a.csamt=s.e.Round(s.e.Double(n[o].CessAmt),2)),n[o].Details.toString().Contains("(1)\xa0As per Rule 42 & 43 of SGST/CGST rules")||n[o].Details.toString().Contains("(2) Others")&&t?(n[o].Details.toString().Contains("(2) Others")&&(t=!1),e.itc_rev.push(a)):n[o].Details.toString().Contains("(1) As per section 17(5) of CGST/SGST Act")||n[o].Details.toString().Contains("(2) Others")&&!t?e.itc_inelg.push(a):e.itc_avl.push(a)}else if(n[o].Details.toString().Contains("(C) Net ITC Available (A)-(B)")){let t=new re;s.e.IsNum(n[o].CTaxAmt)&&(t.camt=s.e.Round(s.e.Double(n[o].CTaxAmt),2)),s.e.IsNum(n[o].STaxAmt)&&(t.samt=s.e.Round(s.e.Double(n[o].STaxAmt),2)),s.e.IsNum(n[o].IntTaxAmt)&&(t.iamt=s.e.Round(s.e.Double(n[o].IntTaxAmt),2)),s.e.IsNum(n[o].CessAmt)&&(t.csamt=s.e.Round(s.e.Double(n[o].CessAmt),2)),e.itc_net=t}o.itc_elg=e}else if("GSTR3_GSTR3B_5"==t.Key){let e=new Se;e.isup_details=new Array;for(let t=0;t<n.length;t++)if("Total"!=s.e.String(n[t].Natureofsupplies)){let o=new ye;o.ty=s.e.String(n[t].Natureofsupplies).Replace(" ","").toUpperCase().Contains("NONGST")?"NONGST":"GST",s.e.IsNum(n[t].InterState)&&(o.inter=s.e.Round(s.e.Double(n[t].InterState),2)),s.e.IsNum(n[t].IntraState)&&(o.intra=s.e.Round(s.e.Double(n[t].IntraState),2)),e.isup_details.push(o)}o.inward_sup=e}else if("GSTR3_GSTR3B_5_1"==t.Key){let e=new be;for(let t=0;t<n.length;t++){let o=new re;s.e.IsNum(n[t].CTaxAmt)&&(o.camt=s.e.Round(s.e.Double(n[t].CTaxAmt),2)),s.e.IsNum(n[t].STaxAmt)&&(o.samt=s.e.Round(s.e.Double(n[t].STaxAmt),2)),s.e.IsNum(n[t].IntTaxAmt)&&(o.iamt=s.e.Round(s.e.Double(n[t].IntTaxAmt),2)),s.e.IsNum(n[t].CessAmt)&&(o.csamt=s.e.Round(s.e.Double(n[t].CessAmt),2)),e.intr_details=o}o.intr_ltfee=e}}return o}return null}ANX1Obj(e,t){if(null!=this.lst&&this.lst.length>0){let o=new X;o.gstin=e,o.fp=t;let n=0;for(let t=0;t<this.lst.length;t++){let a={Key:this.lst.keys[t],Value:this.lst.values[t]},i=a.Value.Table;if(null!=i&&i.length>0)if("b2b"==a.Key){let t=i.ToTable(!0,["RecipientGSTIN"]);o.b2b=new Array;for(let a=0;a<t.length;a++){if(s.e.IsNullOrWhiteSpace(t[a].RecipientGSTIN))continue;let l=new k;l.ctin=t[a].RecipientGSTIN.toString().TrimEnd(" ");let C=i.ToTable(!0,["RecipientGSTIN","VoucherNo","DocDate","InvValue","PoS","ReverseCharge","InvType","ApplicableTaxRate","ECommGSTIN"]).filter(e=>e.RecipientGSTIN==t[a].RecipientGSTIN.toString().TrimEnd(" "));for(let t=0;t<C.length;t++){let o=new H;s.e.IsNum(C[t].InvValue)&&(o.val=s.e.Round(s.e.Double(C[t].InvValue),2)),o.pos=s.e.String(C[t].PoS),o.idt=new Date(C[t].DocDate).ToString("dd-MM-yyyy"),o.rchrg=""==s.e.String(C[t].ReverseCharge)?"N":s.e.String(C[t].ReverseCharge),o.inum=s.e.String(C[t].VoucherNo).TrimEnd(" "),o.inv_typ="custombondedwarehouse"==s.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"CBW":"sezsupplieswithpayment"==s.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"SEWP":"sezsupplieswithoutpayment"==s.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"SEWOP":"deemedexp"==s.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"DE":"R",n=s.e.Double(C[t].ApplicableTaxRate),s.e.IsNum(C[t].ApplicableTaxRate)&&0!=n&&(o.diff_percent=s.e.Round(s.e.Double(C[t].ApplicableTaxRate),2)),s.e.IsNullOrWhiteSpace(C[t].ECommGSTIN)||(o.etin=C[t].ECommGSTIN.toString().TrimEnd(" "));let a=i.filter(e=>e.VoucherNo==s.e.String(C[t].VoucherNo).TrimEnd(" "));for(let t=0;t<a.length;t++){let i=new B;i.num=t+1;let l=new j;s.e.IsNum(a[t].Rate)&&(l.rt=parseInt(a[t].Rate)),s.e.IsNum(a[t].TaxableValue)&&(l.txval=s.e.Round(s.e.Double(a[t].TaxableValue),2)),n=l.txval/100*l.rt,o.pos==e.substr(0,2)?(l.camt=s.e.Round(n/2,2),l.samt=s.e.Round(n/2,2)):l.iamt=s.e.Round(n,2),s.e.IsNum(a[t].CessAmt)&&(l.csamt=s.e.Round(s.e.Double(a[t].CessAmt),2)),i.itm_det=l,o.itms.push(i)}l.inv.push(o)}o.b2b.push(l)}}else if("b2cl"==a.Key){let t=i.ToTable(!0,["PoS"]);o.b2cl=new Array;for(let a=0;a<t.length;a++){if(s.e.IsEmpty(t[a].PoS))continue;let l=new Y;l.pos=t[a].PoS.toString().TrimEnd(" ");let C=i.ToTable(!0,["PoS","VoucherNo","DocDate","InvValue","ApplicableTaxRate","ECommGSTIN"]).filter(e=>e.PoS==t[a].PoS.toString().TrimEnd(" "));for(let t=0;t<C.length;t++){let o=new K;o.val=parseFloat(C[t].InvValue),o.idt=new Date(C[t].DocDate).ToString("dd-MM-yyyy"),o.inum=s.e.String(C[t].VoucherNo).TrimEnd(" "),s.e.IsNullOrWhiteSpace(C[t].InvType)||(o.inv_typ="custombondedwarehouse"==s.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"CBW":"sezsupplieswithpayment"==s.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"SEWP":"sezsupplieswithoutpayment"==s.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"SEWOP":"deemedexp"==s.e.String(C[t].InvType).toLowerCase().Replace(" ","")?"DE":"R"),n=s.e.Double(C[t].ApplicableTaxRate),s.e.IsNum(C[t].ApplicableTaxRate)&&0!=n&&(o.diff_percent=s.e.Round(s.e.Double(C[t].ApplicableTaxRate),2)),s.e.IsNullOrWhiteSpace(C[t].ECommGSTIN)||(o.etin=C[t].ECommGSTIN.toString().TrimEnd(" "));let a=i.filter(e=>e.VoucherNo==s.e.String(C[t].VoucherNo).TrimEnd(" "));for(let t=0;t<a.length;t++){let i=new B;i.num=t+1;let C=new j;s.e.IsNum(a[t].Rate)&&(C.rt=parseInt(a[t].Rate)),s.e.IsNum(a[t].TaxableValue)&&(C.txval=s.e.Round(s.e.Double(a[t].TaxableValue),2)),n=C.txval/100*C.rt,l.pos==e.substr(0,2)?(C.camt=s.e.Round(n/2,2),C.samt=s.e.Round(n/2,2)):C.iamt=s.e.Round(n,2),s.e.IsNum(a[t].CessAmt)&&(C.csamt=s.e.Round(s.e.Double(a[t].CessAmt),2)),i.itm_det=C,o.itms.push(i)}l.inv.push(o)}o.b2cl.push(l)}}else if("b2cs"==a.Key){o.b2cs=new Array;for(let t=0;t<i.length;t++){if(s.e.IsNullOrWhiteSpace(i[t].Type))continue;let a=new Q;a.sply_ty=s.e.String(i[t].PoS).TrimEnd(" ")==e.substr(0,2)?"INTRA":"INTER",a.typ=i[t].Type.toString().TrimEnd(" "),a.pos=s.e.String(i[t].PoS).TrimEnd(" "),s.e.IsNum(i[t].Rate)&&(a.rt=parseInt(i[t].Rate)),s.e.IsNum(i[t].TaxableValue)&&(a.txval=s.e.Round(s.e.Double(i[t].TaxableValue),2)),n=s.e.Double(i[t].ApplicableTaxRate),s.e.IsNum(i[t].ApplicableTaxRate)&&0!=n&&(a.diff_percent=s.e.Round(n,2)),s.e.StringIsNullOrEmpty(i[t].ECommGSTIN)||(a.etin=i[t].ECommGSTIN.toString()),n=a.txval/100*a.rt,a.pos==e.substr(0,2)?(a.camt=s.e.Round(n/2,2),a.samt=s.e.Round(n/2,2)):a.iamt=s.e.Round(n,2),s.e.IsNum(i[t].CessAmt)&&(a.csamt=s.e.Round(s.e.Double(i[t].CessAmt),2)),o.b2cs.push(a)}}else if("cdnr"==a.Key){let t=i.ToTable(!0,["RecipientGSTIN"]);o.cdnr=new Array;for(let a=0;a<t.length;a++){if(s.e.IsNullOrWhiteSpace(t[a].RecipientGSTIN))continue;let l=new Z;l.ctin=t[a].RecipientGSTIN.toString().TrimEnd(" ");let C=i.ToTable(!0,["RecipientGSTIN","VoucherNo","DocDate","InvValue","PoS","DocumentType","ApplicableTaxRate"]).filter(e=>e.RecipientGSTIN&&e.RecipientGSTIN==t[a].RecipientGSTIN.toString().TrimEnd(" ")&&""!=e.RecipientGSTIN);for(let t=0;t<C.length;t++){let o=new J;o.ntty=s.e.String(C[t].DocumentType).TrimEnd(" "),o.nt_num=s.e.String(C[t].VoucherNo).TrimEnd(" "),o.nt_dt=new Date(C[t].DocDate).ToString("dd-MM-yyyy"),s.e.IsNum(C[t].InvValue)&&(o.val=s.e.Round(s.e.Double(C[t].InvValue),2)),n=s.e.Double(C[t].ApplicableTaxRate),s.e.IsNum(C[t].ApplicableTaxRate)&&0!=n&&(o.diff_percent=s.e.Round(s.e.Double(n),2)),s.e.IsNullOrWhiteSpace(C[t].ECommGSTIN)||(o.etin=C[t].ECommGSTIN.toString().TrimEnd(" "));let a=i.filter(e=>e.VoucherNo==s.e.String(C[t].VoucherNo).TrimEnd(" "));for(let i=0;i<a.length;i++){let l=new B;l.num=i+1;let p=new j;s.e.IsNum(a[i].Rate)&&(p.rt=parseInt(a[i].Rate)),s.e.IsNum(a[i].TaxableValue)&&(p.txval=s.e.Round(s.e.Double(a[i].TaxableValue),2)),n=p.txval/100*p.rt,s.e.String(C[t].PoS)==e.substr(0,2)?(p.camt=s.e.Round(n/2,2),p.samt=s.e.Round(n/2,2)):p.iamt=s.e.Round(n,2),s.e.IsNum(a[i].CessAmt)&&(p.csamt=s.e.Round(s.e.Double(a[i].CessAmt),2)),l.itm_det=p,o.itms.push(l)}l.nt.push(o)}o.cdnr.push(l)}}else if("cdnur"==a.Key){let t=i.ToTable(!0,["URType","VoucherNo","DocDate","InvValue","PoS","DocumentType","ApplicableTaxRate"]);o.cdnur=new Array;for(let a=0;a<t.length;a++){if(s.e.IsNullOrWhiteSpace(t[a].URType))continue;let l=new z;l.typ=t[a].URType.toString().TrimEnd(" "),l.ntty=s.e.String(t[a].DocumentType).TrimEnd(" "),l.nt_num=s.e.String(t[a].VoucherNo).TrimEnd(" "),l.nt_dt=new Date(t[a].DocDate).ToString("dd-MM-yyyy"),s.e.IsNum(t[a].InvValue)&&(l.val=s.e.Round(s.e.Double(t[a].InvValue),2)),n=s.e.Double(t[a].ApplicableTaxRate),s.e.IsNum(t[a].ApplicableTaxRate)&&0!=n&&(l.diff_percent=s.e.Round(n,2));let C=i.filter(e=>e.VoucherNo==s.e.String(t[a].VoucherNo).TrimEnd(" "));for(let o=0;o<C.length;o++){let i=new B;i.num=o+1;let p=new j;s.e.IsNum(C[o].Rate)&&(p.rt=parseInt(C[o].Rate)),s.e.IsNum(C[o].TaxableValue)&&(p.txval=s.e.Round(s.e.Double(C[o].TaxableValue),2)),n=p.txval/100*p.rt,s.e.String(t[a].PoS)==e.substr(0,2)?(p.camt=s.e.Round(n/2,2),p.samt=s.e.Round(n/2,2)):p.iamt=s.e.Round(n,2),s.e.IsNum(C[o].CessAmt)&&(p.csamt=s.e.Round(s.e.Double(C[o].CessAmt),2)),i.itm_det=p,l.itms.push(i)}o.cdnur.push(l)}}else if("exp"==a.Key){let e=i.ToTable(!0,["ExportType"]);o.exp=new Array;for(let t=0;t<e.length;t++){if(s.e.IsNullOrWhiteSpace(e[t].ExportType))continue;let a=new q;a.exp_typ=e[t].ExportType.toString().TrimEnd(" ");let l=i.filter(o=>o.ExportType==e[t].ExportType.toString().TrimEnd(" "));for(let e=0;e<l.length;e++){let t=new $;s.e.IsNum(l[e].InvValue)&&(t.val=s.e.Round(s.e.Double(l[e].InvValue),2)),t.idt=new Date(l[e].DocDate).ToString("dd-MM-yyyy"),t.inum=s.e.String(l[e].VoucherNo).TrimEnd(" "),s.e.IsNullOrWhiteSpace(l[e].PortCode)||(t.sbpcode=l[e].PortCode.toString().TrimEnd(" ")),s.e.IsNullOrWhiteSpace(l[e].ShipBillNo)||(t.sbnum=l[e].ShipBillNo.toString().TrimEnd(" ")),s.e.IsNullOrWhiteSpace(l[e].ShipBillDate)||(t.sbdt=new Date(l[e].ShipBillDate).ToString("dd-MM-yyyy"));let o=i.filter(t=>t.VoucherNo==s.e.String(l[e].VoucherNo).TrimEnd(" "));for(let e=0;e<o.length;e++){let a=new j;s.e.IsNum(o[e].Rate)&&(a.rt=parseInt(o[e].Rate)),s.e.IsNum(o[e].TaxableValue)&&(a.txval=s.e.Round(s.e.Double(o[e].TaxableValue),2)),n=a.txval/100*a.rt,a.iamt=s.e.Round(n,2),s.e.IsNum(o[e].CessAmt)&&(a.csamt=s.e.Round(s.e.Double(o[e].CessAmt),2)),t.itms.push(a)}a.inv.push(t)}o.exp.push(a)}}else if("at"==a.Key||"atadj"==a.Key){let t=i.ToTable(!0,["PoS","ApplicableTaxRate"]);"at"==a.Key?o.at=new Array:"atadj"==a.Key&&(o.txpd=new Array);for(let l=0;l<t.length;l++){if(s.e.IsNullOrWhiteSpace(t[l].PoS))continue;let C=new ee;C.pos=t[l].PoS.toString().TrimEnd(" "),C.sply_ty=s.e.String(t[l].PoS).TrimEnd(" ")==e.substr(0,2)?"INTRA":"INTER",n=s.e.Double(t[l].ApplicableTaxRate),s.e.IsNum(t[l].ApplicableTaxRate)&&0!=n&&(C.diff_percent=s.e.Round(s.e.Double(n),2));let p=i.filter(e=>e.PoS==s.e.String(t[l].PoS).TrimEnd(" "));for(let t=0;t<p.length;t++){let o=new te;s.e.IsNum(p[t].Rate)&&(o.rt=parseInt(p[t].Rate)),"at"==a.Key&&s.e.IsNum(p[t].AdvReceived)?o.ad_amt=s.e.Round(s.e.Double(p[t].AdvReceived),2):"atadj"==a.Key&&s.e.IsNum(p[t].AdvAdjusted)&&(o.ad_amt=s.e.Round(s.e.Double(p[t].AdvAdjusted),2)),n=o.ad_amt/100*o.rt,C.pos==e.substr(0,2)?(o.camt=s.e.Round(n/2,2),o.samt=s.e.Round(n/2,2)):o.iamt=s.e.Round(n,2),s.e.IsNum(p[t].CessAmt)&&(o.csamt=s.e.Round(s.e.Double(p[t].CessAmt),2)),C.itms.push(o)}"at"==a.Key?o.at.push(C):"atadj"==a.Key&&o.txpd.push(C)}}else if("exemp"==a.Key){let e=new oe;for(let t=0;t<i.length;t++){if(s.e.IsNullOrWhiteSpace(i[t].Description))continue;let o=new ne;"interstatesuppliestoregisteredpersons"==i[t].Description.toString().Replace(" ","").Replace("-","").toLowerCase()?o.sply_ty="INTRB2B":"interstatesuppliestounregisteredpersons"==i[t].Description.toString().Replace(" ","").Replace("-","").toLowerCase()?o.sply_ty="INTRB2C":"intrastatesuppliestoregisteredpersons"==i[t].Description.toString().Replace(" ","").Replace("-","").toLowerCase()?o.sply_ty="INTRAB2B":"intrastatesuppliestounregisteredpersons"==i[t].Description.toString().Replace(" ","").Replace("-","").toLowerCase()&&(o.sply_ty="INTRAB2C"),s.e.IsNum(i[t].Exempted)&&(o.expt_amt=s.e.Round(s.e.Double(i[t].Exempted),2)),s.e.IsNum(i[t].NilRated)&&(o.nil_amt=s.e.Round(s.e.Double(i[t].NilRated),2)),s.e.IsNum(i[t].NonGST)&&(o.ngsup_amt=s.e.Round(s.e.Double(i[t].NonGST),2)),e.inv.push(o)}o.nil=e}else if("hsn"==a.Key){let e=new ae;for(let t=0;t<i.length;t++){if(s.e.IsNullOrWhiteSpace(i[t].HSN))continue;let o=new ie;o.num=t+1,o.hsn_sc=i[t].HSN.toString().TrimEnd(" "),o.uqc=s.e.String(i[t].UQC).Replace(" ","").substr(0,3).toUpperCase(),s.e.IsNum(i[t].TotalQty)&&(o.qty=s.e.Round(s.e.Double(i[t].TotalQty),2)),s.e.IsNum(i[t].TotalValue)&&(o.val=s.e.Round(s.e.Double(i[t].TotalValue),2)),s.e.IsNum(i[t].TaxableValue)&&(o.txval=s.e.Round(s.e.Double(i[t].TaxableValue),2)),s.e.IsNullOrWhiteSpace(i[t].Description)||(o.desc=i[t].Description.toString().TrimEnd(" ")),s.e.IsNum(i[t].IntTaxAmt)&&(o.iamt=s.e.Round(s.e.Double(i[t].IntTaxAmt),2)),s.e.IsNum(i[t].CTaxAmt)&&(o.camt=s.e.Round(s.e.Double(i[t].CTaxAmt),2)),s.e.IsNum(i[t].STaxAmt)&&(o.samt=s.e.Round(s.e.Double(i[t].STaxAmt),2)),s.e.IsNum(i[t].CessAmt)&&(o.csamt=s.e.Round(s.e.Double(i[t].CessAmt),2)),e.data.push(o)}o.hsn=e}else if("docs"==a.Key&&i.filter(e=>""!=e.NatureofDocument).length>0){let e=i.filter(e=>""!=e.NatureofDocument),t=new le;for(let o=0;o<e.length;o++){let n=new se;n.doc_num=o+1,s.e.IsNullOrWhiteSpace(e[o].NatureofDocument)||(n.doc_typ=e[o].NatureofDocument.toString().TrimEnd(" "));let a=i.filter(t=>t.NatureofDocument==s.e.String(e[o].NatureofDocument).TrimEnd(" "));for(let e=0;e<a.length;e++){let t=new Ce;t.num=e+1,t.from=s.e.String(a[e].SrNoFrom).TrimEnd(" "),t.to=s.e.String(a[e].SrNoTo).TrimEnd(" "),t.totnum=parseInt(a[e].TotalNumber),t.cancel=parseInt(a[e].Cancelled),t.net_issue=t.totnum-t.cancel,n.docs.push(t)}t.doc_det.push(n)}o.doc_issue=t}}return o}return null}}class P{constructor(){this.gstin=null,this.ret_period=null}}class X{constructor(){this.gstin=null,this.fp=null,this.version=null,this.hash=null}}class B{}class j{}class k{constructor(){this.ctin=null,this.inv=new Array}}class H{constructor(){this.inv_typ=null,this.pos=null,this.idt=null,this.rchrg=null,this.inum=null,this.etin=null,this.itms=new Array}}class Y{constructor(){this.pos=null,this.inv=new Array}}class K{constructor(){this.inv_typ=null,this.idt=null,this.inum=null,this.etin=null,this.itms=new Array}}class Q extends j{constructor(){super(...arguments),this.sply_ty=null,this.typ=null,this.pos=null,this.etin=null}}class Z{constructor(){this.ctin=null,this.nt=new Array}}class J{constructor(){this.ntty=null,this.nt_num=null,this.nt_dt=null,this.inum=null,this.idt=null,this.rchrg=null,this.inv_typ=null,this.p_gst=null,this.etin=null,this.pos=null,this.itms=new Array}}class z{constructor(){this.typ=null,this.ntty=null,this.nt_num=null,this.nt_dt=null,this.itms=new Array}}class q{constructor(){this.exp_typ=null,this.inv=new Array}}class ${constructor(){this.idt=null,this.inum=null,this.sbpcode=null,this.sbnum=null,this.sbdt=null,this.itms=new Array}}class ee{constructor(){this.pos=null,this.sply_ty=null,this.itms=new Array}}class te{}class oe{constructor(){this.inv=new Array}}class ne{constructor(){this.sply_ty=null}}class ae{constructor(){this.data=new Array}}class ie{constructor(){this.hsn_sc=null,this.uqc=null,this.desc=null}}class le{constructor(){this.doc_det=new Array}}class se{constructor(){this.doc_typ=null,this.docs=new Array}}class Ce{constructor(){this.from=null,this.to=null}}class pe{constructor(){this.gstin=null,this.ret_period=null}}class re{}class Te extends re{}class De{}class ue extends De{}class de{}class me{}class Ie extends De{constructor(){super(...arguments),this.pos=null}}class he{}class ce extends re{constructor(){super(...arguments),this.ty=null}}class Se{}class ye{constructor(){this.ty=null}}class be{}function Ae(e,t){if(1&e&&(f.Zb(0,"div",7),f.Wc(1,"\n                "),f.Vb(2,4),f.Wc(3,"\n            "),f.Yb()),2&e){const e=f.lc();f.Db(2),f.tc("obj",e.dtToDate)("group",e.form)}}function Ne(e,t){if(1&e&&(f.Zb(0,"div",7),f.Wc(1,"\n                "),f.Vb(2,4),f.Wc(3,"\n            "),f.Yb()),2&e){const e=f.lc();f.Db(2),f.tc("obj",e.txtGSTIN)("group",e.form)}}function ge(e,t){if(1&e&&(f.Zb(0,"div",7),f.Wc(1,"\n                "),f.Vb(2,4),f.Wc(3,"\n            "),f.Yb()),2&e){const e=f.lc();f.Db(2),f.tc("obj",e.txtUserName)("group",e.form)}}function Re(e,t){if(1&e&&(f.Zb(0,"div",7),f.Wc(1,"\n                "),f.Vb(2,4),f.Wc(3,"\n            "),f.Yb()),2&e){const e=f.lc();f.Db(2),f.tc("obj",e.txtOTP)("group",e.form)}}function Me(e,t){if(1&e&&(f.Zb(0,"div",16),f.Wc(1,"\n                        "),f.Vb(2,4),f.Wc(3,"\n                    "),f.Yb()),2&e){const e=f.lc().$implicit,t=f.lc();f.Db(2),f.tc("obj",t.obj.lstGridViewModel[e.Name])("group",t.form)}}function Oe(e,t){if(1&e&&(f.Xb(0),f.Wc(1,"\n                "),f.Zb(2,"tab",14),f.hc("selectTab",(function(){return t.$implicit.IsAccordionOpen=!0})),f.Wc(3,"\n                    "),f.Uc(4,Me,4,2,"div",15),f.Wc(5,"\n                "),f.Yb(),f.Wc(6,"\n              "),f.Wb()),2&e){const e=t.$implicit,o=f.lc();f.Db(2),f.tc("heading",e.Header)("removable",!1),f.Db(2),f.tc("ngIf",o.obj.lstGridViewModel[e.Name].Columns.length>0)}}let Ve=(()=>{class e extends class{constructor(){this.dtReturnDate=new C.a,this.dtToDate=new C.a,this.chkToDate=new g.a,this.tabMainVisibile=!1,this.txtUserName=new M.d,this.txtGSTIN=new M.d,this.txtOTP=new M.d,this.txtUserName.Label="UserName :",this.txtUserName.LblWidth="90",this.txtGSTIN.Label="GSTIN :",this.txtGSTIN.LblWidth="70",this.txtOTP.Label="OTP :",this.txtOTP.LblWidth="60",this.txtUserName.Text=l.a.SessionManager.config.username,this.txtGSTIN.Text=l.a.SessionManager.config.gstin,this.txtOTP.Text=l.a.SessionManager.config.otp,this.dtReturnDate.LblWidth="90",this.dtToDate.LblWidth="90",this.dtToDate.Label="To Date",this.dtToDate.Visible=!1,this.dtReturnDate.Date=Date.Today(),this.dtReturnDate.Label="Return Month",this.chkToDate.Label="Show To Date",this.chkToDate.CheckedChangedCommand.Subscribe(this,"onchkToDateClik")}Button_Click(e){if(this.ViewModel.DisplayMessage="","GetData"==e){this.tabMainVisibile=!0;let e=new Date(this.dtReturnDate.Date.getFullYear(),this.dtReturnDate.Date.getMonth(),1),t=null;this.dtToDate.Visible&&(e=this.dtReturnDate.Date,t=this.dtToDate.Date);for(let o=0;o<this.ViewModel.lstGridViewModel.length;o++){let n={Key:this.ViewModel.lstGridViewModel.keys[o],Value:this.ViewModel.lstGridViewModel.values[o]},a=N.SetQueryWhere(this.ViewModel.lstGSTReport[n.Key].objReport.QUERY,n.Key,e,t);console.log(n.Key+" Query :\r\n"+a);let i=l.a.report.ReportDataSet("RPT022",!1,a);if(null!=i&&i.Tables.length>0){if(i.Columns[0].Contains("ErrorMessage"))return void(this.ViewModel.DisplayMessage=i.Tables[0][0].ErrorMessage.toString());let o=new Array;N.ResetData(n.Key,i,e,t,o);let a=new Array;for(let e=1;e<this.ViewModel.lstGSTReport[n.Key].ReportGrid.Columns.length;e++){let t=this.ViewModel.lstGSTReport[n.Key].ReportGrid.Columns[e];if(0==t.CurrID)continue;let i=new p.a;i.ID=t.ID,i.Header=t.Header,i.Width=t.Width,i.ReadOnly=!0,i.DisplayMember=o.Contains(t.ID)?t.ID+"_Key":t.ID;let l=this.ViewModel.lstGSTReport[n.Key].Columns.find(e=>e.ID==t.ID);i.DataType=l.DType,"FLOAT"==i.DataType&&(i.DecimalPoints=s.e.IsEmpty(l.Decimals)?"2":l.Decimals,"SUM"==l.Agg&&(i.ShowTotal=!0,i.IsCalculated=1)),a.push(i)}i.Tables[0].forEach(e=>{e.id=n.Value.rowid}),n.Value.Table=i.Tables[0],n.Value.Columns=a,n.Value.RefreshColumns(),n.Value.UpdateTotals()}}}else if("Export"==e)this.tabMainVisibile||(this.ViewModel.DisplayMessage="First Load Report");else if("ExportNew"==e)this.tabMainVisibile?this.ViewModel.Status="":this.ViewModel.DisplayMessage="First Load Report";else if("RETSAVE"==e||"Json"==e)if(this.tabMainVisibile){if(s.e.IsEmpty(this.txtGSTIN.Text))return void(this.ViewModel.DisplayMessage="Enter GSTIN");let t=new _(this.ViewModel.lstGridViewModel);if("RETSAVE"==e){if(s.e.IsEmpty(this.txtUserName.Text))return void(this.ViewModel.DisplayMessage="Enter UserName");this.ViewModel.DisplayMessage=t.UploadingGSTR(this.dtReturnDate.Date.iMonth().toString()+this.dtReturnDate.Date.getFullYear().toString(),"GSTR1",this.txtUserName.Text,this.txtGSTIN.Text,this.txtOTP.Text)}else"Json"==e&&(this.ViewModel.DisplayMessage=t.GenerateJSON(this.dtReturnDate.Date.iMonth().toString()+this.dtReturnDate.Date.getFullYear().toString(),"GSTR1",this.txtGSTIN.Text))}else this.ViewModel.DisplayMessage="First Load Report";else if("RETSUBMIT"==e){if(s.e.IsEmpty(this.txtGSTIN.Text))return void(this.ViewModel.DisplayMessage="Enter GSTIN");if(s.e.IsEmpty(this.txtUserName.Text))return void(this.ViewModel.DisplayMessage="Enter UserName");let t=new _(this.ViewModel.lstGridViewModel);this.ViewModel.DisplayMessage=t.SubmitingGSTR(this.dtReturnDate.Date.iMonth().toString()+this.dtReturnDate.Date.getFullYear().toString(),"GSTR1",this.txtUserName.Text,this.txtGSTIN.Text,this.txtOTP.Text,e)}}onchkToDateClik(){if(this.chkToDate.IsChecked){this.dtReturnDate.Label="From Date",this.dtToDate.Visible=!0;let e=Date.Today();this.dtReturnDate.Date=new Date(e.getFullYear(),e.getMonth(),1),this.dtToDate.Date=new Date(e.getFullYear(),e.getMonth(),e.DaysInMonth())}else this.dtReturnDate.Label="Return Month",this.dtToDate.Visible=!1}}{constructor(){super(),this.form=new i.j({})}ngOnInit(){var e,t,o;(null===(e=this.params)||void 0===e?void 0:e.obj)&&(this.obj=null===(t=this.params)||void 0===t?void 0:t.obj),this.ViewModel=null===(o=this.params)||void 0===o?void 0:o.obj,0!=this.obj.lstGridViewModel.length&&(this.LoadData(),this.obj.DisplayMessage.length>0&&(alert(this.obj.DisplayMessage),l.a.page.removeTab(this.obj)))}LoadData(){for(let e=0;e<this.obj.lstGridViewModel.keys.length;e++){let t=this.obj.lstGridViewModel.keys[e],o=new V;if(o.ReportBuilder_2(this.obj.dicReportID[t],t),this.obj.lstGSTReport.push(t,o),o.cmbReport_SelectionChanged(null,null),o.GetReportConfiguration(),o.DisplayMessage.length>0)return void(this.obj.DisplayMessage=o.DisplayMessage);if(o.objReport.QUERY=o.GetQuery(!0),0==o.objReport.QUERY.length)return void(this.obj.DisplayMessage="Select Documents")}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f.Nb({type:e,selectors:[["app-gstr1"]],features:[f.Ab],decls:63,vars:9,consts:[[2,"overflow","auto","height","110%"],[1,"page-header",2,"display","flex"],[1,"page-title"],[2,"width","140px","padding-left","20px"],["FieldDirective","",3,"obj","group"],[1,"section"],[1,"row","form-row"],[1,"form-group","col-xl-3","col-md-4","col-sm-6","col-xs-12","PACTControl"],["class","form-group col-xl-3 col-md-4 col-sm-6 col-xs-12 PACTControl",4,"ngIf"],[1,"form-group","col-xl-6","col-md-6","col-sm-6","col-xs-12","PACTControl",2,"display","block"],[1,"primary-btn-wicon",2,"width","70px",3,"click"],[1,"PACTTabFields","tab_content","tab-exrafields",2,"display","flex"],[1,"",2,"width","calc(100% - 30px)"],[4,"ngFor","ngForOf"],[3,"heading","removable","selectTab"],["style","width: calc(100% - 30px); height: calc(100% - 20px);",4,"ngIf"],[2,"width","calc(100% - 30px)","height","calc(100% - 20px)"]],template:function(e,t){1&e&&(f.Zb(0,"div",0),f.Wc(1,"\n    "),f.Zb(2,"div",1),f.Wc(3,"\n        "),f.Zb(4,"label",2),f.Wc(5,"GSTR-1"),f.Yb(),f.Wc(6,"\n        "),f.Zb(7,"div",3),f.Wc(8,"\n            "),f.Vb(9,4),f.Wc(10,"\n        "),f.Yb(),f.Wc(11,"\n    "),f.Yb(),f.Wc(12,"\n    "),f.Zb(13,"div",5),f.Wc(14,"\n        "),f.Zb(15,"div",6),f.Wc(16,"\n            "),f.Zb(17,"div",7),f.Wc(18,"\n                "),f.Vb(19,4),f.Wc(20,"\n            "),f.Yb(),f.Wc(21,"\n            "),f.Uc(22,Ae,4,2,"div",8),f.Wc(23,"\n            "),f.Zb(24,"div",9),f.Wc(25,"\n                "),f.Zb(26,"button",10),f.hc("click",(function(){return t.Button_Click("GetData")})),f.Wc(27,"Get Data"),f.Yb(),f.Wc(28,"\n                "),f.Zb(29,"button",10),f.hc("click",(function(){return t.Button_Click("Export")})),f.Wc(30,"Export"),f.Yb(),f.Wc(31,"\n                "),f.Wc(32,"\n                "),f.Zb(33,"button",10),f.hc("click",(function(){return t.Button_Click("Json")})),f.Wc(34,"Json"),f.Yb(),f.Wc(35,"\n                "),f.Zb(36,"button",10),f.hc("click",(function(){return t.Button_Click("RETSAVE")})),f.Wc(37,"Upload"),f.Yb(),f.Wc(38,"\n                "),f.Zb(39,"button",10),f.hc("click",(function(){return t.Button_Click("RETSUBMIT")})),f.Wc(40,"Submit"),f.Yb(),f.Wc(41,"\n                "),f.Wc(42,"\n            "),f.Yb(),f.Wc(43,"\n        "),f.Yb(),f.Wc(44,"\n        "),f.Zb(45,"div",6),f.Wc(46,"\n            "),f.Uc(47,Ne,4,2,"div",8),f.Wc(48,"\n            "),f.Uc(49,ge,4,2,"div",8),f.Wc(50,"\n            "),f.Uc(51,Re,4,2,"div",8),f.Wc(52,"\n        "),f.Yb(),f.Wc(53,"\n        \n        "),f.Zb(54,"div",11),f.Wc(55,"\n            "),f.Zb(56,"tabset",12),f.Wc(57,"\n               "),f.Uc(58,Oe,7,3,"ng-container",13),f.Wc(59,"\n            "),f.Yb(),f.Wc(60,"\n        "),f.Yb(),f.Wc(61,"\n    "),f.Yb(),f.Wc(62,"\n"),f.Yb()),2&e&&(f.Db(9),f.tc("obj",t.chkToDate)("group",t.form),f.Db(10),f.tc("obj",t.dtReturnDate)("group",t.form),f.Db(3),f.tc("ngIf",t.dtToDate.Visible),f.Db(25),f.tc("ngIf",t.txtGSTIN.Visible),f.Db(2),f.tc("ngIf",t.txtUserName.Visible),f.Db(2),f.tc("ngIf",t.txtOTP.Visible),f.Db(7),f.tc("ngForOf",t.obj.Tab.Tabs))},directives:[E.a,n.t,G.e,n.s,G.b],encapsulation:2}),e})();function We(e,t){if(1&e&&(f.Zb(0,"div",7),f.Wc(1,"\n                "),f.Vb(2,4),f.Wc(3,"\n            "),f.Yb()),2&e){const e=f.lc();f.Db(2),f.tc("obj",e.dtToDate)("group",e.form)}}let fe=(()=>{class e extends class{constructor(){this.dtReturnDate=new C.a,this.dtToDate=new C.a,this.chkToDate=new g.a,this.dtReturnDate.LblWidth="90",this.dtToDate.LblWidth="90",this.dtToDate.Label="To Date",this.dtToDate.Visible=!1,this.dtReturnDate.Date=Date.Today(),this.dtReturnDate.Label="Return Month",this.chkToDate.Label="Show To Date",this.chkToDate.CheckedChangedCommand.Subscribe(this,"onchkToDateClik")}Button_Click(e){if(this.ViewModel.DisplayMessage="","Submit"==e){let e=new Date(this.dtReturnDate.Date.getFullYear(),this.dtReturnDate.Date.getMonth(),1),t=null;this.dtToDate.Visible&&(e=this.dtReturnDate.Date,t=this.dtToDate.Date),this.ViewModel.OnSubmit(e,t)}}onchkToDateClik(){if(this.chkToDate.IsChecked){this.dtReturnDate.Label="From Date",this.dtToDate.Visible=!0;let e=Date.Today();this.dtReturnDate.Date=new Date(e.getFullYear(),e.getMonth(),1),this.dtToDate.Date=new Date(e.getFullYear(),e.getMonth(),e.DaysInMonth())}else this.dtReturnDate.Label="Return Month",this.dtToDate.Visible=!1}}{constructor(){super(),this.form=new i.j({})}ngOnInit(){var e,t,o;(null===(e=this.params)||void 0===e?void 0:e.obj)&&(this.obj=null===(t=this.params)||void 0===t?void 0:t.obj),this.ViewModel=null===(o=this.params)||void 0===o?void 0:o.obj}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f.Nb({type:e,selectors:[["app-gstr1-summary"]],features:[f.Ab],decls:42,vars:10,consts:[[2,"overflow","auto","height","110%"],[1,"page-header",2,"display","flex"],[1,"page-title"],[2,"width","140px","padding-left","20px"],["FieldDirective","",3,"obj","group"],[1,"section"],[1,"row","form-row"],[1,"form-group","col-xl-3","col-md-4","col-sm-6","col-xs-12","PACTControl"],["class","form-group col-xl-3 col-md-4 col-sm-6 col-xs-12 PACTControl",4,"ngIf"],[1,"primary-btn-wicon",2,"width","80px",3,"click"],[1,"PACTTabFields","tab_content","tab-exrafields",2,"display","flex"],[2,"width","100%","height","100%"]],template:function(e,t){1&e&&(f.Zb(0,"div",0),f.Wc(1,"\n    "),f.Zb(2,"div",1),f.Wc(3,"\n        "),f.Zb(4,"label",2),f.Wc(5,"GSTR-1 Summary"),f.Yb(),f.Wc(6,"\n        "),f.Zb(7,"div",3),f.Wc(8,"\n            "),f.Vb(9,4),f.Wc(10,"\n        "),f.Yb(),f.Wc(11,"\n    "),f.Yb(),f.Wc(12,"\n    "),f.Zb(13,"div",5),f.Wc(14,"\n        "),f.Zb(15,"div",6),f.Wc(16,"\n            "),f.Zb(17,"div",7),f.Wc(18,"\n                "),f.Vb(19,4),f.Wc(20,"\n            "),f.Yb(),f.Wc(21,"\n            "),f.Uc(22,We,4,2,"div",8),f.Wc(23,"\n            "),f.Zb(24,"div",7),f.Wc(25,"\n                "),f.Zb(26,"button",9),f.hc("click",(function(){return t.Button_Click("Submit")})),f.Wc(27),f.mc(28,"translate"),f.Yb(),f.Wc(29,"\n            "),f.Yb(),f.Wc(30,"\n        "),f.Yb(),f.Wc(31,"\n        \n        "),f.Zb(32,"div",10),f.Wc(33,"\n            "),f.Zb(34,"div",11),f.Wc(35,"\n                "),f.Vb(36,4),f.Wc(37,"\n            "),f.Yb(),f.Wc(38,"\n        "),f.Yb(),f.Wc(39,"\n    "),f.Yb(),f.Wc(40,"\n"),f.Yb(),f.Wc(41,"\n\n")),2&e&&(f.Db(9),f.tc("obj",t.chkToDate)("group",t.form),f.Db(10),f.tc("obj",t.dtReturnDate)("group",t.form),f.Db(3),f.tc("ngIf",t.dtToDate.Visible),f.Db(5),f.Xc(f.nc(28,8,"Submit")),f.Db(9),f.tc("obj",t.obj.PreviewGrid)("group",t.form))},directives:[E.a,n.t],pipes:[U.d],encapsulation:2}),e})();var Ee=o("EUZL");function Ge(e,t){if(1&e&&(f.Zb(0,"div",7),f.Wc(1,"\n                "),f.Vb(2,4),f.Wc(3,"\n            "),f.Yb()),2&e){const e=f.lc();f.Db(2),f.tc("obj",e.dtToDate)("group",e.form)}}function Ue(e,t){if(1&e&&(f.Zb(0,"div",16),f.Wc(1,"\n                        "),f.Vb(2,4),f.Wc(3,"\n                    "),f.Yb()),2&e){const e=f.lc().$implicit,t=f.lc();f.Db(2),f.tc("obj",t.obj.lstGridViewModel[e.Name])("group",t.form)}}function xe(e,t){if(1&e&&(f.Xb(0),f.Wc(1,"\n                "),f.Zb(2,"tab",14),f.hc("selectTab",(function(){return t.$implicit.IsAccordionOpen=!0})),f.Wc(3,"\n                    "),f.Uc(4,Ue,4,2,"div",15),f.Wc(5,"\n                "),f.Yb(),f.Wc(6,"\n              "),f.Wb()),2&e){const e=t.$implicit,o=f.lc();f.Db(2),f.tc("heading",e.Header)("removable",!1),f.Db(2),f.tc("ngIf",o.obj.lstGridViewModel[e.Name].Columns.length>0)}}let Le=(()=>{class e extends class{constructor(){this.dtReturnDate=new C.a,this.dtToDate=new C.a,this.chkToDate=new g.a,this.tabMainVisibile=!1,this.txtUserName=new M.d,this.txtGSTIN=new M.d,this.txtOTP=new M.d,this.dtReturnDate.LblWidth="90",this.dtToDate.LblWidth="90",this.dtToDate.Label="To Date",this.dtToDate.Visible=!1,this.dtReturnDate.Date=Date.Today(),this.dtReturnDate.Label="Return Month",this.chkToDate.Label="Show To Date",this.chkToDate.CheckedChangedCommand.Subscribe(this,"onchkToDateClik")}Button_Click(e){if(this.ViewModel.DisplayMessage="","GetData"==e){this.tabMainVisibile=!0;let e=null,t=new Date(this.dtReturnDate.Date.getFullYear(),this.dtReturnDate.Date.getMonth(),1),o=null;this.dtToDate.Visible&&(t=this.dtReturnDate.Date,o=this.dtToDate.Date),this.ViewModel.dsGSTR2b2b=null,this.ViewModel.dsGSTR2b2bur=null;for(let n=0;n<this.ViewModel.lstGridViewModel.length;n++){let a={Key:this.ViewModel.lstGridViewModel.keys[n],Value:this.ViewModel.lstGridViewModel.values[n]},i=null;if("GSTR3_GSTR3B_Outward"==a.Key){let n=N.SetQueryWhere(this.ViewModel.lstGSTReport[a.Key].objReport.QUERY,a.Key,t,o);i=l.a.report.ReportDataSet("RPT022",!1,n),e={Tables:i.Tables.Copy(),Columns:i.Columns.Copy()},this.ViewModel.dtTaxTypeFilters=i.Tables[1]}else if("GSTR3_GSTR3B_OutwardDetail"==a.Key)i=e;else if("GSTR3_GSTR3B_EligibleITC"==a.Key||"GSTR3_GSTR3B_5"==a.Key||"GSTR3_GSTR3B_5_1"==a.Key){i={Tables:[],Columns:[]};let e=[];e.push({Sno:""}),i.Tables.push(e),i.Columns.push([]),i.Columns.push("Sno")}if(null!=i&&i.Tables.length>0){if(i.Columns[0].Contains("ErrorMessage"))return void(this.ViewModel.DisplayMessage=i.Tables[0][0].ErrorMessage.toString());let e=new Array;if(N.ResetData(a.Key,i,t,o,e,this.ViewModel),a.Value.Table=i.Tables[0],this.ViewModel.lstGSTReport.ContainsKey(a.Key)){let t=new Array;for(let o=1;o<this.ViewModel.lstGSTReport[a.Key].ReportGrid.Columns.length;o++){let n=this.ViewModel.lstGSTReport[a.Key].ReportGrid.Columns[o];if(0==n.CurrID)continue;let i=new p.a;i.ID=n.ID,i.Header=n.Header,i.Width=n.Width,i.ReadOnly=!0,i.DisplayMember=e.Contains(n.ID)?n.ID+"_Key":n.ID;let l=this.ViewModel.lstGSTReport[a.Key].Columns.find(e=>e.ID==n.ID);i.DataType=l.DType,"FLOAT"==i.DataType&&(i.DecimalPoints=s.e.IsEmpty(l.Decimals)?"2":l.Decimals,"SUM"==l.Agg&&(i.ShowTotal=!0,i.IsCalculated=1)),t.push(i)}a.Value.Columns=t,a.Value.RefreshColumns()}a.Value.refreshids(),a.Value.UpdateTotals()}}}else if("Export"==e){let e=Ee.utils.json_to_sheet([{Name:"ABC",Age:22},{Name:"XYZ",Age:25}]);e["!merges"]=[{s:{r:1,c:0},e:{r:2,c:0}}],e["!cols"]=[{wpx:120},{wpx:80}];let t=Ee.utils.book_new();t.SheetNames.push("Test"),t.Sheets.Test=e;let o=e[Ee.utils.encode_cell({c:1,r:1})];o&&(o.z="0.00"),o.s={font:{name:"Arial",sz:20,bold:!0,color:{rgb:"88FF0055"}},fill:{color:{rgb:"88FF0055"},fgColor:{rgb:"FFFFAA00"}}},o={v:134550,s:{font:{name:"Arial",sz:20,bold:!0,color:{rgb:"88FF0055"}},fill:{color:{rgb:"88FF0055"},fgColor:{patternType:"solid",rgb:"FFFFAA00"}}}},e.A5=o;for(let n=0;n<10;n++){this.addEmptyRows(e,1);let t=Ee.utils.encode_cell({c:1,r:n+3});o=e[t],o?o.v=n+1:e[t]={v:n+2}}Ee.utils.sheet_add_aoa(e,[["enda",10],["b",20]],{origin:-1}),Ee.writeFile(t,"test.xlsx",{bookType:"xlsx",type:"binary"})}else if("RETSAVE"==e||"Json"==e)if(this.tabMainVisibile){if(s.e.IsEmpty(this.txtGSTIN.Text))return void(this.ViewModel.DisplayMessage="Enter GSTIN");let t=new _(this.ViewModel.lstGridViewModel);if("RETSAVE"==e){if(s.e.IsEmpty(this.txtUserName.Text))return void(this.ViewModel.DisplayMessage="Enter UserName");this.ViewModel.DisplayMessage=t.UploadingGSTR(this.dtReturnDate.Date.iMonth().toString()+this.dtReturnDate.Date.getFullYear().toString(),"GSTR3B",this.txtUserName.Text,this.txtGSTIN.Text,this.txtOTP.Text)}else"Json"==e&&(this.ViewModel.DisplayMessage=t.GenerateJSON(this.dtReturnDate.Date.iMonth().toString()+this.dtReturnDate.Date.getFullYear().toString(),"GSTR3B",this.txtGSTIN.Text))}else this.ViewModel.DisplayMessage="First Load Report";else if("RETSUBMIT"==e){if(s.e.IsEmpty(this.txtGSTIN.Text))return void(this.ViewModel.DisplayMessage="Enter GSTIN");if(s.e.IsEmpty(this.txtUserName.Text))return void(this.ViewModel.DisplayMessage="Enter UserName");let t=new _(this.ViewModel.lstGridViewModel);this.ViewModel.DisplayMessage=t.SubmitingGSTR(this.dtReturnDate.Date.iMonth().toString()+this.dtReturnDate.Date.getFullYear().toString(),"GSTR3B",this.txtUserName.Text,this.txtGSTIN.Text,this.txtOTP.Text,e)}}addEmptyRows(e,t){let o=Ee.utils.decode_range(e["!ref"]);o.e.r+=t,e["!ref"]=Ee.utils.encode_range(o)}onchkToDateClik(){if(this.chkToDate.IsChecked){this.dtReturnDate.Label="From Date",this.dtToDate.Visible=!0;let e=Date.Today();this.dtReturnDate.Date=new Date(e.getFullYear(),e.getMonth(),1),this.dtToDate.Date=new Date(e.getFullYear(),e.getMonth(),e.DaysInMonth())}else this.dtReturnDate.Label="Return Month",this.dtToDate.Visible=!1}}{constructor(){super(),this.form=new i.j({})}ngOnInit(){var e,t,o;(null===(e=this.params)||void 0===e?void 0:e.obj)&&(this.obj=null===(t=this.params)||void 0===t?void 0:t.obj),this.ViewModel=null===(o=this.params)||void 0===o?void 0:o.obj,0!=this.obj.lstGridViewModel.length&&(this.tabMainVisibile=!1,this.LoadData(),this.obj.DisplayMessage.length>0&&(alert(this.obj.DisplayMessage),l.a.page.removeTab(this.obj)))}LoadData(){for(let e=0;e<this.obj.lstGridViewModel.keys.length&&e<1;e++){let t=this.obj.lstGridViewModel.keys[e],o=new V;if(o.ReportBuilder_2(this.obj.dicReportID[t],t),this.obj.lstGSTReport.push(t,o),o.cmbReport_SelectionChanged(null,null),o.GetReportConfiguration(),o.DisplayMessage.length>0)return void(this.obj.DisplayMessage=o.DisplayMessage);if(o.objReport.QUERY=o.GetQuery(!0),0==o.objReport.QUERY.length&&"GSTR3_GSTR3B_OutwardInterStateDetail"!=t)return void(this.obj.DisplayMessage="Select Documents")}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f.Nb({type:e,selectors:[["app-gstr3"]],features:[f.Ab],decls:53,vars:6,consts:[[2,"overflow","auto","height","110%"],[1,"page-header",2,"display","flex"],[1,"page-title"],[2,"width","140px","padding-left","20px"],["FieldDirective","",3,"obj","group"],[1,"section"],[1,"row","form-row"],[1,"form-group","col-xl-3","col-md-3","col-sm-6","col-xs-12","PACTControl"],["class","form-group col-xl-3 col-md-3 col-sm-6 col-xs-12 PACTControl",4,"ngIf"],[1,"form-group","col-xl-6","col-md-6","col-sm-12","col-xs-12","PACTControl",2,"display","block"],[1,"primary-btn-wicon",2,"width","70px",3,"click"],[1,"PACTTabFields","tab_content","tab-exrafields",2,"display","flex"],[1,"",2,"width","calc(100% - 30px)"],[4,"ngFor","ngForOf"],[3,"heading","removable","selectTab"],["style","width: calc(100% - 30px); height: calc(100% - 20px);",4,"ngIf"],[2,"width","calc(100% - 30px)","height","calc(100% - 20px)"]],template:function(e,t){1&e&&(f.Zb(0,"div",0),f.Wc(1,"\n    "),f.Zb(2,"div",1),f.Wc(3,"\n        "),f.Zb(4,"label",2),f.Wc(5,"GSTR-3"),f.Yb(),f.Wc(6,"\n        "),f.Zb(7,"div",3),f.Wc(8,"\n            "),f.Vb(9,4),f.Wc(10,"\n        "),f.Yb(),f.Wc(11,"\n    "),f.Yb(),f.Wc(12,"\n    "),f.Zb(13,"div",5),f.Wc(14,"\n        "),f.Zb(15,"div",6),f.Wc(16,"\n            "),f.Zb(17,"div",7),f.Wc(18,"\n                "),f.Vb(19,4),f.Wc(20,"\n            "),f.Yb(),f.Wc(21,"\n            "),f.Uc(22,Ge,4,2,"div",8),f.Wc(23,"\n            "),f.Zb(24,"div",9),f.Wc(25,"\n                "),f.Zb(26,"button",10),f.hc("click",(function(){return t.Button_Click("GetData")})),f.Wc(27,"Get Data"),f.Yb(),f.Wc(28,"\n                "),f.Zb(29,"button",10),f.hc("click",(function(){return t.Button_Click("Export")})),f.Wc(30,"Export"),f.Yb(),f.Wc(31,"\n                "),f.Zb(32,"button",10),f.hc("click",(function(){return t.Button_Click("Json")})),f.Wc(33,"Json"),f.Yb(),f.Wc(34,"\n                "),f.Zb(35,"button",10),f.hc("click",(function(){return t.Button_Click("RETSAVE")})),f.Wc(36,"Upload"),f.Yb(),f.Wc(37,"\n                "),f.Zb(38,"button",10),f.hc("click",(function(){return t.Button_Click("RETSUBMIT")})),f.Wc(39,"Submit"),f.Yb(),f.Wc(40,"\n                "),f.Wc(41,"\n            "),f.Yb(),f.Wc(42,"\n        "),f.Yb(),f.Wc(43,"\n        \n        "),f.Zb(44,"div",11),f.Wc(45,"\n            "),f.Zb(46,"tabset",12),f.Wc(47,"\n               "),f.Uc(48,xe,7,3,"ng-container",13),f.Wc(49,"\n            "),f.Yb(),f.Wc(50,"\n        "),f.Yb(),f.Wc(51,"\n    "),f.Yb(),f.Wc(52,"\n"),f.Yb()),2&e&&(f.Db(9),f.tc("obj",t.chkToDate)("group",t.form),f.Db(10),f.tc("obj",t.dtReturnDate)("group",t.form),f.Db(3),f.tc("ngIf",t.dtToDate.Visible),f.Db(26),f.tc("ngForOf",t.obj.Tab.Tabs))},directives:[E.a,n.t,G.e,n.s,G.b],encapsulation:2}),e})();class ve extends r.b{constructor(){super(),this.GSTR1=["b2b","b2cl","b2cs","cdnr","exemp","exp","at","atadj"],this.lstGSTReport=new T.a,this.dicReportID=new T.a,this.PreviewGrid=new D.a,this.PreviewGrid.Width="",this.PreviewGrid.Height=0,this.PreviewGrid.Columns=new Array;let e=new s.f;e.LoadXml(S.ColumnsXML("GSTR1Summary",c.None));for(let o=0;o<e.DocumentElement.children.length;o++){let t=new W(e.DocumentElement.children[o]);if(t.InUse){let e=new p.a;e.Header=t.Caption,e.DisplayMember=t.ID,e.Width=t.Width,e.ReadOnly=!0,e.DataType=t.DType,"FLOAT"==e.DataType&&(e.DecimalPoints=s.e.IsEmpty(t.Decimals)?"2":t.Decimals,"SUM"==t.Agg&&(e.ShowTotal=!0,e.IsCalculated=1)),this.PreviewGrid.Columns.push(e)}}let t=l.a.common.GetDataTable("GST001","");for(let o=0;o<this.GSTR1.length;o++){let e=this.GSTR1[o],n=t.filter(t=>t.ReportName==e);0!=n.length&&((new D.a).Width="",this.dicReportID.push(e,parseInt(n[0].ReportID)))}0==this.dicReportID.length?this.DisplayMessage="No GSTR1 Reports Found":this.LoadData()}LoadData(){for(let e=0;e<this.dicReportID.keys.length;e++){let t={Key:this.dicReportID.keys[e]},o=new V;if(o.ReportBuilder_2(this.dicReportID[t.Key],t.Key),o.ParentGSTType=c.GSTR1Summary,this.lstGSTReport.push(t.Key,o),o.cmbReport_SelectionChanged(null,null),o.GetReportConfiguration(),o.DisplayMessage.length>0)return void(this.DisplayMessage=o.DisplayMessage);if(o.objReport.QUERY=o.GetQuery(!0),0==o.objReport.QUERY.length)return void(this.DisplayMessage="Select Documents @ "+o.GSTType);"b2b"==o.GSTType||"b2cl"==o.GSTType||"b2cs"==o.GSTType||"cdnr"==o.GSTType?o.objReport.QUERY="select count(*) CNT,sum(InvValue) InvValue,sum(TaxableValue) TaxableValue,sum(CessAmt) CessAmt,sum(IntTaxAmt) IntTaxAmt,sum(CTaxAmt) CTaxAmt,sum(STaxAmt) STaxAmt from ("+o.objReport.QUERY+") as T":"exp"==o.GSTType?o.objReport.QUERY="select count(*) CNT,sum(InvValue) InvValue,sum(TaxableValue) TaxableValue,sum(IntTaxAmt) IntTaxAmt,sum(CTaxAmt) CTaxAmt,sum(STaxAmt) STaxAmt from ("+o.objReport.QUERY+") as T":"exemp"==o.GSTType&&(o.objReport.QUERY="select count(*) CNT,sum(NilRated) TaxableValue,sum(NilRated) InvValue from ("+o.objReport.QUERY+") as T")}}OnSubmit(e,t){this.PreviewGrid.Clear();for(let o=0;o<this.lstGSTReport.length;o++){let n={Key:this.lstGSTReport.keys[o]},a=N.SetQueryWhere(this.lstGSTReport[n.Key].objReport.QUERY,n.Key,e,t);console.log(n.Key+" Query :\r\n"+a);let i=l.a.report.ReportDataSet("RPT022",!1,a);if(null!=i&&i.Tables.length>0){if(i.Columns[0].Contains("ErrorMessage"))return void(this.DisplayMessage=i.Tables[0][0].ErrorMessage.toString());"at"==n.Key?A.Update_at(i,!0):"atadj"==n.Key&&A.Update_atadj(i,!0);let e=this.PreviewGrid.NewRow();e.Particulars="b2b"==n.Key?"B2B Invoices":"b2cl"==n.Key?"B2C(Large) Invoices":"b2cs"==n.Key?"B2C(Small) Invoices":"cdnr"==n.Key?"Credit/Debit Notes":"exemp"==n.Key?"Nil Rated Invoices":"exp"==n.Key?"Exports Invoices":"at"==n.Key?"Tax Liability on Advances":"atadj"==n.Key?"Setoff Tax Paid against Advances":n.Key,i.Tables[0].length>0&&this.PreviewGrid.Columns.forEach(t=>{i.Columns[0].Contains(t.DisplayMember)&&(e[t.DisplayMember]=i.Tables[0][0][t.DisplayMember])}),this.PreviewGrid.addRow(e)}}this.PreviewGrid.UpdateTotals()}}class Fe extends r.b{constructor(){super(),this.GSTR3=["GSTR3_GSTR3B_Outward"],this.lstGSTReport=new T.a,this.lstGridViewModel=new T.a,this.dicReportID=new T.a,this.dsGSTR2b2b=null,this.dsGSTR2b2bur=null,this.dtTaxTypeFilters=null,this.Tab=new u.a,N.GSTR3ViewModel=Fe;let e=l.a.common.GetDataTable("GST006","");for(let t=0;t<this.GSTR3.length;t++){let o=this.GSTR3[t],n=e.filter(e=>e.ReportName==o);if(0==n.length)continue;let a=new D.a;a.Width="",a.Height=0,this.lstGridViewModel.push(o,a),this.dicReportID.push(o,parseInt(n[0].ReportID));let i=new u.b;i.Name=o,i.Header=o.replace("GSTR3_",""),i.Fields.push(a),this.Tab.Tabs.push(i),"GSTR3_GSTR3B_Outward"==o&&(i.Header="3.1 Details of Outward and Inward",this.AddTab("GSTR3_GSTR3B_OutwardDetail","3.2 Details of inter-state"),this.AddTab("GSTR3_GSTR3B_EligibleITC","4.Eligible ITC"),this.AddTab("GSTR3_GSTR3B_5","5.Values of exempt, Nil-rated and non-GST inward"),this.AddTab("GSTR3_GSTR3B_5_1","5.1 Interest & late fee payable"))}0==this.lstGridViewModel.length&&(this.DisplayMessage="No GSTR3 Reports Found")}AddTab(e,t){let o=new D.a;o.Width="",o.Height=0;let n=new s.f;n.LoadXml(S.ColumnsXML(e,c.None));let a=new Array;for(let l=0;l<n.DocumentElement.children.length;l++){let t=new W(n.DocumentElement.children[l]);t.dgColumn.DataType=t.DType,t.dgColumn.FilterCondition="",t.dgColumn.FilterColumn="",t.dgColumn.ValueMember="",t.dgColumn.DisplayMember=t.ID,t.dgColumn.ReadOnly=!0,t.dgColumn.ShowTotal=!0,"FLOAT"==t.DType&&(t.dgColumn.DecimalPoints=s.e.IsEmpty(t.Decimals)?"2":t.Decimals,"GSTR3_GSTR3B_EligibleITC"==e||"GSTR3_GSTR3B_5"==e?t.dgColumn.ShowTotal=!1:"SUM"==t.Agg&&(t.dgColumn.ShowTotal=!0,t.dgColumn.IsCalculated=1)),a.push(t.dgColumn)}o.Columns=a,this.lstGridViewModel.push(e,o);let i=new u.b;i.Name=e,i.Header=t,i.Fields.push(o),this.Tab.Tabs.push(i)}static Update_GSTR3_GSTR3B(e,t,o,n,a){let i,C=null,p="",r=[];if("GSTR3_GSTR3B_Outward"==e){if(i={},i.Description="(a) Outward Taxable  supplies  (other than zero rated, nil rated and exempted)",t.Tables[0].length>0&&(p="",t.Tables[1].forEach(e=>{p.length>0&&(p+=" and "),p+="GSTTaxType<>'"+e.Caption.toString()+"'"}),p="(("+p+") or GSTTaxType is null) and (GSTPartyType is null or (GSTPartyType<>'Export' and GSTPartyType<>'SEZ' and GSTPartyType<>'Deemed Export' and GSTPartyType<>'Government Entity'))",i.TaxableValue=t.Tables[0].Compute("sum(TaxableValue)",p),i.IntTaxAmt=t.Tables[0].Compute("sum(IntTaxAmt)",p),i.CTaxAmt=t.Tables[0].Compute("sum(CTaxAmt)",p),i.STaxAmt=t.Tables[0].Compute("sum(STaxAmt)",p),i.CessAmt=t.Tables[0].Compute("sum(CessAmt)",p)),r.push(i),i={},i.Description="(b) Outward Taxable  supplies  (zero rated )",t.Tables[0].length>0){let e=t.Tables[1].fiter("Type='ZERO'");e.length>0&&(p="GSTTaxType='"+e[0].Caption.toString()+"' or (GSTPartyType='Export' or GSTPartyType='SEZ' or GSTPartyType='Deemed Export' or GSTPartyType='Government Entity')",i.TaxableValue=t.Tables[0].Compute("sum(TaxableValue)",p),i.IntTaxAmt=t.Tables[0].Compute("sum(IntTaxAmt)",p),i.CessAmt=t.Tables[0].Compute("sum(CessAmt)",p))}if(r.push(i),i={},i.Description="(c) Other Outward Taxable  supplies (Nil rated, exempted)",t.Tables[0].length>0){let e=t.Tables[1].filter(e=>"NIL"==e.Type||"EXEMPTED"==e.Type);e.length>1&&(p="(GSTTaxType='"+e[0].Caption.toString()+"' or GSTTaxType='"+e[1].Caption.toString()+"')",i.TaxableValue=t.Tables[0].Compute("sum(TaxableValue)",p))}let e;r.push(i),i={},i.Description="(d) Inward supplies (liable to reverse charge) ";let s=l.a.common.GetDataTable("GST007","GSTR2_b2b");if(s.length>0){let t=s[0].Query.toString();t=N.SetQueryWhere(t,"GSTR3_GSTR3B_Outward",o,n),e=l.a.report.ReportDataSet("RPT022",!1,t),e.Tables[0].length>0&&(y.Add_AvailedITC("GSTR2_b2b",e),null!=a&&(a.dsGSTR2b2b=e.Copy()),e.Tables[0].length>0&&(i.TaxableValue=e.Tables[0].Compute("sum(TaxableValue)","ReverseCharge='Y' or ReverseCharge='YES'"),i.IntTaxAmt=e.Tables[0].Compute("sum(IntTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),i.CTaxAmt=e.Tables[0].Compute("sum(CTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),i.STaxAmt=e.Tables[0].Compute("sum(STaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),i.CessAmt=e.Tables[0].Compute("sum(CessAmt)","ReverseCharge='Y' or ReverseCharge='YES'")))}if(s=l.a.common.GetDataTable("GST007","GSTR2_b2bur"),s.length>0){let t=s[0].Query.toString();if(t=N.SetQueryWhere(t,"GSTR2_b2bur",o,n),e=l.a.report.ReportDataSet("RPT022",!1,t),e.Tables[0].length>0&&(y.Add_AvailedITC("GSTR2_b2bur",e),null!=a&&(a.dsGSTR2b2bur=e.Copy()),e.Tables[0].length>0)){let t=e.Tables[0].Compute("sum(TaxableValue)","ReverseCharge='Y' or ReverseCharge='YES'");null!=t&&(i.TaxableValue=null==i.TaxableValue?t:parseFloat(i.TaxableValue)+parseFloat(t)),t=e.Tables[0].Compute("sum(IntTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),null!=t&&(i.IntTaxAmt=null==i.IntTaxAmt?t:parseFloat(i.IntTaxAmt)+parseFloat(t)),t=e.Tables[0].Compute("sum(CTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),null!=t&&(i.CTaxAmt=null==i.CTaxAmt?t:parseFloat(i.CTaxAmt)+parseFloat(t)),t=e.Tables[0].Compute("sum(STaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),null!=t&&(i.STaxAmt=null==i.STaxAmt?t:parseFloat(i.STaxAmt)+parseFloat(t)),t=e.Tables[0].Compute("sum(CessAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),null!=t&&(i.CessAmt=null==i.CessAmt?t:parseFloat(i.CessAmt)+parseFloat(t))}}if(r.push(i),i={},i.Description="(e) Non-GST Outward supplies",t.Tables[0].length>0){let e=t.Tables[1].filter(e=>"NONGST"==e.Type);e.length>0&&(p="GSTTaxType='"+e[0].Caption.toString()+"'",i.TaxableValue=t.Tables[0].Compute("sum(TaxableValue)",p))}r.push(i)}else if("GSTR3_GSTR3B_OutwardDetail"==e){C=t.Tables[0].filter(e=>e.FromState!=e.ToState),C.SortBy(["Pos"]);let e=new T.a;C.forEach(t=>{let o=t.PoS.toString();e.ContainsKey(o)||e.push(o,new Array(6).fill(0)),0==s.e.stringCompare(t.GSTRegistrationType.toString(),"Unregistered",!0)?(null!=t.TaxableValue&&(e[o][0]+=parseFloat(t.TaxableValue)),null!=t.IntTaxAmt&&(e[o][1]+=parseFloat(t.IntTaxAmt))):0==s.e.stringCompare(t.GSTRegistrationType.toString(),"Composition",!0)?(null!=t.TaxableValue&&(e[o][2]+=parseFloat(t.TaxableValue)),null!=t.IntTaxAmt&&(e[o][3]+=parseFloat(t.IntTaxAmt))):0!=s.e.stringCompare(t.GSTRegistrationType.toString(),"UIN holders",!0)&&0!=s.e.stringCompare(t.GSTRegistrationType.toString(),"UINholders",!0)||(null!=t.TaxableValue&&(e[o][4]+=parseFloat(t.TaxableValue)),null!=t.IntTaxAmt&&(e[o][5]+=parseFloat(t.IntTaxAmt)))}),e.keys.forEach(t=>{let o={Key:t,Value:e[t]};0==o.Value[0]&&0==o.Value[1]&&0==o.Value[2]&&0==o.Value[3]&&0==o.Value[4]&&0==o.Value[5]||(i={},i.PoS=o.Key,i.TaxableValueUnregistered=o.Value[0],i.IntTaxAmtUnregistered=o.Value[1],i.TaxableValueComposition=o.Value[2],i.IntTaxAmtComposition=o.Value[3],i.TaxableValueUINholders=o.Value[4],i.IntTaxAmtUINholders=o.Value[5],r.push(i))})}else if("GSTR3_GSTR3B_EligibleITC"==e){let e,t=null,s=0,C=0,p=0,T=0,D=0;i={},i.Details="(A) ITC Available (Whether in full or part)",i.StyleIsBold=1,r.push(i),i={},i.Details="   (1)\xa0Import of goods";let u=l.a.common.GetDataTable("GST007","GSTR2_impg");if(u.length>0){let t=u[0].Query.toString();t=N.SetQueryWhere(t,"GSTR2_impg",o,n);let a=l.a.report.ReportDataSet("RPT022",!1,t);a.Tables[0].length>0&&(y.Add_AvailedITC("GSTR2_impg",a),a.Tables[0].length>0&&(e=a.Tables[0].Compute("sum(IntTaxAmt)",""),D=null!=e?parseFloat(e):0,i.IntTaxAmt=D,s+=D,e=a.Tables[0].Compute("sum(CessAmt)",""),D=null!=e?parseFloat(e):0,i.CessAmt=D,T+=D))}if(r.push(i),i={},i.Details="   (2)\xa0Import of services",u=l.a.common.GetDataTable("GST007","GSTR2_imps"),u.length>0){let t=u[0].Query.toString();t=N.SetQueryWhere(t,"GSTR2_imps",o,n);let a=l.a.report.ReportDataSet("RPT022",!1,t);a.Tables[0].length>0&&(y.Add_AvailedITC("GSTR2_imps",a),a.Tables[0].length>0&&(e=a.Tables[0].Compute("sum(IntTaxAmt)",""),D=null!=e?parseFloat(e):0,i.IntTaxAmt=D,s+=D,e=a.Tables[0].Compute("sum(CessAmt)",""),D=null!=e?parseFloat(e):0,i.CessAmt=D,T+=D))}if(r.push(i),i={},i.Details="   (3) Inward supplies liable to reverse charge(other than 1 &2 above)",null!=a.dsGSTR2b2b&&(e=a.dsGSTR2b2b.Tables[0].Compute("sum(IntTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),D=null!=e?parseFloat(e):0,i.IntTaxAmt=D,s+=D,e=a.dsGSTR2b2b.Tables[0].Compute("sum(ITCCTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),D=null!=e?parseFloat(e):0,i.CTaxAmt=D,C+=D,e=a.dsGSTR2b2b.Tables[0].Compute("sum(ITCSTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),D=null!=e?parseFloat(e):0,i.STaxAmt=D,p+=D,e=a.dsGSTR2b2b.Tables[0].Compute("sum(ITCCessAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),D=null!=e?parseFloat(e):0,i.CessAmt=D,T+=D),null!=a.dsGSTR2b2bur&&(e=a.dsGSTR2b2bur.Tables[0].Compute("sum(IntTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),D=null!=e?parseFloat(e):0,s+=D,null!=e&&(i.IntTaxAmt=null==i.IntTaxAmt?D:parseFloat(i.IntTaxAmt)+D),e=a.dsGSTR2b2bur.Tables[0].Compute("sum(ITCCTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),D=null!=e?parseFloat(e):0,C+=D,null!=e&&(i.CTaxAmt=null==i.CTaxAmt?D:parseFloat(i.CTaxAmt)+D),e=a.dsGSTR2b2bur.Tables[0].Compute("sum(ITCSTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),D=null!=e?parseFloat(e):0,p+=D,null!=e&&(i.STaxAmt=null==i.STaxAmt?D:parseFloat(i.STaxAmt)+D),e=a.dsGSTR2b2bur.Tables[0].Compute("sum(ITCCessAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),D=null!=e?parseFloat(e):0,T+=D,null!=e&&(i.CessAmt=null==i.CessAmt?D:parseFloat(i.CessAmt)+D)),r.push(i),i={},i.Details="   (4) Inward supplies from ISD",r.push(i),u=l.a.common.GetDataTable("GST007","GSTR2_cdnr"),u.length>0){let e=u[0].Query.toString();e=N.SetQueryWhere(e,"GSTR2_cdnr",o,n),t=l.a.report.ReportDataSet("RPT022",!1,e),null!=t&&t.Tables[0].length>0&&y.Add_AvailedITC("GSTR2_cdnr",t)}i={},i.Details="   (5) All other ITC",null!=a.dsGSTR2b2b&&(e=a.dsGSTR2b2b.Tables[0].Compute("sum(ITCIntTaxAmt)","GSTRegistrationType='Regular' and (ReverseCharge is null or (ReverseCharge<>'Y' and ReverseCharge<>'YES'))"),D=null!=e?parseFloat(e):0,i.IntTaxAmt=D,s+=D,e=a.dsGSTR2b2b.Tables[0].Compute("sum(ITCCTaxAmt)","GSTRegistrationType='Regular' and (ReverseCharge is null or (ReverseCharge<>'Y' and ReverseCharge<>'YES'))"),D=null!=e?parseFloat(e):0,i.CTaxAmt=D,C+=D,e=a.dsGSTR2b2b.Tables[0].Compute("sum(ITCSTaxAmt)","GSTRegistrationType='Regular' and (ReverseCharge is null or (ReverseCharge<>'Y' and ReverseCharge<>'YES'))"),D=null!=e?parseFloat(e):0,i.STaxAmt=D,p+=D,e=a.dsGSTR2b2b.Tables[0].Compute("sum(ITCCessAmt)","GSTRegistrationType='Regular' and (ReverseCharge is null or (ReverseCharge<>'Y' and ReverseCharge<>'YES'))"),D=null!=e?parseFloat(e):0,i.CessAmt=D,T+=D),null!=t&&t.Tables[0].length>0&&(e=t.Tables[0].Compute("sum(ITCIntTaxAmt)","DocumentType='C'"),D=null!=e?parseFloat(e):0,i.IntTaxAmt=D+(null==i.IntTaxAmt?0:parseFloat(i.IntTaxAmt)),s+=D,e=t.Tables[0].Compute("sum(ITCCTaxAmt)","DocumentType='C'"),D=null!=e?parseFloat(e):0,i.CTaxAmt=D+(null==i.CTaxAmt?0:parseFloat(i.CTaxAmt)),C+=D,e=t.Tables[0].Compute("sum(ITCSTaxAmt)","DocumentType='C'"),D=null!=e?parseFloat(e):0,i.STaxAmt=D+(null==i.STaxAmt?0:parseFloat(i.STaxAmt)),p+=D,e=t.Tables[0].Compute("sum(ITCCessAmt)","DocumentType='C'"),D=null!=e?parseFloat(e):0,i.CessAmt=D+(null==i.CessAmt?0:parseFloat(i.CessAmt)),T+=D,e=t.Tables[0].Compute("sum(ITCIntTaxAmt)","DocumentType='D'"),D=null!=e?parseFloat(e):0,i.IntTaxAmt=(null==i.IntTaxAmt?0:parseFloat(i.IntTaxAmt))-D,s-=D,e=t.Tables[0].Compute("sum(ITCCTaxAmt)","DocumentType='D'"),D=null!=e?parseFloat(e):0,i.CTaxAmt=(null==i.CTaxAmt?0:parseFloat(i.CTaxAmt))-D,C-=D,e=t.Tables[0].Compute("sum(ITCSTaxAmt)","DocumentType='D'"),D=null!=e?parseFloat(e):0,i.STaxAmt=(null==i.STaxAmt?0:parseFloat(i.STaxAmt))-D,p-=D,e=t.Tables[0].Compute("sum(ITCCessAmt)","DocumentType='D'"),D=null!=e?parseFloat(e):0,i.CessAmt=(null==i.CessAmt?0:parseFloat(i.CessAmt))-D,T-=D),r.push(i),i={},i.Details="(B) ITC Reversed",i.StyleIsBold=1,r.push(i),i={},i.Details="   (1)\xa0As per Rule 42 & 43 of SGST/CGST rules ",r.push(i),i={},i.Details="   (2) Others",r.push(i),i={},i.Details="(C) Net ITC Available (A)-(B)",i.StyleIsBold=1,i.IntTaxAmt=s,i.CTaxAmt=C,i.STaxAmt=p,i.CessAmt=T,r.push(i),i={},i.Details="(D) Ineligible ITC",i.StyleIsBold=1,r.push(i),i={},i.Details="   (1) As per section 17(5) of CGST/SGST Act",null!=a.dsGSTR2b2b&&(e=a.dsGSTR2b2b.Tables[0].Compute("sum(IntTaxAmt)-sum(ITCIntTaxAmt)","GSTRegistrationType='Regular'"),D=null!=e?parseFloat(e):0,i.IntTaxAmt=D,s+=D,e=a.dsGSTR2b2b.Tables[0].Compute("sum(CTaxAmt)-sum(ITCCTaxAmt)","GSTRegistrationType='Regular'"),D=null!=e?parseFloat(e):0,i.CTaxAmt=D,C+=D,e=a.dsGSTR2b2b.Tables[0].Compute("sum(STaxAmt)-sum(ITCSTaxAmt)","GSTRegistrationType='Regular'"),D=null!=e?parseFloat(e):0,i.STaxAmt=D,p+=D,e=a.dsGSTR2b2b.Tables[0].Compute("sum(CessAmt)-sum(ITCCessAmt)","GSTRegistrationType='Regular'"),D=null!=e?parseFloat(e):0,i.CessAmt=D,T+=D),r.push(i),i={},i.Details="   (2) Others",r.push(i),i={},i.Details="TOTAL",i.StyleIsBold=1,i.IntTaxAmt=s,i.CTaxAmt=C,i.STaxAmt=p,i.CessAmt=T,r.push(i)}else if("GSTR3_GSTR3B_5"==e){let e=0,t=0,o=0;if(i={},i.Natureofsupplies="From a supplier under composition scheme, Exempt  and Nil rated supply",i.InterState=0,i.IntraState=0,null!=a.dsGSTR2b2b){let n=a.dtTaxTypeFilters.filter(e=>"NIL"==e.Type||"EXEMPTED"==e.Type);if(n.length>1){p="GSTRegistrationType='Composition' or GSTTaxType='"+n[0].Caption.toString()+"' or GSTTaxType='"+n[1].Caption.toString()+"'",C=a.dsGSTR2b2b.Tables[0].filter(e=>"Composition"==e.GSTRegistrationType||"Exempted"==e.GSTTaxType||"Nil"==e.GSTTaxType);for(let n=0;n<C.length;n++){let a=C[n];null!=a.TaxableValue&&(o=parseFloat(a.TaxableValue),"Inter State"==a.SupplyType.toString()?(i.InterState=parseFloat(i.InterState)+o,e+=o):(i.IntraState=parseFloat(i.IntraState)+o,t+=o))}}}if(null!=a.dsGSTR2b2bur){let n=a.dtTaxTypeFilters.filter(e=>"NIL"==e.Type||"EXEMPTED"==e.Type);if(n.length>1){p="GSTRegistrationType='Composition' or GSTTaxType='"+n[0].Caption.toString()+"' or GSTTaxType='"+n[1].Caption.toString()+"'",C=a.dsGSTR2b2bur.Tables[0].filter(e=>e.strFilter);for(let n=0;n<C.length;n++){let a=C[n];null!=a.TaxableValue&&(o=parseFloat(a.TaxableValue),"Inter State"==a.SupplyType.toString()?(i.InterState=parseFloat(i.InterState)+o,e+=o):(i.IntraState=parseFloat(i.IntraState)+o,t+=o))}}}if(r.push(i),i={},i.Natureofsupplies="Non GST supply",i.InterState=0,i.IntraState=0,null!=a.dsGSTR2b2b){let n=a.dtTaxTypeFilters.filter(e=>"NONGST"==e.Type);if(n.length>0){p="GSTTaxType='"+n[0].Caption.toString()+"'",C=a.dsGSTR2b2b.Tables[0].filter(e=>e.strFilter);for(let n=0;n<C.length;n++){let a=C[n];null!=a.TaxableValue&&(o=parseFloat(a.TaxableValue),"Inter State"==a.SupplyType.toString()?(i.InterState=parseFloat(i.InterState)+o,e+=o):(i.IntraState=parseFloat(i.IntraState)+o,t+=o))}}}if(null!=a.dsGSTR2b2bur){let n=a.dtTaxTypeFilters.filter(e=>"NONGST"==e.Type);if(n.length>0){p="GSTTaxType='"+n[0].Caption.toString()+"'",C=a.dsGSTR2b2bur.Tables[0].filter(e=>e.strFilter);for(let n=0;n<C.length;n++){let a=C[n];null!=a.TaxableValue&&(o=parseFloat(a.TaxableValue),"Inter State"==a.SupplyType.toString()?(i.InterState=parseFloat(i.InterState)+o,e+=o):(i.IntraState=parseFloat(i.IntraState)+o,t+=o))}}}r.push(i),i={},i.Natureofsupplies="Total",i.StyleIsBold=1,i.InterState=e,i.IntraState=t,r.push(i)}t.Tables.Clear(),t.Tables.push(r)}}function we(e,t){if(1&e&&(f.Zb(0,"div",7),f.Wc(1,"\n                "),f.Vb(2,4),f.Wc(3,"\n            "),f.Yb()),2&e){const e=f.lc();f.Db(2),f.tc("obj",e.dtToDate)("group",e.form)}}function _e(e,t){if(1&e&&(f.Zb(0,"div",15),f.Wc(1,"\n                        "),f.Vb(2,4),f.Wc(3,"\n                    "),f.Yb()),2&e){const e=f.lc().$implicit,t=f.lc();f.Db(2),f.tc("obj",t.obj.lstGridViewModel[e.Name])("group",t.form)}}function Pe(e,t){if(1&e&&(f.Xb(0),f.Wc(1,"\n                "),f.Zb(2,"tab",13),f.hc("selectTab",(function(){return t.$implicit.IsAccordionOpen=!0})),f.Wc(3,"\n                    "),f.Uc(4,_e,4,2,"div",14),f.Wc(5,"\n                "),f.Yb(),f.Wc(6,"\n              "),f.Wb()),2&e){const e=t.$implicit,o=f.lc();f.Db(2),f.tc("heading",e.Header)("removable",!1),f.Db(2),f.tc("ngIf",o.obj.lstGridViewModel[e.Name].Columns.length>0)}}let Xe=(()=>{class e extends class{constructor(){this.dtReturnDate=new C.a,this.dtToDate=new C.a,this.chkToDate=new g.a,this.dtReturnDate.LblWidth="90",this.dtToDate.LblWidth="90",this.dtToDate.Label="To Date",this.dtToDate.Visible=!1,this.dtReturnDate.Date=Date.Today(),this.dtReturnDate.Label="Return Month",this.chkToDate.Label="Show To Date",this.chkToDate.CheckedChangedCommand.Subscribe(this,"onchkToDateClik")}Button_Click(e){if(this.ViewModel.DisplayMessage="","Submit"==e){let e=new Date(this.dtReturnDate.Date.getFullYear(),this.dtReturnDate.Date.getMonth(),1),t=null;this.dtToDate.Visible&&(e=this.dtReturnDate.Date,t=this.dtToDate.Date);for(let o=0;o<this.ViewModel.lstGridViewModel.length;o++){let n={Key:this.ViewModel.lstGridViewModel.keys[o],Value:this.ViewModel.lstGridViewModel.values[o]},a=N.SetQueryWhere(this.ViewModel.lstGSTReport[n.Key].objReport.QUERY,n.Key,e,t),i=l.a.report.ReportDataSet("RPT022",!1,a);if(null!=i&&i.Tables.length>0){if(i.Columns[0].Contains("ErrorMessage"))return void(this.ViewModel.DisplayMessage=i.Tables[0][0].ErrorMessage.toString());let o=new Array;N.ResetData(n.Key,i,e,t,o);let a=new Array;for(let e=1;e<this.ViewModel.lstGSTReport[n.Key].ReportGrid.Columns.length;e++){let t=this.ViewModel.lstGSTReport[n.Key].ReportGrid.Columns[e];if(0==t.CurrID)continue;let i=new p.a;i.ID=t.ID,i.Header=t.Header,i.Width=t.Width,i.ReadOnly=!0,i.DisplayMember=o.Contains(t.ID)?t.ID+"_Key":t.ID;let l=this.ViewModel.lstGSTReport[n.Key].Columns.find(e=>e.ID==t.ID);i.DataType=l.DType,"FLOAT"==i.DataType&&(i.DecimalPoints=s.e.IsEmpty(l.Decimals)?"2":l.Decimals,"SUM"==l.Agg&&(i.ShowTotal=!0,i.IsCalculated=1)),a.push(i)}i.Tables[0].forEach(e=>{e.id=n.Value.rowid}),n.Value.Table=i.Tables[0],n.Value.Columns=a,n.Value.RefreshColumns(),n.Value.UpdateTotals()}}}}onchkToDateClik(){if(this.chkToDate.IsChecked){this.dtReturnDate.Label="From Date",this.dtToDate.Visible=!0;let e=Date.Today();this.dtReturnDate.Date=new Date(e.getFullYear(),e.getMonth(),1),this.dtToDate.Date=new Date(e.getFullYear(),e.getMonth(),e.DaysInMonth())}else this.dtReturnDate.Label="Return Month",this.dtToDate.Visible=!1}}{constructor(){super(),this.form=new i.j({})}ngOnInit(){var e,t,o;(null===(e=this.params)||void 0===e?void 0:e.obj)&&(this.obj=null===(t=this.params)||void 0===t?void 0:t.obj),this.ViewModel=null===(o=this.params)||void 0===o?void 0:o.obj,0!=this.obj.lstGridViewModel.length&&(this.LoadData(),this.obj.DisplayMessage.length>0&&(alert(this.obj.DisplayMessage),l.a.page.removeTab(this.obj)))}LoadData(){for(let e=0;e<this.obj.lstGridViewModel.keys.length;e++){let t=this.obj.lstGridViewModel.keys[e],o=new V;if(o.ReportBuilder_2(this.obj.dicReportID[t],t),this.obj.lstGSTReport.push(t,o),o.cmbReport_SelectionChanged(null,null),o.GetReportConfiguration(),o.DisplayMessage.length>0)return void(this.obj.DisplayMessage=t+" :: "+o.DisplayMessage);if(o.objReport.QUERY=o.GetQuery(!0),0==o.objReport.QUERY.length)return void(this.obj.DisplayMessage=t+" :: Select Documents")}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f.Nb({type:e,selectors:[["app-anx1"]],features:[f.Ab],decls:41,vars:9,consts:[[2,"overflow","auto","height","110%"],[1,"page-header",2,"display","flex"],[1,"page-title"],[2,"width","140px","padding-left","20px"],["FieldDirective","",3,"obj","group"],[1,"section"],[1,"row","form-row"],[1,"form-group","col-xl-3","col-md-4","col-sm-6","col-xs-12","PACTControl"],["class","form-group col-xl-3 col-md-4 col-sm-6 col-xs-12 PACTControl",4,"ngIf"],[1,"primary-btn-wicon",2,"width","80px",3,"click"],[1,"PACTTabFields","tab_content","tab-exrafields",2,"display","flex"],[1,"",2,"width","calc(100% - 30px)"],[4,"ngFor","ngForOf"],[3,"heading","removable","selectTab"],["style","width: calc(100% - 30px); height: calc(100% - 20px);",4,"ngIf"],[2,"width","calc(100% - 30px)","height","calc(100% - 20px)"]],template:function(e,t){1&e&&(f.Zb(0,"div",0),f.Wc(1,"\n    "),f.Zb(2,"div",1),f.Wc(3,"\n        "),f.Zb(4,"label",2),f.Wc(5,"ANX-1"),f.Yb(),f.Wc(6,"\n        "),f.Zb(7,"div",3),f.Wc(8,"\n            "),f.Vb(9,4),f.Wc(10,"\n        "),f.Yb(),f.Wc(11,"\n    "),f.Yb(),f.Wc(12,"\n    "),f.Zb(13,"div",5),f.Wc(14,"\n        "),f.Zb(15,"div",6),f.Wc(16,"\n            "),f.Zb(17,"div",7),f.Wc(18,"\n                "),f.Vb(19,4),f.Wc(20,"\n            "),f.Yb(),f.Wc(21,"\n            "),f.Uc(22,we,4,2,"div",8),f.Wc(23,"\n            "),f.Zb(24,"div",7),f.Wc(25,"\n                "),f.Zb(26,"button",9),f.hc("click",(function(){return t.Button_Click("Submit")})),f.Wc(27),f.mc(28,"translate"),f.Yb(),f.Wc(29,"\n            "),f.Yb(),f.Wc(30,"\n        "),f.Yb(),f.Wc(31,"\n        \n        "),f.Zb(32,"div",10),f.Wc(33,"\n            "),f.Zb(34,"tabset",11),f.Wc(35,"\n               "),f.Uc(36,Pe,7,3,"ng-container",12),f.Wc(37,"\n            "),f.Yb(),f.Wc(38,"\n        "),f.Yb(),f.Wc(39,"\n    "),f.Yb(),f.Wc(40,"\n"),f.Yb()),2&e&&(f.Db(9),f.tc("obj",t.chkToDate)("group",t.form),f.Db(10),f.tc("obj",t.dtReturnDate)("group",t.form),f.Db(3),f.tc("ngIf",t.dtToDate.Visible),f.Db(5),f.Xc(f.nc(28,7,"Submit")),f.Db(9),f.tc("ngForOf",t.obj.Tab.Tabs))},directives:[E.a,n.t,G.e,n.s,G.b],pipes:[U.d],encapsulation:2}),e})();class Be extends r.b{constructor(){super(),this.ANX1=["ANX1_B2C","ANX1_B2B","ANX1_EXP","ANX1_SEZ","ANX1_DE","ANX1_REV","ANX1_IMPS","ANX1_IMPG","ANX1_IMPGSEZ","ANX1_ECOM"],this.lstGSTReport=new T.a,this.lstGridViewModel=new T.a,this.dicReportID=new T.a,this.Tab=new u.a;let e=l.a.common.GetDataTable("GST008","");for(let t=0;t<this.ANX1.length;t++){let o=this.ANX1[t],n=e.filter(e=>e.ReportName==o);if(0==n.length)continue;let a=new D.a;a.Width="",a.Height=0,a.HeaderHeight=36,this.lstGridViewModel.push(o,a),this.dicReportID.push(o,parseInt(n[0].ReportID));let i=new u.b;i.Name=o,i.Header=o.replace("ANX1_",""),i.Fields.push(a),this.Tab.Tabs.push(i)}0==this.lstGridViewModel.length&&(this.DisplayMessage="No ANX1 Reports Found")}static Add_AvailedITC(e,t){let o=!0,n="BillDate",a="BillNo";"ANX1_b2bur"==e||"ANX1_cdnr"==e||"ANX1_cdnur"==e?(n="DocDate",a="VoucherNo"):"ANX1_imps"!=e&&"ANX1_impg"!=e||(o=!1),t.Tables[0].Columns.push("ITCIntTaxAmt"),t.Tables[0].Columns.push("ITCCessAmt"),o&&(t.Tables[0].Columns.push("ITCCTaxAmt"),t.Tables[0].Columns.push("ITCSTaxAmt"));let i,l,s,C,p,r=null,T=null,D=0,u=-1235,d=0,m=0,I=0,h=0;for(let c=t.Tables[0].length-1;c>=0;c--)C=t.Tables[0][c],i=C[n].toString(),l=C[a].toString(),s=C.ITCEligible.toString(),D=null==C.Rate?0:parseFloat(C.Rate),r==i&&T==l&&u==D?(p=t.Tables[0][c+1],null!=C.TaxableValue&&(p.TaxableValue=parseFloat(p.TaxableValue)+parseFloat(C.TaxableValue)),null!=C.IntTaxAmt&&(p.IntTaxAmt=parseFloat(p.IntTaxAmt)+parseFloat(C.IntTaxAmt)),null!=C.CessAmt&&(p.CessAmt=parseFloat(p.CessAmt)+parseFloat(C.CessAmt)),o&&(null!=C.CTaxAmt&&(p.CTaxAmt=parseFloat(p.CTaxAmt)+parseFloat(C.CTaxAmt)),null!=C.STaxAmt&&(p.STaxAmt=parseFloat(p.STaxAmt)+parseFloat(C.STaxAmt))),"Ineligible"!=s&&(p.ITCEligible=C.ITCEligible,null!=C.IntTaxAmt&&(d+=parseFloat(C.IntTaxAmt),p.ITCIntTaxAmt=d),null!=C.CessAmt&&(h+=parseFloat(C.CessAmt),p.ITCCessAmt=h),o&&(null!=C.CTaxAmt&&(m+=parseFloat(C.CTaxAmt),p.ITCCTaxAmt=m),null!=C.STaxAmt&&(I+=parseFloat(C.STaxAmt),p.ITCSTaxAmt=I))),t.Tables[0].RemoveAt(c)):(null==C.TaxableValue&&(C.TaxableValue=0),null==C.IntTaxAmt&&(C.IntTaxAmt=0),null==C.CessAmt&&(C.CessAmt=0),o&&(null==C.CTaxAmt&&(C.CTaxAmt=0),null==C.STaxAmt&&(C.STaxAmt=0)),"Ineligible"!=s?(d=parseFloat(C.IntTaxAmt),h=parseFloat(C.CessAmt),C.ITCIntTaxAmt=d,C.ITCCessAmt=h,o&&(m=parseFloat(C.CTaxAmt),I=parseFloat(C.STaxAmt),C.ITCCTaxAmt=m,C.ITCSTaxAmt=I)):d=m=I=h=0,r=i,T=l,u=D);"ANX1_b2bur"==e&&(r=null)}static Update_at(e,t=!1){let o,n,a=null,i=0,l=0,C=0,p=0,r=0,T=0,D="",u="";e.Tables[0].Columns.push("InvValue");for(let m=0;m<e.Tables[0].length;m++){for(o=e.Tables[0][m],D="AccountID="+s.e.String(o.AccountID)+" and RefDocNo='"+s.e.String(o.VoucherNo)+"' and AdjAmount!=0",D!=u&&(a=e.Tables[1].filter(e=>e.AccountID==s.e.String(o.AccountID)&&e.RefDocNo==s.e.String(o.VoucherNo)&&0!=e.AdjAmount),i=0,u=D),o.InvValue=o.AdvReceived,r=null!=o.AdvReceived?parseFloat(o.AdvReceived):0,r=Math.abs(r),T=r;i<a.length;){if(p=Math.abs(parseFloat(a[i].AdjAmount)),p>=r){a[i].AdjAmount=p-r,r=0,e.Tables[0].RemoveAt(m),m--;break}a[i].AdjAmount=0,r-=p,o.AdvReceived=r,i++}r>0&&(C=null!=o.CessAmt?parseFloat(o.CessAmt):0,C>0&&T!=r&&(C=parseFloat((C*r/T).ToString("N2")),o.CessAmt=C))}let d=[];if(t)n={},e.Tables[0].length>0&&(n.TaxableValue=e.Tables[0].Compute("sum(AdvReceived)",""),n.CessAmt=e.Tables[0].Compute("sum(CessAmt)",""),n.IntTaxAmt=e.Tables[0].Compute("sum(IntTaxAmt)",""),n.CTaxAmt=e.Tables[0].Compute("sum(CTaxAmt)",""),n.STaxAmt=e.Tables[0].Compute("sum(STaxAmt)",""),n.Cnt=e.Tables[0].DefaultView.ToTable(!0,["VoucherNo"]).length),d.push(n);else{n=null,u=null;for(let t=0;t<e.Tables[0].length;t++)o=e.Tables[0][t],D="PoS='"+o.PoS.toString()+"' and Rate="+o.Rate.toString(),D!=u&&(n={},n.PoS=o.PoS,n.Rate=o.Rate,d.push(n),u=D,l=0,C=0),l+=parseFloat(o.AdvReceived),C+=null!=o.CessAmt?parseFloat(o.CessAmt):0,n.AdvReceived=l,n.CessAmt=C}e.Tables.Clear(),e.Tables.push(d)}static Update_atadj(e,t=!1){let o,n,a,i,l,C,p=null,r=0,T=0,D=0,u="",d="";for(let I=0;I<e.Tables[0].length;I++){if(o=e.Tables[0][I],u="AccountID="+s.e.String(o.AccountID)+" and RefDocNo='"+s.e.String(o.VoucherNo)+"' and AdjAmount!=0",u!=d){if(p=e.Tables[1].filter(e=>e.AccountID==s.e.String(o.AccountID)&&e.RefDocNo==s.e.String(o.VoucherNo)&&0!=e.AdjAmount),0==p.length){e.Tables[0].RemoveAt(I),I--;continue}r=0,d=u}for(i=null!=o.AdvReceived?parseFloat(o.AdvReceived):0,i=Math.abs(i),C=i,l=0;r<p.length;){if(a=Math.abs(parseFloat(p[r].AdjAmount)),a>=i){l+=i,p[r].AdjAmount=a-i,i-=a;break}p[r].AdjAmount=0,l+=a,i-=a,r++}0!=l?(o.AdvAdjusted=l,D=null!=o.CessAmt?parseFloat(o.CessAmt):0,D>0&&0!=l&&C!=l&&(D=parseFloat((D*l/C).ToString("N2")),o.CessAmt=D)):(e.Tables[0].RemoveAt(I),I--)}let m=[];if(t)n={},e.Tables[0].length>0&&(n.TaxableValue=e.Tables[0].Compute("sum(AdvAdjusted)",""),n.CessAmt=e.Tables[0].Compute("sum(CessAmt)",""),n.IntTaxAmt=e.Tables[0].Compute("sum(IntTaxAmt)",""),n.CTaxAmt=e.Tables[0].Compute("sum(CTaxAmt)",""),n.STaxAmt=e.Tables[0].Compute("sum(STaxAmt)",""),n.Cnt=e.Tables[0].DefaultView.ToTable(!0,["VoucherNo"]).length),m.push(n);else{n=null,d=null;for(let t=0;t<e.Tables[0].length;t++)o=e.Tables[0][t],u="PoS='"+o.PoS.toString()+"' and Rate="+o.Rate.toString(),u!=d&&(n={},n.PoS=o.PoS,n.Rate=o.Rate,m.push(n),d=u,T=0,D=0),T+=parseFloat(o.AdvAdjusted),D+=null!=o.CessAmt?parseFloat(o.CessAmt):0,n.AdvAdjusted=T,n.CessAmt=D}e.Tables.Clear(),e.Tables.push(m)}}var je=o("dH+5");class ke{constructor(){this.ReportColumns=new Array,this.Data=new Array}SetColumns(e){let t=new d.a;t.Alignment="Right",t.FontFamilyName="Arial",t.FontSize=12,t.BackColor="White",t.ForeColor="Black";let o=new d.a;o.Alignment="Left",o.FontFamilyName="Arial",o.FontSize=12,o.BackColor="White",o.ForeColor="Black";let n=new d.a;n.Alignment="Center",n.FontFamilyName="Arial",n.FontSize=12,n.IsBold=!0,n.BackColor="White",n.ForeColor="Black",this.ReportColumns.Clear();for(let a=0;a<e.length;a++){if(!e[a].InUse)continue;let i=new d.b;i.DecimalsPoints=parseInt(l.a.SessionManager.Preferences.DecimalsinAmount),"Millions"==l.a.SessionManager.Preferences.Commas?i.Commas=1:"Lakhs"==l.a.SessionManager.Preferences.Commas&&(i.Commas=2),i.DateType=l.a.SessionManager.Preferences["Date Format"];let s=new je.b;s.gridLines=3,s.ID=e[a].ID,s.FieldName=e[a].ID,s.HeaderText=e[a].Caption,s.HeaderAppearance=n,s.DataAppearance=o,s.HeaderHeight=22,s.width=e[a].Width,s.DataFormat=i,s.ColumnType=e[a].DType,"FLOAT"==e[a].DType&&(s.DataAppearance=t),this.ReportColumns.push(s)}}}function He(e,t){if(1&e&&(f.Zb(0,"div",13),f.Wc(1,"\n            "),f.Vb(2,7),f.Wc(3,"\n        "),f.Yb()),2&e){const e=f.lc();f.Db(2),f.tc("obj",e.chkToDate)("group",e.form)}}function Ye(e,t){if(1&e&&(f.Zb(0,"div",6),f.Wc(1,"\n                "),f.Vb(2,7),f.Wc(3,"\n            "),f.Yb()),2&e){const e=f.lc();f.Db(2),f.tc("obj",e.dtToDate)("group",e.form)}}function Ke(e,t){if(1&e&&(f.Zb(0,"div",14),f.Wc(1,"\n                "),f.Vb(2,7),f.Wc(3,"\n            "),f.Yb()),2&e){const e=f.lc();f.Db(2),f.tc("obj",e.obj.PreviewGrid)("group",e.form)}}let Qe=(()=>{class e extends class{constructor(){this.objReturn=null,this.ViewModel=null,this.Columns=new Array,this.GridColumns=new Array,this.objRevReport=new ke,this.dtReturnDate=new C.a,this.dtToDate=new C.a,this.chkToDate=new g.a,this.dtReturnDate.LblWidth="90",this.dtToDate.LblWidth="90",this.dtToDate.Label="To Date",this.dtToDate.Visible=!1,this.dtReturnDate.Date=Date.Today(),this.dtReturnDate.Label="Return Month",this.chkToDate.Label="Show To Date",this.chkToDate.Visible=!1,this.chkToDate.CheckedChangedCommand.Subscribe(this,"onchkToDateClik")}Button_Click(e){try{if(this.DisplayMessage="","Submit"==e){let e=new Date(this.dtReturnDate.Date.getFullYear(),this.dtReturnDate.Date.getMonth(),1),t=null,o="";this.GSTType.startsWith("VAT")?(t=this.dtToDate.Date,o=N.SetVATQueryWhere(this.Query,this.GSTType,this.dtReturnDate.Date,this.dtToDate.Date)):(this.dtToDate.Visible&&(e=this.dtReturnDate.Date,t=this.dtToDate.Date),o=N.SetQueryWhere(this.Query,this.GSTType,e,t));let n=l.a.report.ReportDataSet("RPT022",!1,o);if(null!=n&&n.Tables.length>0){if(n.Columns[0].Contains("ErrorMessage"))return this.DisplayMessage=n.Tables[0][0].ErrorMessage.toString(),void Logger.ErrorLog(this.DisplayMessage);let o=new Array;if(this.objReturn=N.ResetData(this.GSTType,n,e,t,o),"VATFATPurchaseList"==this.GSTType||"VATFATSupplyList"==this.GSTType){let e=n.Tables[0].filter(e=>"PeriodStart"==e.XMLID);e[0][this.objReturn.ValueColumn]=this.dtReturnDate.Date.ToString("dd-MM-yyyy"),e=n.Tables[0].filter(e=>"PeriodEnd"==e.XMLID),e[0][this.objReturn.ValueColumn]=this.dtToDate.Date.ToString("dd-MM-yyyy"),e=n.Tables[0].filter(e=>"FAFCreationDate"==e.XMLID),e[0][this.objReturn.ValueColumn]=(new Date).ToString("dd-MM-yyyy")}let a=new Array;for(let e=1;e<this.GridColumns.length;e++){if(0==this.GridColumns[e].CurrID)continue;let t=new p.a;t.ID=this.GridColumns[e].ID,t.Header=this.GridColumns[e].Header,t.DisplayMember=o.Contains(this.GridColumns[e].ID)?this.GridColumns[e].ID+"_Key":this.GridColumns[e].ID,t.Width=this.GridColumns[e].Width,t.ReadOnly=!0;let n=this.Columns.find(t=>t.ID==this.GridColumns[e].ID);t.DataType=n.DType,"FLOAT"==t.DataType&&(t.DecimalPoints=s.e.IsEmpty(n.Decimals)?"2":n.Decimals,"SUM"==n.Agg&&(t.ShowTotal=!0,t.IsCalculated=1)),t.DependantOn=s.e.IsEmpty(n.CT)?n.ID:n.CT,a.push(t)}this.ViewModel.PreviewGrid.Table=n.Tables[0],this.ViewModel.PreviewGrid.refreshids(),this.ViewModel.PreviewGrid.Columns=a,this.ViewModel.PreviewGrid.UpdateTotals(),this.GSTType.startsWith("VAT")&&(this.objRevReport.SetColumns(this.Columns),"VATAED1"==this.GSTType&&(this.objRevReport.ReportColumns[0].HeaderHeight=0),y.FillRows(this.objRevReport,this.ViewModel.PreviewGrid.Table))}else alert("EMPTY DATA TABLE")}}catch(t){alert(t.Message),Logger.ErrorLog("PREVIEW CLICK: ",t)}}UserControl_DataContextChanged(e){this.ViewModel=e;let t=this.ViewModel.rpt;t.Columns.forEach(e=>{this.Columns.push(e)}),t.ReportGrid.Columns.forEach(e=>{this.GridColumns.push(e)}),this.GSTType=t.GSTType,this.Query=t.objReport.QUERY,this.dtReturnDate.Date=Date.Today(),this.GSTType.startsWith("VAT")?(this.dtReturnDate.Label="From Date",this.dtToDate.Visible=!0,this.dtReturnDate.Date=(new Date).MonthsFirst(),this.dtToDate.Date=new Date(this.dtReturnDate.Date.getFullYear(),this.dtReturnDate.Date.getMonth(),this.dtReturnDate.Date.DaysInMonth())):this.chkToDate.Visible=!0}onchkToDateClik(){if(this.chkToDate.IsChecked){this.dtReturnDate.Label="From Date",this.dtToDate.Visible=!0;let e=Date.Today();this.dtReturnDate.Date=new Date(e.getFullYear(),e.getMonth(),1),this.dtToDate.Date=new Date(e.getFullYear(),e.getMonth(),e.DaysInMonth())}else this.dtReturnDate.Label="Return Month",this.dtToDate.Visible=!1}}{constructor(){super(),this.form=new i.j({})}ngOnInit(){var e,t;(null===(e=this.params)||void 0===e?void 0:e.obj)&&(this.obj=null===(t=this.params)||void 0===t?void 0:t.obj),this.UserControl_DataContextChanged(this.obj)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f.Nb({type:e,selectors:[["app-report-preview"]],features:[f.Ab],decls:34,vars:6,consts:[[2,"overflow","auto","height","110%"],[1,"page-header",2,"display","flex"],[1,"page-title"],["style","width: 140px; padding-left: 20px;",4,"ngIf"],[1,"section"],[1,"row","form-row"],[1,"form-group","col-xl-3","col-md-3","col-sm-6","col-xs-12","PACTControl"],["FieldDirective","",3,"obj","group"],["class","form-group col-xl-3 col-md-3 col-sm-6 col-xs-12 PACTControl",4,"ngIf"],[1,"form-group","col-xl-6","col-md-6","col-sm-12","col-xs-12","PACTControl",2,"display","block"],[1,"primary-btn-wicon",2,"width","70px",3,"click"],[1,"PACTTabFields","tab_content","tab-exrafields",2,"display","flex"],["style","width: calc(100% - 30px); height: calc(100% - 20px);",4,"ngIf"],[2,"width","140px","padding-left","20px"],[2,"width","calc(100% - 30px)","height","calc(100% - 20px)"]],template:function(e,t){1&e&&(f.Zb(0,"div",0),f.Wc(1,"\n    "),f.Zb(2,"div",1),f.Wc(3,"\n        "),f.Zb(4,"label",2),f.Wc(5),f.Yb(),f.Wc(6,"\n        "),f.Uc(7,He,4,2,"div",3),f.Wc(8,"\n    "),f.Yb(),f.Wc(9,"\n    "),f.Zb(10,"div",4),f.Wc(11,"\n        "),f.Zb(12,"div",5),f.Wc(13,"\n            "),f.Zb(14,"div",6),f.Wc(15,"\n                "),f.Vb(16,7),f.Wc(17,"\n            "),f.Yb(),f.Wc(18,"\n            "),f.Uc(19,Ye,4,2,"div",8),f.Wc(20,"\n            "),f.Zb(21,"div",9),f.Wc(22,"\n                "),f.Zb(23,"button",10),f.hc("click",(function(){return t.Button_Click("Submit")})),f.Wc(24,"Submit"),f.Yb(),f.Wc(25,"\n            "),f.Yb(),f.Wc(26,"\n        "),f.Yb(),f.Wc(27,"\n        \n        "),f.Zb(28,"div",11),f.Wc(29,"\n            "),f.Uc(30,Ke,4,2,"div",12),f.Wc(31,"\n        "),f.Yb(),f.Wc(32,"\n    "),f.Yb(),f.Wc(33,"\n"),f.Yb()),2&e&&(f.Db(5),f.Xc(t.obj.DisplayName),f.Db(2),f.tc("ngIf",t.chkToDate.Visible),f.Db(9),f.tc("obj",t.dtReturnDate)("group",t.form),f.Db(3),f.tc("ngIf",t.dtToDate.Visible),f.Db(11),f.tc("ngIf",t.obj.PreviewGrid.Columns.length>0))},directives:[n.t,E.a],encapsulation:2}),e})();class Ze extends r.b{constructor(e){super(),this.rpt=e,this.PreviewGrid=new D.a,this.PreviewGrid.Width="",this.PreviewGrid.Height=0,this.PreviewGrid.HeaderHeight=36}}let Je=(()=>{class e{static LoadScreen(e,t){if(9001==e.FeatureID){let o="VATAED1",n=l.a.report.GetDataTable("RPT022","select DefaultPreferences from adm_revenureports with(nolock)\nwhere ReportID="+e.FeatureActionID),a=s.e.String(n[0].DefaultPreferences);if(0==n.length||""==a)return void alert("Report not found");a.Contains("<UTILREPORT>VATFATPurchaseList</UTILREPORT>")?o="VATFATPurchaseList":a.Contains("<UTILREPORT>VATFATSupplyList</UTILREPORT>")?o="VATFATSupplyList":a.Contains("<UTILREPORT>VATSAS1</UTILREPORT>")&&(o="VATSAS1");let i=new V;if(i.ReportBuilder_1(!0),i.cmbReportModule.SetSelectedItem("VAT"),i.cmbReportModule_SelectionChanged(),i.cmbReportType.SetSelectedItem(o),i.cmbReportType_SelectionChanged(),i.cmbReport.SetSelectedItem(e.FeatureActionID.toString()),i.cmbReport_SelectionChanged(null,null),i.GetReportConfiguration(),i.DisplayMessage.length>0)return void alert(i.DisplayMessage);if(i.objReport.QUERY=i.GetQuery(!0),0==i.objReport.QUERY.length)return void alert("Select Documents");let C=new Ze(i);C.DisplayName=t,l.a.page.addNewTab({title:e.ScreenName,component:Qe,params:{obj:C}})}else if(-9e3==e.FeatureActionID){let o=new A;if(o.DisplayMessage.length>0)return void alert(o.DisplayMessage);o.DisplayName=t,l.a.page.addNewTab({title:e.ScreenName,component:Ve,params:{obj:o}})}else if(-8999==e.FeatureActionID){let o=new ve;if(o.DisplayMessage.length>0)return void alert(o.DisplayMessage);o.DisplayName=t,l.a.page.addNewTab({title:e.ScreenName,component:fe,params:{obj:o}})}else if(-8998==e.FeatureActionID){let o=new y;if(o.DisplayMessage.length>0)return void alert(o.DisplayMessage);o.DisplayName=t,l.a.page.addNewTab({title:e.ScreenName,component:F,params:{obj:o}})}else if(-8997==e.FeatureActionID){let o=new Fe;if(o.DisplayMessage.length>0)return void alert(o.DisplayMessage);o.DisplayName=t,l.a.page.addNewTab({title:e.ScreenName,component:Le,params:{obj:o}})}else if(-8996==e.FeatureActionID){let o=new Be;if(o.DisplayMessage.length>0)return void alert(o.DisplayMessage);o.DisplayName=t,l.a.page.addNewTab({title:e.ScreenName,component:Xe,params:{obj:o}})}}}return e.\u0275mod=f.Rb({type:e}),e.\u0275inj=f.Qb({factory:function(t){return new(t||e)},imports:[[n.c,i.m,i.C,G.d.forRoot(),a.a]]}),e})()},NM0h:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var n=o("Do2H"),a=o("Lp6j");class i{constructor(){this.ChangeValueXML=null,this.DetailsXML=null,this.AMCode=null,this.AMName=null,this.AMPurchaseValue=null,this.HistoryXML=null,this.DocNo=null,this.XML=null,this.DocSave=null,this.CodePrefix=null,this.Sno=null,this.AssetClassID=0,this.DeprBookID=0,this.AcqnCostACCID=0,this.AccumDeprACCID=0,this.AcqnCostDispACCID=0,this.AccumDeprDispACCID=0,this.GainsDispACCID=0,this.LossDispACCID=0,this.MaintExpenseACCID=0,this.DeprExpenseACCID=0,this.PostingGroupID=0,this.AMStatusID=0,this.CodeNumber=0,this.AMAssetID=0,this.AMParentAssetID=0,this.IsGroup=!1,this.Post=!1,this.StatusID=0,this.DeprBookMethod=0,this.DeprBookMethodBasedOn=0,this.AveragingMethodID=0,this.DeprScheduleID=0,this.DeprTypeID=0,this.AssetClassCode=null,this.AssetClassName=null,this.GUID=null,this.DeprBookCode=null,this.DeprBookName=null,this.PostGroupCode=null,this.PostGroupName=null,this.AMGUID=null,this.RecordType=null,this.AMGroup=!1,this.IsIncreaseAssetValue=!1,this.EmpName=null,this.EmpCode=null,this.EmpID=0,this.SelectedNodeID=0,this.PostCCID=0,this.PostAssetID=0,this.ScheduleID=0,this.LocationID=0,this.AddressXML=null,this.NotesXML=null,this.ContactsXML=null,this.CustomCostCenterFieldsQuery=null,this.CustomFieldsQuery=null,this.PrimaryContactQuery=null,this.AttachmetsXML=null,this.DepreciationXML=null,this.JVXML=null,this.Description=null,this.DeprStartValue=0,this.ChangeVal=0,this.AssetNetValueChange=0,this.DeprBookMethodBasedOnValue=0,this.TotalYears=0}static GetAssetClassDetails(e){let t=[];return t.push(e),t.push(n.a.SessionManager.UserID),t.push(n.a.SessionManager.LanguageID),n.a.accounting.GetAssetClassDetails(t)}static GetPostingGroupDetails(e){let t=[];return t.push(e),t.push(n.a.SessionManager.UserID),t.push(n.a.SessionManager.LanguageID),n.a.accounting.GetPostingGroupDetails(t)}SaveAssetClass(){0==this.AssetClassID&&(this.GUID=a.e.NewGuid());let e=[];return e.push(this.AssetClassID),e.push(null!=this.AssetClassCode?this.AssetClassCode:""),e.push(null!=this.AssetClassName?this.AssetClassName:""),e.push(this.PostingGroupID),e.push(this.DeprBookID),e.push(this.DeprTypeID),e.push(this.TotalYears),e.push(this.StatusID),e.push(n.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(""),e.push(n.a.SessionManager.UserName),e.push(n.a.SessionManager.UserID),e.push(n.a.SessionManager.LanguageID),n.a.accounting.SetAssetClass(e)}static GetDeprBookDetails(e){let t=[];return t.push(e),t.push(n.a.SessionManager.UserID),t.push(n.a.SessionManager.LanguageID),n.a.accounting.GetDeprBookDetails(t)}PostJVvoucher(){this.GUID=a.e.NewGuid();let e=[];return e.push(this.PostAssetID),e.push(this.PostCCID),e.push(this.JVXML),e.push(this.Post),e.push(this.DeprTypeID),e.push(this.DocXML),e.push(this.DocSave),e.push(this.DepreciationXML),e.push(this.RecordType),e.push(n.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(n.a.SessionManager.UserName),e.push(n.a.SessionManager.UserID),e.push(n.a.SessionManager.LanguageID),n.a.accounting.GetPostJvVoucher(e)}SetAssetDispose(e){this.GUID=a.e.NewGuid();let t=[];return t.push(this.PostAssetID),t.push(e.ToString("dd/MMM/yyyy")),t.push(this.PostCCID),t.push(this.JVXML),t.push(this.Post),t.push(this.DeprTypeID),t.push(this.DocXML),t.push(this.DocSave),t.push(this.DepreciationXML),t.push(this.RecordType),t.push(n.a.SessionManager.CompanyGUID),t.push(this.GUID),t.push(n.a.SessionManager.UserName),t.push(n.a.SessionManager.UserID),t.push(n.a.SessionManager.LanguageID),n.a.accounting.SetAssetDispose(t)}SaveDeprBook(e,t,o){0==this.DeprBookID&&(this.GUID=a.e.NewGuid());let i=[];return i.push(this.DeprBookID),i.push(this.DeprBookCode),i.push(this.DeprBookName),i.push(this.DeprBookMethod),i.push(this.DeprBookMethodBasedOn),i.push(this.DeprBookMethodBasedOnValue),i.push(this.StatusID),i.push(this.AveragingMethodID),i.push(e),i.push(t),i.push(o),i.push(n.a.SessionManager.CompanyGUID),i.push(this.GUID),i.push(""),i.push(n.a.SessionManager.UserName),i.push(n.a.SessionManager.UserID),i.push(n.a.SessionManager.LanguageID),n.a.accounting.SetDeprBook(i)}SaveFAPostingGroup(){0==this.PostingGroupID&&(this.GUID=a.e.NewGuid());let e=[];return e.push(this.PostingGroupID),e.push(this.PostGroupCode),e.push(this.PostGroupName),e.push(this.AcqnCostACCID),e.push(this.AccumDeprACCID),e.push(this.AcqnCostDispACCID),e.push(this.AccumDeprDispACCID),e.push(this.GainsDispACCID),e.push(this.LossDispACCID),e.push(this.MaintExpenseACCID),e.push(this.DeprExpenseACCID),e.push(this.StatusID),e.push(0),e.push(this.IsGroup),e.push(n.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(n.a.SessionManager.UserName),e.push(n.a.SessionManager.UserID),e.push(n.a.SessionManager.LanguageID),n.a.accounting.SetPostingGroup(e)}static GetAssetManagementDetails(e){let t=[];return t.push(e),t.push(n.a.SessionManager.UserID),t.push(n.a.SessionManager.LanguageID),n.a.accounting.GetAssetManagementDetails(t)}static GetAssetDeprSchDetails(e){let t=[];return t.push(e),t.push(n.a.SessionManager.UserID),t.push(n.a.SessionManager.LanguageID),n.a.accounting.GetAssetDeprSchDetails(t)}SetAssetManagementDetails(){let e=[];return e.push(this.AMAssetID),e.push(this.AMCode),e.push(this.AMName),e.push(this.AMStatusID),e.push(this.AMPurchaseValue),e.push(this.AMParentAssetID),e.push(this.AMGroup),e.push(this.CodePrefix),e.push(this.CodeNumber),e.push(this.Sno),e.push(this.DetailsXML),e.push(this.ChangeValueXML),e.push(this.CustomFieldsQuery),e.push(this.CustomCostCenterFieldsQuery),e.push(this.DepreciationXML),e.push(this.HistoryXML),e.push(this.NotesXML),e.push(this.AttachmetsXML),e.push(n.a.SessionManager.CompanyGUID),e.push(this.AMGUID),e.push(n.a.SessionManager.UserName),e.push(n.a.SessionManager.UserID),e.push(n.a.SessionManager.LanguageID),n.a.accounting.SetAssetManagementDetails(e).toPromise()}static DeleteAsset(e){let t=[];return t.push(e),t.push(n.a.SessionManager.UserID),t.push(n.a.SessionManager.RoleID),n.a.accounting.DeleteAsset(t)}static DeleteAssetDeprSchedule(e){let t=[];return t.push(e),t.push(n.a.SessionManager.RoleID),t.push(n.a.SessionManager.LanguageID),n.a.accounting.DeleteAssetDeprSchedule(t)}static DeleteAssetRefDoc(e,t){let o=[];return o.push(e),o.push(t),o.push(n.a.SessionManager.UserID),n.a.accounting.DeleteAssetRefDoc(o)}PostDeprJV(){this.GUID=a.e.NewGuid();let e=[];return e.push(this.PostCCID),e.push(this.JVXML),e.push(this.Post),e.push(n.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(n.a.SessionManager.UserName),e.push(n.a.SessionManager.UserID),e.push(n.a.SessionManager.LanguageID),e.push(n.a.SessionManager.RoleID),n.a.accounting.PostDeprJV(e)}PostDeprJVSummary(e,t,o,i,l){this.GUID=a.e.NewGuid();let s=[];return s.push(e),s.push(t),s.push(o),s.push(i),s.push(l),s.push(n.a.SessionManager.CompanyGUID),s.push(n.a.SessionManager.UserName),s.push(n.a.SessionManager.UserID),s.push(n.a.SessionManager.LanguageID),n.a.accounting.SetDeprPostingJVSummary(s).toPromise()}static SetsPostDeprReverseJV(e,t,o){let a=[];return a.push(e),a.push(t),a.push(o),a.push(n.a.SessionManager.CompanyGUID),a.push(n.a.SessionManager.UserName),a.push(n.a.SessionManager.UserID),a.push(n.a.SessionManager.LanguageID),n.a.accounting.SetsPostDeprReverseJV(a)}ChangeValue(e,t){this.GUID=a.e.NewGuid();let o=[];return o.push(this.PostAssetID),o.push(e),o.push(this.ChangeVal),o.push(this.AssetNetValueChange),o.push(t.ToString("dd/MMM/yyyy")),o.push(this.Description),o.push(this.DepreciationXML),o.push(this.ChangeValueXML),o.push(this.HistoryXML),o.push(this.LocationID),o.push(this.IsIncreaseAssetValue),o.push(this.JVXML),o.push(this.ChangeValueTypeID),o.push(n.a.SessionManager.CompanyGUID),o.push(this.GUID),o.push(n.a.SessionManager.UserName),o.push(n.a.SessionManager.UserID),o.push(n.a.SessionManager.LanguageID),n.a.accounting.SetAssetChangeValue(o)}DisposeReverse(e){let t=[];return t.push(e),t.push(n.a.SessionManager.UserName),t.push(n.a.SessionManager.UserID),t.push(n.a.SessionManager.LanguageID),n.a.accounting.DisposeReverse(t)}}},ouML:function(e,t,o){"use strict";o.r(t),o.d(t,"DocumentDraftsViewModel",(function(){return T}));var n=o("mrSG"),a=o("Do2H"),i=o("Lp6j"),l=o("ScVY"),s=o("8B8H"),C=o("ockk"),p=o("rJVx"),r=o("CUWK");class T extends l.b{constructor(e,t,o=0){if(super(),this.Grid=new s.a,this.IsFromDocs=!1,this.PopupWidth=0,this.ReportType=0,this.Parent=null,this.CCID=0,this.WID=0,this.LevelID=0,this.PactGridVisible=!1,this.CCID=o,this.Parent=e,this.ReportType=t,this.Parent instanceof p.GeneralDashboardViewModel||"DashAddOnsViewModel"==this.Parent.ClassName)1==t&&(this.ColSource=p.GeneralDashboardViewModel.InitColumns("Document Drafts_DashBoardCustomize"));else{let e;1==t?this.DisplayName="Drafts":2==t?this.DisplayName="Hold Documents":3==t?this.DisplayName="Approval History":4==t&&(this.DisplayName="Level Info",this.PactGrid=new s.a),this.Title=this.DisplayName,this.IsFromDocs=!0,this.FillGrid(),this.Grid.OnLinkClick.Subscribe(this,"GridLinkClick"),this.ColSource=[],1==t?(this.ColSource=p.GeneralDashboardViewModel.InitColumns("Document Drafts_DashBoardCustomize"),this.PopupWidth=22,this.ColSource.forEach(e=>{this.PopupWidth=this.PopupWidth+e.Width})):2==t?(e=new C.a,e.DataType="TextBlock",e.Header="Hold Date",e.DisplayMember="HoldDate_Key",e.Width=100,this.ColSource.push(e),e=new C.a,e.DataType="LINK",e.Header=a.a.GetResource("DocName"),e.DisplayMember="DocName",e.Width=135,this.ColSource.push(e),e=new C.a,e.DataType="TextBlock",e.Header="NetValue",e.DisplayMember="NetValue",e.Width=100,this.ColSource.push(e),e=new C.a,e.DataType="TextBlock",e.Header="NoOfProducts",e.DisplayMember="NoOfProducts",e.Width=50,this.ColSource.push(e),e=new C.a,e.DataType="LINK",e.Header=a.a.GetResource("Delete"),e.DisplayMember="Delete",e.Width=100,this.ColSource.push(e),this.PopupWidth=450):3==t?(e=new C.a,e.DataType="TextBlock",e.Header="User",e.DisplayMember="CreatedBy",e.Width=90,this.ColSource.push(e),e=new C.a,e.DataType="TextBlock",e.Header="FirstName",e.DisplayMember="FirstName",e.Width=90,this.ColSource.push(e),e=new C.a,e.DataType="TextBlock",e.Header="LastName",e.DisplayMember="LastName",e.Width=90,this.ColSource.push(e),e=new C.a,e.DataType="TextBlock",e.Header="Email",e.DisplayMember="Email1",e.Width=150,this.ColSource.push(e),e=new C.a,e.DataType="TextBlock",e.Header=a.a.GetResource("Date"),e.DisplayMember="AppDate",e.Width=128,this.ColSource.push(e),e=new C.a,e.DataType="LINK",e.Header="Level",e.DisplayMember="LevelName",e.Width=93,this.ColSource.push(e),e=new C.a,e.DataType="TextBlock",e.Header="Status",e.DisplayMember="Status",e.Width=80,this.ColSource.push(e),e=new C.a,e.DataType="Format",e.Header="Remarks",e.DisplayMember="Remarks",e.Width=190,this.ColSource.push(e),this.PopupWidth=950,"AddEditDocumentViewModel"==this.Parent.ClassName&&(e=new C.a,e.Header="WorkFlowName",e.DisplayMember="WorkFlowName",e.Width=200,this.ColSource.push(e)),this.PopupWidth=950):4==t&&(e=new C.a,e.DataType="TextBlock",e.ReadOnly=!0,e.Header="User Name",e.DisplayMember="UserName",e.Width=120,this.ColSource.push(e),e=new C.a,e.DataType="TextBlock",e.ReadOnly=!0,e.Header="First Name",e.DisplayMember="FirstName",e.Width=120,this.ColSource.push(e),e=new C.a,e.DataType="TextBlock",e.ReadOnly=!0,e.Header="Last Name",e.DisplayMember="LastName",e.Width=120,this.ColSource.push(e),this.PactGrid.Columns=this.ColSource,this.PopupWidth=400)}}get Table(){return this.Grid.Table}set Table(e){this.Grid.Table=e}get TableColumns(){return this.Grid.TableColumns}set TableColumns(e){this.Grid.TableColumns=e}get ColSource(){return this.Grid.Columns}set ColSource(e){this.Grid.Columns=e}get SelectedRow(){return this.Grid.SelectedItem}set SelectedRow(e){this.Grid.SelectedItem=e}onClick(e){event.preventDefault(),null!=this.SelectedRow&&this.LoadDraft(this.SelectedRow)}FillGrid(){let e=0,t=null;if(i.e.IsType(this.Parent,"AddEditDocumentViewModel")?(t=this.Parent,e=0==this.CCID?t.CostCenterID:this.CCID):i.e.IsEmpty(this.Parent.ClassName)||"AddEditRenContractViewModel"!=this.Parent.ClassName||(e=this.CCID),1==this.ReportType||2==this.ReportType){let o;o=i.e.IsEmpty(this.Parent.ClassName)||"AddEditRenContractViewModel"!=this.Parent.ClassName?null==t||38!=t.ScreenObject.DocumentType&&39!=t.ScreenObject.DocumentType?a.a.document.GetDocumentDrafts(0,e,this.ReportType,!1):a.a.document.GetDocumentDrafts(t.ScreenObject.RegisterNodeID,e,this.ReportType,!1,!0):a.a.document.GetDocumentDrafts(0,this.Parent.CostCenterID,this.ReportType,!1),o.subscribe(e=>{this.Table=e.Tables[0],this.Grid.TableColumns.Contains("Date_Text")||(this.Grid.TableColumns.push("Date_Text"),this.Grid.TableColumns.push("Delete")),this.Grid.TableColumns.Contains("HoldDate_Key")||this.Grid.TableColumns.push("HoldDate_Key"),this.Table.forEach(e=>{e.Delete="Delete",e.id=a.a.slick.rowid,e.Date_Text=new Date(e.Date).ToString(a.a.SessionManager.Preferences["Date Format"]+" hh:mm a"),null!=e.HoldDate&&(e.HoldDate_Key=new Date(e.HoldDate).ToString(a.a.SessionManager.Preferences["Date Format"]))})})}else if(3==this.ReportType){let t=null;if(i.e.IsType(this.Parent,"AddEditDocumentViewModel")?(t=this.Parent.ScreenObject.GetDocStatusHistory(),t.Tables.length>1&&t.Tables[1].length>0&&t.Columns[1].Contains("WID")&&(this.WID=parseInt(t.Tables[1][0].WID))):i.e.IsEmpty(this.Parent.ClassName)||"AddEditRenContractViewModel"!=this.Parent.ClassName?i.e.IsEmpty(this.Parent.ClassName)||"AddEditCasesViewModel"!=this.Parent.ClassName||(t=this.GetDocStatusHistory(73,this.Parent.CaseID,!1)):t=a.a.rental.GetHistory(e,this.Parent.ContractID),null!=t&&t.Tables.length>0){this.Table=t.Tables[0],this.Grid.TableColumns.push("AppDate");for(let t=0;t<this.Table.length;t++)""!=this.Table[t].Date.toString()&&(this.Table[t].AppDate=new Date(this.Table[t].Date.toString()).ToString(a.a.SessionManager.Preferences["Date Format"]+" hh:mm a"));let e=0,o=0;this.Table.length>0&&(e=i.e.IntTryParse(this.Table[this.Table.length-1].WorkFlowLevel.toString()),o=i.e.IntTryParse(this.Table[this.Table.length-1].StatusID.toString())),369!=o&&(t.Tables[1]=t.Tables[1].filter(t=>t.levelID>e),t.Tables[1].forEach(e=>{let t=this.Grid.NewRow();t.LevelName=e.LevelName,t.Status="Pending",t.WorkFlowLevel=e.LevelID,this.Grid.addRow(t)}));for(let t=this.Table.length;t<7;t++)this.Grid.addEmptyRow()}}else if(4==this.ReportType){let e=null;if("WFLevelDoc"==this.Parent.ClassName?e=a.a.SessionManager.Preferences.ContainsKey("CanApproveFunction")&&"True"==a.a.SessionManager.Preferences.CanApproveFunction?a.a.report.GetExtWFDet(this.Parent.WID,this.Parent.LevelID,this.Parent.ccid,this.Parent.DOcId):a.a.report.GetWorkFlowLevelDetails(this.Parent.WID,this.Parent.LevelID,this.Parent.ccDate):this.Parent instanceof T&&(a.a.SessionManager.Preferences.ContainsKey("CanApproveFunction")&&"True"==a.a.SessionManager.Preferences.CanApproveFunction?"AddEditDocumentViewModel"==this.Parent.Parent.ClassName?e=a.a.report.GetExtWFDet(this.Parent.WID,this.Parent.LevelID,this.Parent.Parent.CostCenterID,this.Parent.Parent.ScreenObject.DocID):"ReportViewModel"==this.Parent.Parent.ClassName&&"INV_ComparisonReport"==this.Parent.Parent.StaticReportObject&&(e=a.a.report.GetExtWFDet(this.Parent.WID,this.Parent.LevelID,this.Parent.Parent.StaticReportObject.QuotationDocument,this.Parent.Parent.StatusDocID)):e=a.a.report.GetWorkFlowLevelDetails(this.Parent.WID,this.Parent.LevelID,"AddEditDocumentViewModel"==this.Parent.Parent.ClassName?this.Parent.Parent.ScreenObject.DocDate.Date:Date.Today())),null!=e){for(let t=e.Tables[0].length;t<8;t++)e.Tables[0].push();this.PactGrid.Table=e.Tables[0]}this.PactGrid.Width="",this.PactGrid.SearchVisible=!0,this.PactGrid.SearchCols.Width="85",this.PactGrid.SearchOptions.Width="90",this.PactGrid.SearchText.Width="110",this.PactGridVisible=!0}}GetDocStatusHistory(e,t,o){Logger.InfoLog("DocumentDraftsViewModel:: Inside GetDocStatusHistory");let n=[];n.push(e),n.push(t),n.push(o),n.push(a.a.SessionManager.UserID),n.push(a.a.SessionManager.LanguageID);let i=a.a.document.GetDocStatusHistory(n);return Logger.InfoLog("DocumentDraftsViewModel:: Exiting GetDocStatusHistory"),i}OnButtonClick(e){"Cancel"==e.toString()&&(i.e.IsType(this.Parent,"AddEditDocumentViewModel")&&this.CCID>0&&(this.Parent.res="No"),a.a.page.HideDialog())}DeleteDraft(e){let t;t=i.e.IsEmpty(this.Parent.ClassName)||"AddEditRenContractViewModel"!=this.Parent.ClassName?a.a.document.DeleteDocumentDraft(parseInt(e.DraftID)):a.a.rental.DeleteQuotation(parseInt(e.CostCenterID),parseInt(e.DraftID)),t.RetValue>0&&this.Grid.removeRow(e)}LoadDraft(e){return Object(n.b)(this,void 0,void 0,(function*(){if(i.e.IsEmpty(this.Parent.ClassName)||"AddEditRenContractViewModel"!=this.Parent.ClassName){const{AddEditDocumentViewModel:t}=yield Promise.all([o.e(2),o.e(1),o.e(3),o.e(5),o.e(4),o.e(6),o.e(7),o.e(10),o.e(9),o.e(12),o.e(11),o.e(13),o.e(19),o.e(15),o.e(21),o.e(20),o.e(16),o.e(14),o.e(18),o.e(17),o.e(22),o.e(89)]).then(o.bind(null,"1Cra")),{AddEditDocumentComponent:n}=yield Promise.all([o.e(4),o.e(6)]).then(o.bind(null,"MCKn"));let i,l;l=a.a.document.GetDocumentDrafts(parseInt(e.DraftID),0,1,!1),l.subscribe(o=>{if(i=o.Tables[0],null!=i&&i.length>0)if("AddEditDocumentViewModel"==this.Parent.ClassName||"POSDocumentViewModel"==this.Parent.ClassName)this.CCID>0||(this.Parent.clear(1),this.Parent.LoadDraftXML(i[0]),a.a.page.HideDialog(),this.Parent.ScreenObject.GridDataObj.RefreshGridView());else{let o=1==this.ReportType,l=new t(parseInt(e.CostCenterID),e.Type.toString(),o);a.a.page.addNewTab({component:n,params:{obj:l}}),l.LoadDraftXML(i[0],o)}})}else r.RibbonExtViewModel.LoadDraftRentalContract(this.Parent,parseInt(e.DraftID)),a.a.page.HideDialog()}))}GridLinkClick(e,t,o){event.preventDefault(),"Delete"==t?this.DeleteDraft(e):"Date_Text"!=t&&"DocName"!=t||this.LoadDraft(e)}}},rJVx:function(e,t,o){"use strict";o.r(t),o.d(t,"GeneralDashboardViewModel",(function(){return r}));var n=o("mrSG"),a=o("Do2H"),i=o("Lp6j"),l=o("ScVY"),s=o("NkMH"),C=o("ockk"),p=o("JIg3");class r extends l.b{constructor(){super(),this.ButtonPDC=new s.a,this.timerdashboard=new i.d,this.Date=new p.a(0),this.tdMaximize=new Array(4).fill(!1),Logger.InfoLog("DashboardViewModel::Entering DashboardViewModel"),this.timerdashboard.Enabled=!0,this.timerdashboard.Interval=6e4,a.a.SessionManager.IsWebApplication||this.timerdashboard.Elapsed(this,"timerdashboard_Elapsed"),this.DisplayName=a.a.GetResource("Dashboard_Maindashboard"),this.loadDrafts(),Logger.InfoLog("DashboardViewModel::Exiting DashboardViewModel")}loadDrafts(){return Object(n.b)(this,void 0,void 0,(function*(){const{DocumentDraftsViewModel:e}=yield o.e(150).then(o.bind(null,"ouML"));this.DocumentDrafts=new e(this,1),setTimeout(()=>{this.DocumentDrafts.FillGrid()},500);const{UnAppDocumentsViewModel:t}=yield o.e(0).then(o.bind(null,"AyOk"));this.UnApprovedDocuments=new t;const{DashBoardNotifViewModel:n}=yield Promise.all([o.e(2),o.e(1),o.e(5),o.e(26),o.e(42),o.e(0),o.e(73)]).then(o.bind(null,"Wh9R"));this.NotifEvents=new n(2),this.PDCDocuments=new n(4)}))}timerdashboard_Elapsed(e,t){a.a.page.isActiveTab(this)&&(this.OnButtonClick("RefreshPDC"),this.OnButtonClick("RefreshEvents"),this.NotifEvents.RefreshData(),this.UnApprovedDocuments.OnLoad())}OnButtonClick(e){"PostPDC"==e||("RefreshPDC"==e?(this.PDCDocuments.EventsType=4,this.PDCDocuments.InitColumns()):"PostEvents"==e||("RefreshEvents"==e?this.NotifEvents.RefreshData():"UnApproved"==e?this.UnApprovedDocuments.OnLoad():"Drafts"==e&&this.DocumentDrafts.FillGrid()))}OnMessageCallBack(){this.res="Yes"}static InitColumns(e){let t,o="",n=[];if(a.a.SessionManager.Preferences.ContainsKey(e)&&(o=a.a.SessionManager.Preferences[e]),o.length>0){let l=new i.f;l.LoadXml(o);for(let o=0;o<l.DocumentElement.children.length;o++){let i=l.DocumentElement.children[o];t=new C.a,t.Header=a.a.GetResource(i.attributes.Header.value),t.DisplayMember=i.attributes.ID.value,t.ReadOnly=!0,t.Width=parseInt(i.attributes.Width.value),n.push(t),"Un Approved Documents_DashBoardCustomize"==e?"VoucherNo"==t.DisplayMember?t.DataType="LINK":"Amount"==t.DisplayMember&&(t.DataType="FLOAT",t.DecimalPoints=a.a.SessionManager.Preferences.DecimalsinAmount.toString()):"Document Drafts_DashBoardCustomize"==e?"Date_Text"!=t.DisplayMember&&"Delete"!=t.DisplayMember||(t.DataType="LINK"):"Post Dated Documents_DashBoardCustomize"==e?"VoucherNo"==t.DisplayMember?t.DataType="LINK":"Amount"==t.DisplayMember&&(t.DataType="FLOAT",t.DecimalPoints=a.a.SessionManager.Preferences.DecimalsinAmount.toString()):"Notification Events_DashBoardCustomize"==e&&"VoucherNo"==t.DisplayMember&&(t.DataType="LINK")}}return n}static IsActionAssigned(e,t){return a.a.SessionManager.IsActionAssigned(e,t)}}}}]);