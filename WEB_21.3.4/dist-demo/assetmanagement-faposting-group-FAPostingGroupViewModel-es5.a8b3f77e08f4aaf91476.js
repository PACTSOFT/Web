function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var s,i=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;s=Reflect.construct(i,arguments,o)}else s=i.apply(this,arguments);return _possibleConstructorReturn(this,s)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{pCsl:function(e,t,s){"use strict";s.r(t),s.d(t,"FAPostingGroupViewModel",(function(){return l}));var i=s("Do2H"),o=s("ScVY"),n=s("EQd/"),r=s("n56n"),a=s("VxiT"),c=s("NM0h"),u=s("0/4Q"),l=function(e){_inherits(s,e);var t=_createSuper(s);function s(e){var o;return _classCallCheck(this,s),(o=t.call(this)).Status=new u.e(23815),o.PostGroupCode=new n.d(23803),o.PostGroupName=new n.d(23804),o.AcqnCostACCID=new r.b(23807),o.AccumDeprACCID=new r.b(23809),o.AcquisitionClearingAcc=new r.b(23811),o.DisposalClearingAcc=new r.b(23810),o.DisposalGainAcc=new r.b(23812),o.DisposalLossAcc=new r.b(23813),o.MinorAssetExpenseAcc=new r.b(23814),o.DeprExpenseACCID=new r.b(23808),o._PostingGroupID=0,o.ScreenObject=new a.a,o.obj=new c.a,o.RetValue=0,o.Fields=[],o.PostingGroupID=e,o.LoadData(),0==o.PostingGroupID?o.Title=i.a.GetResource("AddPostingGroup"):(o.obj.PostingGroupID=o.PostingGroupID,o.Title=i.a.GetResource("EditPostingGroup"),o.OnLoadData()),o}return _createClass(s,[{key:"LoadData",value:function(){var e=this;this.ScreenObject.LoadScreen_2(this,77),this.PostGroupCode.Label=i.a.GetResource("Code"),this.PostGroupName.Label=i.a.GetResource("Name"),this.Fields.push(this.PostGroupCode),this.Fields.push(this.PostGroupName),this.Fields.push(this.Status),this.Fields.push(this.AcqnCostACCID),this.Fields.push(this.AccumDeprACCID),this.Fields.push(this.DeprExpenseACCID),this.Fields.push(this.AcquisitionClearingAcc),this.Fields.push(this.DisposalClearingAcc),this.Fields.push(this.DisposalGainAcc),this.Fields.push(this.DisposalLossAcc),this.Fields.push(this.MinorAssetExpenseAcc),this.ScreenObject.Data.Tables.length>0&&null!=this.ScreenObject.Data&&(this.ScreenObject.Data.Tables[3].forEach((function(t){e.Status.Items.push(u.d.ComboBoxItems_2(t.Status.toString(),t.StatusID.toString()))})),this.Status.SelectedValue="385")}},{key:"OnLoadData",value:function(){var e=c.a.GetPostingGroupDetails(this.obj.PostingGroupID);null!=e&&e.Tables.length>0&&e.Tables[0].length>0&&(this.PostGroupCode.Text=e.Tables[0][0].PostGroupCode.toString(),this.PostGroupName.Text=e.Tables[0][0].PostGroupName.toString(),this.AcqnCostACCID.SelectedValue=parseInt(e.Tables[0][0].AcqnCostACCID.toString()),this.AccumDeprACCID.SelectedValue=parseInt(e.Tables[0][0].AccumDeprACCID.toString()),this.DeprExpenseACCID.SelectedValue=parseInt(e.Tables[0][0].DeprExpenseACCID.toString()),this.AcquisitionClearingAcc.SelectedValue=parseInt(e.Tables[0][0].AcqnCostDispACCID.toString()),this.DisposalClearingAcc.SelectedValue=parseInt(e.Tables[0][0].AccumDeprDispACCID.toString()),this.DisposalGainAcc.SelectedValue=parseInt(e.Tables[0][0].GainsDispACCID.toString()),this.DisposalLossAcc.SelectedValue=parseInt(e.Tables[0][0].LossDispACCID.toString()),this.MinorAssetExpenseAcc.SelectedValue=parseInt(e.Tables[0][0].MaintExpenseACCID.toString()),this.Status.SelectedValue=e.Tables[0][0].StatusID.toString(),this.obj.GUID=e.Tables[0][0].GUID.toString())}},{key:"OnSavePostingGroup",value:function(e){var t=this;try{if("Save"==e.toString()){if(null==this.PostGroupCode.Text||""==this.PostGroupCode.Text.Trim())return void(this.DisplayMessage=i.a.GetResource("Enter")+" Code");if(this.obj.PostGroupCode=this.PostGroupCode.Text,null==this.PostGroupName.Text||""==this.PostGroupName.Text.Trim())return void(this.DisplayMessage=i.a.GetResource("Enter")+" Name");if(this.obj.PostGroupName=this.PostGroupName.Text,0==this.AcqnCostACCID.SelectedValue)return void(this.DisplayMessage=i.a.GetResource("Select ")+this.AcqnCostACCID.Label);if(this.obj.AcqnCostACCID=this.AcqnCostACCID.SelectedValue,0==this.AccumDeprACCID.SelectedValue)return this.DisplayMessage=i.a.GetResource("Select ")+this.AccumDeprACCID.Label,void(this.MessageVisibility=!0);if(this.obj.AccumDeprACCID=this.AccumDeprACCID.SelectedValue,0!=this.AcquisitionClearingAcc.SelectedValue&&(this.obj.AcqnCostDispACCID=this.AcquisitionClearingAcc.SelectedValue),0!=this.DisposalClearingAcc.SelectedValue&&(this.obj.AccumDeprDispACCID=this.DisposalClearingAcc.SelectedValue),0!=this.DisposalGainAcc.SelectedValue&&(this.obj.GainsDispACCID=this.DisposalGainAcc.SelectedValue),0!=this.DisposalLossAcc.SelectedValue&&(this.obj.LossDispACCID=this.DisposalLossAcc.SelectedValue),0!=this.MinorAssetExpenseAcc.SelectedValue&&(this.obj.MaintExpenseACCID=this.MinorAssetExpenseAcc.SelectedValue),0==this.DeprExpenseACCID.SelectedValue)return void(this.DisplayMessage=i.a.GetResource("Select ")+this.DeprExpenseACCID.Label);this.obj.DeprExpenseACCID=this.DeprExpenseACCID.SelectedValue,this.obj.StatusID=parseInt(this.Status.SelectedValue),this.obj.SaveFAPostingGroup().subscribe((function(e){t.DisplayMessage=e.Message,t.RetValue=e.RetValue,t.RetValue>0&&(t.PostingGroupID=0,t.PostGroupCode.Text="",t.PostGroupName.Text="",t.AcqnCostACCID.SelectedValue=0,t.AccumDeprACCID.SelectedValue=0,t.DeprExpenseACCID.SelectedValue=0,t.AcquisitionClearingAcc.SelectedValue=0,t.DisposalClearingAcc.SelectedValue=0,t.DisposalGainAcc.SelectedValue=0,t.DisposalLossAcc.SelectedValue=0,t.MinorAssetExpenseAcc.SelectedValue=0,t.Status.SelectedValue="385",null!=t.Parent&&t.Parent.Refresh())}))}else i.a.page.HideDialog()}catch(s){Logger.ErrorLog("FAPostingGroupViewModel:: OnSavePostingGroup",s)}}},{key:"PostingGroupID",get:function(){return this._PostingGroupID},set:function(e){e!=this._PostingGroupID&&(this._PostingGroupID=e,this.obj.PostingGroupID=this._PostingGroupID)}}]),s}(o.b)}}]);