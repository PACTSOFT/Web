function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var i,s=_getPrototypeOf(e);if(t){var n=_getPrototypeOf(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{"2pkr":function(e,t,i){"use strict";i.r(t),i.d(t,"AddCostCenterViewModel",(function(){return R}));var s=i("Do2H"),n=i("Lp6j"),a=i("eQJW"),o=i("THE7"),r=i("RJs6"),l=i("OvA8"),h=i("INyF"),c=i("vVAv"),u=i("n56n"),C=i("EQd/"),d=i("0/4Q"),b=i("knKa"),m=i("c6C+"),S=i("iqoD"),g=i("NkMH"),D=i("xnJf"),p=i("bgvB"),f=i("4ADR"),I=i("4HhE"),T=i("ru5v"),A=i("VxiT"),y=i("vTM8"),V=i("JIg3"),M=i("ScVY"),P=i("x68t"),N=i("wJuo"),j=i("CNN3"),O=i("NXvD"),L=i("4k0m"),w=i("++IR"),v=i("V7Sd"),E=i("JJ8n"),x=i("Tvp0"),G=i("8B8H"),F=i("ockk"),R=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var s;return _classCallCheck(this,i),(s=t.call(this)).IsAttachmentMandatory=!1,s.PactScreenID="0",s.ht=new y.a,s.NextPrevID=0,s.SaveCostCenter=new I.b,s.CustomizeExtraFields=new I.b,s.onGetData=new I.b,s.TempscreenTitle="",s.ButtonEnable=!0,s.NextPreviousVisibility=!0,s.ScreenObject=new A.a,s.Name=C.d.PactTextBoxData_1(0),s.CurrencyID=u.b.PactListBoxData_1(0),s.Code=C.a.PactCodeData_1(0),s.AliasName=C.d.PactTextBoxData_1(0),s.Status=d.g.PactStausComboData_1(0),s.Group=u.b.PactListBoxData_1(0),s.CreditLimit=C.d.PactTextBoxData_1(0),s.CreditDays=C.d.PactTextBoxData_1(0),s.DebitDays=C.d.PactTextBoxData_1(0),s.DebitLimit=C.d.PactTextBoxData_1(0),s.AddressTypes=[],s.Address1="",s.Address2="",s.Address3="",s.City="",s.State="",s.Country="",s.Pin="",s.Phone1="",s.Phone2="",s.Fax="",s.Enable="",s.Email1="",s.Email2="",s.ActualFileName="",s.ThumbnailPhoto="",s.SalesAccount=u.b.PactListBoxData_1(270),s.PurchaseAccount=u.b.PactListBoxData_1(271),s.ButtonSaveMultiple=new g.a,s.ButtonSave=new g.a,s.ButtonCustomize=new g.a,s.FileExtension="",s.FileDescription="",s.RetValue=0,s.ProfileID=-1,s.ds=null,s.IsMRP2MachineDim=!1,s.dsProjWOffHol=null,s.ClassName="AddCostCenterViewModel",s.CostCenterID=e,s.objCostCenter=new T.a,s.ViewContacts=new o.a(_assertThisInitialized(s)),s.ViewNotes=new r.a(_assertThisInitialized(s)),s.ViewAttachments=new l.ViewAttachmentViewModel(_assertThisInitialized(s)),s.ViewAddress=new h.a(_assertThisInitialized(s)),s.ViewCCMapping=new c.a(_assertThisInitialized(s)),s.Address=new S.a,s.Address.AddAddressViewModel_2(_assertThisInitialized(s)),s}return _createClass(i,[{key:"AddCostCenterViewModel_1",value:function(e,t,i,n,a){if(this.CostCenterID=t,s.a.SessionManager.Logger.InfoLog("AddCostCenterViewModel::Entering AddCostCenterViewModel With ID="+e+"CostCenterID"+t+"Parent"+i+"Name"+n),this.objCostCenter=new T.a,this.ViewCCMapping=new c.a(this),this.ViewCCMapping.ViewCCMappingViewModel_1(this,t,e),this.TempscreenTitle=n,0==e?s.a.SessionManager.HideUnathorizedAccess?this.ButtonSave.Visible=s.a.SessionManager.IsActionAssigned(t,"Create"):this.ButtonSave.Enable=s.a.SessionManager.IsActionAssigned(t,"Create"):(this.ScreenObject.IsEdit=!0,s.a.SessionManager.HideUnathorizedAccess?this.ButtonSave.Visible=s.a.SessionManager.IsActionAssigned(t,"Update"):this.ButtonSave.Enable=s.a.SessionManager.IsActionAssigned(t,"Update")),s.a.SessionManager.HideUnathorizedAccess?this.ButtonCustomize.Visible=s.a.SessionManager.IsActionAssigned(t,"Customize"):this.ButtonCustomize.Enable=s.a.SessionManager.IsActionAssigned(t,"Customize"),this.PrintVisible=s.a.SessionManager.IsActionAssigned(t,"PrintVPT"),this.objCostCenter.CostCenterID=t,this.objCostCenter.IsGroup=a,this.CostCenterID=t,this.PactScreenID=t.toString(),this.ScreenData=this.BuildControls(),s.a.SessionManager.Preferences.ContainsKey("ProjectManagementDimension")&&this.PactScreenID==s.a.SessionManager.Preferences.ProjectManagementDimension&&(this.StartVisible=!0,this.StopVisible=!0,this.HoldVisible=!0,this.ViewProgress=new r.a(this),this.ViewProgress.IsProgress=!0,this.ViewProgress.ProgressWidth="150",this.ViewProgress.NotesWidth="650",this.ViewProgress.LoadStaticColumns()),this.TypeID=3,this.NodeID=e,this.RefreshTitle(),this.GroupID=i,this.ScreenName=n,this.DetailsVisibility=!0,this.IsPhotoChanged=!1,this.PhotoTextVisibility=!0,this.AccountPhoto="",this.ActualFileName="",this.onGetData.Subscribe(this,"GetRecords"),this.SaveCostCenter.Subscribe(this,"OnSaveCostCenter"),this.CustomizeExtraFields.Subscribe(this,"OnCustomize"),this.Name.LostFocusCommand.Subscribe(this,"OnNameLostFocus"),this.ViewContacts=new o.a(this),this.ViewNotes=new r.a(this),this.ViewAttachments=new l.ViewAttachmentViewModel(this),this.ViewAddress=new h.a(this),this.ScreenObject.StatusAssignGrid=new O.a,this.Status.ClickCommand.Subscribe(this.ScreenObject,"OnStatusLinkClick"),s.a.SessionManager.Preferences.ContainsKey("MRP2Version")){var u=s.a.common.GetDataSet("AECC001","");null!=u&&u.Tables.length>0&&""!=u.Tables[0][0][u.Columns[0][0]].toString()&&"0"!=u.Tables[0][0][u.Columns[0][0]].toString()&&parseInt(u.Tables[0][0][u.Columns[0][0]])==t&&(this.IsMRP2MachineDim=!0)}if(this.OnLoad(),this.ContactVisibility=!1,this.DetailsVisibility=!1,this.AttachmentVisibility=!1,null!=this.PContact&&(this.PrimaryVisibility=!0),this.AddressVisibility=!1,this.CCMapVisibility=!1,this.Group.SelectionChangedCommand.Subscribe(this,"OnGroupSelectionChanged"),0==this.NodeID&&(this.Group.SelectedValue=0!=i?i:2,this.NextPreviousVisibility=!1),0!=this.NodeID&&this.ScreenObject.IsAutoCode&&(this.Code.Enable=parseInt(this.ds.Tables[0][0].Depth)<=1&&!this.ScreenObject.IsRootAutoCode),s.a.SessionManager.Preferences.PosCoupons==t.toString())this.ButtonSaveMultiple.Visible=!0;else if(this.ScreenObject.IsAutoCode&&this.ScreenObject.IsAutoName){var C=this.ScreenObject.Data.Tables[5].filter((function(e){return"BinsDimension"==e.Name}));this.ButtonSaveMultiple.Visible=C.length>0&&C[0].Value.toString()==t.toString()}else this.ButtonSaveMultiple.Visible=!1;this.Address=new S.a,this.Address.AddAddressViewModel_2(this),Logger.InfoLog("AddCostCenterViewModel::Exiting AddCostCenterViewModel")}},{key:"OnGroupSelectionChanged",value:function(e){null!=e&&("Group"==e.toString()||"PACT.COMMON.PactListBoxData"==e.toString()&&"IsGroup"==e.DBColumnName)&&this.Group.SelectedValue>0&&(this.Group.DefaultValue=this.Group.SelectedValue.toString(),this.AutoGenerateCode(),this.LoadParentData())}},{key:"GetRecords",value:function(e){this.ButtonSave.Enable||(this.ButtonSave.Enable=!0);var t=0,i=!1;"NEXT"==e.toString().toUpperCase()?i=!0:"PREVIOUS"==e.toString().toUpperCase()&&(i=!1);var n=s.a.common.GetNextPreviousRecords(this.CostCenterID,this.NextPrevID,i,0,this.objCostCenter.IsGroup?1:0);null!=n&&n.Tables.length>0&&n.Tables[0].length>0&&(0!=(t=parseInt(n.Tables[0][0].NodeID))&&(this.NextPrevID=t,this.NodeID=t,this.objCostCenter.IsGroup=Object(a.j)(n.Tables[0][0].IsGroup),this.ScreenObject.IsGroup=Object(a.j)(n.Tables[0][0].IsGroup),this.RefreshTitle(),this.ScreenObject.ClearStatusItems(),this.FillControls(),this.PNodeID=t,this.RefreshControls(),null!=this.MappingVM&&(this.MappingVM.MessageVisibility=!1,this.MappingVM.DisplayMessage="",this.MappingVM.CCID=this.CostCenterID,this.MappingVM.NodeID=this.NodeID,this.MappingVM.Mapping(this.ProfileID,this.CostCenterID,this.NodeID))))}},{key:"RefreshControls",value:function(){this.NoteVisibility?this.ViewNotes.OnShowNewNotes(null):this.AttachmentVisibility?this.ViewAttachments.OnShowNewAttachment(null):this.ContactVisibility?(this.Contact=null,this.ViewContacts.OnShowNewContact(null)):this.AddressVisibility?(this.Address=null,this.ViewAddress.OnShowNewAddress(null)):this.CCMapVisibility&&this.ViewCCMapping.OnShowCC(null)}},{key:"onTabSelectionChanged",value:function(e){null!=this.ScreenObject.CustomTab.SelectedTab&&("Notes"==this.ScreenObject.CustomTab.SelectedTab.Name?(this.AttachmentVisibility=!1,this.ContactVisibility=!1,this.AddressVisibility=!1,this.CCMapVisibility=!1,this.PrimaryVisibility=!1,this.ViewNotes.OnShowNewNotes(null)):"Attachments"==this.ScreenObject.CustomTab.SelectedTab.Name?(this.ViewAttachments.OnShowNewAttachment(null),this.NoteVisibility=!1,this.ContactVisibility=!1,this.AddressVisibility=!1,this.CCMapVisibility=!1,this.PrimaryVisibility=!1):"Contacts"==this.ScreenObject.CustomTab.SelectedTab.Name?(this.NoteVisibility=!1,this.AttachmentVisibility=!1,this.AddressVisibility=!1,this.CCMapVisibility=!1,this.PrimaryVisibility=!1,this.ViewContacts.OnShowNewContact(null)):"Address"==this.ScreenObject.CustomTab.SelectedTab.Name?(this.NoteVisibility=!1,this.AttachmentVisibility=!1,this.ContactVisibility=!1,this.CCMapVisibility=!1,this.PrimaryVisibility=!1,this.ViewAddress.OnShowNewAddress(null)):"Assign"==this.ScreenObject.CustomTab.SelectedTab.Name?(this.NoteVisibility=!1,this.AttachmentVisibility=!1,this.ContactVisibility=!1,this.AddressVisibility=!1,this.ViewCCMapping.OnShowCC(null),this.PrimaryVisibility=!1):(this.NoteVisibility=!1,this.AttachmentVisibility=!1,this.ContactVisibility=!1,this.AddressVisibility=!1,this.CCMapVisibility=!1,this.PrimaryVisibility="General"==this.ScreenObject.CustomTab.SelectedTab.Name&&null!=this.PContact))}},{key:"HideControls",value:function(){this.ContactVisibility=!1,this.NoteVisibility=!1,this.AttachmentVisibility=!1,this.DetailsVisibility=!1}},{key:"OnAddContact",value:function(){Logger.InfoLog("AddCostCenterViewModel::Entering AddContact"),this.Contact=new b.a,Logger.InfoLog("AddCostCenterViewModel::Entering AddContact")}},{key:"OnAddAddress",value:function(){Logger.InfoLog("AddCostCenterViewModel::Entering AddAddress"),this.Address=new S.a,Logger.InfoLog("AddCostCenterViewModel::Entering AddAddress")}},{key:"OnShowNote",value:function(){Logger.InfoLog("AddCostCenterViewModel::Entering OnShowNote"),Logger.InfoLog("AddCostCenterViewModel::Exiting OnShowNote")}},{key:"OnAddNote",value:function(){Logger.InfoLog("AddCostCenterViewModel::Entering AddNote"),this.Note=new m.AddNoteViewModel,this.Note.AddNoteViewModel_2(this),Logger.InfoLog("AddCostCenterViewModel::Entering AddNote")}},{key:"UpdateProgress",value:function(e){if("475"==this.Status.SelectedValue){var t;this.ScreenObject.CustomTab.Pages.forEach((function(t){var i=t.Fields.find((function(e){return e instanceof C.d&&"ccalpha19"==e.DBColumnName.toLowerCase()}));null!=i&&(i.Text=e.Progress.Text)})),t=n.e.StringIsNullOrEmpty(e.Note.Text)?'<XML progress="'+e.Progress.Text+'"  NoteID=" '+e.NoteID.toString()+'"  Note=""></XML>':'<XML progress="'+e.Progress.Text+'" NoteID=" '+e.NoteID.toString()+'"  Note="'+e.Note.Text+'" ></XML>';var i,s=this.ScreenObject.SettaskStatus(this.CostCenterID,this.NodeID,"Progress",t,Date.Today,0,0,0);return this.DisplayMessage=s.obj.MessageText,(i=s.obj.RetValue)>1&&(e.NoteID=i,!0)}return this.DisplayMessage="Progress can be updated while activity in process.",this.MessageVisibility=!0,!1}},{key:"OnShowAttachment",value:function(){Logger.InfoLog("AddEditAccountScreenViewModel::Entering OnShowAttachment"),Logger.InfoLog("AddEditAccountScreenViewModel::Exiting OnShowAttachment")}},{key:"OnDropPhoto",value:function(e){}},{key:"onCanDropPhoto",value:function(e){return!0}},{key:"OnAddAttachment",value:function(){Logger.InfoLog("AddEditAccountScreenViewModel::Entering AddAttachment"),this.Attachment=new D.AddAttachmentViewModel,this.Attachment.AddAttachmentViewModel_2(this),Logger.InfoLog("AddEditAccountScreenViewModel::Entering AddAttachment")}},{key:"OnSaveCostCenter",value:function(e){var t=this;if(Logger.InfoLog("OnSaveCostCenter::Entering OnSaveCostCenter"),"Contact"==e.toString())this.ContactExpanded=!this.ContactExpanded;else if("Note"==e.toString())this.NoteExpanded=!this.NoteExpanded;else if("Attachment"==e.toString())this.AttachmentExpanded=!this.AttachmentExpanded;else if("NewContact"==e.toString())this.ContactVisibility=!0;else if("NewAttachment"==e.toString())this.AttachmentVisibility=!0;else if("NewNote"==e.toString())this.NoteVisibility=!0;else if("Start"==e.toString()||"Stop"==e.toString()||"Hold"==e.toString()||"ReOpen"==e.toString()){if("Stop"==e.toString()&&1==this.objCostCenter.DebitDays){var i=this.ViewAttachments.AttachmentsList.find((function(e){return e.AttachmentID>0}));if(n.e.IsEmpty(i))return this.DisplayMessage="Mandatory attachments before completion.",void(this.MessageVisibility=!0)}var o=new Date;if("Hold"!=e.toString()){var r=new E.a;r.GoToLineViewModel_1(this,1),s.a.page.ShowDialog(r,x.a,{ShowCenter:!0,NoWidth:!0},(function(){if(r.DailogResult){n.e.IsEmpty(r.FromDate.Date)||(o=r.FromDate.Date);var i,s=0,l=0,h=0,c=0;if("Stop"==e.toString()&&null!=t.ds&&t.ds.Tables.length>0&&t.ds.Tables[0].length>0&&null!=t.ds.Tables[0][0].ccAlpha22&&null!=t.ds.Tables[0][0].ccAlpha22&&""!=t.ds.Tables[0][0].ccAlpha22.toString().Trim()){var u=new Date(t.ds.Tables[0][0].ccAlpha22);t.InitProjWOffsHolidays(u);var C=!1;null!=t.dsProjWOffHol&&t.dsProjWOffHol.Tables[2].length>0&&(C=Object(a.j)(t.dsProjWOffHol.Tables[2][0].PrefValue));var d=null;null!=t.dsProjWOffHol.Tables[3]&&t.dsProjWOffHol.Tables[3].length>0&&(d=t.dsProjWOffHol.Tables[3][0]);var b={odWHrs:s=l=h=c=0,odHrsPerDay:l};c=n.e.GetNoOfDays(t.dsProjWOffHol,u,o,C,d,u,b,!0),s=b.odWHrs,l=b.odHrsPerDay,h=parseFloat((s/l).ToString("00.00"))}t.DisplayMessage=t.ScreenObject.SettaskStatus(t.CostCenterID,t.NodeID,e.toString(),"",o,c,s,h),i={}.rid,t.MessageVisibility=!0,i>0&&("Start"==e.toString()?t.Status.SelectedValue="475":"Stop"==e.toString()?t.Status.SelectedValue="473":"Hold"==e.toString()?t.Status.SelectedValue="474":"ReOpen"==e.toString()&&(t.Status.SelectedValue="472"),t.SetProjectActions())}}))}}else if("ShowApprove"==e.toString()){var l=new L.a(this.CostCenterID,this.objCostCenter.NodeID,this.ScreenObject,this);s.a.page.ShowDialog(l,w.a,{ShowCenter:!0,Title:s.a.GetResource("ApproveReject")})}else if("DeletePhoto"==e.toString())1==this.DialogResult&&(this.IsPhotoDelete=!0,this.AccountPhoto="",this.ThumbnailPhoto="",this.DialogResult=!1,this.ActualFileName="",this.IsPhotoChanged=!1,this.PhotoTextVisibility=!0,this.DisplayMessage="");else if("PopUp"==e.toString())null!=this.ds&&this.ds.Tables[3].filter((function(e){return"jpg"==e.FileExtension||"png"==e.FileExtension})).forEach((function(e){}));else if("UploadPhoto"==e.toString()){var h=new N.a;h.PopupAttachmentsViewModel_1(this.CostCenterID,this.NodeID,this),s.a.page.ShowDialog(h,P.a,{ShowCenter:!0,Title:"Add Images"})}else if("CapturePhoto"==e.toString())null==this.Attachment&&this.OnAddAttachment();else if("MouseDown"==e.toString());else{if(this.objCostCenter.CustomFieldsQuery="",this.IsAttachmentMandatory&&null!=this.ViewAttachments){var c=0;if(this.ViewAttachments.AttachmentsList.length>0&&this.ViewAttachments.AttachmentsList.forEach((function(e){e.IsProductImage||c++})),0==c)return this.DisplayMessage="Attachment is mandatory",void(this.MessageVisibility=!0)}if(0==this.NodeID){this.ScreenObject.IsName=!1;var u=[];if(u=(u=this.ScreenObject.Data.Tables[7]).filter((function(e){return 0==e.IsName})),this.ScreenObject.SetAutoCodeParams_3(this.Code,this.GroupID,u,{StrCode:this.objCostCenter.Code,CodePrefix:this.objCostCenter.CodePrefix,CodeNumber:this.objCostCenter.CodeNumber}),this.DisplayMessage.length>0)return}else if(this.NodeID>0&&!this.Code.Enable&&!this.ScreenObject.CodeSeqExist){this.ScreenObject.IsName=!1;var d=[];if(d=(d=this.ScreenObject.Data.Tables[7]).filter((function(e){return 0==e.IsName})),this.ScreenObject.SetAutoCodeParams_3(this.Code,this.GroupID,d,{StrCode:this.objCostCenter.Code,CodePrefix:this.objCostCenter.CodePrefix,CodeNumber:this.objCostCenter.CodeNumber}),this.DisplayMessage.length>0)return}else this.objCostCenter.Code=this.Code.Text,this.Code.Code=this.Code.Text;if(this.ScreenObject.IsAutoName&&!this.Name.Enable){this.ScreenObject.IsNameAutoGenerate=!0,this.Name.Enable=!1;var b=this.ScreenObject.Data.Tables[7];b=b.filter((function(e){return 1==e.IsName})),this.ScreenObject.IsName=!0,b.length>0&&(this.Name.Text=this.ScreenObject.SetAutoCodeParams_1(this.Name,this.GroupID,b),this.objCostCenter.Name=this.Name.Text)}var m,S=this.ScreenObject.ValidateData();if(S.length>0)return this.MessageVisibility=!0,void(this.DisplayMessage=S);if(0==this.NodeID){if(50002==this.CostCenterID&&s.a.SessionManager.LicenseSettings.ContainsKey("MaxLocations")){var g;g=n.e.IntTryParse(s.a.SessionManager.LicenseSettings.MaxLocations);var D=s.a.common.GetDataTable("ACCVM001","");if(g>0&&g<=n.e.IntTryParse(D.Rows[0][0]))return this.DisplayMessage="Maximum "+g.toString()+" Locations Allowed",void(this.MessageVisibility=!0)}var p=this.ScreenObject.Data.Tables[7];p=p.filter((function(e){return 0==e.IsName}));var f={StrCode:this.objCostCenter.Code,CodePrefix:this.objCostCenter.CodePrefix,CodeNumber:this.objCostCenter.CodeNumber};if(this.DisplayMessage=this.ScreenObject.SetAutoCodeParams_3(this.Code,this.GroupID,p,f),this.objCostCenter.Code=f.StrCode,this.objCostCenter.CodePrefix=n.e.String(f.CodePrefix),this.objCostCenter.CodeNumber=f.CodeNumber,this.DisplayMessage.length>0)return void(this.MessageVisibility=!0)}else this.objCostCenter.Code=this.Code.Text;if(this.Name.Visible&&(this.objCostCenter.Name=this.Name.Text),this.AliasName.Enable&&(this.objCostCenter.AliasName=n.e.StringIsNullOrEmpty(this.AliasName.Text)?this.Name.Text:this.AliasName.Text),(s.a.SessionManager.Preferences.ContainsKey("ProjectManagementDimension")&&s.a.SessionManager.Preferences.ProjectManagementDimension==this.CostCenterID.toString()&&!n.e.IsEmpty(this.Status.SelectedValue)||this.Status.Enable)&&(this.objCostCenter.Status=n.e.IntTryParse(this.Status.SelectedValue)),this.SalesAccount.Enable&&(this.objCostCenter.SalesAccount=this.SalesAccount.SelectedValue),this.PurchaseAccount.Enable&&(this.objCostCenter.PurchaseAccount=this.PurchaseAccount.SelectedValue),this.CreditDays.Enable&&null!=this.CreditDays.Text&&""!=this.CreditDays.Text&&(this.objCostCenter.CreditDays=n.e.DoubleTryParse(this.CreditDays.Text)),this.CreditLimit.Enable&&null!=this.CreditLimit.Text&&""!=this.CreditLimit.Text&&(this.objCostCenter.CreditLimit=n.e.DoubleTryParse(this.CreditLimit.Text)),this.DebitDays.Enable&&null!=this.DebitDays.Text&&""!=this.DebitDays.Text&&(this.objCostCenter.DebitDays=n.e.DoubleTryParse(this.DebitDays.Text)),this.DebitLimit.Enable&&null!=this.DebitLimit.Text&&""!=this.DebitLimit.Text&&(this.objCostCenter.DebitLimit=n.e.DoubleTryParse(this.DebitLimit.Text)),this.Name.Visible||(this.objCostCenter.Name=this.Code.Text),this.AliasName.Visible||(this.objCostCenter.AliasName=n.e.StringIsNullOrEmpty(this.AliasName.Text)?this.Name.Text:this.AliasName.Text),0==this.objCostCenter.NodeID&&(this.Status.Visible||(this.objCostCenter.Status=n.e.IntTryParse(this.Status.DefaultValue))),this.SalesAccount.Visible||n.e.StringIsNullOrEmpty(this.SalesAccount.DefaultValue)||(this.objCostCenter.SalesAccount=n.e.IntTryParse(this.SalesAccount.DefaultValue)),this.PurchaseAccount.Visible||n.e.StringIsNullOrEmpty(this.PurchaseAccount.DefaultValue)||(this.objCostCenter.PurchaseAccount=n.e.IntTryParse(this.PurchaseAccount.DefaultValue)),this.DebitDays.Visible||s.a.SessionManager.Preferences.ContainsKey("ProjectManagementDimension")&&this.PactScreenID==s.a.SessionManager.Preferences.ProjectManagementDimension||(this.objCostCenter.DebitDays=0),this.CreditDays.Visible||(this.objCostCenter.CreditDays=0),this.DebitLimit.Visible||(this.objCostCenter.DebitLimit=0),this.CreditLimit.Visible||(this.objCostCenter.CreditLimit=0),this.Group.Enable&&(this.objCostCenter.SelectedGroup=this.Group.SelectedValue),this.objCostCenter.SelectedNode=this.Group.SelectedValue,this.CurrencyID.SelectedValue>0&&(this.objCostCenter.CustomFieldsQuery="CurrencyID='"+this.CurrencyID.SelectedValue+"',"),this.objCostCenter.CustomFieldsQuery=this.objCostCenter.CustomFieldsQuery+this.ScreenObject.GetCustomFieldsQuery(),this.objCostCenter.CustomCostCenterFieldsQuery=this.ScreenObject.GetCustomCostCenterFieldsQuery(),this.objCostCenter.ContactsXML=this.ViewContacts.GetXML(),this.objCostCenter.AddressXML=this.ViewAddress.GetXML(),this.objCostCenter.NotesXML=this.ViewNotes.GetXML(),null!=this.ViewProgress){var I=this.ViewProgress.GetXML();""!=I&&(this.objCostCenter.NotesXML=""!=this.objCostCenter.NotesXML?this.objCostCenter.NotesXML.replace("</NotesXML>","")+I.replace("<NotesXML>",""):I)}if(this.objCostCenter.AttachmetsXML=this.ViewAttachments.GetXML(),this.objCostCenter.HistoryXML=this.ScreenObject.HistoryCCXML,this.objCostCenter.StatusXML=null!=this.ScreenObject.StatusAssignGrid?this.ScreenObject.StatusAssignGrid.GetXML():"",null==this.JobsOutput)this.objCostCenter.JobsProductXML="";else if(this.objCostCenter.JobsProductXML=this.JobsOutput.GetXML(),!this.objCostCenter.JobsProductXML.Contains("<XML>"))return""==this.objCostCenter.JobsProductXML?(this.DisplayMessage="Select at least one BOM",void(this.MessageVisibility=!0)):(this.DisplayMessage="Select Product at Row "+this.objCostCenter.JobsProductXML,void(this.MessageVisibility=!0));0==this.NodeID&&null!=this.MappingVM&&(this.objCostCenter.MappingXML=this.MappingVM.GetXML());try{var T="";this.IsPhotoChanged&&!n.e.StringIsNullOrEmpty(this.AccountPhoto)?(T+=0==this.FileID?'<Row Action="NEW"':'<Row Action="MODIFY"',s.a.SessionManager.IsWebApplication&&(T+=' AttachmentID="'+this.FileID+'"',T+=' FilePath="'+this.AccountPhoto+'"',T+=' ActualFileName="'+this.AccountPhoto.substr(this.AccountPhoto.lastIndexOf("\\")+1)+'"',T+=' RelativeFileName="'+this.AccountPhoto+'"',T+=' FileExtension="'+this.FileExtension+'"',T+=' FileDescription="'+C.d.GetValidXml(this.FileDescription)+'"',T+=' IsProductImage="1"',T+=' IsDefaultImage="1"',T+=' GUID="'+this.guid+'"',T+="/>")):this.IsPhotoDelete&&this.FileID>0&&(T+='<Row Action="DELETE"',T+=' AttachmentID="'+this.FileID+'"/>'),T.length>0&&(T="<AttachmentsXML>"+T,T+="</AttachmentsXML>",this.objCostCenter.AttachmetsXML=this.objCostCenter.AttachmetsXML+T.toString())}catch(y){return this.DisplayMessage=s.a.GetResource("Upload_Path_notExists"),void(this.MessageVisibility=!0)}if(null!=this.PContact&&this.PContact.CheckPrimaryDuplicateContact())return this.DisplayMessage="Duplicate Contact[s] in Contacts DB",void(this.MessageVisibility=!0);this.objCostCenter.PrimaryContactQuery=null!=this.PContact?this.PContact.GetXML():"";var A=[];if(this.DisplayMessage=this.ViewCCMapping.GetXML(A),m=A.strXML,!n.e.StringIsNullOrEmpty(this.DisplayMessage))return;if(this.objCostCenter.CCXML=m,!this.ScreenObject.ValidateDataonSave())return;this.objCostCenter.WID=this.ScreenObject.CheckWorkFlow(),this.objCostCenter.DocXML=this.GetDocumentActivityXML(),this.objCostCenter.CalendarXML="",this.IsMRP2MachineDim&&(this.objCostCenter.CalendarXML=this.GetCalendarXML()),"SaveMultiple"==e.toString()||s.a.common.SaveCostCenter(this.objCostCenter,"SaveCostCenter").subscribe((function(e){if(t.DisplayMessage=e.Message,t.RetValue=e.RetValue,t.MessageVisibility=!0,t.RetValue>0||t.RetValue<-1e4){s.a.page.tabs.forEach((function(e){e.instance instanceof v.TreeViewPageComponent&&e.instance.obj&&e.instance.CostCenterID>5e4&&(e.instance.obj.SetFocusNodeID=e.instance.obj.SelectedNode.Id,e.instance.Refresh())})),t.NodeID=0,t.ScreenObject.Clear(),t.ViewContacts.ContactsListObj.Clear(),t.ViewNotes.NotesListObj.Clear(),t.ViewAttachments.AttachmentsListObj.Clear(),t.ViewAddress.ContactsListObj.Clear(),t.IsPhotoDelete=!1,t.ViewAttachments.OnShowNewAttachment(null),t.ViewContacts.DeletedContacts.Clear(),t.ViewNotes.DeletedNotes.Clear(),t.ViewAttachments.DeletedAttachments.Clear(),t.ViewAddress.DeletedAddress.Clear(),null!=t.JobsOutput&&t.JobsOutput.JobsGrid.Table.Clear(),null!=t.MappingVM&&t.MappingVM.MappingGrid.Table.Clear(),t.PhotoTextVisibility=!0,t.Code.Text="",t.Code.Code="",t.AccountPhoto="",t.ActualFileName="",t.ThumbnailPhoto="",t.AutoGenerateCode(),t.ViewCCMapping.Clear(),null!=t.ViewCCMapping.TempData&&t.ViewCCMapping.TempData.Clear(),t.CCMapVisibility=!1,t.HideControls(),t.Group.SelectedValue=t.GroupID,t.Group.SelectedValue=0!=t.GroupID?t.GroupID:2,null!=t.PContact&&t.PContact.ClearFields(),t.RefreshTitle();var i=t.ScreenObject.Data.Tables[5].filter((function(e){return"ShowCurrentSavedData"==e.Name}));i.length>0&&""!=i[0].Value.toString()&&Object(a.j)(i[0].Value)&&(t.NodeID=t.RetValue,t.RefreshTitle(),t.FillControls())}null!=t.Parent&&t.Parent.Refresh(),Logger.InfoLog("AddCostCenterViewModel::Exiting OnSaveCostCenter")}),(function(e){alert(JSON.stringify(e)),console.log("Quick Account Save : "+JSON.stringify(e))}))}}},{key:"GetCalendarXML",value:function(){var e="";if(null!=this.dgvCalendar&&this.dgvCalendar.Table.length>0)for(var t,i=0;i<this.dgvCalendar.Table.length;i++)null!=(t=this.dgvCalendar.Table[i]).FromDate_Key&&null!=t.FromDate_Key&&""!=t.FromDate_Key.toString()&&null!=t.ToDate_Key&&null!=t.ToDate_Key&&""!=t.ToDate_Key.toString()&&null!=t.Calendar&&null!=t.Calendar&&""!=t.Calendar.toString()&&(e+="<Row ",e+='SNo="'+t.SNo.toString()+'" ',e+='FromDate="'+new Date(t.FromDate_Key).ToString("dd MMM yyyy")+'" ',e+='ToDate="'+new Date(t.ToDate_Key).ToString("dd MMM yyyy")+'" ',e+='CalendarID="'+t.Calendar.toString()+'" ',e+=" />");return e.length>0&&(e.Insert(0,"<Rows>"),e+="</Rows>"),e.toString()}},{key:"InitProjWOffsHolidays",value:function(e){this.dsProjWOffHol=[],this.dsProjWOffHol=s.a.common.GetDataSet3("DOC067",e.Date.ToString("dd MMM yyyy"),this.CostCenterID.toString(),this.NodeID.toString())}},{key:"GetDocumentActivityXML",value:function(){var e="";if(50073==this.CostCenterID){if(s.a.SessionManager.Preferences.ContainsKey("GeneralTimingsBasedOn")&&""!=s.a.SessionManager.Preferences.GeneralTimingsBasedOn&&!s.a.SessionManager.Preferences.GeneralTimingsBasedOn.split(",").Contains(this.CostCenterID.toString()))return"";var t,i=-100;null!=s.a.SessionManager.Preferences.PayrollProduct&&""!=s.a.SessionManager.Preferences.PayrollProduct&&(i=parseInt(s.a.SessionManager.Preferences.PayrollProduct)),e+="<XML>";var a="",o="",r="",l="",h="",c="",u="",d=this.ScreenObject.GetPactControlField("Name");if(null!=d&&d instanceof C.d&&(a=d.Text),null!=(d=this.ScreenObject.GetPactControlField("ccAlpha2"))&&d instanceof V.b&&(o="01/Jan/1900 "+d.Date.ToString("HH:mm")),null!=(d=this.ScreenObject.GetPactControlField("ccAlpha3"))&&d instanceof V.b&&(r="01/Jan/1900 "+d.Date.ToString("HH:mm")),l=h=c=u="",this.NodeID>0){var b=s.a.common.GetDataTable("ACCVM002",this.NodeID.toString());null!=b&&b.length>0&&(l=b[0].DocID.toString(),h=b[0].InvDocDetailsID.toString())}null!=s.a.SessionManager.dtDocDefAccs&&(null!=(t=s.a.SessionManager.dtDocDefAccs.filter((function(e){return 40052==e.CostCenterID&&"CreditAccount"==e.SysColumnName})))&&t.length>0&&!n.e.IsEmpty(t[0].UserDefaultValue)&&""!=t[0].UserDefaultValue.toString().Trim()&&(c=t[0].UserDefaultValue.toString()),null!=(t=s.a.SessionManager.dtDocDefAccs.filter((function(e){return 40052==e.CostCenterID&&"DebitAccount"==e.SysColumnName})))&&t.length>0&&!n.e.IsEmpty(t[0].UserDefaultValue)&&""!=t[0].UserDefaultValue.toString().Trim()&&(u=t[0].UserDefaultValue.toString())),e+='<GeneralTimingsXML DocID="'+l+'" DocDetIDs="'+h+'" WorkFlowID="0" >',e+="<DOCXML>",e+="<RowHead/>",e+="<Row>",e+="<AccountsXML></AccountsXML>",e+='<Transactions DocSeqNo="1"  DocDetailsID="0" LinkedInvDocDetailsID="0" LinkedFieldName="" LineNarration="TIMINGS DUPMED FROM PAYROLL SHIFTS MASTER" CommonNarration="'+a,e+='" ProductID="'+i+'" IsScheme="" Quantity="1" Unit="1" UOMConversion="1" UOMConvertedQty="1',e+='" Rate="0" Gross="0" RefNO="0" IsQtyIgnored="1" AverageRate="0',e+='" StockValue="0" StockValueFC="0" CurrencyID="1" ExchangeRate="1"  DebitAccount="'+u+'"  CreditAccount="'+c+'"  ></Transactions>',e+='<Numeric Query="" ></Numeric>',e+="<Alpha Query=\"dcAlpha1=N'"+o+"',dcAlpha2=N'"+r+"',dcAlpha3=N'"+s.a.SessionManager.AccountingDate.ToString("dd/MMM/yyyy")+"', \" ></Alpha>",e+='<CostCenters Query="dcCCNID73=DIM73NodeID, " ></CostCenters>',e+="<EXTRAXML></EXTRAXML>",e+="</Row>",e+="</DOCXML>",e+="<BillXML></BillXML></GeneralTimingsXML>";var m,S="",g="",D="",p="",f="",I="",T="",A="",y="";if(null!=(d=this.ScreenObject.GetPactControlField("Name"))&&d instanceof C.d&&(a=d.Text),null!=(d=this.ScreenObject.GetPactControlField("ccAlpha20"))&&d instanceof V.b&&(S=d.Date.ToString("HH:mm").toString().replace(":",".")),null!=(d=this.ScreenObject.GetPactControlField("ccAlpha21"))&&d instanceof V.b&&(g=d.Date.ToString("HH:mm").toString().replace(":",".")),null!=(d=this.ScreenObject.GetPactControlField("ccAlpha8"))&&d instanceof V.b&&(D=d.Date.ToString("HH:mm").toString().replace(":",".")),null!=(d=this.ScreenObject.GetPactControlField("ccAlpha9"))&&d instanceof V.b&&(p=d.Date.ToString("HH:mm").toString().replace(":",".")),"24",m=s.a.SessionManager.AccountingDate.ToString("dd/MMM/yyyy"),null!=(d=this.ScreenObject.GetPactControlField("ccAlpha11"))&&d instanceof V.b&&(f=d.Date.ToString("HH:mm").toString().replace(":",".")),null!=(d=this.ScreenObject.GetPactControlField("ccAlpha13"))&&d instanceof V.b&&(I=d.Date.ToString("HH:mm").toString().replace(":",".")),null!=(d=this.ScreenObject.GetPactControlField("ccAlpha15"))&&d instanceof V.b&&(T=d.Date.ToString("HH:mm").toString().replace(":",".")),null!=(d=this.ScreenObject.GetPactControlField("ccAlpha17"))&&d instanceof V.b&&(A=d.Date.ToString("HH:mm").toString().replace(":",".")),null!=(d=this.ScreenObject.GetPactControlField("ccAlpha19"))&&d instanceof V.b&&(y=d.Date.ToString("HH:mm").toString().replace(":",".")),l=h=c=u="",this.NodeID>0){var M=s.a.common.GetDataTable("ACCVM003",this.NodeID.toString());null!=M&&M.length>0&&(l=M[0].DocID.toString(),h=M[0].InvDocDetailsID.toString())}null!=s.a.SessionManager.dtDocDefAccs&&(null!=(t=s.a.SessionManager.dtDocDefAccs.filter((function(e){return 40066==e.CostCenterID&&"CreditAccount"==e.SysColumnName})))&&t.length>0&&!n.e.IsEmpty(t[0].UserDefaultValue)&&""!=t[0].UserDefaultValue.toString().Trim()&&(c=t[0].UserDefaultValue.toString()),null!=(t=s.a.SessionManager.dtDocDefAccs.filter((function(e){return 40066==e.CostCenterID&&"DebitAccount"==e.SysColumnName})))&&t.length>0&&!n.e.IsEmpty(t[0].UserDefaultValue)&&""!=t[0].UserDefaultValue.toString().Trim()&&(u=t[0].UserDefaultValue.toString())),e+='<HoursDefChartXML DocID="'+l+'" DocDetIDs="'+h+'" WorkFlowID="0" >',e+="<DOCXML>",e+="<RowHead/>",e+="<Row>",e+="<AccountsXML></AccountsXML>",e+='<Transactions DocSeqNo="1"  DocDetailsID="0" LinkedInvDocDetailsID="0" LinkedFieldName="" LineNarration="HOURS DUPMED FROM PAYROLL SHIFTS MASTER" CommonNarration="'+a,e+='" ProductID="'+i+'" IsScheme="" Quantity="1" Unit="1" UOMConversion="1" UOMConvertedQty="1',e+='" Rate="0" Gross="0" RefNO="0" IsQtyIgnored="1" AverageRate="0',e+='" StockValue="0" StockValueFC="0" CurrencyID="1" ExchangeRate="1"  DebitAccount="'+u+'"  CreditAccount="'+c+'"  ></Transactions>',e+='<Numeric Query="" ></Numeric>',e+="<Alpha Query=\"dcAlpha1=N'"+S+"',dcAlpha2=N'"+g+"',dcAlpha3=N'"+D+"',dcAlpha4=N'"+p+"',dcAlpha5=N'24',dcAlpha6=N'"+m+"',dcAlpha8=N'"+f+"',dcAlpha9=N'"+I+"',dcAlpha10=N'"+T+"',dcAlpha11=N'"+A+"',dcAlpha12=N'"+y+"', ",e+='" ></Alpha>',e+='<CostCenters Query="dcCCNID73=DIM73NodeID, " ></CostCenters>',e+="<EXTRAXML></EXTRAXML>",e+="</Row>",e+="</DOCXML>",e+="<BillXML></BillXML></HoursDefChartXML>",e+="</XML>"}return e.toString()}},{key:"OnCanCostCenter",value:function(e){return Logger.InfoLog("OnCanCostCenter::Entering OnCanCostCenter"),Logger.InfoLog("OnCanCostCenter::Leaving OnCanCostCenter"),!0}},{key:"OnCustomize",value:function(e){}},{key:"AssignRowColumns",value:function(){var e;e=this.ScreenObject.CustomFields.length;for(var t=0;t<e;t++)this.ScreenObject.CustomFields[t].Row=t/4,this.ScreenObject.CustomFields[t].Column=t%4}},{key:"OnLoad",value:function(){var e=this;Logger.InfoLog("OnLoad::Entering OnLoad"),this.GetColumnDefDataset(this.CostCenterID);var t=[];if(null!=this.ht.Name&&""!=this.ht.Name.toString()&&(this.Name.DBColumnID=parseInt(this.ht.Name.toString())),null!=this.ht.Code&&""!=this.ht.Code.toString()&&(this.Code.DBColumnID=parseInt(this.ht.Code.toString())),null!=this.ht.AliasName&&""!=this.ht.AliasName.toString()&&(this.AliasName.DBColumnID=parseInt(this.ht.AliasName.toString())),null!=this.ht.StatusID&&""!=this.ht.StatusID.toString()&&(this.Status.DBColumnID=parseInt(this.ht.StatusID.toString())),null!=this.ht.CreditLimit&&""!=this.ht.CreditLimit.toString()&&(this.CreditLimit.DBColumnID=parseInt(this.ht.CreditLimit.toString())),null!=this.ht.CreditDays&&""!=this.ht.CreditDays.toString()&&(this.CreditDays.DBColumnID=parseInt(this.ht.CreditDays.toString())),null!=this.ht.DebitLimit&&""!=this.ht.DebitLimit.toString()&&(this.DebitLimit.DBColumnID=parseInt(this.ht.DebitLimit.toString())),null!=this.ht.DebitDays&&""!=this.ht.DebitDays.toString()&&(this.DebitDays.DBColumnID=parseInt(this.ht.DebitDays.toString())),null!=this.ht.PurchaseAccount&&""!=this.ht.PurchaseAccount.toString()&&(this.PurchaseAccount.DBColumnID=parseInt(this.ht.PurchaseAccount.toString())),null!=this.ht.SalesAccount&&""!=this.ht.SalesAccount.toString()&&(this.SalesAccount.DBColumnID=parseInt(this.ht.SalesAccount.toString())),null!=this.ht.IsGroup&&""!=this.ht.IsGroup.toString()&&(this.Group.DBColumnID=parseInt(this.ht.IsGroup.toString())),null!=this.ht.CurrencyID&&""!=this.ht.CurrencyID.toString()&&(this.CurrencyID.DBColumnID=parseInt(this.ht.CurrencyID.toString())),this.ScreenObject.LoadScreen_1(this,this.CostCenterID,this.objCostCenter.IsGroup),this.ScreenObject.CustomTab.OnTabChange.Subscribe(this,"onTabSelectionChanged"),this.LoadImageDimensions(),this.ScreenObject.CustomTab.Pages.forEach((function(t){"Contacts"==t.Name&&(e.PContact=new b.a,e.PContact.QuickAddContactViewModel_2(e),e.PContact.IsPrimaryContact=!0,e.PContact.Visiblebtns=!1,e.PContact.Countryvisible=!0,e.PrimaryVisibility=!0)})),null!=this.ScreenObject.Data&&this.ScreenObject.Data.Tables.length>7&&this.ScreenObject.Data.Columns[7].Contains("IsParentCodeInherited")&&this.ScreenObject.Data.Tables[7].length>0&&(this.ScreenObject.InitAutoCode(this.ScreenObject.Data.Tables[7],this.objCostCenter.IsGroup),(t=this.ScreenObject.Data.Tables[5].filter((function(e){return"CapsLock"==e.Name}))).length>0&&Object(a.j)(t[0].Value)&&(this.Name.IsAllCaps=!0),(t=this.ScreenObject.Data.Tables[5].filter((function(e){return"CapsToFirstLetter"==e.Name}))).length>0&&Object(a.j)(t[0].Value)&&(this.Name.IsFirstLetterCaps=!0),(t=this.ScreenObject.Data.Tables[5].filter((function(e){return"AttachmentMandatory"==e.Name}))).length>0&&""!=t[0].Value.toString()&&Object(a.j)(t[0].Value)&&(this.IsAttachmentMandatory=!0),(t=this.ScreenObject.Data.Tables[5].filter((function(e){return"AttachementThumbnail"==e.Name}))).length>0&&Object(a.j)(t[0].Value)&&(this.ViewAttachments.GridView=!0)),this.AssignRowColumns(),this.ScreenObject.CustomTab.Pages.forEach((function(t){switch(t.Name){case"Notes":t.Fields.push(e.ViewNotes);break;case"Contacts":t.Fields.push(e.ViewContacts);break;case"Address":t.Fields.push(e.ViewAddress);break;case"Attachments":t.Fields.push(e.ViewAttachments);break;case"Assign":t.Fields.push(e.ViewCCMapping)}})),null!=this.ViewProgress){var i=new f.b;i.Name="Progress",i.Header="Progress",i.DBColumnID=-1e3,i.Fields.push(this.ViewProgress),this.ScreenObject.CustomTab.Pages.push(i)}if(this.ScreenObject.Data.Tables.length>9&&this.ScreenObject.Data.Columns[8].Contains("StatusID")&&this.ScreenObject.Data.Columns[9].Contains("Value")){var o=new f.b;o.Name="Output",o.Header="Output",o.DBColumnID=-1e3,this.JobsOutput=new j.a(this.CostCenterID,this.NodeID,this.ScreenObject.Data),this.JobsOutput.JobsGrid.ColumnSpan=4,o.Fields.push(this.JobsOutput.JobsGrid),o.TabType=2,this.ScreenObject.CustomTab.Pages.push(o),this.ScreenObject.CustomTab.Visible||(this.ScreenObject.CustomTab.Visible=!0,this.ScreenObject.CustomTab.SelectedTab=o)}if(Logger.InfoLog("AddCostCenterViewModel::BuildControls Success"),null!=this.ScreenData&&this.ScreenData.Tables.length>2&&(this.ScreenObject.Data.Tables[3].forEach((function(t){e.Status.Items.push(d.d.ComboBoxItems_2(n.e.StringValue(t[e.ScreenObject.Data.Columns[3][1]]),n.e.StringValue(t[e.ScreenObject.Data.Columns[3][0]])))})),n.e.StringIsNullOrEmpty(this.Status.DefaultValue)||(this.Status.SelectedValue=this.Status.DefaultValue)),50002==this.CostCenterID&&s.a.SessionManager.Preferences.ContainsKey("LWAccPeriod")&&"TRUE"==s.a.SessionManager.Preferences.LWAccPeriod.toUpperCase()){var r=this.ScreenObject.HeaderFields.find((function(e){return e instanceof d.e&&"ccAlpha41"==e.DBColumnName}));if(null==r&&(r=this.ScreenObject.GetCustomField("ccAlpha41")),null!=r){for(var l=new Date((new Date).getFullYear(),0,1),h=1;h<=12;h++)r.Items.push(d.d.ComboBoxItems_2(l.ToString("MMMM"),h.toString())),l=l.AddMonths(1);r.SelectedValue="1"}}if(this.IsMRP2MachineDim){var c=new f.b;c.Name="Calendar",c.Header="Calendar",c.DBColumnID=-2001,this.ScreenObject.CustomTab.Pages.push(c),this.dgvCalendar=new G.a,this.dgvCalendar.CanUserAddRows=!0,this.dgvCalendar.Columns=[],this.dgvCalendar.Height=200,this.dgvCalendar.Width="",this.dgvCalendar.DBColumnName="ProdCalendar",this.dgvCalendar.OnCellEditEnding.Subscribe(this,"dgvCal_EndEdit");var u=new F.a;u.Header=s.a.GetResource("SNo"),u.DisplayMember="Sno",u.ReadOnly=!0,u.Width=80,u.DataType="INT",this.dgvCalendar.Columns.push(u),(u=new F.a).Header="From Date",u.DisplayMember="FromDate",u.Width=150,u.DataType="DATE",this.dgvCalendar.Columns.push(u),(u=new F.a).Header="To Date",u.DisplayMember="ToDate",u.Width=150,u.DataType="DATE",this.dgvCalendar.Columns.push(u),(u=new F.a).Header="Calendar",u.ValueBinding="Calendar",u.DataType="ComboBox",u.DisplayMember="Name",u.ValueMember="Value",u.Width=200;var C=[],m=s.a.common.GetDataTable("AECC002","");if(null!=m&&m.length>0)for(var S=0;S<m.length;S++)C.push(d.d.ComboBoxItems_2(m[S].Name.toString(),m[S].ProfileID.toString()));u.ComboData=C,this.dgvCalendar.Columns.push(u),this.dgvCalendar.Column=0,this.dgvCalendar.Row=0,this.dgvCalendar.ColumnSpan=4,this.dgvCalendar.RowSpan=5,this.dgvCalendar.Table=[],this.dgvCalendar.TableColumns.push("Sno"),this.dgvCalendar.TableColumns.push("FromDate"),this.dgvCalendar.TableColumns.push("FromDate_Key"),this.dgvCalendar.TableColumns.push("ToDate"),this.dgvCalendar.TableColumns.push("ToDate_Key"),this.dgvCalendar.TableColumns.push("Calendar"),this.dgvCalendar.TableColumns.push("Calendar_Key"),this.AddEmptyRows(this.dgvCalendar);var g=this.ScreenObject.CustomTab.Pages.find((function(e){return-2001==e.DBColumnID})),D=this.ScreenObject.CustomTab.Pages.indexOf(g);this.ScreenObject.CustomTab.Pages[D].Fields.push(this.dgvCalendar)}if(this.FillControls(),s.a.SessionManager.Preferences.ContainsKey("Report Template Dimension")&&""!=s.a.SessionManager.Preferences["Report Template Dimension"]&&this.CostCenterID==parseInt(s.a.SessionManager.Preferences["Report Template Dimension"])&&"TRUE"==s.a.SessionManager.Preferences.WEFINReportTemplate.toUpperCase()){var p=this.ScreenObject.GetCustomField("ccAlpha44");if(null!=p){var I=p.Items.find((function(e){return"Show Closing"==e.Value}));null!=I&&p.Items.Remove(I)}}else if(s.a.SessionManager.Preferences.ContainsKey("PackDimension")&&""!=s.a.SessionManager.Preferences.PackDimension&&this.CostCenterID==parseInt(s.a.SessionManager.Preferences.PackDimension)){if((t=this.ScreenObject.Data.Tables[0].filter((function(e){return"ccalpha46"==e.SysColumnName}))).length>0&&(this.DimLength=this.GetCustomField(parseInt(t[0].CostCenterColID)),null!=this.DimLength)){this.DimLength.TextChangedCommand.Subscribe(this,"onTextValueChanged");var T=0,A=this.ScreenObject.Data.Tables[5].filter((function(e){return"LengthDecimals"==e.Name}));null!=A&&A.length>0&&(T=n.e.IntTryParse(A[0].Value.toString())),this.DimLength.DecimalPoints=T.toString(),this.DimLength.LostFocusCommand.Subscribe(this,"onLostFocus")}if((t=this.ScreenObject.Data.Tables[0].filter((function(e){return"ccalpha47"==e.SysColumnName}))).length>0&&(this.DimWidth=this.GetCustomField(parseInt(t[0].CostCenterColID)),null!=this.DimWidth)){this.DimWidth.TextChangedCommand.Subscribe(this,"onTextValueChanged");var y=0,V=this.ScreenObject.Data.Tables[5].filter((function(e){return"WidthDecimals"==e.Name}));null!=V&&V.length>0&&(y=n.e.IntTryParse(V[0].Value.toString())),this.DimWidth.DecimalPoints=y.toString(),this.DimWidth.LostFocusCommand.Subscribe(this,"onLostFocus")}if((t=this.ScreenObject.Data.Tables[0].filter((function(e){return"ccalpha48"==e.SysColumnName}))).length>0&&(this.DimHeight=this.GetCustomField(parseInt(t[0].CostCenterColID)),null!=this.DimHeight)){this.DimHeight.TextChangedCommand.Subscribe(this,"onTextValueChanged");var M=0,P=this.ScreenObject.Data.Tables[5].filter((function(e){return"HeightDecimals"==e.Name}));null!=P&&P.length>0&&(M=n.e.IntTryParse(P[0].Value.toString())),this.DimHeight.DecimalPoints=M.toString(),this.DimHeight.LostFocusCommand.Subscribe(this,"onLostFocus")}if((t=this.ScreenObject.Data.Tables[0].filter((function(e){return"ccalpha49"==e.SysColumnName}))).length>0&&(this.DimVolume=this.GetCustomField(parseInt(t[0].CostCenterColID)),null!=this.DimVolume)){var N=0,O=this.ScreenObject.Data.Tables[5].filter((function(e){return"VolumeDecimals"==e.Name}));null!=O&&O.length>0&&(N=n.e.IntTryParse(O[0].Value.toString())),this.DimVolume.DecimalPoints=N.toString(),this.DimVolume.LostFocusCommand.Subscribe(this,"onLostFocus")}if((t=this.ScreenObject.Data.Tables[0].filter((function(e){return"ccalpha50"==e.SysColumnName}))).length>0&&(this.DimWeight=this.GetCustomField(parseInt(t[0].CostCenterColID)),null!=this.DimWeight)){var L=0,w=this.ScreenObject.Data.Tables[5].filter((function(e){return"WeightDecimals"==e.Name}));null!=w&&w.length>0&&(L=n.e.IntTryParse(w[0].Value.toString())),this.DimWeight.DecimalPoints=L.toString(),this.DimWeight.LostFocusCommand.Subscribe(this,"onLostFocus")}}if((t=this.ScreenObject.Data.Tables[5].filter((function(e){return"BinsDimension"==e.Name}))).length>0&&t[0].Value.toString()==this.CostCenterID.toString()){if((t=this.ScreenObject.Data.Tables[0].filter((function(e){return"ccalpha47"==e.SysColumnName}))).length>0&&(this.DimLength=this.GetCustomField(parseInt(t[0].CostCenterColID)),null!=this.DimLength)){this.DimLength.TextChangedCommand.Subscribe(this,"onTextValueChanged");var v=0,E=this.ScreenObject.Data.Tables[5].filter((function(e){return"LengthDecimals"==e.Name}));null!=E&&E.length>0&&(v=n.e.IntTryParse(E[0].Value.toString())),this.DimLength.DecimalPoints=v.toString(),this.DimLength.LostFocusCommand.Subscribe(this,"onLostFocus")}if((t=this.ScreenObject.Data.Tables[0].filter((function(e){return"ccalpha48"==e.SysColumnName}))).length>0&&(this.DimWidth=this.GetCustomField(parseInt(t[0].CostCenterColID)),null!=this.DimWidth)){this.DimWidth.TextChangedCommand.Subscribe(this,"onTextValueChanged");var x=0,R=this.ScreenObject.Data.Tables[5].filter((function(e){return"WidthDecimals"==e.Name}));null!=R&&R.length>0&&(x=n.e.IntTryParse(R[0].Value.toString())),this.DimWidth.DecimalPoints=x.toString(),this.DimWidth.LostFocusCommand.Subscribe(this,"onLostFocus")}if((t=this.ScreenObject.Data.Tables[0].filter((function(e){return"ccalpha49"==e.SysColumnName}))).length>0&&(this.DimHeight=this.GetCustomField(parseInt(t[0].CostCenterColID)),null!=this.DimHeight)){this.DimHeight.TextChangedCommand.Subscribe(this,"onTextValueChanged");var H=0,_=this.ScreenObject.Data.Tables[5].filter((function(e){return"HeightDecimals"==e.Name}));null!=_&&_.length>0&&(H=n.e.IntTryParse(_[0].Value.toString())),this.DimHeight.DecimalPoints=H.toString(),this.DimHeight.LostFocusCommand.Subscribe(this,"onLostFocus")}if((t=this.ScreenObject.Data.Tables[0].filter((function(e){return"ccalpha50"==e.SysColumnName}))).length>0&&(this.DimVolume=this.GetCustomField(parseInt(t[0].CostCenterColID)),null!=this.DimVolume)){var k=0,B=this.ScreenObject.Data.Tables[5].filter((function(e){return e.Name="VolumeDecimals"}));null!=B&&t.length>0&&(k=n.e.IntTryParse(B[0].Value.toString())),this.DimVolume.DecimalPoints=k.toString(),this.DimVolume.LostFocusCommand.Subscribe(this,"onLostFocus")}}if(""!=s.a.SessionManager.Preferences["CRM-Products"].toString()&&"0"!=s.a.SessionManager.Preferences["CRM-Products"].toString()&&parseInt(s.a.SessionManager.Preferences["CRM-Products"])==this.CostCenterID){var X=s.a.common.GetDataSet("ACCVM004","");if(null==X||0==X.Tables.length||0==X.Tables[0].length||"0"==X.Tables[0][0][0].toString())return;this.ProfileID=parseInt(X.Tables[0][0][0]);var W=new f.b;W.Name="Mapping",W.Header="Mapping",W.DBColumnID=-2e3,this.ScreenObject.CustomTab.Pages.push(W),this.ScreenObject.CustomTab.Pages.forEach((function(t){switch(t.Name){case"Mapping":t.Fields.push(e.MappingVM)}}))}Logger.InfoLog("OnLoad::Leaving OnLoad")}},{key:"AddEmptyRows",value:function(e){for(var t=0;t<=10;t++){var i=e.NewRow();i.SNo=(t+1).toString(),e.Table.push(i)}}},{key:"dgvCal_EndEdit",value:function(e,t,i){}},{key:"GetCustomField",value:function(e){return this.ScreenObject.CustomTab.Pages.forEach((function(t){var i=t.Fields.find((function(t){return t instanceof I.c&&t.DBColumnID==e}));if(null!=i&&i instanceof C.d)return i})),null}},{key:"onTextValueChanged",value:function(e){var t=0,i=0,s=0;null!=this.DimLength&&(t=n.e.DoubleTryParse(this.DimLength.Text)),null!=this.DimWidth&&(i=n.e.DoubleTryParse(this.DimWidth.Text)),null!=this.DimHeight&&(s=n.e.DoubleTryParse(this.DimHeight.Text)),null!=this.DimVolume&&(this.DimVolume.Text=(t*i*s).toString())}},{key:"onLostFocus",value:function(e){var t=0;t=n.e.DoubleTryParse(e.Text),e.Text=t.ToString("N"+e.DecimalPoints),this.ScreenObject.onTextBoxLostFocus(e)}},{key:"LoadImageDimensions",value:function(){var e=new p.b;e.Row=0;var t=90,i=this.ScreenObject.Data.Tables[5].filter((function(e){return"ImageDimensions"==e.Name}));if(i.length>0&&""!=i[0].Value.toString()&&i[0].Value.toString().Trim(" ").startsWith("<")){var s=new n.f;s.LoadXml(i[0].Value.toString()),this.ImageVisibility=null==s.DocumentElement.attributes.ShowImage||"0"!=s.DocumentElement.attributes.ShowImage.value,e.RowSpan=null!=s.DocumentElement.attributes.RowSpan&&""!=s.DocumentElement.attributes.RowSpan.value?s.DocumentElement.attributes.RowSpan.value:"3",e.ColumnSpan=null!=s.DocumentElement.attributes.ColumnSpan&&""!=s.DocumentElement.attributes.ColumnSpan.value?s.DocumentElement.attributes.ColumnSpan.value:"1",e.Column=1==e.ColumnSpan?3:2==e.ColumnSpan?2:3==e.ColumnSpan?1:4==e.ColumnSpan?0:3,t=this.AccountPhoto.length>0?45*e.RowSpan:45*e.RowSpan-20,e.ImageHeight=t.toString()}else e.RowSpan=3,e.Column=3,e.ColumnSpan=1,e.ImageHeight=t.toString()}},{key:"AutoGenerateCode",value:function(){if(0==this.NodeID)if(this.Group.SelectedValue>0&&(this.GroupID=this.Group.SelectedValue),null!=this.ScreenObject.Data&&this.ScreenObject.Data.Tables.length>7){if(this.ScreenObject.SetAutoCode(this.Code,this.objCostCenter.IsGroup,this.GroupID,this.ScreenObject.Data.Tables[7]),this.ScreenObject.IsAutoName){this.ScreenObject.IsNameAutoGenerate=!0,this.Name.Enable=!1;var e=this.ScreenObject.Data.Tables[7];e=e.filter((function(e){return 1==e.IsName})),this.ScreenObject.IsName=!0,e.length>0&&(this.Name.Text=this.ScreenObject.SetAutoCodeParams_1(this.Name,this.GroupID,e))}}else this.ScreenObject.GetCodeParams(this.ScreenObject.Data.Tables[7])}},{key:"FillControls",value:function(){if(Logger.InfoLog("AddEditAccountScreenViewModel::Entering FillData"),0!=this.NodeID){if(this.NextPrevID=this.NodeID,this.objCostCenter.NodeID=this.NodeID,this.ds=s.a.common.GetCostCenterDetails(0,this.CostCenterID,this.objCostCenter.NodeID,0),Object.assign(this.objCostCenter,this.ds.obj),this.AccountPhoto="",this.ActualFileName="",this.ThumbnailPhoto="",this.Code.Text=this.objCostCenter.Code,this.Code.Code=this.objCostCenter.Code,this.ScreenObject.IsAutoName&&(this.Name.Enable=!1),this.Name.Text=this.objCostCenter.Name,this.AliasName.Text=this.objCostCenter.AliasName,this.Status.SelectedValue=this.objCostCenter.Status.toString(),this.CreditDays.Text=this.objCostCenter.CreditDays.toString(),this.CreditLimit.Text=this.objCostCenter.CreditLimit.toString(),this.DebitDays.Text=this.objCostCenter.DebitDays.toString(),this.DebitLimit.Text=this.objCostCenter.DebitLimit.toString(),this.SalesAccount.SelectedValue=this.objCostCenter.SalesAccount,this.PurchaseAccount.SelectedValue=this.objCostCenter.PurchaseAccount,this.Group.SelectedValue=this.objCostCenter.ParentID,this.Group.Enable=!1,this.CurrencyID.SelectedValue=this.objCostCenter.CurrencyID>0?this.objCostCenter.CurrencyID:0,this.ScreenObject.LoadCustomFieldsData(this.ds.Tables[0],!1,this.ds.Tables[13]),this.ds.Tables.length>7?this.ScreenObject.LoadCustomFieldsCCData(this.ds.Tables[7],this.ds.Tables[13]):this.ScreenObject.LoadCustomFieldsCCData(this.ds.Tables[5]),null!=this.PContact&&this.PContact.LoadContacts(this.ds.Tables[4]),this.ViewCCMapping.LoadData(this.ds.Tables[5],this.ds.Columns[5]),this.ViewContacts.LoadContacts(this.ds.Tables[1],this.ds.Columns[1]),this.ViewAttachments.LoadAttachments(this.ds.Tables[3]),this.ViewNotes.LoadNotes(this.ds.Tables[2]),this.ViewAddress.LoadContacts(this.ds.Tables[6]),null!=this.ScreenObject.StatusAssignGrid&&this.ScreenObject.StatusAssignGrid.Load(this.ds.Tables[14]),this.ScreenObject.CanApprove(this.ds.Tables[0][0],this.ds.Tables[11][0],this.ButtonSave),1004==this.objCostCenter.Status&&null==this.Status.Items.find((function(e){return"1004"==e.Value}))&&(this.Status.Items.push(d.d.ComboBoxItems_2("Suspended","1004")),this.Status.Enable=!1,this.Status.SelectedValue="",this.Status.SelectedValue=this.objCostCenter.Status.toString()),s.a.SessionManager.Preferences.ContainsKey("ProjectManagementDimension")&&this.PactScreenID==s.a.SessionManager.Preferences.ProjectManagementDimension&&(this.SetProjectActions(),this.Status.Enable=!1,this.ViewProgress.LoadNotes(this.ds.Tables[2])),null!=this.JobsOutput&&this.JobsOutput.LoadData(this.ds.Tables[12],this.ds.Columns[12]),this.IsMRP2MachineDim&&null!=this.dgvCalendar){this.dgvCalendar.Table.Clear();var e=s.a.common.GetDataTable("AECC003",this.NodeID.toString());if(null!=e&&e.length>0)for(var t,i=0;i<e.length;i++)(t=this.dgvCalendar.NewRow()).SNo=(i+1).toString(),t.FromDate=new Date(e[i].FromDate).ToString(s.a.SessionManager.Preferences["Date Format"]),t.FromDate_Key=new Date(e[i].FromDate),t.ToDate=new Date(e[i].ToDate).ToString(s.a.SessionManager.Preferences["Date Format"]),t.ToDate_Key=new Date(e[i].ToDate),t.Calendar=parseInt(e[i].CalendarProfileID),this.dgvCalendar.Table.push(t);this.dgvCalendar.AddExtraEmptyRows(5)}var a=this.ds.Tables[3].filter((function(e){return"true"==e.IsProductImage&&"true"==e.IsDefaultImage}));a.length>0?(this.PhotoTextVisibility=!1,this.FileID=parseInt(a[0].FileID),this.AccountPhoto=n.e.GetPath(a[0].GUID.toString()+"."+a[0].FileExtension.toString()),this.ActualFileName=a[0].ActualFileName.toString()):(this.FileID=0,this.PhotoTextVisibility=!0),s.a.SessionManager.IsOffline&&this.NodeID>0&&(this.ButtonSave.Visible=!1)}else this.objCostCenter.GUID="";this.AutoGenerateCode(),Logger.InfoLog("AddEditAccountScreenViewModel::Exiting FillData")}},{key:"SetProjectActions",value:function(){"472"==this.Status.SelectedValue?(this.StartVisible=!0,this.StopVisible=!1,this.HoldVisible=!1,this.ReOpenVisible=!1):"473"==this.Status.SelectedValue?(this.StartVisible=!1,this.StopVisible=!1,this.HoldVisible=!1,s.a.SessionManager.IsActionAssigned(this.CostCenterID,"Re-Open")&&(this.ReOpenVisible=!0)):"474"==this.Status.SelectedValue?(this.StartVisible=!0,this.StopVisible=!1,this.HoldVisible=!1,this.ReOpenVisible=!1):"475"==this.Status.SelectedValue&&(this.StartVisible=!1,this.StopVisible=!0,this.HoldVisible=!0,this.ReOpenVisible=!1)}},{key:"GetColumnDefDataset",value:function(e){try{var t=this.objCostCenter.GetColumnDefination(this.PactScreenID,s.a.SessionManager.CompanyIndex);if(null!=t&&t.Tables[0].length>0)for(var i=0;i<t.Tables[0].length;i++)this.ht.ContainsKey(t.Tables[0][i].SYSCOLUMNNAME.toString())||this.ht.Add(t.Tables[0][i].SYSCOLUMNNAME.toString(),t.Tables[0][i].COSTCENTERCOLID.toString())}catch(n){Logger.ErrorLog("AddCostCenterViewModel:: GetColumnDefination "+n.stack)}}},{key:"BuildControls",value:function(){Logger.InfoLog("AddCostCenterViewModel::Entering BuildControls");try{return(new A.a).GetControls(this.PactScreenID,s.a.SessionManager.CompanyIndex)}catch(e){return Logger.ErrorLog("AddCostCenterViewModel:: BuildControls"+e.stack),null}}},{key:"OnShowCC",value:function(){Logger.InfoLog("AddProductViewModel::Entering OnShowNote"),Logger.InfoLog("AddProductViewModel::Exiting OnShowNote")}},{key:"onSave",value:function(){Logger.InfoLog("AddProductViewModel::Entering onSavecc"),Logger.InfoLog("AddProductViewModel::Entering onSavecc")}},{key:"OnNameLostFocus",value:function(e){if(!n.e.StringIsNullOrEmpty(this.Name.Text)){var t=s.a.accounting.CheckDuplicateName(this.CostCenterID,this.NodeID,this.Name.Text,0,this.objCostCenter.IsGroup);t.length>0&&(this.DisplayMessage=t)}this.ScreenObject.onTextBoxLostFocus(e)}},{key:"LoadParentData",value:function(){if(0==this.NodeID&&0!=this.GroupID&&!this.objCostCenter.IsGroup){var e=this.ScreenObject.Data.Tables[5].filter((function(e){return"Copygroupdatatonode"==e.Name}));if(0!=e.length&&""!=e[0].Value.toString()&&Object(a.j)(e[0].Value)){var t=s.a.common.GetCopyNodeDetails(this.objCostCenter.CostCenterID,this.GroupID);0!=t.Tables[0].length&&(this.Status.SelectedValue=t.Tables[0][0].StatusID.toString(),this.CreditDays.Text=t.Tables[0][0].CreditDays.toString(),this.CreditLimit.Text=t.Tables[0][0].CreditLimit.toString(),this.DebitDays.Text=null!=t.Tables[0][0].DebitDays&&""!=t.Tables[0][0].DebitDays.toString()?t.Tables[0][0].DebitDays.toString():"0",this.DebitLimit.Text=null!=t.Tables[0][0].DebitLimit&&""!=t.Tables[0][0].DebitLimit.toString()?t.Tables[0][0].DebitLimit.toString():"0",""!=t.Tables[0][0].SalesAccount.toString()&&(this.SalesAccount.SelectedValue=parseInt(t.Tables[0][0].SalesAccount.toString())),""!=t.Tables[0][0].PurchaseAccount.toString()&&(this.PurchaseAccount.SelectedValue=parseInt(t.Tables[0][0].PurchaseAccount.toString())),""!=n.e.StringValue(t.Tables[0][0].CurrencyID)&&(this.CurrencyID.SelectedValue=parseInt(t.Tables[0][0].CurrencyID.toString())),this.ScreenObject.LoadCustomFieldsData(t.Tables[0]),this.ScreenObject.LoadCustomFieldsCCData(t.Tables.length>7?t.Tables[7]:t.Tables[5]))}}}},{key:"OnDeleteCallBack",value:function(){}},{key:"RefreshTitle",value:function(){this.objCostCenter.IsGroup?(this.ScreenName=0==this.NodeID?this.TempscreenTitle.Contains("Add")?this.TempscreenTitle+" Group":"Add "+this.TempscreenTitle+" Group":this.TempscreenTitle.Contains("Edit")?this.TempscreenTitle+" Group":"Edit "+this.TempscreenTitle+" Group",s.a.SessionManager.HideUnathorizedAccess?this.ButtonSave.Visible=s.a.SessionManager.IsActionAssigned(this.CostCenterID,"Create Group"):this.ButtonSave.Enable=s.a.SessionManager.IsActionAssigned(this.CostCenterID,"Create Group")):0==this.NodeID?(this.ScreenName=this.TempscreenTitle.Contains("Add")?this.TempscreenTitle:"Add "+this.TempscreenTitle,s.a.SessionManager.HideUnathorizedAccess?this.ButtonSave.Visible=s.a.SessionManager.IsActionAssigned(this.CostCenterID,"Create"):this.ButtonSave.Enable=s.a.SessionManager.IsActionAssigned(this.CostCenterID,"Create")):(this.ScreenName=this.TempscreenTitle.Contains("Edit")?this.TempscreenTitle:"Edit "+this.TempscreenTitle,s.a.SessionManager.HideUnathorizedAccess?this.ButtonSave.Visible=s.a.SessionManager.IsActionAssigned(this.CostCenterID,"Update"):this.ButtonSave.Enable=s.a.SessionManager.IsActionAssigned(this.CostCenterID,"Update")),this.DisplayName=this.ScreenName}}]),i}(M.b)}}]);