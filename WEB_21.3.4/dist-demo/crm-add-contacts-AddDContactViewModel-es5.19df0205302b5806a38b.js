function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var i,s=_getPrototypeOf(t);if(e){var n=_getPrototypeOf(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{"13BN":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var s=i("Do2H"),n=i("Lp6j"),a=function(){function t(){_classCallCheck(this,t),this.PreferredID=0,this.AccountID=0,this.CustomerID=0,this.DetailContactID=0,this.FeatureID=0,this.FeatureNodeID=0,this.SelectedNodeID=0,this.IsEmail=!1,this.IsBulkMail=!1,this.IsMail=!1,this.IsPhone=!1,this.IsFax=!1,this.IsGroup=!1,this.ActivityXml=""}return _createClass(t,[{key:"SaveDContact",value:function(){0==this.DetailContactID&&(this.GUID=n.e.NewGuid());var t=[];return t.push(this.FeatureID),t.push(this.FeatureNodeID),t.push(this.AccountID),t.push(this.CustomerID),t.push(this.DetailContactID),t.push(this.FName),t.push(this.MName),t.push(this.LName),t.push(this.XML),t.push(this.Status),t.push(this.IsGroup),t.push(!1),t.push(this.CCMapXML),t.push(this.AttachmetsXML),t.push(this.NotesXML),t.push(this.ActivityXml),t.push(this.CustomFieldsQuery),t.push(this.CustomCostCenterFieldsQuery),t.push(this.SelectedNodeID),t.push(s.a.SessionManager.CompanyGUID),t.push(this.GUID),t.push(s.a.SessionManager.UserName),t.push(s.a.SessionManager.RoleID),t.push(s.a.SessionManager.LanguageID),s.a.crmService.SaveDContact(t)}},{key:"GetContactDetails",value:function(){var t=[];t.push(this.DetailContactID),t.push(s.a.SessionManager.UserID),t.push(s.a.SessionManager.RoleID),t.push(s.a.SessionManager.LanguageID);var e="?param="+JSON.stringify(t);return s.a.crmService.GetContactDetails(e)}},{key:"GetContactSearchDetails",value:function(t){Logger.InfoLog("DContact:: Inside GetContactDetails");var e=[];e.push(t),e.push(s.a.SessionManager.UserID),e.push(s.a.SessionManager.LanguageID);var i="?param="+JSON.stringify(e),n=s.a.crmService.GetContactSearchDetails(i);return Logger.InfoLog("DContact:: Success: BaseService.crmService.GetContactDetails "+t.toString()),n}},{key:"DeleteContact",value:function(t){Logger.InfoLog("Contact:: Entering DeleteContact");try{var e=[];return e.push(t),e.push(s.a.SessionManager.RoleID),Logger.InfoLog("Asset:: Exiting DeleteContact"),s.a.crmService.DeleteContact(e)}catch(i){return Logger.ErrorLog("Contact::DeleteContact"+i.stack),""}}}]),t}()},"2mtM":function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var s=i("Do2H"),n=i("Lp6j"),a=i("ScVY"),r=i("8B8H"),o=i("ockk"),h=function(t){_inherits(i,t);var e=_createSuper(i);function i(t){var s;_classCallCheck(this,i),(s=e.call(this)).ListObj=new r.a,s.ColumnSpan="4",s.Parent=t,s.ListObj.Table=[],s.ListObj.Columns=[],s.ListObj.ColumnSpan=4,s.ListObj.TableColumns.push("AssignFrom"),s.ListObj.TableColumns.push("AssignTo"),s.ListObj.TableColumns.push("Date"),s.ListObj.TableColumns.push("Time");var n=new o.a;return n.Header="Assign From",n.DisplayMember="AssignFrom",n.Width=250,n.ReadOnly=!0,s.ListObj.Columns.push(n),(n=new o.a).Header="AssignTo",n.DisplayMember="AssignTo",n.Width=250,n.ReadOnly=!0,s.ListObj.Columns.push(n),(n=new o.a).Header="Date",n.DisplayMember="Date",n.Width=250,n.ReadOnly=!0,s.ListObj.Columns.push(n),(n=new o.a).Header="Time",n.DisplayMember="Time",n.Width=250,n.ReadOnly=!0,s.ListObj.Columns.push(n),s}return _createClass(i,[{key:"LoadHistroy_1",value:function(t,e){try{this.ListObj.Clear()}catch(i){Logger.InfoLog("ViewAssignHistroyViewModel::Exiting LoadHistroy")}Logger.InfoLog("ViewAssignHistroyViewModel::Exiting LoadHistroy")}},{key:"LoadHistroy_2",value:function(t){try{if(this.ListObj.Clear(),null!=t&&t.length>0)for(var e=0;e<t.length;e++){var i=this.ListObj.NewRow();i.AssignFrom=t[e].ASSIGNEDFROM.toString(),i.AssignTo=t[e].ASSIGNEDTO.toString(),i.Date=new Date(t[e].DATE).ToString(s.a.SessionManager.Preferences["Date Format"].toString()),n.e.IsEmpty(t[e].TIME.toString())||(i.Time=new Date(t[e].TIME).ToString("hh:mm:ss tt")),this.ListObj.addRow(i)}}catch(a){}}}]),i}(a.b)},EggS:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var s=i("Do2H"),n=i("Lp6j"),a=i("eQJW"),r=function(){function t(){_classCallCheck(this,t),this.CustomerID=0,this.CustomerTypeID=0,this.StatusID=0,this.AccountID=0,this.ParentID=0,this.SelectedNodeID=0,this.CodeNumber=0,this.IsGroup=!1,this.CreditDays=0,this.CreditLimit=0,this.DebitDays=0,this.Debitlimit=0,this.IsCode=!1,this.ActivityXml="",this.CCXML=""}return _createClass(t,[{key:"SaveCustomerQuick",value:function(){try{var t=[];return t.push(this.CustomerID),t.push(null!=this.CustomerCode?this.CustomerCode:""),t.push(null!=this.CustomerName?this.CustomerName:""),t.push(this.StatusID),t.push(this.CodePrefix),t.push(this.CodeNumber),t.push(this.StaticFieldsQuery),t.push(this.CustomFieldsQuery),t.push(this.CustomCostCenterFieldsQuery),t.push(s.a.SessionManager.CompanyGUID),t.push(this.GUID),t.push(""),t.push(s.a.SessionManager.UserName),t.push(s.a.SessionManager.RoleID),t.push(s.a.SessionManager.LanguageID),s.a.crmService.SetCustomerQuick(t)}catch(e){return Logger.ErrorLog("Account:: SaveAccountQuick"+e.stack),""}}},{key:"SaveCustomer",value:function(){Logger.InfoLog("Customer:: Inside SaveCustomer");try{0==this.CustomerID&&(this.GUID=n.e.NewGuid());var t=[];return t.push(this.CustomerID),t.push(null!=this.CustomerCode?this.CustomerCode:""),t.push(null!=this.CustomerName?this.CustomerName:""),t.push(null!=this.AliasName?this.AliasName:""),t.push(this.CustomerTypeID),t.push(this.StatusID),t.push(this.AccountID),t.push(this.SelectedNodeID),t.push(this.IsGroup),t.push(this.CreditDays),t.push(this.CreditLimit),t.push(null!=this.UserName?this.UserName:""),t.push(null!=this.Password?this.Password:""),t.push(null!=this.OnlineCustType?this.OnlineCustType:""),t.push(s.a.SessionManager.CompanyGUID),t.push(null!=this.GUID?this.GUID:"GUID"),t.push(""),t.push(s.a.SessionManager.UserName),t.push(this.CustomFieldsQuery),t.push(this.CustomCostCenterFieldsQuery),t.push(this.ContactsXML),t.push(this.AttachmetsXML),t.push(this.NotesXML),t.push(this.AddressXML),t.push(this.ActivityXml),t.push(this.CCXML),t.push(!1),t.push(null==this.PrimaryContactQuery?"":this.PrimaryContactQuery),t.push(s.a.SessionManager.RoleID),t.push(s.a.SessionManager.LanguageID),t.push(null!=this.CodePrefix?this.CodePrefix:""),t.push(this.CodeNumber),t.push(this.IsCode),s.a.crmService.SaveCustomer(t)}catch(e){return Logger.ErrorLog("Customer:: SaveCustomer"+e.stack),""}}},{key:"GetCustomerDetails",value:function(){var t=s.a.crmService.GetCustomerInfo("?UserID="+s.a.SessionManager.UserID+"&RoleID="+s.a.SessionManager.RoleID+"&LangID="+s.a.SessionManager.LangID+"&CustomerID="+this.CustomerID);return!t.Columns[0].Contains("ErrorMessage")&&t.Tables.length>0&&t.Tables[0].length>0&&(this.CustomerID=parseInt(t.Tables[0][0].CustomerID),this.CustomerCode=n.e.String(t.Tables[0][0].CustomerCode),this.CustomerName=n.e.String(t.Tables[0][0].CustomerName),this.AliasName=n.e.String(t.Tables[0][0].AliasName),n.e.IsEmpty(t.Tables[0][0].CustomerTypeID)||(this.CustomerTypeID=parseInt(t.Tables[0][0].CustomerTypeID)),this.StatusID=parseInt(t.Tables[0][0].StatusID),n.e.IsEmpty(t.Tables[0][0].AccountID)||(this.AccountID=parseInt(t.Tables[0][0].AccountID)),this.IsGroup=Object(a.j)(t.Tables[0][0].IsGroup),n.e.IsEmpty(t.Tables[0][0].CreditDays)||(this.CreditDays=parseInt(t.Tables[0][0].CreditDays)),n.e.IsEmpty(t.Tables[0][0].CreditLimit)||(this.CreditLimit=parseFloat(t.Tables[0][0].CreditLimit)),this.ParentID=parseInt(t.Tables[0][0].ParentID),this.GUID=n.e.String(t.Tables[0][0].GUID),this.Description=n.e.String(t.Tables[0][0].Description),this.CodePrefix=n.e.String(t.Tables[0][0].CodePrefix),this.UserName=n.e.String(t.Tables[0][0].UserName),this.OnlineCustType=n.e.String(t.Tables[0][0].OnlineCustType),this.Password=n.e.String(t.Tables[0][0].Password),n.e.IsEmpty(t.Tables[0][0].CodeNumber)||(this.CodeNumber=parseInt(t.Tables[0][0].CodeNumber))),t}},{key:"DeleteCustomer",value:function(t,e){try{var i=[];return i.push(t),i.push(e),i.push(s.a.SessionManager.RoleID),i.push(s.a.SessionManager.LanguageID),Logger.InfoLog("Customer:: Success: DBH.DeleteCustomer "+t.toString()),s.a.crmService.RemoveCustomer(i)}catch(n){return Logger.ErrorLog("LEAD::DeleteLead"+n.stack),""}}}]),t}()},wJuo:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var s=i("Do2H"),n=i("Lp6j"),a=i("eQJW"),r=i("4HhE"),o=i("OvA8"),h=i("xnJf"),l=function(){function t(){_classCallCheck(this,t),this.parent=null,this.SubmitClick=new r.b,this._AttachmentVisibility=!1,this.ClassName="PopupAttachmentsViewModel"}return _createClass(t,[{key:"OnShowAttachment",value:function(){Logger.InfoLog("AddProductViewModel::Entering OnShowAttachment"),Logger.InfoLog("AddProductViewModel::Exiting OnShowAttachment")}},{key:"OnAddAttachment",value:function(){Logger.InfoLog("AddProductViewModel::Entering AddAttachment"),this.Attachment=new h.AddAttachmentViewModel,this.Attachment.AddAttachmentViewModel_2(this),Logger.InfoLog("AddProductViewModel::Entering AddAttachment")}},{key:"PopupAttachmentsViewModel_1",value:function(t,e,i){var s,r,l,u=this;this.parent=i,this.AttachmentVisibility=!0,this.OnAddAttachment(),this.CostCenterID=t,this.NID=e,this._ViewAttachments=new o.ViewAttachmentViewModel(this),this.SubmitClick.Subscribe(this,"ListAttachments");var c=0,m="",p="";if("AddProductScreenViewModel"==(null===(s=this.parent)||void 0===s?void 0:s.ClassName)?(c=i.FileID,m=i.ProductPhoto,p=i.FileDescription):"AddEditAccountViewModel"==(null===(r=this.parent)||void 0===r?void 0:r.ClassName)||"AddUsersViewModel"==(null===(l=this.parent)||void 0===l?void 0:l.ClassName)?(c=i.FileID,m=i.AccountPhoto):(c=this.parent.FileID,m=this.parent.AccountPhoto,p=this.parent.FileDescription),null!=i){if(!n.e.IsEmpty(m)){var d=new h.AddAttachmentViewModel;if(d.AddAttachmentViewModel_2(this),d.AttachmentID=c,c>0){var A=null;"AddProductScreenViewModel"==this.parent.ClassName||"AddEditAccountViewModel"==this.parent.ClassName?A=i.ds.Tables[4].filter((function(t){return t.FileID==c})):"AddUsersViewModel"==this.parent.ClassName||"AddCostCenterViewModel"==this.parent.ClassName?A=this.parent.ds.Tables[3].filter((function(t){return t.FileID==c})):"AddEditEmpMasterViewModel"==this.parent.ClassName?A=this.parent.dsEdit.Tables[3].filter((function(t){return t.FileID==c})):"AddEditPropertyViewModel"==i.ClassName?A=i.ds.Tables[18].filter((function(t){return t.FileID==c})):"AddEditUnitsViewModel"==i.ClassName?A=i.ds.Tables[6].filter((function(t){return t.FileID==c})):"AddEditTenantViewModel"==i.ClassName&&(A=i.Dset.Tables[4].filter((function(t){return t.FileID==c}))),A.length>0&&(d.ActualFileName=A[0].ActualFileName.toString(),d.FileExtension=A[0].FileExtension.toString(),d.FileDescription=A[0].FileDescription.toString(),d.FilePath="",d.Guid=A[0].GUID.toString(),d.RelativeFileName=A[0].RelativeFileName.toString(),d.MainFilePath=A[0].FilePath.toString(),d.IsProductImage=!0,d.IsDefaultImage=!0,d.IsDefaultImageVisible=!0,d.CancelVisible=!1,d.Guid=A[0].GUID.toString(),n.e.hasprop(A[0],"HasThumb")&&(d.HasThumb=Object(a.j)(A[0].HasThumb)))}else{d.FilePath=m,d.MainFilePath=m,d.RelativeFileName=m,d.ActualFileName=d.FilePath.substr(d.FilePath.lastIndexOf("\\")+1);var I=d.FilePath.split("."),g="";I.length>1&&(g=I[I.length-1]),d.FileExtension=g,d.FileDescription=p,d.IsProductImage=!0,d.IsDefaultImage=!0,d.IsDefaultImageVisible=!0,d.CancelVisible=!1,d.Guid=this.parent.guid}this.ViewAttachments.AttachmentsList.push(d)}var D=[];(n.e.IsType(i,"IAttachment")||n.e.hasprop(i,"ViewAttachments"))&&(D=this.parent.ViewAttachments.AttachmentsList),D.forEach((function(t){if(t.IsProductImage){var e=new h.AddAttachmentViewModel;e.AddAttachmentViewModel_2(u),e.AttachmentID=t.AttachmentID,e.ActualFileName=t.ActualFileName,e.FileExtension=t.FileExtension,e.FileDescription=t.FileDescription,e.MainFilePath=t.MainFilePath,e.FilePath=t.FilePath,e.Guid=t.guid,e.RelativeFileName=t.RelativeFileName,e.IsProductImage=t.IsProductImage,e.IsDefaultImage=t.IsDefaultImage,e.IsDefaultImageVisible=!0,e.HasThumb=t.HasThumb,u.ViewAttachments.AttachmentsList.push(e)}}))}}},{key:"ListAttachments",value:function(t){var e=this;if("Submit"==t.toString()){if("AddProductScreenViewModel"==this.parent.ClassName){var i=0;this.ViewAttachments.AttachmentsList.forEach((function(t){var s=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.RelativeFileName==t.RelativeFileName}));t.IsDefaultImage?(i++,null!=s&&s.length>0&&e.parent.ViewAttachments.AttachmentsList.Remove(s),(n.e.IsEmpty(t.FilePath)||e.parent.ProductPhoto==t.FilePath)&&e.parent.ProductPhoto.Contains(n.e.GetPath(t.guid+"."+t.FileExtension))||(e.parent.FileID=t.AttachmentID,e.parent.ProductPhoto=n.e.IsEmpty(t.guid)?t.FilePath:n.e.GetPath(t.guid+"."+t.FileExtension),e.parent.ActualFileName=t.ActualFileName,e.parent.ThumbnailPhoto=t.ThumbnailPhoto,e.parent.guid=t.guid,e.parent.Guid=t.guid,e.parent.FileExtension=t.FileExtension,e.parent.IsPhotoChanged=!0,e.parent.PhotoTextVisibility=!1,e.parent.DisplayMessage="",e.parent.MessageVisibility=!1,e.parent.FileDescription=t.FileDescription),t.IsModified=!0):null==s||0==s.length?(t.AttachmentID>0?(t.IsModified=!0,null!=(s=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.AttachmentID==t.AttachmentID})))&&e.parent.ViewAttachments.AttachmentsList.Remove(s)):(t.IsModified=!1,t._Flg=!0),e.parent.ViewAttachments.AttachmentsList.push(t)):(s.FileDescription=t.FileDescription,s.IsModified=!0)})),0==i&&(this.parent.ProductPhoto="",this.parent.ActualFileName="",this.parent.ThumbnailPhoto="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.DialogResult=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage="",this.parent.FileDescription=""),this.ViewAttachments.DeletedAttachments.forEach((function(t){e.parent.ViewAttachments.DeletedAttachments.push(t);var i=e.parent.ViewAttachments.AttachmentsList.find((function(e){return e.AttachmentID==t.AttachmentID}));null!=i&&e.parent.ViewAttachments.AttachmentsList.Remove(i)}))}else if("AddEditAccountViewModel"==this.parent.ClassName){var a=0;this.ViewAttachments.AttachmentsList.forEach((function(t){var i=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.RelativeFileName==t.RelativeFileName}));t.IsDefaultImage?(a++,null!=i&&i.length>0&&e.parent.ViewAttachments.AttachmentsList.Remove(i),(n.e.IsEmpty(t.FilePath)||e.parent.AccountPhoto==t.FilePath)&&e.parent.AccountPhoto.Contains(n.e.GetPath(t.guid+"."+t.FileExtension))||(e.parent.FileID=t.AttachmentID,e.parent.AccountPhoto=n.e.IsEmpty(t.guid)?t.FilePath:n.e.GetPath(t.guid+"."+t.FileExtension),e.parent.ActualFileName=t.ActualFileName,e.parent.guid=t.guid,e.parent.Guid=t.guid,e.parent.FileExtension=t.FileExtension,e.parent.IsPhotoChanged=!0,e.parent.PhotoTextVisibility=!1,e.parent.DisplayMessage="",e.parent.MessageVisibility=!1),t.IsModified=!0):null==i||0==i.length?(t.AttachmentID>0?(t.IsModified=!0,null!=(i=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.AttachmentID==t.AttachmentID})))&&e.parent.ViewAttachments.AttachmentsList.Remove(i)):(t.IsModified=!1,t._Flg=!0),e.parent.ViewAttachments.AttachmentsList.push(t)):(i.FileDescription=t.FileDescription,i.IsModified=!0)})),0==a&&(this.parent.AccountPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage=""),this.ViewAttachments.DeletedAttachments.forEach((function(t){e.parent.ViewAttachments.DeletedAttachments.push(t);var i=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.AttachmentID==t.AttachmentID}));null!=i&&e.parent.ViewAttachments.AttachmentsList.Remove(i)}))}else if("AddUsersViewModel"==this.parent.ClassName){var r=0;this.ViewAttachments.AttachmentsList.forEach((function(t){var i=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.RelativeFileName==t.RelativeFileName}));t.IsDefaultImage?(r++,null!=i&&i.length>0&&e.parent.ViewAttachments.AttachmentsList.Remove(i),(n.e.IsEmpty(t.FilePath)||e.parent.AccountPhoto==t.FilePath)&&e.parent.AccountPhoto.Contains(n.e.GetPath(t.guid+"."+t.FileExtension))||(e.parent.FileID=t.AttachmentID,e.parent.AccountPhoto=n.e.IsEmpty(t.guid)?t.FilePath:n.e.GetPath(t.guid+"."+t.FileExtension),e.parent.ActualFileName=t.ActualFileName,e.parent.IsPhotoChanged=!0,e.parent.PhotoTextVisibility=!1,e.parent.DisplayMessage="",e.parent.MessageVisibility=!1),t.IsModified=!0):null==i||0==i.length?(t.AttachmentID>0?(t.IsModified=!0,null!=(i=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.AttachmentID==t.AttachmentID})))&&e.parent.ViewAttachments.AttachmentsList.Remove(i)):(t.IsModified=!1,t._Flg=!0),e.parent.ViewAttachments.AttachmentsList.push(t)):(i.FileDescription=t.FileDescription,i.IsModified=!0)})),0==r&&(this.parent.AccountPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.DialogResult=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage=""),this.ViewAttachments.DeletedAttachments.forEach((function(t){e.parent.ViewAttachments.DeletedAttachments.push(t);var i=e.parent.ViewAttachments.AttachmentsList.find((function(e){return e.AttachmentID==t.AttachmentID}));i&&e.parent.ViewAttachments.AttachmentsList.Remove(i)}))}else if("AddCostCenterViewModel"==this.parent.ClassName){var o=0;this.ViewAttachments.AttachmentsList.forEach((function(t){var i=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.RelativeFileName==t.RelativeFileName}));t.IsDefaultImage?(o++,null!=i&&i.length>0&&e.parent.ViewAttachments.AttachmentsList.Remove(i),(n.e.IsEmpty(t.FilePath)||e.parent.AccountPhoto==t.FilePath)&&e.parent.AccountPhoto.Contains(n.e.GetPath(t.guid))||(e.parent.FileID=t.AttachmentID,e.parent.AccountPhoto=n.e.IsEmpty(t.guid)?t.FilePath:n.e.GetPath(t.guid),e.parent.ThumbnailPhoto=t.ThumbnailPhoto,e.parent.ActualFileName=t.ActualFileName,e.parent.guid=t.guid,e.parent.Guid=t.guid,e.parent.FileExtension=t.FileExtension,e.parent.IsPhotoChanged=!0,e.parent.PhotoTextVisibility=!1,e.parent.DisplayMessage="",e.parent.MessageVisibility=!1),t.IsModified=!0):null==i||0==i.length?(t.AttachmentID>0?(t.IsModified=!0,null!=(i=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.AttachmentID==t.AttachmentID})))&&e.parent.ViewAttachments.AttachmentsList.Remove(i)):(t.IsModified=!1,t._Flg=!0),e.parent.ViewAttachments.AttachmentsList.push(t)):(i.FileDescription=t.FileDescription,i.IsModified=!0)})),0==o&&(this.parent.AccountPhoto="",this.parent.ThumbnailPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage=""),this.ViewAttachments.DeletedAttachments.forEach((function(t){e.parent.ViewAttachments.DeletedAttachments.push(t);var i=e.parent.ViewAttachments.AttachmentsList.find((function(e){return e.AttachmentID==t.AttachmentID}));i&&e.parent.ViewAttachments.AttachmentsList.Remove(i)}))}else if("AddEditEmpMasterViewModel"==this.parent.ClassName||"AddEditPropertyViewModel"==this.parent.ClassName||"AddEditUnitsViewModel"==this.parent.ClassName||"AddEditTenantViewModel"==this.parent.ClassName){var h=0;this.ViewAttachments.AttachmentsList.forEach((function(t){var i=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.RelativeFileName==t.RelativeFileName}));t.IsDefaultImage?(h++,null!=i&&e.parent.ViewAttachments.AttachmentsList.Remove(i),(n.e.IsEmpty(t.FilePath)||e.parent.AccountPhoto==t.FilePath)&&e.parent.AccountPhoto.Contains(n.e.GetPath(t.guid+"."+t.FileExtension))||(e.parent.FileID=t.AttachmentID,e.parent.AccountPhoto=n.e.IsEmpty(t.guid)?t.FilePath:n.e.GetPath(t.guid+"."+t.FileExtension),e.parent.ActualFileName=t.ActualFileName,e.parent.IsPhotoChanged=!0,e.parent.PhotoTextVisibility=!1,e.parent.EmpAttachmentguid=t.guid.toString(),e.parent.DisplayMessage="",e.parent.FileExtension=t.FileExtension,e.parent.MessageVisibility=!1,e.parent.FileDescription=t.FileDescription),t.IsModified=!0):null==i||0==i.length?(t.AttachmentID>0?(t.IsModified=!0,null!=(i=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.AttachmentID==t.AttachmentID})))&&e.parent.ViewAttachments.AttachmentsList.Remove(i)):(t.IsModified=!1,t._Flg=!0),e.parent.ViewAttachments.AttachmentsList.push(t)):(i.FileDescription=t.FileDescription,i.IsModified=!0)})),0==h&&(this.parent.AccountPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage="",this.parent.FileDescription=""),this.ViewAttachments.DeletedAttachments.forEach((function(t){e.parent.ViewAttachments.DeletedAttachments.push(t);var i=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.AttachmentID==t.AttachmentID}));null!=i&&e.parent.ViewAttachments.AttachmentsList.Remove(i)}))}s.a.page.HideDialog()}else s.a.page.HideDialog()}},{key:"ProductPhoto",get:function(){return this._ProductPhoto},set:function(t){t!=this._ProductPhoto&&(this._ProductPhoto=t)}},{key:"AttachmentVisibility",get:function(){return this._AttachmentVisibility},set:function(t){t!=this._AttachmentVisibility&&(this._AttachmentVisibility=t)}},{key:"Attachment",get:function(){return this._Attachment},set:function(t){t!=this._Attachment&&(this._Attachment=t)}},{key:"ViewAttachments",get:function(){return this._ViewAttachments},set:function(t){t!=this._ViewAttachments&&(this._ViewAttachments=t)}}]),t}()}}]);