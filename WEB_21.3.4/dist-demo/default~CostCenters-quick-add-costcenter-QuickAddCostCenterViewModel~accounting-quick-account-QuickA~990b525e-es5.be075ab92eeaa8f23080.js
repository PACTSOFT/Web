function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var s,i=_getPrototypeOf(e);if(t){var n=_getPrototypeOf(this).constructor;s=Reflect.construct(i,arguments,n)}else s=i.apply(this,arguments);return _possibleConstructorReturn(this,s)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[45,71,75,77,86,89,113,121,172],{"4k0m":function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var i=s("Do2H"),n=s("ScVY"),a=s("EQd/"),r=s("0/4Q"),o=function(e){_inherits(s,e);var t=_createSuper(s);function s(e,n,r,o){var h;return _classCallCheck(this,s),(h=t.call(this)).Remarks=new a.c(0),h.CostCenterID=0,h.NodeID=0,h.Parent=null,h.retValWeb=0,h.IsUpdated=!1,h.CostCenterID=e,h.NodeID=n,h.Parent=o,h.ScreenObject=r,h.Remarks.Label=i.a.GetResource("Remarks"),h}return _createClass(s,[{key:"SaveStatus",value:function(e,t,s){!(arguments.length>3&&void 0!==arguments[3])||arguments[3];var i=!1,n=null;"MonthlyPayrollViewModel"==this.Parent.ClassName?(null!=(n=this.Parent.SetDocStatus(e,t,s,new Date,this.Remarks.Text,!0,""))&&n.Tables.length>0&&n.Tables[0].length>0&&n.Columns[0].Contains("status")&&(this.Parent.DocStatus="["+n.Tables[0][0].status.toString()+"]",i=!0),null!=n&&n.Tables.length>0&&n.Tables[n.Tables.length-1].length>0&&n.Columns[n.Tables.length-1].Contains("ErrorMessage")&&(this.Parent.this.DisplayMessage=n.Tables[n.Tables.length-1][0].ErrorMessage.toString()),this.Parent.this.MessageVisibility=!0,i&&this.Parent.btnClear_Click()):"FinalSettlementViewModel"==this.Parent.ClassName&&(null!=(n=this.Parent.SetDocStatus(e,t,s,new Date,this.Remarks.Text,!0,""))&&n.Tables.length>0&&n.Tables[0].length>0&&n.Columns[0].Contains("status")&&(this.Parent.DocStatus="["+n.Tables[0][0].status.toString()+"]",i=!0),null!=n&&n.Tables.length>0&&n.Tables[n.Tables.length-1].length>0&&n.Columns[n.Tables.length-1].Contains("ErrorMessage")&&(this.Parent.this.DisplayMessage=n.Tables[n.Tables.length-1][0].ErrorMessage.toString()),this.Parent.this.MessageVisibility=!0,i&&this.Parent.Button_Click("Clear"))}},{key:"onButtonClick",value:function(e){var t=0;if(40054==this.CostCenterID)"Approve"==e?i.a.SessionManager.IsActionAssigned(this.CostCenterID,"Edit")?this.Parent.btnPost_Click():this.SaveStatus(369,parseInt(this.Parent.oCMP.arrLstOthMPFields[0].dvPayProcessed[0].WorkFlowID),""):"Reject"==e&&this.SaveStatus(372,0,""),i.a.page.HideDialog();else if(40095==this.CostCenterID)"Approve"==e?i.a.SessionManager.IsActionAssigned(this.CostCenterID,"Edit")?(this.Parent.sCmdParameter="Approve",this.Parent.Button_Click("Save")):this.SaveStatus(369,this.Parent.WID,""):"Reject"==e&&this.SaveStatus(372,0,""),i.a.page.HideDialog();else{var s=this.ScreenObject.CurrentStatus;if("Approve"==e){if(!this.IsSaveValidated())return;var n=i.a.common.ApproveCostCenter(this.CostCenterID,this.NodeID,s,this.Remarks.Text,!1,0);this.DisplayMessage=n.Message,(t=n.RetValue)>0&&(this.IsUpdated||(this.ScreenObject.ButtonApproveVisible=!1,this.UpdateStatusID(t),null!=this.ScreenObject.drpStatus&&(null==this.ScreenObject.drpStatus.Items.find((function(e){return e.Value==t.toString()}))&&("1001"==t.toString()?this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Un Approved","1001")):"1002"==t.toString()?this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Approved","1002")):this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Rejected","1003"))),this.ScreenObject.drpStatus.SelectedValue=t.toString(),this.ScreenObject.drpStatus.SetSelectedItem(t.toString())),i.a.SessionManager.IsWebApplication&&(this.retValWeb=t)),i.a.page.HideDialog())}else if("Reject"==e){if(!this.IsSaveValidated())return;var a=i.a.common.ApproveCostCenter(this.CostCenterID,this.NodeID,s,this.Remarks.Text,!0,0);this.DisplayMessage=a.Message,(t=a.RetValue)>0&&(this.IsUpdated||(this.UpdateStatusID(t),null!=this.ScreenObject.drpStatus&&(null==this.ScreenObject.drpStatus.Items.find((function(e){return e.Value==t.toString()}))&&("1001"==t.toString()?this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Un Approved","1001")):"1002"==t.toString()?this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Approved","1002")):this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Rejected","1003"))),this.ScreenObject.drpStatus.SelectedValue=t.toString(),this.ScreenObject.drpStatus.SetSelectedItem(t.toString())),i.a.SessionManager.IsWebApplication&&(this.retValWeb=t)),i.a.page.HideDialog())}else i.a.page.HideDialog()}}},{key:"UpdateStatusID",value:function(e){this.ScreenObject.CurrentStatus=e,"QuickAddAccountScreenViewModel"==this.Parent.ClassName||"AddEditAccountScreenViewModel"==this.Parent.ClassName?this.Parent.obj.StatusID=e:"QuickAddProductViewModel"==this.Parent.ClassName?this.Parent.objProduct.ProductStatus=e:"AddProductScreenViewModel"==this.Parent.ClassName?this.Parent.oProduct.ProductStatus=e:"QuickAddCostCenterViewModel"==this.Parent.ClassName||"AddCostCenterViewModel"==this.Parent.ClassName?this.Parent.objCostCenter.Status=e:"AddEditEmpMasterViewModel"==this.Parent.ClassName&&(this.Parent.objEmp.StatusID=e)}},{key:"IsSaveValidated",value:function(){if(this.IsUpdated=!1,"QuickAddAccountScreenViewModel"==this.Parent.ClassName){var e=this.Parent;if(e.ButtonSave.Visible&&e.ButtonSave.Enable){if(e.SaveMethod("APPROVE_CALL"),0!=e.AccountID)return this.DisplayMessage=e.DisplayMessage,e.DisplayMessage="",!1;this.IsUpdated=!0,e.DisplayMessage=""}}else if("AddEditAccountScreenViewModel"==this.Parent.ClassName){var t=this.Parent;if(t.ButtonSave.Visible&&t.ButtonSave.Enable){if(t.OnSaveAccount("APPROVE_CALL"),0!=t.AccountID)return this.DisplayMessage=t.DisplayMessage,t.DisplayMessage="",!1;this.IsUpdated=!0,t.DisplayMessage=""}}else if("QuickAddProductViewModel"==this.Parent.ClassName){var s=this.Parent;if(s.ButtonSave.Visible&&s.ButtonSave.Enable){if(s.onSaveProduct("APPROVE_CALL"),0!=s.objProduct.ProductID)return this.DisplayMessage=s.DisplayMessage,s.DisplayMessage="",!1;this.IsUpdated=!0,s.DisplayMessage=""}}else if("AddProductScreenViewModel"==this.Parent.ClassName){var i=this.Parent;if(i.ButtonSave.Visible&&i.ButtonSave.Enable){if(i.OnSaveProduct("APPROVE_CALL"),0!=i.ProductID)return this.DisplayMessage=i.DisplayMessage,i.DisplayMessage="",!1;this.IsUpdated=!0,i.DisplayMessage=""}}else if("QuickAddCostCenterViewModel"==this.Parent.ClassName){var n=this.Parent;if(n.ButtonSave.Visible&&n.ButtonSave.Enable){if(n.SaveMethod(),0!=n.NodeID)return this.DisplayMessage=n.DisplayMessage,n.DisplayMessage="",!1;this.IsUpdated=!0,n.DisplayMessage=""}}else if("AddCostCenterViewModel"==this.Parent.ClassName){var a=this.Parent;if(a.ButtonSave.Visible&&a.ButtonSave.Enable){if(a.OnSaveCostCenter("Save"),0!=a.NodeID)return this.DisplayMessage=a.DisplayMessage,a.DisplayMessage="",!1;this.IsUpdated=!0,a.DisplayMessage=""}}else if("AddEditEmpMasterViewModel"==this.Parent.ClassName){var r=this.Parent;if(r.ButtonSave.Visible&&r.ButtonSave.Enable){if(r.OnSaveEmployee("Save"),0!=r.NodeID)return this.DisplayMessage=r.DisplayMessage,r.DisplayMessage="",!1;this.IsUpdated=!0,r.DisplayMessage=""}}return!0}}]),s}(n.b)},EggS:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var i=s("Do2H"),n=s("Lp6j"),a=s("eQJW"),r=function(){function e(){_classCallCheck(this,e),this.CustomerID=0,this.CustomerTypeID=0,this.StatusID=0,this.AccountID=0,this.ParentID=0,this.SelectedNodeID=0,this.CodeNumber=0,this.IsGroup=!1,this.CreditDays=0,this.CreditLimit=0,this.DebitDays=0,this.Debitlimit=0,this.IsCode=!1,this.ActivityXml="",this.CCXML=""}return _createClass(e,[{key:"SaveCustomerQuick",value:function(){try{var e=[];return e.push(this.CustomerID),e.push(null!=this.CustomerCode?this.CustomerCode:""),e.push(null!=this.CustomerName?this.CustomerName:""),e.push(this.StatusID),e.push(this.CodePrefix),e.push(this.CodeNumber),e.push(this.StaticFieldsQuery),e.push(this.CustomFieldsQuery),e.push(this.CustomCostCenterFieldsQuery),e.push(i.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(""),e.push(i.a.SessionManager.UserName),e.push(i.a.SessionManager.RoleID),e.push(i.a.SessionManager.LanguageID),i.a.crmService.SetCustomerQuick(e)}catch(t){return Logger.ErrorLog("Account:: SaveAccountQuick"+t.stack),""}}},{key:"SaveCustomer",value:function(){Logger.InfoLog("Customer:: Inside SaveCustomer");try{0==this.CustomerID&&(this.GUID=n.e.NewGuid());var e=[];return e.push(this.CustomerID),e.push(null!=this.CustomerCode?this.CustomerCode:""),e.push(null!=this.CustomerName?this.CustomerName:""),e.push(null!=this.AliasName?this.AliasName:""),e.push(this.CustomerTypeID),e.push(this.StatusID),e.push(this.AccountID),e.push(this.SelectedNodeID),e.push(this.IsGroup),e.push(this.CreditDays),e.push(this.CreditLimit),e.push(null!=this.UserName?this.UserName:""),e.push(null!=this.Password?this.Password:""),e.push(null!=this.OnlineCustType?this.OnlineCustType:""),e.push(i.a.SessionManager.CompanyGUID),e.push(null!=this.GUID?this.GUID:"GUID"),e.push(""),e.push(i.a.SessionManager.UserName),e.push(this.CustomFieldsQuery),e.push(this.CustomCostCenterFieldsQuery),e.push(this.ContactsXML),e.push(this.AttachmetsXML),e.push(this.NotesXML),e.push(this.AddressXML),e.push(this.ActivityXml),e.push(this.CCXML),e.push(!1),e.push(null==this.PrimaryContactQuery?"":this.PrimaryContactQuery),e.push(i.a.SessionManager.RoleID),e.push(i.a.SessionManager.LanguageID),e.push(null!=this.CodePrefix?this.CodePrefix:""),e.push(this.CodeNumber),e.push(this.IsCode),i.a.crmService.SaveCustomer(e)}catch(t){return Logger.ErrorLog("Customer:: SaveCustomer"+t.stack),""}}},{key:"GetCustomerDetails",value:function(){var e=i.a.crmService.GetCustomerInfo("?UserID="+i.a.SessionManager.UserID+"&RoleID="+i.a.SessionManager.RoleID+"&LangID="+i.a.SessionManager.LangID+"&CustomerID="+this.CustomerID);return!e.Columns[0].Contains("ErrorMessage")&&e.Tables.length>0&&e.Tables[0].length>0&&(this.CustomerID=parseInt(e.Tables[0][0].CustomerID),this.CustomerCode=n.e.String(e.Tables[0][0].CustomerCode),this.CustomerName=n.e.String(e.Tables[0][0].CustomerName),this.AliasName=n.e.String(e.Tables[0][0].AliasName),n.e.IsEmpty(e.Tables[0][0].CustomerTypeID)||(this.CustomerTypeID=parseInt(e.Tables[0][0].CustomerTypeID)),this.StatusID=parseInt(e.Tables[0][0].StatusID),n.e.IsEmpty(e.Tables[0][0].AccountID)||(this.AccountID=parseInt(e.Tables[0][0].AccountID)),this.IsGroup=Object(a.j)(e.Tables[0][0].IsGroup),n.e.IsEmpty(e.Tables[0][0].CreditDays)||(this.CreditDays=parseInt(e.Tables[0][0].CreditDays)),n.e.IsEmpty(e.Tables[0][0].CreditLimit)||(this.CreditLimit=parseFloat(e.Tables[0][0].CreditLimit)),this.ParentID=parseInt(e.Tables[0][0].ParentID),this.GUID=n.e.String(e.Tables[0][0].GUID),this.Description=n.e.String(e.Tables[0][0].Description),this.CodePrefix=n.e.String(e.Tables[0][0].CodePrefix),this.UserName=n.e.String(e.Tables[0][0].UserName),this.OnlineCustType=n.e.String(e.Tables[0][0].OnlineCustType),this.Password=n.e.String(e.Tables[0][0].Password),n.e.IsEmpty(e.Tables[0][0].CodeNumber)||(this.CodeNumber=parseInt(e.Tables[0][0].CodeNumber))),e}},{key:"DeleteCustomer",value:function(e,t){try{var s=[];return s.push(e),s.push(t),s.push(i.a.SessionManager.RoleID),s.push(i.a.SessionManager.LanguageID),Logger.InfoLog("Customer:: Success: DBH.DeleteCustomer "+e.toString()),i.a.crmService.RemoveCustomer(s)}catch(n){return Logger.ErrorLog("LEAD::DeleteLead"+n.stack),""}}}]),e}()},NM0h:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var i=s("Do2H"),n=s("Lp6j"),a=function(){function e(){_classCallCheck(this,e),this.ChangeValueXML=null,this.DetailsXML=null,this.AMCode=null,this.AMName=null,this.AMPurchaseValue=null,this.HistoryXML=null,this.DocNo=null,this.XML=null,this.DocSave=null,this.CodePrefix=null,this.Sno=null,this.AssetClassID=0,this.DeprBookID=0,this.AcqnCostACCID=0,this.AccumDeprACCID=0,this.AcqnCostDispACCID=0,this.AccumDeprDispACCID=0,this.GainsDispACCID=0,this.LossDispACCID=0,this.MaintExpenseACCID=0,this.DeprExpenseACCID=0,this.PostingGroupID=0,this.AMStatusID=0,this.CodeNumber=0,this.AMAssetID=0,this.AMParentAssetID=0,this.IsGroup=!1,this.Post=!1,this.StatusID=0,this.DeprBookMethod=0,this.DeprBookMethodBasedOn=0,this.AveragingMethodID=0,this.DeprScheduleID=0,this.DeprTypeID=0,this.AssetClassCode=null,this.AssetClassName=null,this.GUID=null,this.DeprBookCode=null,this.DeprBookName=null,this.PostGroupCode=null,this.PostGroupName=null,this.AMGUID=null,this.RecordType=null,this.AMGroup=!1,this.IsIncreaseAssetValue=!1,this.EmpName=null,this.EmpCode=null,this.EmpID=0,this.SelectedNodeID=0,this.PostCCID=0,this.PostAssetID=0,this.ScheduleID=0,this.LocationID=0,this.AddressXML=null,this.NotesXML=null,this.ContactsXML=null,this.CustomCostCenterFieldsQuery=null,this.CustomFieldsQuery=null,this.PrimaryContactQuery=null,this.AttachmetsXML=null,this.DepreciationXML=null,this.JVXML=null,this.Description=null,this.DeprStartValue=0,this.ChangeVal=0,this.AssetNetValueChange=0,this.DeprBookMethodBasedOnValue=0,this.TotalYears=0}return _createClass(e,[{key:"SaveAssetClass",value:function(){0==this.AssetClassID&&(this.GUID=n.e.NewGuid());var e=[];return e.push(this.AssetClassID),e.push(null!=this.AssetClassCode?this.AssetClassCode:""),e.push(null!=this.AssetClassName?this.AssetClassName:""),e.push(this.PostingGroupID),e.push(this.DeprBookID),e.push(this.DeprTypeID),e.push(this.TotalYears),e.push(this.StatusID),e.push(i.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(""),e.push(i.a.SessionManager.UserName),e.push(i.a.SessionManager.UserID),e.push(i.a.SessionManager.LanguageID),i.a.accounting.SetAssetClass(e)}},{key:"PostJVvoucher",value:function(){this.GUID=n.e.NewGuid();var e=[];return e.push(this.PostAssetID),e.push(this.PostCCID),e.push(this.JVXML),e.push(this.Post),e.push(this.DeprTypeID),e.push(this.DocXML),e.push(this.DocSave),e.push(this.DepreciationXML),e.push(this.RecordType),e.push(i.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(i.a.SessionManager.UserName),e.push(i.a.SessionManager.UserID),e.push(i.a.SessionManager.LanguageID),i.a.accounting.GetPostJvVoucher(e)}},{key:"SetAssetDispose",value:function(e){this.GUID=n.e.NewGuid();var t=[];return t.push(this.PostAssetID),t.push(e.ToString("dd/MMM/yyyy")),t.push(this.PostCCID),t.push(this.JVXML),t.push(this.Post),t.push(this.DeprTypeID),t.push(this.DocXML),t.push(this.DocSave),t.push(this.DepreciationXML),t.push(this.RecordType),t.push(i.a.SessionManager.CompanyGUID),t.push(this.GUID),t.push(i.a.SessionManager.UserName),t.push(i.a.SessionManager.UserID),t.push(i.a.SessionManager.LanguageID),i.a.accounting.SetAssetDispose(t)}},{key:"SaveDeprBook",value:function(e,t,s){0==this.DeprBookID&&(this.GUID=n.e.NewGuid());var a=[];return a.push(this.DeprBookID),a.push(this.DeprBookCode),a.push(this.DeprBookName),a.push(this.DeprBookMethod),a.push(this.DeprBookMethodBasedOn),a.push(this.DeprBookMethodBasedOnValue),a.push(this.StatusID),a.push(this.AveragingMethodID),a.push(e),a.push(t),a.push(s),a.push(i.a.SessionManager.CompanyGUID),a.push(this.GUID),a.push(""),a.push(i.a.SessionManager.UserName),a.push(i.a.SessionManager.UserID),a.push(i.a.SessionManager.LanguageID),i.a.accounting.SetDeprBook(a)}},{key:"SaveFAPostingGroup",value:function(){0==this.PostingGroupID&&(this.GUID=n.e.NewGuid());var e=[];return e.push(this.PostingGroupID),e.push(this.PostGroupCode),e.push(this.PostGroupName),e.push(this.AcqnCostACCID),e.push(this.AccumDeprACCID),e.push(this.AcqnCostDispACCID),e.push(this.AccumDeprDispACCID),e.push(this.GainsDispACCID),e.push(this.LossDispACCID),e.push(this.MaintExpenseACCID),e.push(this.DeprExpenseACCID),e.push(this.StatusID),e.push(0),e.push(this.IsGroup),e.push(i.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(i.a.SessionManager.UserName),e.push(i.a.SessionManager.UserID),e.push(i.a.SessionManager.LanguageID),i.a.accounting.SetPostingGroup(e)}},{key:"SetAssetManagementDetails",value:function(){var e=[];return e.push(this.AMAssetID),e.push(this.AMCode),e.push(this.AMName),e.push(this.AMStatusID),e.push(this.AMPurchaseValue),e.push(this.AMParentAssetID),e.push(this.AMGroup),e.push(this.CodePrefix),e.push(this.CodeNumber),e.push(this.Sno),e.push(this.DetailsXML),e.push(this.ChangeValueXML),e.push(this.CustomFieldsQuery),e.push(this.CustomCostCenterFieldsQuery),e.push(this.DepreciationXML),e.push(this.HistoryXML),e.push(this.NotesXML),e.push(this.AttachmetsXML),e.push(i.a.SessionManager.CompanyGUID),e.push(this.AMGUID),e.push(i.a.SessionManager.UserName),e.push(i.a.SessionManager.UserID),e.push(i.a.SessionManager.LanguageID),i.a.accounting.SetAssetManagementDetails(e).toPromise()}},{key:"PostDeprJV",value:function(){this.GUID=n.e.NewGuid();var e=[];return e.push(this.PostCCID),e.push(this.JVXML),e.push(this.Post),e.push(i.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(i.a.SessionManager.UserName),e.push(i.a.SessionManager.UserID),e.push(i.a.SessionManager.LanguageID),e.push(i.a.SessionManager.RoleID),i.a.accounting.PostDeprJV(e)}},{key:"PostDeprJVSummary",value:function(e,t,s,a,r){this.GUID=n.e.NewGuid();var o=[];return o.push(e),o.push(t),o.push(s),o.push(a),o.push(r),o.push(i.a.SessionManager.CompanyGUID),o.push(i.a.SessionManager.UserName),o.push(i.a.SessionManager.UserID),o.push(i.a.SessionManager.LanguageID),i.a.accounting.SetDeprPostingJVSummary(o).toPromise()}},{key:"ChangeValue",value:function(e,t){this.GUID=n.e.NewGuid();var s=[];return s.push(this.PostAssetID),s.push(e),s.push(this.ChangeVal),s.push(this.AssetNetValueChange),s.push(t.ToString("dd/MMM/yyyy")),s.push(this.Description),s.push(this.DepreciationXML),s.push(this.ChangeValueXML),s.push(this.HistoryXML),s.push(this.LocationID),s.push(this.IsIncreaseAssetValue),s.push(this.JVXML),s.push(this.ChangeValueTypeID),s.push(i.a.SessionManager.CompanyGUID),s.push(this.GUID),s.push(i.a.SessionManager.UserName),s.push(i.a.SessionManager.UserID),s.push(i.a.SessionManager.LanguageID),i.a.accounting.SetAssetChangeValue(s)}},{key:"DisposeReverse",value:function(e){var t=[];return t.push(e),t.push(i.a.SessionManager.UserName),t.push(i.a.SessionManager.UserID),t.push(i.a.SessionManager.LanguageID),i.a.accounting.DisposeReverse(t)}}],[{key:"GetAssetClassDetails",value:function(e){var t=[];return t.push(e),t.push(i.a.SessionManager.UserID),t.push(i.a.SessionManager.LanguageID),i.a.accounting.GetAssetClassDetails(t)}},{key:"GetPostingGroupDetails",value:function(e){var t=[];return t.push(e),t.push(i.a.SessionManager.UserID),t.push(i.a.SessionManager.LanguageID),i.a.accounting.GetPostingGroupDetails(t)}},{key:"GetDeprBookDetails",value:function(e){var t=[];return t.push(e),t.push(i.a.SessionManager.UserID),t.push(i.a.SessionManager.LanguageID),i.a.accounting.GetDeprBookDetails(t)}},{key:"GetAssetManagementDetails",value:function(e){var t=[];return t.push(e),t.push(i.a.SessionManager.UserID),t.push(i.a.SessionManager.LanguageID),i.a.accounting.GetAssetManagementDetails(t)}},{key:"GetAssetDeprSchDetails",value:function(e){var t=[];return t.push(e),t.push(i.a.SessionManager.UserID),t.push(i.a.SessionManager.LanguageID),i.a.accounting.GetAssetDeprSchDetails(t)}},{key:"DeleteAsset",value:function(e){var t=[];return t.push(e),t.push(i.a.SessionManager.UserID),t.push(i.a.SessionManager.RoleID),i.a.accounting.DeleteAsset(t)}},{key:"DeleteAssetDeprSchedule",value:function(e){var t=[];return t.push(e),t.push(i.a.SessionManager.RoleID),t.push(i.a.SessionManager.LanguageID),i.a.accounting.DeleteAssetDeprSchedule(t)}},{key:"DeleteAssetRefDoc",value:function(e,t){var s=[];return s.push(e),s.push(t),s.push(i.a.SessionManager.UserID),i.a.accounting.DeleteAssetRefDoc(s)}},{key:"SetsPostDeprReverseJV",value:function(e,t,s){var n=[];return n.push(e),n.push(t),n.push(s),n.push(i.a.SessionManager.CompanyGUID),n.push(i.a.SessionManager.UserName),n.push(i.a.SessionManager.UserID),n.push(i.a.SessionManager.LanguageID),i.a.accounting.SetsPostDeprReverseJV(n)}}]),e}()},sW9y:function(e,t,s){"use strict";s.d(t,"a",(function(){return l}));var i=s("wlFP"),n=s("8B8H"),a=s("ockk"),r=s("0/4Q"),o=s("Do2H"),h=s("Lp6j"),l=function(){function e(){_classCallCheck(this,e),this.AssignMapDimension=0,this.IsEdit=!1,this.AssignMapLabel="",this.SelectAll=new i.a(0),this.AssignGridObj=new n.a,this.SelectAllVisible=!1,this.SelectAllData=[],this.SessionManager=o.a.SessionManager}return _createClass(e,[{key:"QuickAssignGrid_1",value:function(e,t,s){this.SessionManager=o.a.SessionManager,this.CostCenterID=e,this.IsGroup=s,this.ScreenData=t,this.InitAssignGrid()}},{key:"InitAssignGrid",value:function(){this.AssignMapVisible=!1;var e=[];if((e=3==this.CostCenterID?this.ScreenData.Tables[10].filter((function(e){return"EnableAssignMapInQuickAdd"==e.Name})):this.ScreenData.Tables[5].filter((function(e){return"EnableAssignMapInQuickAdd"==e.Name}))).length>0&&e[0].Value.toString().length>0){this.AssignMapLabel="",this.EnableAssign=this.EnableMap=!1;var t=new h.f;if(t.LoadXml(e[0].Value.toString()),"1"==t.DocumentElement.attributes.EnableAssign.value&&(this.AssignMapLabel="Assign",this.EnableAssign=!0),"1"==t.DocumentElement.attributes.EnableMap.value&&(this.AssignMapLabel.length>0&&(this.AssignMapLabel=this.AssignMapLabel+" / "),this.AssignMapLabel=this.AssignMapLabel+"Map",this.EnableMap=!0),this.AssignMapLabel.length>0){var s;this.AssignMapVisible=!0,null!=t.DocumentElement.attributes.Dimension&&(this.AssignMapDimension=parseInt(t.DocumentElement.attributes.Dimension.value)),this.AssignGridObj=new n.a,this.AssignGridObj.Width="",this.AssignGridObj.CanUserAddRows=!0,this.AssignGridObj.CanUserDeleteRows=!0,this.AssignGridObj.Table=[],this.EnableAssign&&this.EnableMap&&this.AssignGridObj.TableColumns.push("Action"),0==this.AssignMapDimension&&this.AssignGridObj.TableColumns.push("CostCenterID"),this.AssignGridObj.TableColumns.push("NodeID"),this.AssignGridObj.TableColumns.push("NodeID_Key"),this.AssignGridObj.TableColumns.push("StyleHeightZero");var i=[];if(this.EnableAssign&&this.EnableMap){(s=new a.a).Header=this.SessionManager.translate.instant("Service_Action"),s.ValueBinding="Action",s.DataType="ComboBox",s.DisplayMember="Name",s.ValueMember="Value",s.Width=100;var l=[];l.push(r.d.ComboBoxItems_2("Assign","1")),l.push(r.d.ComboBoxItems_2("Map","2")),s.ComboData=l,i.push(s)}if(0==this.AssignMapDimension){var u;(s=new a.a).Header=this.SessionManager.translate.instant("DocumentDesigner_CostCenter"),s.ValueBinding="CostCenterID",s.DataType="ComboBox",s.DisplayMember="Name",s.ValueMember="Value",s.Width=80;u=o.a.common.GetDataSet("QASG001","").Tables[0];var c=[];u.forEach((function(e){c.push(r.d.ComboBoxItems_2(e.Name.toString(),e.FeatureID.toString()))})),(!this.IsGroup&&o.a.SessionManager.Preferences.ContainsKey("Dimension List")&&o.a.SessionManager.Preferences["Dimension List"].split(",").Contains(this.CostCenterID.toString())||this.IsGroup&&o.a.SessionManager.Preferences.ContainsKey("DimensionGroup List")&&o.a.SessionManager.Preferences["DimensionGroup List"].split(",").Contains(this.CostCenterID.toString()))&&c.push(r.d.ComboBoxItems_2("Users","7")),s.ComboData=c,i.push(s)}(s=new a.a).Header="Data",s.DataType="LISTBOX",s.DisplayMember="NodeID",s.TypeID=1,s.CostCenterID=this.AssignMapDimension,s.Width=this.EnableAssign&&this.EnableMap&&0==this.AssignMapDimension?200:this.EnableAssign&&this.EnableMap?255:0==this.AssignMapDimension?225:305,i.push(s),this.AssignGridObj.Columns=i;for(var p=0;p<8;p++)this.AssignGridObj.Table.push({});this.AssignGridObj.BeginEdit.Subscribe(this,"OnBeginEdit"),1==this.AssignGridObj.Columns.length&&this.EnableAssign?(this.SelectAllVisible=!0,this.SelectAll.CheckedChangedCommand.Subscribe(this,"onCheckedChanged"),this.SelectAll.Label="Select All"):this.SelectAllVisible=!1,this.Clear()}}}},{key:"OnBeginEdit",value:function(e){return"DataGridPactListBoxColumn"==e.args.column.className&&this.AssignGridObj.TableColumns.Contains("CostCenterID")&&(""!=e.args.item.CostCenterID.toString()?(e.args.column.internalColumnEditor.collection.CCID=parseInt(e.args.item.CostCenterID.toString()),e.args.column.internalColumnEditor.collection.TypeID=1):e.args.column.internalColumnEditor.collection.CCID=0),!1}},{key:"onCheckedChanged",value:function(e){var t=this;this.SelectAll.IsChecked&&1==this.AssignGridObj.Columns.length&&this.AssignGridObj.Columns[0].CostCenterID>5e4&&(this.SelectAllData=o.a.common.GetDataSet("QASG002",this.AssignGridObj.Columns[0].CostCenterID.toString()),this.SelectAllData&&(this.AssignGridObj.Table=[],this.SelectAllData.forEach((function(e){var s=o.a.slick.emptyObj();s.NodeID=e.Name,s.NodeID_Key=e.NodeID,t.AssignGridObj.Table.push(s)}))))}},{key:"Clear",value:function(){if(this.IsEdit=!1,this.AssignMapVisible){this.AssignGridObj.Table.Clear();for(var e=0;e<10;e++)this.AssignGridObj.addEmptyRow();var t=0;"True"==o.a.SessionManager.Preferences.EnableLocationWise.toString()&&o.a.SessionManager.LocationID>0&&50002!=this.CostCenterID&&(this.EnableAssign&&(2==this.CostCenterID&&"TRUE"==o.a.SessionManager.Preferences["LW Accounts"].toUpperCase()||3==this.CostCenterID&&"TRUE"==o.a.SessionManager.Preferences["LW Products"].toUpperCase()||this.CostCenterID>5e4&&o.a.SessionManager.Preferences.LocationWiseDimension.split(",").Contains(this.CostCenterID.toString()))&&(0!=this.AssignMapDimension&&50002!=this.AssignMapDimension||(0==this.AssignMapDimension&&(this.AssignGridObj.Table[t].CostCenterID=50002),this.AssignGridObj.TableColumns.Contains("Action")&&(this.AssignGridObj.Table[t].Action=1),this.AssignGridObj.Table[t].NodeID_Key=o.a.SessionManager.LocationID,this.AssignGridObj.Table[t].NodeID=o.a.SessionManager.LocationName,t++)),this.EnableMap&&50002==this.AssignMapDimension&&(this.AssignGridObj.TableColumns.Contains("Action")&&(this.AssignGridObj.Table[t].Action=2),this.AssignGridObj.Table[t].NodeID_Key=o.a.SessionManager.LocationID,this.AssignGridObj.Table[t].NodeID=o.a.SessionManager.LocationName,t++)),"True"==o.a.SessionManager.Preferences.EnableDivisionWise.toString()&&o.a.SessionManager.DivisionID>0&&50001!=this.CostCenterID&&(this.EnableAssign&&(2==this.CostCenterID&&"TRUE"==o.a.SessionManager.Preferences["DW Accounts"].toUpperCase()||3==this.CostCenterID&&"TRUE"==o.a.SessionManager.Preferences["DW Products"].toUpperCase()||this.CostCenterID>5e4&&o.a.SessionManager.Preferences.DivisionWiseDimension.split(",").Contains(this.CostCenterID.toString()))&&(0!=this.AssignMapDimension&&50001!=this.AssignMapDimension||(0==this.AssignMapDimension&&(this.AssignGridObj.Table[t].CostCenterID=50001),this.AssignGridObj.TableColumns.Contains("Action")&&(this.AssignGridObj.Table[t].Action=1),this.AssignGridObj.Table[t].NodeID_Key=o.a.SessionManager.DivisionID,this.AssignGridObj.Table[t].NodeID=o.a.SessionManager.DivisionName,t++)),this.EnableMap&&50001==this.AssignMapDimension&&(this.AssignGridObj.TableColumns.Contains("Action")&&(this.AssignGridObj.Table[t].Action=2),this.AssignGridObj.Table[t].NodeID_Key=o.a.SessionManager.DivisionID,this.AssignGridObj.Table[t].NodeID=o.a.SessionManager.DivisionName,t++))}}},{key:"LoadGrid",value:function(e,t){var s=this;if(this.IsEdit=!0,this.AssignMapVisible){var i="1"==o.a.SessionManager.RoleID||"1"==o.a.SessionManager.UserID||"True"!=o.a.SessionManager.Preferences.EnableLocationWise.toString(),n=o.a.SessionManager.LocationWhere.split(",");if(50002==this.AssignMapDimension&&"True"==o.a.SessionManager.Preferences.EnableLocationWise.toString()&&o.a.SessionManager.LocationID>0&&(this.EnableAssign&&(this.AssignGridObj.TableColumns.Contains("Action")&&(this.AssignGridObj.Table[0].Action=null),this.AssignGridObj.Table[0].NodeID_Key=null,this.AssignGridObj.Table[0].NodeID=null),this.EnableMap)){var a=this.EnableAssign?1:0;this.AssignGridObj.TableColumns.Contains("Action")&&(this.AssignGridObj.Table[a].Action=null),this.AssignGridObj.Table[a].NodeID_Key=null,this.AssignGridObj.Table[a].NodeID=null}var r,h=0;if(this.EnableAssign&&t.forEach((function(e){r=parseInt(e.CostCenterId),0!=s.AssignMapDimension&&r!=s.AssignMapDimension||(s.AssignGridObj.Table.length<=h+2&&s.AssignGridObj.Table.push({}),s.AssignGridObj.TableColumns.Contains("CostCenterID")&&(s.AssignGridObj.Table[h].CostCenterID=e.CostCenterId),s.AssignGridObj.TableColumns.Contains("Action")&&(s.AssignGridObj.Table[h].Action="1"),s.AssignGridObj.Table[h].NodeID_Key=e.NodeID,s.AssignGridObj.Table[h].NodeID=e.Value,50002==r&&(i||n.Contains(e.NodeID.toString())||(s.AssignGridObj.Table[h].StyleHeightZero=1)),h++)})),this.EnableMap){var l=o.a.inventory.GetCostCenterDetails(this.CostCenterID,e,2,this.AssignMapDimension);null!=l&&l.Tables.length>0&&l.Columns[0].Contains("NodeID")&&l.Tables[0].forEach((function(e){r=parseInt(e.CCID),s.AssignGridObj.Table.length<=h+2&&s.AssignGridObj.Table.push({}),s.AssignGridObj.TableColumns.Contains("CostCenterID")&&(s.AssignGridObj.Table[h].CostCenterID=e.CCID),s.AssignGridObj.TableColumns.Contains("Action")&&(s.AssignGridObj.Table[h].Action="2"),s.AssignGridObj.Table[h].NodeID_Key=e.NodeID,s.AssignGridObj.Table[h].NodeID=e.Value,50002==r&&(i||n.Contains(e.NodeID.toString())||(s.AssignGridObj.Table[h].StyleHeightZero=1)),h++}))}}}},{key:"GetXML",value:function(e){e.strXML="";var t,s="";if(!this.AssignMapVisible){if(!this.IsEdit){if("TRUE"==o.a.SessionManager.Preferences.EnableLocationWise.toUpperCase()&&50002!=this.CostCenterID&&(2==this.CostCenterID&&"TRUE"==o.a.SessionManager.Preferences["LW Accounts"].toUpperCase()||3==this.CostCenterID&&"TRUE"==o.a.SessionManager.Preferences["LW Products"].toUpperCase()||this.CostCenterID>5e4&&o.a.SessionManager.Preferences.LocationWiseDimension.split(",").Contains(this.CostCenterID.toString()))){if(!(o.a.SessionManager.LocationID>0))return"Please login with location to create dimension.";s+="<Row ",s+=' CostCenterId="50002"',s+=' NodeID="'+o.a.SessionManager.LocationID.toString()+'"',s+="/>"}if("TRUE"==o.a.SessionManager.Preferences.EnableDivisionWise.toUpperCase()&&50001!=this.CostCenterID&&(2==this.CostCenterID&&"TRUE"==o.a.SessionManager.Preferences["DW Accounts"].toUpperCase()||3==this.CostCenterID&&"TRUE"==o.a.SessionManager.Preferences["DW Products"].toUpperCase()||this.CostCenterID>5e4&&o.a.SessionManager.Preferences.DivisionWiseDimension.split(",").Contains(this.CostCenterID.toString()))){if(!(o.a.SessionManager.DivisionID>0))return"Please login with division to create dimension.";s+="<Row ",s+=' CostCenterId="50001"',s+=' NodeID="'+o.a.SessionManager.DivisionID.toString()+'"',s+="/>"}"1"!=o.a.SessionManager.UserID&&(this.CostCenterID>5e4||7==this.CostCenterID)&&(!this.IsGroup&&o.a.SessionManager.Preferences["Dimension List"].split(",").Contains(this.CostCenterID.toString())||this.IsGroup&&o.a.SessionManager.Preferences["DimensionGroup List"].split(",").Contains(this.CostCenterID.toString()))&&(s+="<Row ",s+=' CostCenterId="7"',s+=' NodeID="'+o.a.SessionManager.UserID+'"',s+="/>"),s.length>0&&(s="<XML>"+s,s+="</XML>")}return e.strXML=s.toString(),""}if(t=this.EnableAssign&&this.EnableMap?"ASSIGN/MAP":this.EnableAssign?"ASSIGN":"MAP",s+='<ASSIGNMAPXML Dimension="'+this.AssignMapDimension+'" Action="'+t+'">',this.EnableAssign&&this.EnableMap){var i=this.AssignGridObj.Table;i=i.filter((function(e){return"1"==e.Action})),s+="<ASSIGN>",s+=this.GetRowXML(i),"1"!=o.a.SessionManager.UserID&&(this.CostCenterID>5e4||7==this.CostCenterID)&&(!this.IsGroup&&o.a.SessionManager.Preferences["Dimension List"].split(",").Contains(this.CostCenterID.toString())||this.IsGroup&&o.a.SessionManager.Preferences["DimensionGroup List"].split(",").Contains(this.CostCenterID.toString()))&&(0==(i=i.filter((function(e){return 7==e.CostCenterID&&e.NodeID_Key>o.a.SessionManager.UserID}))).length&&(s+="<R ",s+=' CCID="7"',s+=' ID="'+o.a.SessionManager.UserID+'"',s+="/>")),s+="</ASSIGN>",i=(i=this.AssignGridObj.Table).filter((function(e){return"2"==e.Action})),s+="<MAP>",s+=this.GetRowXML(i),s+="</MAP>"}else if(this.EnableAssign){if(s+="<ASSIGN>",s+=this.GetRowXML(this.AssignGridObj.Table),"1"!=o.a.SessionManager.UserID&&(this.CostCenterID>5e4||7==this.CostCenterID)&&(!this.IsGroup&&o.a.SessionManager.Preferences["Dimension List"].split(",").Contains(this.CostCenterID.toString())||this.IsGroup&&o.a.SessionManager.Preferences["DimensionGroup List"].split(",").Contains(this.CostCenterID.toString()))){var n=this.AssignGridObj.Table;0==(n=n.filter((function(e){return 7==e.CostCenterID&&e.NodeID_Key>o.a.SessionManager.UserID}))).length&&(s+="<R ",s+=' CCID="7"',s+=' ID="'+o.a.SessionManager.UserID+'"',s+="/>")}s+="</ASSIGN>"}else this.EnableMap&&(s+="<MAP>",s+=this.GetRowXML(this.AssignGridObj.Table),s+="</MAP>");if(s+="</ASSIGNMAPXML>","TRUE"==o.a.SessionManager.Preferences.EnableLocationWise.toUpperCase()&&50002!=this.CostCenterID){var a=[];if(this.EnableAssign&&this.EnableMap?a=this.AssignGridObj.Table.filter((function(e){return"1"==e.Action&&50002==e.CostCenterID&&null!=e.NodeID_Key&&e.NodeID_Key>0})):this.EnableAssign&&(50002==this.AssignMapDimension?a=this.AssignGridObj.Table.filter((function(e){return null!=e.NodeID_Key&&e.NodeID_Key>0})):this.AssignGridObj.TableColumns.Contains("CostCenterID")&&(a=this.AssignGridObj.Table.filter((function(e){return 50002==e.CostCenterID&&null!=e.NodeID_Key&&e.NodeID_Key>0})))),(2==this.CostCenterID&&"TRUE"==o.a.SessionManager.Preferences["LW Accounts"].toUpperCase()||3==this.CostCenterID&&"TRUE"==o.a.SessionManager.Preferences["LW Products"].toUpperCase()||this.CostCenterID>5e4&&o.a.SessionManager.Preferences.LocationWiseDimension.split(",").Contains(this.CostCenterID.toString()))&&0==a.length)return"Please Assign atleast one Location"}if("TRUE"==o.a.SessionManager.Preferences.EnableDivisionWise.toUpperCase()&&50001!=this.CostCenterID){var r=[];if(this.EnableAssign&&this.EnableMap?r=this.AssignGridObj.Table.filter((function(e){return"1"==e.Action&&50001==e.CostCenterID&&null!=e.NodeID_Key&&e.NodeID_Key>0})):this.EnableAssign&&(50001==this.AssignMapDimension?r=this.AssignGridObj.Table.filter((function(e){return null!=e.NodeID_Key&&e.NodeID_Key>0})):this.AssignGridObj.TableColumns.Contains("CostCenterID")&&(r=this.AssignGridObj.Table.filter((function(e){return 50001==e.CostCenterID&&null!=e.NodeID_Key&&e.NodeID_Key>0})))),(2==this.CostCenterID&&"TRUE"==o.a.SessionManager.Preferences["DW Accounts"].toUpperCase()||3==this.CostCenterID&&"TRUE"==o.a.SessionManager.Preferences["DW Products"].toUpperCase()||this.CostCenterID>5e4&&o.a.SessionManager.Preferences.DivisionWiseDimension.split(",").Contains(this.CostCenterID.toString()))&&0==r.length)return"Please Assign atleast one Division"}return e.strXML=s.toString(),""}},{key:"GetRowXML",value:function(e){var t=this,s="",i=e;return i.length>0&&(i=i.ToTable(!0,0==this.AssignMapDimension?["CostCenterId","NodeID","NodeID_Key"]:["NodeID","NodeID_Key"])).forEach((function(e){e.NodeID_Key&&e.NodeID_Key.toString().length>0&&(s+='<R CCID="',s+=0==t.AssignMapDimension?e.CostCenterID.toString():t.AssignMapDimension,s+='" ID="'+e.NodeID_Key.toString()+'"/>')})),s.toString()}},{key:"angularGrid",get:function(){return this.AssignGridObj.angularGrid}},{key:"AssignGrid",get:function(){return this.AssignGridObj.Table}},{key:"AssignGridColumns",get:function(){return this.AssignGridObj.TableColumns}},{key:"AssignGridColumnSource",get:function(){return this.AssignGridObj.Columns}}]),e}()},wJuo:function(e,t,s){"use strict";s.d(t,"a",(function(){return l}));var i=s("Do2H"),n=s("Lp6j"),a=s("eQJW"),r=s("4HhE"),o=s("OvA8"),h=s("xnJf"),l=function(){function e(){_classCallCheck(this,e),this.parent=null,this.SubmitClick=new r.b,this._AttachmentVisibility=!1,this.ClassName="PopupAttachmentsViewModel"}return _createClass(e,[{key:"OnShowAttachment",value:function(){Logger.InfoLog("AddProductViewModel::Entering OnShowAttachment"),Logger.InfoLog("AddProductViewModel::Exiting OnShowAttachment")}},{key:"OnAddAttachment",value:function(){Logger.InfoLog("AddProductViewModel::Entering AddAttachment"),this.Attachment=new h.AddAttachmentViewModel,this.Attachment.AddAttachmentViewModel_2(this),Logger.InfoLog("AddProductViewModel::Entering AddAttachment")}},{key:"PopupAttachmentsViewModel_1",value:function(e,t,s){var i,r,l,u=this;this.parent=s,this.AttachmentVisibility=!0,this.OnAddAttachment(),this.CostCenterID=e,this.NID=t,this._ViewAttachments=new o.ViewAttachmentViewModel(this),this.SubmitClick.Subscribe(this,"ListAttachments");var c=0,p="",D="";if("AddProductScreenViewModel"==(null===(i=this.parent)||void 0===i?void 0:i.ClassName)?(c=s.FileID,p=s.ProductPhoto,D=s.FileDescription):"AddEditAccountViewModel"==(null===(r=this.parent)||void 0===r?void 0:r.ClassName)||"AddUsersViewModel"==(null===(l=this.parent)||void 0===l?void 0:l.ClassName)?(c=s.FileID,p=s.AccountPhoto):(c=this.parent.FileID,p=this.parent.AccountPhoto,D=this.parent.FileDescription),null!=s){if(!n.e.IsEmpty(p)){var d=new h.AddAttachmentViewModel;if(d.AddAttachmentViewModel_2(this),d.AttachmentID=c,c>0){var g=null;"AddProductScreenViewModel"==this.parent.ClassName||"AddEditAccountViewModel"==this.parent.ClassName?g=s.ds.Tables[4].filter((function(e){return e.FileID==c})):"AddUsersViewModel"==this.parent.ClassName||"AddCostCenterViewModel"==this.parent.ClassName?g=this.parent.ds.Tables[3].filter((function(e){return e.FileID==c})):"AddEditEmpMasterViewModel"==this.parent.ClassName?g=this.parent.dsEdit.Tables[3].filter((function(e){return e.FileID==c})):"AddEditPropertyViewModel"==s.ClassName?g=s.ds.Tables[18].filter((function(e){return e.FileID==c})):"AddEditUnitsViewModel"==s.ClassName?g=s.ds.Tables[6].filter((function(e){return e.FileID==c})):"AddEditTenantViewModel"==s.ClassName&&(g=s.Dset.Tables[4].filter((function(e){return e.FileID==c}))),g.length>0&&(d.ActualFileName=g[0].ActualFileName.toString(),d.FileExtension=g[0].FileExtension.toString(),d.FileDescription=g[0].FileDescription.toString(),d.FilePath="",d.Guid=g[0].GUID.toString(),d.RelativeFileName=g[0].RelativeFileName.toString(),d.MainFilePath=g[0].FilePath.toString(),d.IsProductImage=!0,d.IsDefaultImage=!0,d.IsDefaultImageVisible=!0,d.CancelVisible=!1,d.Guid=g[0].GUID.toString(),n.e.hasprop(g[0],"HasThumb")&&(d.HasThumb=Object(a.j)(g[0].HasThumb)))}else{d.FilePath=p,d.MainFilePath=p,d.RelativeFileName=p,d.ActualFileName=d.FilePath.substr(d.FilePath.lastIndexOf("\\")+1);var m=d.FilePath.split("."),A="";m.length>1&&(A=m[m.length-1]),d.FileExtension=A,d.FileDescription=D,d.IsProductImage=!0,d.IsDefaultImage=!0,d.IsDefaultImageVisible=!0,d.CancelVisible=!1,d.Guid=this.parent.guid}this.ViewAttachments.AttachmentsList.push(d)}var C=[];(n.e.IsType(s,"IAttachment")||n.e.hasprop(s,"ViewAttachments"))&&(C=this.parent.ViewAttachments.AttachmentsList),C.forEach((function(e){if(e.IsProductImage){var t=new h.AddAttachmentViewModel;t.AddAttachmentViewModel_2(u),t.AttachmentID=e.AttachmentID,t.ActualFileName=e.ActualFileName,t.FileExtension=e.FileExtension,t.FileDescription=e.FileDescription,t.MainFilePath=e.MainFilePath,t.FilePath=e.FilePath,t.Guid=e.guid,t.RelativeFileName=e.RelativeFileName,t.IsProductImage=e.IsProductImage,t.IsDefaultImage=e.IsDefaultImage,t.IsDefaultImageVisible=!0,t.HasThumb=e.HasThumb,u.ViewAttachments.AttachmentsList.push(t)}}))}}},{key:"ListAttachments",value:function(e){var t=this;if("Submit"==e.toString()){if("AddProductScreenViewModel"==this.parent.ClassName){var s=0;this.ViewAttachments.AttachmentsList.forEach((function(e){var i=t.parent.ViewAttachments.AttachmentsList.filter((function(t){return t.RelativeFileName==e.RelativeFileName}));e.IsDefaultImage?(s++,null!=i&&i.length>0&&t.parent.ViewAttachments.AttachmentsList.Remove(i),(n.e.IsEmpty(e.FilePath)||t.parent.ProductPhoto==e.FilePath)&&t.parent.ProductPhoto.Contains(n.e.GetPath(e.guid+"."+e.FileExtension))||(t.parent.FileID=e.AttachmentID,t.parent.ProductPhoto=n.e.IsEmpty(e.guid)?e.FilePath:n.e.GetPath(e.guid+"."+e.FileExtension),t.parent.ActualFileName=e.ActualFileName,t.parent.ThumbnailPhoto=e.ThumbnailPhoto,t.parent.guid=e.guid,t.parent.Guid=e.guid,t.parent.FileExtension=e.FileExtension,t.parent.IsPhotoChanged=!0,t.parent.PhotoTextVisibility=!1,t.parent.DisplayMessage="",t.parent.MessageVisibility=!1,t.parent.FileDescription=e.FileDescription),e.IsModified=!0):null==i||0==i.length?(e.AttachmentID>0?(e.IsModified=!0,null!=(i=t.parent.ViewAttachments.AttachmentsList.filter((function(t){return t.AttachmentID==e.AttachmentID})))&&t.parent.ViewAttachments.AttachmentsList.Remove(i)):(e.IsModified=!1,e._Flg=!0),t.parent.ViewAttachments.AttachmentsList.push(e)):(i.FileDescription=e.FileDescription,i.IsModified=!0)})),0==s&&(this.parent.ProductPhoto="",this.parent.ActualFileName="",this.parent.ThumbnailPhoto="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.DialogResult=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage="",this.parent.FileDescription=""),this.ViewAttachments.DeletedAttachments.forEach((function(e){t.parent.ViewAttachments.DeletedAttachments.push(e);var s=t.parent.ViewAttachments.AttachmentsList.find((function(t){return t.AttachmentID==e.AttachmentID}));null!=s&&t.parent.ViewAttachments.AttachmentsList.Remove(s)}))}else if("AddEditAccountViewModel"==this.parent.ClassName){var a=0;this.ViewAttachments.AttachmentsList.forEach((function(e){var s=t.parent.ViewAttachments.AttachmentsList.filter((function(t){return t.RelativeFileName==e.RelativeFileName}));e.IsDefaultImage?(a++,null!=s&&s.length>0&&t.parent.ViewAttachments.AttachmentsList.Remove(s),(n.e.IsEmpty(e.FilePath)||t.parent.AccountPhoto==e.FilePath)&&t.parent.AccountPhoto.Contains(n.e.GetPath(e.guid+"."+e.FileExtension))||(t.parent.FileID=e.AttachmentID,t.parent.AccountPhoto=n.e.IsEmpty(e.guid)?e.FilePath:n.e.GetPath(e.guid+"."+e.FileExtension),t.parent.ActualFileName=e.ActualFileName,t.parent.guid=e.guid,t.parent.Guid=e.guid,t.parent.FileExtension=e.FileExtension,t.parent.IsPhotoChanged=!0,t.parent.PhotoTextVisibility=!1,t.parent.DisplayMessage="",t.parent.MessageVisibility=!1),e.IsModified=!0):null==s||0==s.length?(e.AttachmentID>0?(e.IsModified=!0,null!=(s=t.parent.ViewAttachments.AttachmentsList.filter((function(t){return t.AttachmentID==e.AttachmentID})))&&t.parent.ViewAttachments.AttachmentsList.Remove(s)):(e.IsModified=!1,e._Flg=!0),t.parent.ViewAttachments.AttachmentsList.push(e)):(s.FileDescription=e.FileDescription,s.IsModified=!0)})),0==a&&(this.parent.AccountPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage=""),this.ViewAttachments.DeletedAttachments.forEach((function(e){t.parent.ViewAttachments.DeletedAttachments.push(e);var s=t.parent.ViewAttachments.AttachmentsList.filter((function(t){return t.AttachmentID==e.AttachmentID}));null!=s&&t.parent.ViewAttachments.AttachmentsList.Remove(s)}))}else if("AddUsersViewModel"==this.parent.ClassName){var r=0;this.ViewAttachments.AttachmentsList.forEach((function(e){var s=t.parent.ViewAttachments.AttachmentsList.filter((function(t){return t.RelativeFileName==e.RelativeFileName}));e.IsDefaultImage?(r++,null!=s&&s.length>0&&t.parent.ViewAttachments.AttachmentsList.Remove(s),(n.e.IsEmpty(e.FilePath)||t.parent.AccountPhoto==e.FilePath)&&t.parent.AccountPhoto.Contains(n.e.GetPath(e.guid+"."+e.FileExtension))||(t.parent.FileID=e.AttachmentID,t.parent.AccountPhoto=n.e.IsEmpty(e.guid)?e.FilePath:n.e.GetPath(e.guid+"."+e.FileExtension),t.parent.ActualFileName=e.ActualFileName,t.parent.IsPhotoChanged=!0,t.parent.PhotoTextVisibility=!1,t.parent.DisplayMessage="",t.parent.MessageVisibility=!1),e.IsModified=!0):null==s||0==s.length?(e.AttachmentID>0?(e.IsModified=!0,null!=(s=t.parent.ViewAttachments.AttachmentsList.filter((function(t){return t.AttachmentID==e.AttachmentID})))&&t.parent.ViewAttachments.AttachmentsList.Remove(s)):(e.IsModified=!1,e._Flg=!0),t.parent.ViewAttachments.AttachmentsList.push(e)):(s.FileDescription=e.FileDescription,s.IsModified=!0)})),0==r&&(this.parent.AccountPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.DialogResult=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage=""),this.ViewAttachments.DeletedAttachments.forEach((function(e){t.parent.ViewAttachments.DeletedAttachments.push(e);var s=t.parent.ViewAttachments.AttachmentsList.find((function(t){return t.AttachmentID==e.AttachmentID}));s&&t.parent.ViewAttachments.AttachmentsList.Remove(s)}))}else if("AddCostCenterViewModel"==this.parent.ClassName){var o=0;this.ViewAttachments.AttachmentsList.forEach((function(e){var s=t.parent.ViewAttachments.AttachmentsList.filter((function(t){return t.RelativeFileName==e.RelativeFileName}));e.IsDefaultImage?(o++,null!=s&&s.length>0&&t.parent.ViewAttachments.AttachmentsList.Remove(s),(n.e.IsEmpty(e.FilePath)||t.parent.AccountPhoto==e.FilePath)&&t.parent.AccountPhoto.Contains(n.e.GetPath(e.guid))||(t.parent.FileID=e.AttachmentID,t.parent.AccountPhoto=n.e.IsEmpty(e.guid)?e.FilePath:n.e.GetPath(e.guid),t.parent.ThumbnailPhoto=e.ThumbnailPhoto,t.parent.ActualFileName=e.ActualFileName,t.parent.guid=e.guid,t.parent.Guid=e.guid,t.parent.FileExtension=e.FileExtension,t.parent.IsPhotoChanged=!0,t.parent.PhotoTextVisibility=!1,t.parent.DisplayMessage="",t.parent.MessageVisibility=!1),e.IsModified=!0):null==s||0==s.length?(e.AttachmentID>0?(e.IsModified=!0,null!=(s=t.parent.ViewAttachments.AttachmentsList.filter((function(t){return t.AttachmentID==e.AttachmentID})))&&t.parent.ViewAttachments.AttachmentsList.Remove(s)):(e.IsModified=!1,e._Flg=!0),t.parent.ViewAttachments.AttachmentsList.push(e)):(s.FileDescription=e.FileDescription,s.IsModified=!0)})),0==o&&(this.parent.AccountPhoto="",this.parent.ThumbnailPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage=""),this.ViewAttachments.DeletedAttachments.forEach((function(e){t.parent.ViewAttachments.DeletedAttachments.push(e);var s=t.parent.ViewAttachments.AttachmentsList.find((function(t){return t.AttachmentID==e.AttachmentID}));s&&t.parent.ViewAttachments.AttachmentsList.Remove(s)}))}else if("AddEditEmpMasterViewModel"==this.parent.ClassName||"AddEditPropertyViewModel"==this.parent.ClassName||"AddEditUnitsViewModel"==this.parent.ClassName||"AddEditTenantViewModel"==this.parent.ClassName){var h=0;this.ViewAttachments.AttachmentsList.forEach((function(e){var s=t.parent.ViewAttachments.AttachmentsList.filter((function(t){return t.RelativeFileName==e.RelativeFileName}));e.IsDefaultImage?(h++,null!=s&&t.parent.ViewAttachments.AttachmentsList.Remove(s),(n.e.IsEmpty(e.FilePath)||t.parent.AccountPhoto==e.FilePath)&&t.parent.AccountPhoto.Contains(n.e.GetPath(e.guid+"."+e.FileExtension))||(t.parent.FileID=e.AttachmentID,t.parent.AccountPhoto=n.e.IsEmpty(e.guid)?e.FilePath:n.e.GetPath(e.guid+"."+e.FileExtension),t.parent.ActualFileName=e.ActualFileName,t.parent.IsPhotoChanged=!0,t.parent.PhotoTextVisibility=!1,t.parent.EmpAttachmentguid=e.guid.toString(),t.parent.DisplayMessage="",t.parent.FileExtension=e.FileExtension,t.parent.MessageVisibility=!1,t.parent.FileDescription=e.FileDescription),e.IsModified=!0):null==s||0==s.length?(e.AttachmentID>0?(e.IsModified=!0,null!=(s=t.parent.ViewAttachments.AttachmentsList.filter((function(t){return t.AttachmentID==e.AttachmentID})))&&t.parent.ViewAttachments.AttachmentsList.Remove(s)):(e.IsModified=!1,e._Flg=!0),t.parent.ViewAttachments.AttachmentsList.push(e)):(s.FileDescription=e.FileDescription,s.IsModified=!0)})),0==h&&(this.parent.AccountPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage="",this.parent.FileDescription=""),this.ViewAttachments.DeletedAttachments.forEach((function(e){t.parent.ViewAttachments.DeletedAttachments.push(e);var s=t.parent.ViewAttachments.AttachmentsList.filter((function(t){return t.AttachmentID==e.AttachmentID}));null!=s&&t.parent.ViewAttachments.AttachmentsList.Remove(s)}))}i.a.page.HideDialog()}else i.a.page.HideDialog()}},{key:"ProductPhoto",get:function(){return this._ProductPhoto},set:function(e){e!=this._ProductPhoto&&(this._ProductPhoto=e)}},{key:"AttachmentVisibility",get:function(){return this._AttachmentVisibility},set:function(e){e!=this._AttachmentVisibility&&(this._AttachmentVisibility=e)}},{key:"Attachment",get:function(){return this._Attachment},set:function(e){e!=this._Attachment&&(this._Attachment=e)}},{key:"ViewAttachments",get:function(){return this._ViewAttachments},set:function(e){e!=this._ViewAttachments&&(this._ViewAttachments=e)}}]),e}()}}]);