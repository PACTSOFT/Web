function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var s,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return _possibleConstructorReturn(this,s)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{Kl1j:function(e,t,s){"use strict";s.r(t),s.d(t,"TransferAccountViewModel",(function(){return o}));var n=s("mrSG"),i=s("Do2H"),r=s("ScVY"),c=s("n56n"),a=s("0/4Q"),o=function(e){_inherits(r,e);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments))._TargetAccountID=new c.b(0),e._SelectedAccountType=new a.e(0),e.TransferVisibility=!1,e.ChangeVisibility=!1,e.IsAssign=!1,e.IsContacts=!1,e.IsAdress=!1,e.IsNotes=!1,e.IsAttachments=!1,e.IsActivities=!1,e}return _createClass(r,[{key:"TransferAccountViewModel",value:function(e,t,s){Logger.InfoLog("TransferAccountViewModel::Entering TransferAccountViewModel with AccountID="+e+",AccName="+t),this.lblText=i.a.GetResource("Acc_TransferData"),this.AccountID=e,this.SelectedAccount=t,this.TargetAccount.CCID=s,this.TransferVisibility=!0,this.AccountType.Label="Account Type",this.ChangeVisibility=!1,this.TargetAccount.CustomWhere="a.IsGroup=0",2==s?(this.lblName=i.a.GetResource("AccInfo_AccName"),this.lblTargetName=i.a.GetResource("Acc_TransferToAccount"),this.TargetAccount.TypeID=2):3==s?(this.lblName=i.a.GetResource("Prd_ProductName"),this.lblTargetName=i.a.GetResource("Prd_TransferToProduct"),this.TargetAccount.TypeID=10,this.TargetAccount.CustomWhere="a.IsGroup=0 and a.ProductTypeID=1"):50051==s?(this.lblName=i.a.GetResource("EmpMaster_EmpName"),this.lblTargetName=i.a.GetResource("EmpMaster_TransferToEmp"),this.TargetAccount.TypeID=1):(this.lblName=i.a.GetResource("CostCenter_Name"),this.lblTargetName=i.a.GetResource("Com_TransferToDimension"),this.TargetAccount.TypeID=1),this.TargetAccount.Label=this.lblTargetName,this.DisplayMessage="",this.MessageVisibility=!1,Logger.InfoLog("TransferAccountViewModel::Exiting TransferAccountViewModel")}},{key:"LoadDataType",value:function(e){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,c,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([s.e(2),s.e(36)]).then(s.bind(null,"ktgv"));case 2:n=t.sent,null==(r=n.CostCenterPicker).DSAccountTypes&&(c=i.a.accounting.LoadDataType(),r.DSAccountTypes=c.Tables[0]),r.DSAccountTypes.forEach((function(e){o.AccountType.Items.push(a.d.ComboBoxItems_2(e.AccountType.toString(),e.AccountTypeID.toString()))})),this.AccountType.SelectedValue=e;case 6:case"end":return t.stop()}}),t,this)})))}},{key:"OnTransfer",value:function(e){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,c,a,o,u,l,h,p,f,g,T,y,b,A;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([s.e(2),s.e(1),s.e(3),s.e(5),s.e(4),s.e(6),s.e(7),s.e(10),s.e(9),s.e(8),s.e(12),s.e(11),s.e(13),s.e(19),s.e(15),s.e(21),s.e(20),s.e(16),s.e(14),s.e(18),s.e(17),s.e(22),s.e(23),s.e(24),s.e(25),s.e(28),s.e(30),s.e(29),s.e(32),s.e(31),s.e(27),s.e(26),s.e(35),s.e(37),s.e(38),s.e(36),s.e(33),s.e(34),s.e(39),s.e(40),s.e(41),s.e(212)]).then(s.bind(null,"ThYU"));case 2:return n=t.sent,r=n.ReportViewModel,t.next=6,Promise.all([s.e(32),s.e(37)]).then(s.bind(null,"YU11"));case 6:if(c=t.sent,a=c.ReportViewComponent,null==e||"Cancel"!=e.toString()){t.next=12;break}this.ParentObject instanceof r?i.a.page.HideDialog():2==this.TargetAccount.CCID?(this.Parent.TransferDataVisibility=!1,i.a.page.HideDialog()):3==this.TargetAccount.CCID?(this.ParentP.TransferDataVisibility=!1,this.ParentP.SetVisibilityFalse()):null!=this.ParentC?(this.ParentC.TransferDataVisibility=!1,this.ParentC.SetVisibilityFalse()):null!=this.ParentEM?(this.ParentEM.TransferDataVisibility=!1,this.ParentEM.SetVisibilityFalse()):null!=this.ParentObject&&"PACT.VIEWMODEL.ListOfCustomersViewModel"==this.ParentObject.toString()&&(this.ParentObject.TransferDataVisibility=!1,this.ParentObject.SetDetailsVisibile()),t.next=28;break;case 12:if(null==e||"Change"!=e.toString()||2!=this.TargetAccount.CCID){t.next=19;break}(o=[]).push(this.AccountID),o.push(this.AccountType.SelectedValue),u=i.a.accounting.ChangeAccount(this.AccountID,this.AccountType.SelectedValue),this.DisplayMessage=u.RetValue>0?"Data changed Successfully":u.message,this.MessageVisibility=!0,this.Parent.Refresh(),t.next=28;break;case 19:if(t.prev=19,!(this.TargetAccount.SelectedValue<1||0==this.TargetAccount.SelectedValue)){t.next=22;break}return t.abrupt("return",(this.DisplayMessage=i.a.GetResource("Select")+" "+i.a.GetResource("DocumentDesigner_Account"),void(this.MessageVisibility=!0)));case 22:this.ParentObject instanceof r?(l=this.ParentObject,h="",p="",l.Filter.CostCenterFilters.forEach((function(e){e.CostCenterID>5e4&&((p=l.GetDimensionFilter(e.CostCenterID)).length>0&&(h+=" and DCC.dcCCNID"+(e.CostCenterID-5e4)+" in ("+p+")"))})),(f=[]).push(this.AccountID),f.push(this.TargetAccount.SelectedValue),f.push(this.TargetAccount.CCID),f.push(this.IsAssign),f.push(this.IsContacts),f.push(this.IsAdress),f.push(this.IsNotes),f.push(this.IsAttachments),f.push(this.IsActivities),f.push(h),g=i.a.accounting.TransferAccount(f),this.DisplayMessage=g.Message,this.MessageVisibility=!0):2==this.TargetAccount.CCID?(T="<XML>",T+='<Row ColID="2" Value="'+this.AccountID+'"/>',T+="</XML>",(y=new r).ReportViewModel_Document(95,T,297,!1,null,null),y.TransferData=this,this.ParentObject=y,i.a.page.HideDialog(),i.a.page.addNewTab({component:a,params:{obj:y}})):((b=[]).push(this.AccountID),b.push(this.TargetAccount.SelectedValue),b.push(this.TargetAccount.CCID),b.push(this.IsAssign),b.push(this.IsContacts),b.push(this.IsAdress),b.push(this.IsNotes),b.push(this.IsAttachments),b.push(this.IsActivities),b.push(""),A=i.a.accounting.TransferAccount(b),this.DisplayMessage=A.Message,this.MessageVisibility=!0),t.next=28;break;case 25:t.prev=25,t.t0=t.catch(19),Logger.ErrorLog("TransferAccountViewModel:: OnTransfer"+t.t0.stack);case 28:case"end":return t.stop()}}),t,this,[[19,25]])})))}},{key:"TargetAccount",get:function(){return this._TargetAccountID},set:function(e){e!=this._TargetAccountID&&(this._TargetAccountID=e)}},{key:"AccountType",get:function(){return this._SelectedAccountType},set:function(e){e!=this._SelectedAccountType&&(this._SelectedAccountType=e)}}]),r}(r.b)}}]);