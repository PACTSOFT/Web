function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[197],{"j1+j":function(e,t,n){"use strict";n.r(t),n.d(t,"POSCashRegisterViewModel",(function(){return l}));var r=n("ScVY"),o=n("4HhE"),a=n("ockk"),s=n("Do2H"),i=n("9UOb"),c=n("xbaw"),u=n("8B8H"),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n),(r=t.call(this)).ButtonClick=new o.b,Logger.InfoLog("DocumentDraftsViewModel:: Entering DocumentDraftsViewModel"),r.oparent=e,r.ButtonClick.Subscribe(_assertThisInitialized(r),"OnButtonClick"),r.DisplayName="Cash Register",r.Title="Cash Register",r.TableObj=new u.a,r.ColSource=[],r.TableObj.Table=[];var i,c=parseInt(s.a.SessionManager.Preferences.CashIn)+"~"+parseInt(s.a.SessionManager.Preferences.CashOut)+"~"+parseInt(s.a.SessionManager.Preferences.Registers),l=+r.oparent.ScreenObject.RegisterNodeID+"~"+r.oparent.ScreenObject.ShiftNodeID+"~"+parseInt(s.a.SessionManager.Preferences.PosShifts),f=r.oparent.DocumentDate.ToString("dd/MMM/yyyy"),p=s.a.common.GetDataSet3("POS003",c,l,f);if(null!=p&&p.Tables.length>0&&(r.TableObj.Table=p.Tables[0],null!=r.TableObj)){r.TableObj.TableColumns.push("Sno"),r.TableObj.TableColumns.push("Type");var h=0;r.TableObj.Table.forEach((function(e){h++,e.Sno=h,""!=e.CostCenterID.toString()&&(e.CostCenterID.toString()==s.a.SessionManager.Preferences.CashIn?e.Type="CashIn":e.CostCenterID.toString()==s.a.SessionManager.Preferences.CashOut&&(e.Type="CashOut"))}))}return(i=new a.a).Header=s.a.GetResource("DocumentDesigner_Sno"),i.DisplayMember="Sno",i.ReadOnly=!0,i.IsFrozen=!0,i.Width=45,r.ColSource.push(i),(i=new a.a).Header=s.a.GetResource("Import_Type"),i.DisplayMember="Type",i.ReadOnly=!0,i.IsFrozen=!0,i.Width=100,r.ColSource.push(i),(i=new a.a).Header=s.a.GetResource("DocumentDesigner_VoucherNo"),i.DisplayMember="DocNo",i.ID="DocNo",i.DataType="LINK",i.ReadOnly=!0,i.IsFrozen=!0,i.Width=150,r.ColSource.push(i),(i=new a.a).Header=s.a.GetResource("DocumentDesigner_Amount"),i.DisplayMember="Amount",i.ReadOnly=!0,i.IsFrozen=!0,i.Width=100,r.ColSource.push(i),r.PopupWidth=450,r.TableObj.Columns=r.ColSource,Logger.InfoLog("DocumentDraftsViewModel:: Entering DocumentDraftsViewModel"),r}return _createClass(n,[{key:"OnButtonClick",value:function(e){"Cancel"==e.toString()&&("AddEditDocumentViewModel"==this.oparent.ClassName&&(this.oparent.res="No"),s.a.page.HideDialog())}},{key:"LoadDocument",value:function(e){if("AddEditDocumentViewModel"==this.oparent.ClassName)if(s.a.page.HideDialog(),"CashIn"==e.Type.toString()){if(s.a.SessionManager.Preferences.ContainsKey("CashIn")&&""!=s.a.SessionManager.Preferences.CashIn&&"0"!=s.a.SessionManager.Preferences.CashIn){var t=new i.PostVoucherSaveViewModel(this.oparent,parseInt(s.a.SessionManager.Preferences.CashIn),parseFloat(e.Amount),parseInt(e.CreditAccount),1,1,!1,!1);s.a.page.ShowDialog(t,c.PostVoucherSaveComponent)}}else if("CashOut"==e.Type.toString()&&s.a.SessionManager.Preferences.ContainsKey("CashOut")&&""!=s.a.SessionManager.Preferences.CashOut&&"0"!=s.a.SessionManager.Preferences.CashOut){var n=new i.PostVoucherSaveViewModel(this.oparent,parseInt(s.a.SessionManager.Preferences.CashOut),parseFloat(e.Amount),parseInt(e.DebitAccount),1,1,!1,!1);s.a.page.ShowDialog(n,c.PostVoucherSaveComponent)}}},{key:"angularGrid",get:function(){return this.TableObj.angularGrid}},{key:"DataTable",get:function(){return this.TableObj.Table}},{key:"SelectedRow",get:function(){return this.TableObj.SelectedItem}}]),n}(r.b)}}]);