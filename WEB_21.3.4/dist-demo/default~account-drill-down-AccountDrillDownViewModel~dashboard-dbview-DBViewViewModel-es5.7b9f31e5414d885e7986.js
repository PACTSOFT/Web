function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var o,n=_getPrototypeOf(e);if(t){var a=_getPrototypeOf(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return _possibleConstructorReturn(this,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{APT5:function(e,t,o){"use strict";o.r(t),o.d(t,"AccountDrillDownViewModel",(function(){return p}));var n=o("Do2H"),a=o("Lp6j"),s=o("dH+5"),i=o("mvPR"),r=o("EQd/"),l=o("ThYU"),D=o("Agar"),c=o("ScVY"),u=o("0/4Q"),h=o("CUWK"),C=o("GYN/"),T=o("MCLT"),p=function(e){_inherits(o,e);var t=_createSuper(o);function o(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return _classCallCheck(this,o),(n=t.call(this)).NodeID=0,n.ReportGridObj=new C.a,n.MonthlyData=new Array,n.DailyData=new Array,n.VoucherData=new Array,n._MonthlyVisible=!1,n._DailyVisible=!1,n._VoucherVisible=!1,n.OpeningBalance=new r.d(0),n.MonthlyOpening="",n.IsLocationVisible=!1,n.Parent=null,n.Widget=null,n.WidgetVisible=!1,n.ShowWizard=!1,n.Accounts=new u.e(0),n.BackButtonVisible=!1,n.HeaderAppearance=new i.a,n.TextDataAppearance=new i.a,n.NumberDataAppearance=new i.a,n.CrDrNumberDataAppearance=new i.a,n.GrossTotalAppearance=new i.a,n.GrossTotalAppearance_Data=new i.a,n.BalanceFormat=new i.b,n.DrCrFormat=new i.b,n.PDCInclude=!0,n.IncludeUnPostedDocs=!0,n.IncludeTerminatedPDC=!0,n.UnPostedDocsList="",n.ReportGridObj.RowDblClick.Subscribe(_assertThisInitialized(n),"OnRowDoubleClick"),n.ReportGridObj.DataClick.Subscribe(_assertThisInitialized(n),"OnDataClick"),n.Accounts.Visible=!1,Logger.InfoLog("AccountDrillDownViewModel::Entering AccountDrillDownViewModel"),null!=e?(n.Report=e,n.BackTrackType=e.BackTrackType,n.Preferences=e.Preferences,n.FromDate=e.oReportDialog.FromDate,n.ToDate=e.oReportDialog.ToDate,n.IsLocationVisible=e.oReportDialog.Locations.Visible,n.ReportLocationWhere=e.oReportDialog.LocationWhere):(n.WidgetVisible=!0,n.Widget=a,n.BackTrackType="Widget"),n.Accounts.SelectionChangedCommand.Subscribe(_assertThisInitialized(n),"AccountSelectionChanged"),null!=n.Preferences&&(n.PDCInclude=!n.Preferences.ContainsKey("IncludePDCs")||"0"!=n.Preferences.IncludePDCs,n.IncludeTerminatedPDC=!n.Preferences.ContainsKey("IncludeTerminatedPDC")||"0"!=n.Preferences.IncludeTerminatedPDC,n.IncludeUnPostedDocs=!n.Preferences.ContainsKey("IncludeUnPostedDocs")||"0"!=n.Preferences.IncludeUnPostedDocs,n.IncludeUnPostedDocs&&n.Preferences.ContainsKey("IncludeUnPostedDocsList")&&(n.UnPostedDocsList=n.Preferences.ContainsKey("IncludeUnPostedDocsList")?n.Preferences.IncludeUnPostedDocsList:"")),n.InitControls(),Logger.InfoLog("AccountDrillDownViewModel::Exiting BRSViewModel"),n}return _createClass(o,[{key:"ReLoadData",value:function(e,t,o,n){this.MessageVisibility=!1,this.DisplayMessage="",this.NodeID=e,this.BackTrackType=this.Report.BackTrackType,this.Preferences=this.Report.Preferences,this.FromDate=this.Report.oReportDialog.FromDate,this.ToDate=this.Report.oReportDialog.ToDate,this.IsLocationVisible=this.Report.oReportDialog.Locations.Visible,this.ReportLocationWhere=this.Report.oReportDialog.LocationWhere,this.SetVisibilty(0),this.LoadData(),t>0&&e!=t&&(this.Accounts.Visible=!0,this.Accounts.Items.Clear(),this.Accounts.Items.push(u.d.ComboBoxItems_2(o,e.toString())),this.Accounts.Items.push(u.d.ComboBoxItems_2(n,t.toString())),this.Accounts.SelectedValue=this.Accounts.Items[0].Value)}},{key:"AccountSelectionChanged",value:function(e){this.Accounts.Visible&&null!=this.Accounts.SelectedValue&&null!=e&&(this.NodeID=parseInt(this.Accounts.SelectedValue),this.LoadData())}},{key:"InitControls",value:function(){var e;this.NetBalance=new D.a,this.OutStandingDr=new D.a,this.OutStandingCr=new D.a,this.NetClearBalance=new D.a,this.NetBalance.Label=n.a.GetResource("Reports_NetBalance"),this.OutStandingDr.Label=n.a.GetResource("Reports_OutStandingDr"),this.OutStandingCr.Label=n.a.GetResource("Reports_OutStandingCr"),this.NetClearBalance.Label=n.a.GetResource("Reports_NetClearBalance"),this.HeaderAppearance.Alignment="Left",this.HeaderAppearance.FontSize=12,this.HeaderAppearance.IsBold=!0,this.HeaderAppearance.BackColor="White",this.HeaderAppearance.ForeColor="Black",this.TextDataAppearance.Alignment="Left",this.TextDataAppearance.FontSize=12,this.TextDataAppearance.BackColor="White",this.TextDataAppearance.ForeColor="Black",this.NumberDataAppearance.Alignment="Right",this.NumberDataAppearance.FontSize=12,this.NumberDataAppearance.BackColor="White",this.NumberDataAppearance.ForeColor="Black",this.GrossTotalAppearance.IsBold=!0,this.GrossTotalAppearance.ForeColor="#FF000000",this.GrossTotalAppearance.BackColor="White",this.GrossTotalAppearance_Data.IsBold=!0,this.GrossTotalAppearance_Data.ForeColor="#FF000000",this.GrossTotalAppearance_Data.BackColor="White",this.GrossTotalAppearance_Data.Alignment="Right",this.BalanceFormat.DecimalsPoints=parseInt(n.a.SessionManager.Preferences.DecimalsinAmount),this.BalanceFormat.NegativeNumber=4,this.BalanceFormat.ShowDefaultSign=1,this.DrCrFormat.DecimalsPoints=parseInt(n.a.SessionManager.Preferences.DecimalsinAmount),this.DrCrFormat.NegativeNumber=0,this.DrCrFormat.ShowDefaultSign=0,"Millions"==n.a.SessionManager.Preferences.Commas?(this.BalanceFormat.Commas=1,this.DrCrFormat.Commas=1):"Lakhs"==n.a.SessionManager.Preferences.Commas&&(this.BalanceFormat.Commas=2,this.DrCrFormat.Commas=2),null!=this.Widget?(this.BackButtonVisible=!1,this.MonthlyVisible=!1,this.DailyVisible=!1,this.VoucherVisible=!0,this.VoucherColumns=new Array,(e=this.GetColumn("Sno","Sno","STRING",this.TextDataAppearance,40)).HeaderText="Sno",this.VoucherColumns.push(e),(e=this.GetColumn("DocDate","Date","DATE",this.TextDataAppearance,100)).HeaderText="Doc Date",this.VoucherColumns.push(e),(e=this.GetColumn("VoucherNo","VoucherNo","STRING",this.TextDataAppearance,130)).HeaderText="Doc No",e.LinkType=s.a.Document,this.VoucherColumns.push(e),(e=this.GetColumn("Quantity","Qty","FLOAT",this.NumberDataAppearance,100)).HeaderText="Quantity",e.DataFormat.DecimalsPoints=parseInt(n.a.SessionManager.Preferences.DecimalsinQty),this.VoucherColumns.push(e),"23"==this.Widget.CallStatusID&&((e=this.GetColumn("ExeQty","Ex. Qty","FLOAT",this.NumberDataAppearance,115)).HeaderText="Executed Qty",e.DataFormat.DecimalsPoints=parseInt(n.a.SessionManager.Preferences.DecimalsinQty),this.VoucherColumns.push(e))):(this.MonthlyColumns=new Array,e=this.GetColumn("MonthName","Doc_Month","STRING",this.TextDataAppearance,90),this.MonthlyColumns.push(e),e=this.GetColumn("YearName","Doc_Year","STRING",this.TextDataAppearance,55),this.MonthlyColumns.push(e),"Account"==this.BackTrackType?((e=this.GetColumn("OpBalance","Op.Balance","FLOAT",this.NumberDataAppearance,120)).DataFormat.ShowDefaultSign=1,e.DataFormat.NegativeNumber=4,this.MonthlyColumns.push(e),e=this.GetColumn("Dr","DocumentDesigner_DisplayDebit","FLOAT",this.NumberDataAppearance,120),this.MonthlyColumns.push(e),e=this.GetColumn("Cr","DocumentDesigner_DisplayCredit","FLOAT",this.NumberDataAppearance,120),this.MonthlyColumns.push(e),(e=this.GetColumn("Balance","Service_Balance","FLOAT",this.NumberDataAppearance,130)).DataFormat.ShowDefaultSign=1,e.DataFormat.NegativeNumber=4,this.MonthlyColumns.push(e)):"Product"==this.BackTrackType&&(e=this.GetColumn("OpStock","Reports_LblOpStock","FLOAT",this.NumberDataAppearance,120),this.MonthlyColumns.push(e),e=this.GetColumn("Receipt","DocumentDesigner_Receipt","FLOAT",this.NumberDataAppearance,120),this.MonthlyColumns.push(e),e=this.GetColumn("Issue","Reports_LblIssue","FLOAT",this.NumberDataAppearance,120),this.MonthlyColumns.push(e),e=this.GetColumn("Closing","Reports_LblClosing","FLOAT",this.NumberDataAppearance,120),this.MonthlyColumns.push(e)),this.DailyColumns=new Array,e=this.GetColumn("Date","Service_Date","DATE",this.TextDataAppearance,110),this.DailyColumns.push(e),"Account"==this.BackTrackType?((e=this.GetColumn("OpBalance","Op.Balance","FLOAT",this.NumberDataAppearance,120)).DataFormat.ShowDefaultSign=1,e.DataFormat.NegativeNumber=4,this.DailyColumns.push(e),e=this.GetColumn("Dr","DocumentDesigner_DisplayDebit","FLOAT",this.NumberDataAppearance,120),this.DailyColumns.push(e),e=this.GetColumn("Cr","DocumentDesigner_DisplayCredit","FLOAT",this.NumberDataAppearance,120),this.DailyColumns.push(e),(e=this.GetColumn("Balance","Service_Balance","FLOAT",this.NumberDataAppearance,120)).DataFormat.ShowDefaultSign=1,e.DataFormat.NegativeNumber=4,this.DailyColumns.push(e)):"Product"==this.BackTrackType&&(e=this.GetColumn("OpStock","Reports_LblOpStock","FLOAT",this.NumberDataAppearance,120),this.DailyColumns.push(e),e=this.GetColumn("Receipt","DocumentDesigner_Receipt","FLOAT",this.NumberDataAppearance,120),this.DailyColumns.push(e),e=this.GetColumn("Issue","Reports_LblIssue","FLOAT",this.NumberDataAppearance,120),this.DailyColumns.push(e),e=this.GetColumn("Closing","Reports_LblClosing","FLOAT",this.NumberDataAppearance,120),this.DailyColumns.push(e)),this.VoucherColumns=new Array,(e=this.GetColumn("VoucherNo","Doc_DocumentNumber","STRING",this.TextDataAppearance,120)).LinkType=s.a.Document,this.VoucherColumns.push(e),"Account"==this.BackTrackType?(e=this.GetColumn("Dr","DocumentDesigner_DisplayDebit","FLOAT",this.NumberDataAppearance,120),this.VoucherColumns.push(e),e=this.GetColumn("Cr","DocumentDesigner_DisplayCredit","FLOAT",this.NumberDataAppearance,120),this.VoucherColumns.push(e)):"Product"==this.BackTrackType&&(e=this.GetColumn("Receipt","DocumentDesigner_Receipt","FLOAT",this.NumberDataAppearance,120),this.VoucherColumns.push(e),e=this.GetColumn("Issue","Reports_LblIssue","FLOAT",this.NumberDataAppearance,120),this.VoucherColumns.push(e)))}},{key:"GetColumn",value:function(e,t,o,a,r){var l=new i.b;"Account"==this.BackTrackType?l.DecimalsPoints=parseInt(n.a.SessionManager.Preferences.DecimalsinAmount):"Product"==this.BackTrackType&&(l.DecimalsPoints=parseInt(n.a.SessionManager.Preferences.DecimalsinQty)),"Millions"==n.a.SessionManager.Preferences.Commas?l.Commas=1:"Lakhs"==n.a.SessionManager.Preferences.Commas&&(l.Commas=2),l.DateType=n.a.SessionManager.Preferences["Date Format"];var D=new s.b;return D.gridLines=3,D.ID=e,D.FieldName=e,D.HeaderText=n.a.GetResource(t),D.HeaderAppearance=a,D.DataAppearance=a,D.HeaderHeight=22,D.width=r,D.DataFormat=l,D.ColumnType=o,D}},{key:"OnButtonClick",value:function(e){if(this.DisplayMessage="","Close"==e)null!=this.Widget?n.a.page.HideDialog():(this.Accounts.Visible=!1,this.Parent.ShowAccountDrillDown=!1);else if("BACK"==e)this.DailyVisible?this.SetVisibilty(0):this.VoucherVisible&&this.SetVisibilty(1);else if("CLEAR"==e);else if("Export"==e){var t=new l.ReportViewModel;t.ReportColumns=this.ReportGridObj.ReportColumns,t.Data=this.ReportGridObj.Data,t.ScreenName="";t.Reportds={Tables:[],Columns:[]},t.Reportds.Tables.push([{}]),this.ExportFile("Print",t)}}},{key:"ExportFile",value:function(e,t){var o=this;this.DisplayMessage="Print"==e?"Printing data please wait...":"Exporting data please wait...";var s={};t.InitPrintOrExport(s),s.Type=e,s.PrintDataOnSeperatePageBy=this.Preferences.ContainsKey("PrintDataOnSeperatePageBy")?this.Preferences.PrintDataOnSeperatePageBy:"","PDF"==e?s.lst=[]:"Print"==e?(s.lst=[],s.Type="PDF"):"Excel"!=e&&"OpenXML"!=e||(s.lst=[]),s.al="al",n.a.report.ExportReport(t.Data,t.ReportColumns,s,"AccDrillDown").subscribe((function(t){console.log(t),"Print"==e?n.a.SessionManager.printTab(t.FileName):(n.a.SessionManager.Download(t.FileName,"khasim"),a.e.IsEmpty(t.Message)&&!a.e.IsEmpty(t.FileName)&&(o.DisplayMessage="Exported Successfully"))}),(function(e){console.log(e)}))}},{key:"LoadData",value:function(){var e=this,t=0,o=0,s=0,r=0,l="";"Account"==this.BackTrackType?l=this.GetAccountQuery():"Product"==this.BackTrackType&&(l=this.GetProductQuery());var D=n.a.report.ReportDataSet("RPT022",null!=this.Report&&this.Report.IsReportDB,l);if(this.MonthlyVisible){if("Account"==this.BackTrackType){D.Tables.length>1&&D.Tables[1].length>0&&(s=a.e.Double(D.Tables[1][0].Opening)),this.OpeningBalance.Label=n.a.GetResource("Reports_OpeningBalance");var c=new i.c;this.SetCellValue(s,this.BalanceFormat,"FLOAT",c),this.OpeningBalance.Text=this.MonthlyOpening=c.Text,D.Tables.length>2&&D.Tables[2].length>0&&(this.AccountName="["+D.Tables[2][0].AccountName.toString()+"]"),this.MonthlyData.Clear(),D.Tables[0].forEach((function(a){e.oRow=new i.d(e.MonthlyColumns.length,22),e.oRow.Height=20,e.SetCellValue(a.MonthName,e.MonthlyColumns[0].DataFormat,e.MonthlyColumns[0].ColumnType,e.oRow.Cells[0]),e.SetCellValue(a.YearName,e.MonthlyColumns[1].DataFormat,e.MonthlyColumns[1].ColumnType,e.oRow.Cells[1]),e.SetCellValue(s,e.MonthlyColumns[2].DataFormat,e.MonthlyColumns[2].ColumnType,e.oRow.Cells[2]),(r=parseFloat(a.DiffDrCr))>=0?(e.SetCellValue(r,e.MonthlyColumns[3].DataFormat,e.MonthlyColumns[3].ColumnType,e.oRow.Cells[3]),o+=r):(e.SetCellValue(-r,e.MonthlyColumns[4].DataFormat,e.MonthlyColumns[4].ColumnType,e.oRow.Cells[4]),t+=-r),s+=r,e.SetCellValue(s,e.MonthlyColumns[5].DataFormat,e.MonthlyColumns[5].ColumnType,e.oRow.Cells[5]),e.oRow.NodeID=parseInt(a.mn),e.oRow.id=n.a.slick.rowid,e.MonthlyData.push(e.oRow)}))}else if("Product"==this.BackTrackType){D.Tables.length>1&&D.Tables[1].length>0&&(s=a.e.Double(D.Tables[1][0].Opening)),this.OpeningBalance.Label=n.a.GetResource("Reports_LblOpeningStock");var u=new i.c;this.SetCellValue(s,this.MonthlyColumns[2].DataFormat,"FLOAT",u),this.OpeningBalance.Text=this.MonthlyOpening=u.Text,D.Tables.length>2&&D.Tables[2].length>0&&(this.AccountName="["+D.Tables[2][0].ProductName.toString()+"]"),this.MonthlyData.Clear(),D.Tables[0].forEach((function(l){e.oRow=new i.d(e.MonthlyColumns.length,22),e.oRow.Height=20,e.SetCellValue(l.MonthName,e.MonthlyColumns[0].DataFormat,e.MonthlyColumns[0].ColumnType,e.oRow.Cells[0]),e.SetCellValue(l.YearName,e.MonthlyColumns[1].DataFormat,e.MonthlyColumns[1].ColumnType,e.oRow.Cells[1]),e.SetCellValue(s,e.MonthlyColumns[2].DataFormat,e.MonthlyColumns[2].ColumnType,e.oRow.Cells[2]),r=a.e.Double(l.Receipt),e.SetCellValue(r,e.MonthlyColumns[3].DataFormat,e.MonthlyColumns[3].ColumnType,e.oRow.Cells[3]),o+=r,r=a.e.Double(l.Issue),e.SetCellValue(r,e.MonthlyColumns[4].DataFormat,e.MonthlyColumns[4].ColumnType,e.oRow.Cells[4]),t+=r,s=s+a.e.Double(l.Receipt)-a.e.Double(l.Issue),e.SetCellValue(s,e.MonthlyColumns[5].DataFormat,e.MonthlyColumns[5].ColumnType,e.oRow.Cells[5]),e.oRow.NodeID=parseInt(l.mn),e.oRow.id=n.a.slick.rowid,e.MonthlyData.push(e.oRow)}))}D.Tables[0].length>0&&(this.oRow=new i.d(this.MonthlyColumns.length,22),this.oRow.Height=24,this.oRow.Cells[2].IsNormal=!1,this.oRow.Cells[2].CellAppearance=this.GrossTotalAppearance,this.oRow.Cells[2].Text="Tr.Totals",this.oRow.Cells[3].IsNormal=!1,this.oRow.Cells[3].CellAppearance=this.GrossTotalAppearance_Data,this.SetCellValue(o,this.MonthlyColumns[3].DataFormat,this.MonthlyColumns[3].ColumnType,this.oRow.Cells[3]),this.oRow.Cells[4].IsNormal=!1,this.oRow.Cells[4].CellAppearance=this.GrossTotalAppearance_Data,this.SetCellValue(t,this.MonthlyColumns[4].DataFormat,this.MonthlyColumns[4].ColumnType,this.oRow.Cells[4]),this.oRow.id=n.a.slick.rowid,this.MonthlyData.push(this.oRow))}else if(this.DailyVisible){if("Account"==this.BackTrackType){D.Tables[1].length>0&&(s=a.e.Double(D.Tables[1][0].Opening)),this.OpeningBalance.Label=n.a.GetResource("Reports_OpeningBalance");var h=new i.c;this.SetCellValue(s,this.BalanceFormat,"FLOAT",h),this.OpeningBalance.Text=h.Text,this.DailyData.Clear(),D.Tables[0].forEach((function(a){e.oRow=new i.d(e.MonthlyColumns.length,22),e.oRow.Height=20,e.oRow.Tag=a.DocDate,e.SetCellValue(a.DocDate,e.DailyColumns[0].DataFormat,"DATE",e.oRow.Cells[0]),e.SetCellValue(s,e.DailyColumns[1].DataFormat,"FLOAT",e.oRow.Cells[1]),(r=parseFloat(a.DiffDrCr))>=0?(e.SetCellValue(r,e.DailyColumns[2].DataFormat,"FLOAT",e.oRow.Cells[2]),o+=r):(e.SetCellValue(-r,e.DailyColumns[3].DataFormat,"FLOAT",e.oRow.Cells[3]),t+=-r),s+=r,e.SetCellValue(s,e.DailyColumns[4].DataFormat,"FLOAT",e.oRow.Cells[4]),e.oRow.id=n.a.slick.rowid,e.DailyData.push(e.oRow)}))}else if("Product"==this.BackTrackType){D.Tables[1].length>0&&(s=a.e.Double(D.Tables[1][0].Opening)),this.OpeningBalance.Label=n.a.GetResource("Reports_LblOpeningStock");var C=new i.c;this.SetCellValue(s,this.MonthlyColumns[2].DataFormat,"FLOAT",C),this.OpeningBalance.Text=C.Text,this.DailyData.Clear(),D.Tables[0].forEach((function(a){e.oRow=new i.d(e.MonthlyColumns.length,22),e.oRow.Height=20,e.oRow.Tag=a.DocDate,e.SetCellValue(a.DocDate,e.DailyColumns[0].DataFormat,"DATE",e.oRow.Cells[0]),e.SetCellValue(s,e.MonthlyColumns[1].DataFormat,"FLOAT",e.oRow.Cells[1]),r=parseFloat(a.Receipt),e.SetCellValue(r,e.MonthlyColumns[2].DataFormat,"FLOAT",e.oRow.Cells[2]),o+=r,r=parseFloat(a.Issue),e.SetCellValue(r,e.MonthlyColumns[3].DataFormat,"FLOAT",e.oRow.Cells[3]),t+=r,s=s+parseFloat(a.Receipt)-parseFloat(a.Issue),e.SetCellValue(s,e.MonthlyColumns[4].DataFormat,"FLOAT",e.oRow.Cells[4]),e.oRow.id=n.a.slick.rowid,e.DailyData.push(e.oRow)}))}D.Tables[0].length>0&&(this.oRow=new i.d(this.DailyColumns.length,22),this.oRow.Height=24,this.oRow.Cells[1].IsNormal=!1,this.oRow.Cells[1].CellAppearance=this.GrossTotalAppearance,this.oRow.Cells[1].Text="Tr.Totals",this.oRow.Cells[2].IsNormal=!1,this.oRow.Cells[2].CellAppearance=this.GrossTotalAppearance_Data,this.SetCellValue(o,this.DailyColumns[2].DataFormat,"FLOAT",this.oRow.Cells[2]),this.oRow.Cells[3].IsNormal=!1,this.oRow.Cells[3].CellAppearance=this.GrossTotalAppearance_Data,this.SetCellValue(t,this.DailyColumns[3].DataFormat,"FLOAT",this.oRow.Cells[3]),this.oRow.id=n.a.slick.rowid,this.DailyData.push(this.oRow))}else this.VoucherVisible&&("Account"==this.BackTrackType?(this.VoucherData.Clear(),D.Tables[0].forEach((function(a){e.oRow=new i.d(e.VoucherColumns.length,22),e.oRow.Height=20,e.SetCellValue(a.VoucherNo,e.VoucherColumns[0].DataFormat,"STRING",e.oRow.Cells[0]),null!=a.Debit&&(o+=parseFloat(a.Debit),e.SetCellValue(a.Debit,e.VoucherColumns[1].DataFormat,"FLOAT",e.oRow.Cells[1])),null!=a.Credit&&(t+=parseFloat(a.Credit),e.SetCellValue(a.Credit,e.VoucherColumns[2].DataFormat,"FLOAT",e.oRow.Cells[2])),e.oRow.id=n.a.slick.rowid,e.VoucherData.push(e.oRow)}))):"Product"==this.BackTrackType&&(this.VoucherData.Clear(),D.Tables[0].forEach((function(a){e.oRow=new i.d(e.VoucherColumns.length,22),e.oRow.Height=20,e.SetCellValue(a.VoucherNo,e.VoucherColumns[0].DataFormat,"STRING",e.oRow.Cells[0]),null!=!a.Receipt&&(o+=parseFloat(a.Receipt),e.SetCellValue(a.Receipt,e.VoucherColumns[1].DataFormat,"FLOAT",e.oRow.Cells[1])),null!=!a.Issue&&(t+=parseFloat(a.Issue),e.SetCellValue(a.Issue,e.VoucherColumns[2].DataFormat,"FLOAT",e.oRow.Cells[2])),e.oRow.id=n.a.slick.rowid,e.VoucherData.push(e.oRow)}))),D.Tables[0].length>0&&(this.oRow=new i.d(this.VoucherColumns.length,22),this.oRow.Height=24,this.oRow.Type=i.f.GrossTotal,this.oRow.Cells[0].IsNormal=!1,this.oRow.Cells[0].CellAppearance=this.GrossTotalAppearance,this.oRow.Cells[0].Text="Balance",this.oRow.Cells[1].IsNormal=!1,this.oRow.Cells[1].CellAppearance=this.GrossTotalAppearance_Data,"Account"==this.BackTrackType?this.SetCellValue(o-t,this.BalanceFormat,"FLOAT",this.oRow.Cells[1]):"Product"==this.BackTrackType&&this.SetCellValue(o-t,this.VoucherColumns[1].DataFormat,"FLOAT",this.oRow.Cells[1]),this.oRow.id=n.a.slick.rowid,this.VoucherData.push(this.oRow)))}},{key:"GetAccountQuery",value:function(){var e="",t=null!=this.Report&&this.Report.Preferences.ContainsKey("RoundOffDecimals")?this.Report.Preferences.RoundOffDecimals:"",o="";this.IsLocationVisible&&null!=this.ReportLocationWhere&&(o=a.e.IsEmpty(this.ReportLocationWhere)?" AND 1<>1":" AND DCC.dcCCNID2 IN ("+this.ReportLocationWhere+")");var n="",s="",i=this.Report.GetDimensionFilter_Str("DCC.dcCCNID");(o.length>0||i.length>0)&&(n=" INNER JOIN COM_DocCCData DCC WITH(NOLOCK) ON DCC.AccDocDetailsID=ACC.AccDocDetailsID "+o+i,s=" INNER JOIN COM_DocCCData DCC WITH(NOLOCK) ON DCC.InvDocDetailsID=ACC.InvDocDetailsID "+o+i);var r="",l="",D="";if(0==this.UnPostedDocsList.length?r=" AND (ACC.StatusID=369 or ACC.StatusID=429)":r+=" AND ACC.StatusID IN (369,429,"+this.UnPostedDocsList+")",D="DocDate<@From",this.PDCInclude){var c="(ACC.StatusID=370 OR ACC.StatusID=439";this.IncludeTerminatedPDC&&(c+=" OR ACC.StatusID=452"),l=" AND ACC.DocumentType<>16 AND ("+(c+=")")+" OR (ACC.DocumentType<>14 AND ACC.DocumentType<>19"+r+"))",D+=" AND ("+c+" OR (ACC.DocumentType<>14 AND ACC.DocumentType<>19"+r+"))"}else l=" AND ACC.DocumentType NOT IN (16,14,19)"+r,D+=" AND ACC.DocumentType<>14 AND ACC.DocumentType<>19"+r;var u="";if(this.MonthlyVisible||this.DailyVisible){var h=t.length>0?"VoucherNo,":"";u+="\nSELECT SUM(OP_Dr)-SUM(OP_Cr) Opening FROM (",t.length>0&&(u+="SELECT VoucherNo,\nCASE WHEN SUM(OP_Dr)-SUM(OP_Cr)>0 THEN round(SUM(OP_Dr)-SUM(OP_Cr),2) ELSE 0 END OP_Dr,\nCASE WHEN SUM(OP_Dr)-SUM(OP_Cr)<0 THEN round(SUM(OP_Cr)-SUM(OP_Dr),2) ELSE 0 END OP_Cr\nFROM ("),u+="\n--Opening Dr\nSELECT "+h+"ACC.Amount OP_Dr,0 OP_Cr\nFROM ACC_DocDetails ACC WITH(NOLOCK)"+n+"\nWHERE DebitAccount=@AccountID AND (ACC.DocumentType=16 OR ("+D+"))\nUNION ALL--Opening Cr\nSELECT "+h+"0 OP_Dr,ACC.Amount OP_Cr\nFROM ACC_DocDetails ACC WITH(NOLOCK)"+n+"\nWHERE CreditAccount=@AccountID AND (ACC.DocumentType=16 OR ("+D+"))",s.length>0&&(u+="\n--INEVENTORY DATA\nUNION ALL--Opening Dr\nSELECT "+h+"ACC.Amount OP_Dr,0 OP_Cr\nFROM ACC_DocDetails ACC WITH(NOLOCK)"+s+"\nWHERE DebitAccount=@AccountID AND (ACC.DocumentType=16 OR ("+D+"))\nUNION ALL--Opening Cr\nSELECT "+h+"0 OP_Dr,ACC.Amount OP_Cr\nFROM ACC_DocDetails ACC WITH(NOLOCK)"+s+"\nWHERE CreditAccount=@AccountID AND (ACC.DocumentType=16 OR ("+D+"))"),t.length>0&&(u+="\n                ) AS T1 GROUP BY VoucherNo"),u+=") AS T"}if(this.MonthlyVisible)e+="DECLARE @From FLOAT,@To FLOAT,@AccountID BIGINT\nSET @From=CONVERT(FLOAT,CONVERT(DATETIME,'"+this.FromDate.Date.ToString("dd MMM yyyy")+"'))\nSET @To=CONVERT(FLOAT,CONVERT(DATETIME,'"+this.ToDate.Date.ToString("dd MMM yyyy")+"'))\nSET @AccountID="+this.NodeID,e+="\nSELECT DATENAME(year,DocDate) YearName,DATENAME(month,DocDate) MonthName,Month(DocDate) mn,SUM(TR_Dr)-SUM(TR_Cr) DiffDrCr\nFROM (\nSELECT VoucherNo,DocDate,",e+=t.length>0?"\nCASE WHEN SUM(TR_Dr)-SUM(TR_Cr)>0 THEN round(SUM(TR_Dr)-SUM(TR_Cr),"+t+") ELSE 0 END TR_Dr,\nCASE WHEN SUM(TR_Dr)-SUM(TR_Cr)<0 THEN round(SUM(TR_Cr)-SUM(TR_Dr),"+t+") ELSE 0 END TR_Cr":"\nCASE WHEN SUM(TR_Dr)-SUM(TR_Cr)>0 THEN SUM(TR_Dr)-SUM(TR_Cr) ELSE 0 END TR_Dr,\nCASE WHEN SUM(TR_Dr)-SUM(TR_Cr)<0 THEN SUM(TR_Cr)-SUM(TR_Dr) ELSE 0 END TR_Cr",e+="\nFROM (\n--Transaction Dr\nSELECT VoucherNo,CONVERT(DATETIME,DocDate) DocDate,Amount TR_Dr,0 TR_Cr\nFROM ACC_DocDetails ACC WITH(NOLOCK)"+n+"\nWHERE (DocDate BETWEEN @From AND @To)"+l+" AND DebitAccount=@AccountID\nUNION ALL--Transaction Cr\nSELECT VoucherNo,CONVERT(DATETIME,DocDate) DocDate,0 TR_Dr, Amount TR_Cr\nFROM ACC_DocDetails ACC  WITH(NOLOCK)"+n+"\nWHERE (DocDate BETWEEN @From AND @To)"+l+" AND CreditAccount=@AccountID",s.length>0&&(e+="\n--INEVENTORY DATA\nUNION ALL--Transaction Dr\nSELECT VoucherNo,CONVERT(DATETIME,DocDate) DocDate,Amount TR_Dr,0 TR_Cr\nFROM ACC_DocDetails ACC WITH(NOLOCK)"+s+"\nWHERE (DocDate BETWEEN @From AND @To)"+l+" AND DebitAccount=@AccountID\nUNION ALL--Transaction Cr\nSELECT VoucherNo,CONVERT(DATETIME,DocDate) DocDate,0 TR_Dr, Amount TR_Cr\nFROM ACC_DocDetails ACC  WITH(NOLOCK)"+s+"\nWHERE (DocDate BETWEEN @From AND @To)"+l+" AND CreditAccount=@AccountID"),e+=") AS T1 GROUP BY VoucherNo,DocDate\n) AS ACC GROUP BY DATENAME(year,DocDate),Month(DocDate),DATENAME(month,DocDate)\nORDER BY YearName,mn",e+="\n"+u.toString()+"\n",e+=" SELECT AccountName FROM ACC_Accounts with(nolock) WHERE AccountID=@AccountID";else if(this.DailyVisible){var C=new Date(parseInt(this.ReportGridObj.SelectedRow.Cells[1].Text),this.ReportGridObj.SelectedRow.NodeID-1,1),T=C.AddMonths(1).AddDays(-1);C<this.FromDate.Date&&(C=this.FromDate.Date),e+="DECLARE @From FLOAT,@To FLOAT,@AccountID BIGINT\nSET @From=CONVERT(FLOAT,CONVERT(DATETIME,'"+C.ToString("dd MMM yyyy")+"'))\nSET @To=CONVERT(FLOAT,CONVERT(DATETIME,'"+T.ToString("dd MMM yyyy")+"'))\nSET @AccountID="+this.NodeID,e+="\nSELECT DocDate,SUM(TR_Dr)-SUM(TR_Cr) DiffDrCr\nFROM (\nSELECT VoucherNo,DocDate,",e+=t.length>0?"\nCASE WHEN SUM(TR_Dr)-SUM(TR_Cr)>0 THEN round(SUM(TR_Dr)-SUM(TR_Cr),"+t+") ELSE 0 END TR_Dr,\nCASE WHEN SUM(TR_Dr)-SUM(TR_Cr)<0 THEN round(SUM(TR_Cr)-SUM(TR_Dr),"+t+") ELSE 0 END TR_Cr":"\nCASE WHEN SUM(TR_Dr)-SUM(TR_Cr)>0 THEN SUM(TR_Dr)-SUM(TR_Cr) ELSE 0 END TR_Dr,\nCASE WHEN SUM(TR_Dr)-SUM(TR_Cr)<0 THEN SUM(TR_Cr)-SUM(TR_Dr) ELSE 0 END TR_Cr",e+="\nFROM (\n--Transaction Dr\nSELECT VoucherNo,CONVERT(DATETIME,DocDate) DocDate,Amount TR_Dr,0 TR_Cr\nFROM ACC_DocDetails ACC WITH(NOLOCK)"+n+"\nWHERE (DocDate BETWEEN @From AND @To)"+l+" AND DebitAccount=@AccountID\nUNION ALL--Transaction Cr\nSELECT VoucherNo,CONVERT(DATETIME,DocDate) DocDate,0 TR_Dr, Amount TR_Cr\nFROM ACC_DocDetails ACC  WITH(NOLOCK)"+n+"\nWHERE (DocDate BETWEEN @From AND @To)"+l+" AND CreditAccount=@AccountID",s.length>0&&(e+="\n--INEVENTORY DATA\nUNION ALL--Transaction Dr\nSELECT VoucherNo,CONVERT(DATETIME,DocDate) DocDate,Amount TR_Dr,0 TR_Cr\nFROM ACC_DocDetails ACC WITH(NOLOCK)"+s+"\nWHERE (DocDate BETWEEN @From AND @To)"+l+" AND DebitAccount=@AccountID\nUNION ALL--Transaction Cr\nSELECT VoucherNo,CONVERT(DATETIME,DocDate) DocDate,0 TR_Dr, Amount TR_Cr\nFROM ACC_DocDetails ACC  WITH(NOLOCK)"+s+"\nWHERE (DocDate BETWEEN @From AND @To)"+l+" AND CreditAccount=@AccountID"),e+=") AS T1 GROUP BY VoucherNo,DocDate\n) AS ACC GROUP BY DocDate\nORDER BY DocDate",e+="\n"+u.toString()+"\n"}else this.VoucherVisible&&(e+="DECLARE @From FLOAT,@To FLOAT,@AccountID BIGINT\nSET @From=CONVERT(FLOAT,CONVERT(DATETIME,'"+new Date(this.ReportGridObj.SelectedRow.Tag).ToString("dd MMM yyyy")+"'))\nSET @AccountID="+this.NodeID,e+="\nSELECT VoucherNo,\nCASE WHEN SUM(TR_Dr)-SUM(TR_Cr)>0 THEN SUM(TR_Dr)-SUM(TR_Cr) ELSE NULL END Debit,\nCASE WHEN SUM(TR_Dr)-SUM(TR_Cr)<0 THEN SUM(TR_Cr)-SUM(TR_Dr) ELSE NULL END Credit\nFROM (",e+="\n--Transaction Dr\nSELECT VoucherNo,Amount TR_Dr,0 TR_Cr\nFROM ACC_DocDetails ACC WITH(NOLOCK)"+n+"\nWHERE DocDate=@From"+l+" AND DebitAccount=@AccountID\nUNION ALL--Transaction Cr\nSELECT VoucherNo,0 TR_Dr, Amount TR_Cr\nFROM ACC_DocDetails ACC  WITH(NOLOCK)"+n+"\nWHERE DocDate=@From"+l+" AND CreditAccount=@AccountID",s.length>0&&(e+="\n--INEVENTORY DATA\nUNION ALL--Transaction Dr\nSELECT VoucherNo,Amount TR_Dr,0 TR_Cr\nFROM ACC_DocDetails ACC WITH(NOLOCK)"+s+"\nWHERE DocDate=@From"+l+" AND DebitAccount=@AccountID\nUNION ALL--Transaction Cr\nSELECT VoucherNo,0 TR_Dr, Amount TR_Cr\nFROM ACC_DocDetails ACC  WITH(NOLOCK)"+s+"\nWHERE DocDate=@From"+l+" AND CreditAccount=@AccountID"),e+=") AS ACC GROUP BY VoucherNo");return e.toString()}},{key:"GetProductQuery",value:function(){var e="",t="";this.IsLocationVisible&&null!=this.ReportLocationWhere&&(t=a.e.IsEmpty(this.ReportLocationWhere)?" AND 1<>1":" AND DCC.dcCCNID"+(this.Report.oReportDialog.Locations.DBColumnID-5e4)+" IN ("+this.ReportLocationWhere+")");var o,n="",s=this.Report.GetDimensionFilter_Str("DCC.dcCCNID");if((t.length>0||s.length>0)&&(n=" INNER JOIN COM_DocCCData DCC WITH(NOLOCK) ON DCC.InvDocDetailsID=D.InvDocDetailsID "+t+s),o=this.IncludeUnPostedDocs?"":" AND D.StatusID=369",this.MonthlyVisible){var i=!1,r="";this.FromDate.Visible?r="(DocDate BETWEEN @From AND @To)":(i=!0,r="DocDate<=@To"),e+="DECLARE @From FLOAT,@To FLOAT,@ProductID BIGINT\nSET @From=CONVERT(FLOAT,CONVERT(DATETIME,'"+this.FromDate.Date.ToString("dd MMM yyyy")+"'))\nSET @To=CONVERT(FLOAT,CONVERT(DATETIME,'"+this.ToDate.Date.ToString("dd MMM yyyy")+"'))\nSET @ProductID="+this.NodeID,e+="\nSELECT DATENAME(year,DocDate) YearName,DATENAME(month,DocDate) MonthName,Month(DocDate) mn,SUM(Receipt) Receipt,SUM(Issue) Issue\nFROM (\n--Transaction Receipt\nSELECT CONVERT(DATETIME,DocDate) DocDate,UOMConvertedQty Receipt,0 Issue\nFROM INV_DocDetails D WITH(NOLOCK)"+n+"\nWHERE D.ProductID=@ProductID AND IsQtyIgnored=0 AND D.VoucherType=1 AND D.DocumentType<>3 AND "+r+o+"\nUNION ALL\n--Transaction Issue\nSELECT CONVERT(DATETIME,DocDate) DocDate,0 Receipt,UOMConvertedQty Issue\nFROM INV_DocDetails D WITH(NOLOCK)"+n+"\nWHERE D.ProductID=@ProductID AND IsQtyIgnored=0 AND D.VoucherType=-1 AND D.DocumentType<>3 AND "+r+o,e+=") AS INV GROUP BY DATENAME(year,DocDate),Month(DocDate),DATENAME(month,DocDate)\nORDER BY YearName,mn",e+=i?"\nSELECT SUM(Receipt)-SUM(Issue) Opening FROM (\n--Opening Receipt\nSELECT UOMConvertedQty Receipt,0 Issue\nFROM INV_DocDetails D WITH(NOLOCK)"+n+"\nWHERE D.ProductID=@ProductID AND IsQtyIgnored=0 AND D.VoucherType=1 AND \n(D.DocDate<=@To AND D.DocumentType=3)"+o+"\nUNION ALL\n--Opening Issue\nSELECT 0 Receipt,UOMConvertedQty Issue\nFROM INV_DocDetails D WITH(NOLOCK)"+n+"\nWHERE D.ProductID=@ProductID AND IsQtyIgnored=0 AND D.VoucherType=-1 AND \n(D.DocDate<=@To AND D.DocumentType=3)"+o+"\n) AS T":"\nSELECT SUM(Receipt)-SUM(Issue) Opening FROM (\n--Opening Receipt\nSELECT UOMConvertedQty Receipt,0 Issue\nFROM INV_DocDetails D WITH(NOLOCK)"+n+"\nWHERE D.ProductID=@ProductID AND IsQtyIgnored=0 AND D.VoucherType=1 AND \n(D.DocDate<@From OR (D.DocDate<=@To AND D.DocumentType=3))"+o+"\nUNION ALL\n--Opening Issue\nSELECT 0 Receipt,UOMConvertedQty Issue\nFROM INV_DocDetails D WITH(NOLOCK)"+n+"\nWHERE D.ProductID=@ProductID AND IsQtyIgnored=0 AND D.VoucherType=-1 AND \n(D.DocDate<@From OR (D.DocDate<=@To AND D.DocumentType=3))"+o+"\n) AS T",e+=" SELECT ProductName FROM INV_Product WITH(NOLOCK) WHERE ProductID=@ProductID"}else if(this.DailyVisible){var l=new Date(parseInt(this.ReportGridObj.SelectedRow.Cells[1].Text),this.ReportGridObj.SelectedRow.NodeID-1,1),D=l.AddMonths(1).AddDays(-1);l<this.FromDate.Date&&this.FromDate.Visible&&(l=this.FromDate.Date),e+="DECLARE @From FLOAT,@To FLOAT,@ProductID BIGINT\nSET @From=CONVERT(FLOAT,CONVERT(DATETIME,'"+l.ToString("dd MMM yyyy")+"'))\nSET @To=CONVERT(FLOAT,CONVERT(DATETIME,'"+D.ToString("dd MMM yyyy")+"'))\nSET @ProductID="+this.NodeID,e+="\nSELECT CONVERT(DATETIME,DocDate) DocDate,SUM(Receipt) Receipt,SUM(Issue) Issue\nFROM (\n--Transaction Receipt\nSELECT DocDate,UOMConvertedQty Receipt,0 Issue\nFROM INV_DocDetails D WITH(NOLOCK)"+n+"\nWHERE D.ProductID=@ProductID AND IsQtyIgnored=0 AND D.VoucherType=1 AND D.DocumentType<>3 AND (DocDate BETWEEN @From AND @To)"+o+"\nUNION ALL\n--Transaction Issue\nSELECT DocDate,0 Receipt,UOMConvertedQty Issue\nFROM INV_DocDetails D WITH(NOLOCK)"+n+"\nWHERE D.ProductID=@ProductID AND IsQtyIgnored=0 AND D.VoucherType=-1 AND D.DocumentType<>3 AND (DocDate BETWEEN @From AND @To)"+o+"\n",e+=") AS INV GROUP BY DocDate\nORDER BY DocDate",e+="\nSELECT SUM(Receipt)-SUM(Issue) Opening FROM (\n--Opening Receipt\nSELECT UOMConvertedQty Receipt,0 Issue\nFROM INV_DocDetails D WITH(NOLOCK)"+n+"\nWHERE D.ProductID=@ProductID AND IsQtyIgnored=0 AND D.VoucherType=1 AND \n(D.DocDate<@From OR (D.DocDate<=@To AND D.DocumentType=3))"+o+"\nUNION ALL\n--Opening Issue\nSELECT 0 Receipt,UOMConvertedQty Issue\nFROM INV_DocDetails D WITH(NOLOCK)"+n+"\nWHERE D.ProductID=@ProductID AND IsQtyIgnored=0 AND D.VoucherType=-1 AND \n(D.DocDate<@From OR (D.DocDate<=@To AND D.DocumentType=3))"+o+"\n) AS T"}else this.VoucherVisible&&(e+="DECLARE @From FLOAT,@To FLOAT,@ProductID BIGINT\nSET @From=CONVERT(FLOAT,CONVERT(DATETIME,'"+new Date(this.ReportGridObj.SelectedRow.Tag).ToString("dd MMM yyyy")+"'))\nSET @ProductID="+this.NodeID,e+="\n--Transaction Receipt\nSELECT VoucherNo,SUM(UOMConvertedQty) Receipt,NULL Issue,1 VoucherType\nFROM INV_DocDetails D WITH(NOLOCK)"+n+"\nWHERE D.ProductID=@ProductID AND IsQtyIgnored=0 AND D.VoucherType=1 AND D.DocumentType<>3 AND DocDate=@From"+o+"\nGROUP BY VoucherNo\nUNION ALL\n--Transaction Issue\nSELECT VoucherNo,NULL Receipt,SUM(UOMConvertedQty) Issue,-1 VoucherType\nFROM INV_DocDetails D WITH(NOLOCK)"+n+"\nWHERE D.ProductID=@ProductID AND IsQtyIgnored=0 AND D.VoucherType=-1 AND D.DocumentType<>3 AND DocDate=@From"+o+"\nGROUP BY VoucherNo\nORDER BY VoucherType DESC,VoucherNo");return e.toString()}},{key:"SetVisibilty",value:function(e){0==e?(this.Title="Monthly Balances",this.BackButtonVisible=!1,this.MonthlyVisible=!0,this.DailyVisible=!1,this.VoucherVisible=!1,this.OpeningBalance.Visible=!0,this.OpeningBalance.Text=this.MonthlyOpening,this.Accounts.Enable=!0):1==e?(this.Title="Daily Balances",this.BackButtonVisible=!0,this.MonthlyVisible=!1,this.VoucherVisible=!1,this.DailyVisible=!0,this.OpeningBalance.Visible=!0,this.Accounts.Enable=!1):2==e&&(this.Title="Voucher Balances",this.BackButtonVisible=!0,this.MonthlyVisible=!1,this.DailyVisible=!1,this.VoucherVisible=!0,this.OpeningBalance.Visible=!1,this.Accounts.Enable=!1)}},{key:"OnRowDoubleClick",value:function(e,t){return this.MonthlyVisible?this.OnMonthlyRowDoubleClick(e,t):this.DailyVisible?this.OnDailyRowDoubleClick(e,t):this.VoucherVisible&&this.OnVoucherRowDoubleClick(e,t),!0}},{key:"OnMonthlyRowDoubleClick",value:function(e,t){this.MonthlyData.indexOf(e)<this.MonthlyData.length-1&&(this.SetVisibilty(1),this.LoadData())}},{key:"OnDailyRowDoubleClick",value:function(e,t){this.DailyData.indexOf(e)<this.DailyData.length-1&&(this.SetVisibilty(2),this.LoadData())}},{key:"OnVoucherRowDoubleClick",value:function(e,t){this.VoucherVisible&&this.VoucherData.indexOf(e)<this.VoucherData.length-1&&h.RibbonExtViewModel.LoadDocument_VoucherNo(e.Cells[0].Text)}},{key:"OnDataClick",value:function(e){e.Column.LinkType==s.a.Document&&this.VoucherData.indexOf(e.Row)<this.VoucherData.length&&(h.RibbonExtViewModel.LoadDocument_VoucherNo(e.Row.Cells[e.ColumnIndex].Text),this.WidgetVisible&&n.a.page.HideDialog())}},{key:"SetCellValue",value:function(e,t,o,n){l.ReportViewModel.SetCellValue(e,t,o,-1,n)}},{key:"LoadWidgetData",value:function(e){var t=this;e.Tables[0].Columns.push("Sno");var o=1;e.Tables[0].forEach((function(e){e.Sno=o++})),e.Tables[0].forEach((function(e){t.oRow=new i.d(t.VoucherColumns.length,22),t.oRow.Height=22;for(var o=0;o<t.VoucherColumns.length;o++){var a=t.VoucherColumns[o];Object(T.isNullOrUndefined)(e[a.ID])||l.ReportViewModel.SetCellValue(e[a.ID],a.DataFormat,a.ColumnType,-1,t.oRow.Cells[o])}t.oRow.id=n.a.slick.rowid,t.VoucherData.push(t.oRow)}))}},{key:"MonthlyVisible",get:function(){return this._MonthlyVisible},set:function(e){this._MonthlyVisible=e,e&&(this.ReportGridObj.Data=this.MonthlyData,this.ReportGridObj.ReportColumns=this.MonthlyColumns,this.ReportGridObj.RefreshColumns())}},{key:"DailyVisible",get:function(){return this._DailyVisible},set:function(e){this._DailyVisible=e,e&&(this.ReportGridObj.Data=this.DailyData,this.ReportGridObj.ReportColumns=this.DailyColumns,this.ReportGridObj.RefreshColumns())}},{key:"VoucherVisible",get:function(){return this._VoucherVisible},set:function(e){this._VoucherVisible=e,e&&(this.ReportGridObj.Data=this.VoucherData,this.ReportGridObj.ReportColumns=this.VoucherColumns,this.ReportGridObj.RefreshColumns())}}]),o}(c.b)}}]);