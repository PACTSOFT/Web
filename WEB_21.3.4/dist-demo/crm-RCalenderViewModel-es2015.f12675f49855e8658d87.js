(window.webpackJsonp=window.webpackJsonp||[]).push([[123],{r2z3:function(e,s,a){"use strict";a.d(s,"a",(function(){return i}));var t=a("Do2H"),r=a("Lp6j"),n=a("eQJW");class i{constructor(){this.SelectedModeID=0,this.IsGroup=!1,this.IsCode=!1,this.EmailsAllow=!1,this.BulkEmailAllow=!1,this.MailAllow=!1,this.PhoneAllow=!1,this.FaxAllow=!1,this.ConvAccount=!1,this.ConvCustomerContacts=!1,this.ConvLeadAddressDetails=!1,this.ConvAccountContacts=!1,this.ConvOpportunity=!1,this.ConvContact=!1,this.ConvCustomer=!1,this.ConvLead=!1,this.CodeNumber=0}SetEmailTemplatesForProduct(e,s,a,r){let n=[];n.push(e);try{n.push(parseInt(s.toString()))}catch(i){n.push(0)}return n.push(a),n.push(r),n.push(t.a.SessionManager.CompanyGUID),n.push(t.a.SessionManager.UserName),n.push(t.a.SessionManager.UserID),n.push(t.a.SessionManager.RoleID),n.push(t.a.SessionManager.LanguageID),t.a.crmService.SetEmailTemplatesForProduct(n)}static GetLeadScrenDetails(e){let s=[];s.push(e),s.push(t.a.SessionManager.UserID),s.push(t.a.SessionManager.LanguageID);let a="?param="+JSON.stringify(s);return t.a.crmService.GetLeadScreenData(a)}static GetPermission(e,s){let a=[];a.push(e),a.push(s),a.push(t.a.SessionManager.RoleID),a.push(t.a.SessionManager.LanguageID);let r="?param="+JSON.stringify(a);return t.a.crmService.GetPermission(r)}static ReturnValidPermission(e,s){let a=this.GetPermission(e,s);return null!=a&&a.Tables[0].length>0&&Object(n.j)(a.Tables[0][0][a.Columns[0]])}SaveLead(){let e=[];return e.push(this.LeadID),e.push(this.Code),e.push(this.Company),e.push("DESCRIPTION"),e.push(this.StatusID),e.push(this.IsGroup),e.push(this.SelectedNodeID),"1"==this.Date.getFullYear().toString()?e.push(null):e.push(this.Date.ToString("dd/MMM/yyyy")),e.push(this.Name),e.push(this.CampaignID),e.push(this.SourceID>0?this.SourceID:0),e.push(this.RatingID>0?this.RatingID:0),e.push(this.IndustryID>0?this.IndustryID:0),e.push(this.Contact>0?this.Contact:0),e.push(this.Details),e.push(this.TabXML),e.push(this.CustomFieldsQuery),e.push(this.CustomCostCenterFieldsQuery),e.push(this.ActivityXML),e.push(this.NotesXML),e.push(this.AttachmentXML),e.push(this.ProductsXML),e.push(this.FeedBackXML),e.push(this.CVRXML),e.push(this.ContactsXML),e.push(this.PrimaryContactXML),e.push(this.EmailsAllow),e.push(this.BulkEmailAllow),e.push(this.MailAllow),e.push(this.PhoneAllow),e.push(this.FaxAllow),e.push(this.Mode),e.push(this.SelectedModeID),e.push(t.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(t.a.SessionManager.UserName),e.push(t.a.SessionManager.UserID),e.push(t.a.SessionManager.RoleID),e.push(t.a.SessionManager.LanguageID),e.push(r.e.String(this.CodePrefix)),e.push(this.CodeNumber),e.push(this.IsCode),t.a.crmService.SaveLead(e)}SaveLeadQuick(){let e=[];return e.push(this.LeadID),e.push(this.Code),e.push(this.Company),e.push(this.StaticFieldsQuery),e.push(this.CustomFieldsQuery),e.push(this.CustomCostCenterFieldsQuery),e.push(this.ActivityXML),e.push(this.Details),e.push(t.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(t.a.SessionManager.UserName),e.push(t.a.SessionManager.UserID),e.push(t.a.SessionManager.RoleID),e.push(t.a.SessionManager.LanguageID),t.a.crmService.SaveLeadQuick(e)}GetLead(e){let s=t.a.crmService.GetLead("?UserID="+t.a.SessionManager.UserID+"&RoleID="+t.a.SessionManager.RoleID+"&LangID="+t.a.SessionManager.LangID+"&LeadID="+e);return e>0&&null!=s&&s.Tables[0].length>0&&(r.e.IsEmpty(s.Tables[0][0].GUID)||(this.GUID=s.Tables[0][0].GUID.toString())),s}GetCRMContacts(e,s){let a=[];a.push(e),a.push(s),a.push(t.a.SessionManager.UserID),a.push(t.a.SessionManager.LanguageID);let r="?param="+JSON.stringify(a);return t.a.crmService.GetCRMContacts(r)}DeleteLead(e){try{let s=[];return s.push(e),s.push(t.a.SessionManager.RoleID),t.a.crmService.DeleteLead(s)}catch(s){return Logger.ErrorLog("LEAD::DeleteLead"+s.stack),""}}DeleteActivity(e,s){Logger.InfoLog("LEAD:: Entering DeleteLead");try{let a=[];return a.push(e),a.push(s),a.push(t.a.SessionManager.UserID),t.a.crmService.DeleteActivity(a)}catch(a){return Logger.ErrorLog("LEAD::DeleteLead"+a.stack),""}Logger.InfoLog("LEAD:: Exiting DeleteLead")}ConvertLead(){try{let e=[];return e.push(this.LeadID),e.push(this.ConvOpportunity),e.push(this.ConvContact),e.push(this.ConvCustomer),e.push(this.ConvAccount),e.push(this.ConvCustomerContacts),e.push(this.ConvAccountContacts),e.push(this.ConvLeadAddressDetails),e.push(t.a.SessionManager.CompanyGUID),e.push(t.a.SessionManager.UserName),e.push(t.a.SessionManager.UserID),t.a.crmService.ConvertLead(e)}catch(e){return Logger.ErrorLog("LEAD::ConvertLead"+e.stack),""}Logger.InfoLog("LEAD::Exiting ConvertLead")}ConvertLeadFromCampaign(){Logger.InfoLog("LEAD::Entering ConvertLead");try{let e=[];return e.push(this.CampaignID),e.push(this.ConvLead),e.push(this.ConvOpportunity),e.push(t.a.SessionManager.CompanyGUID),e.push(t.a.SessionManager.UserName),e.push(t.a.SessionManager.UserID),t.a.crmService.ConvertLeadFromCampaign(e)}catch(e){return Logger.ErrorLog("LEAD::ConvertLead"+e.stack),""}Logger.InfoLog("LEAD::Exiting ConvertLead")}ApproveFeature(e,s){Logger.InfoLog("LEAD::Entering ApproveLead");try{let s=[];return s.AddRange(e),s.push(t.a.SessionManager.CompanyGUID),s.push(t.a.SessionManager.UserName),s.push(t.a.SessionManager.RoleID),t.a.crmService.ApproveFeature(s)}catch(a){return Logger.ErrorLog("LEAD::ApproveLead"+a.stack),""}}static ConvertLead_2(e){let s=[];return s.AddRange(e),s.push(t.a.SessionManager.CompanyGUID),s.push(t.a.SessionManager.UserName),s.push(t.a.SessionManager.UserID),t.a.crmService.ConvertCustomer(s)}CloseLead(e,s,a){let r=[];r.push(e),r.push(s),r.push(a.ToString("dd/MMM/yyyy")),r.push(t.a.SessionManager.UserID),r.push(t.a.SessionManager.LanguageID);let n="?param="+JSON.stringify(r);return t.a.crmService.CloseLead(n)}}}}]);