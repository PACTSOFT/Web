function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,s){return e&&_defineProperties(t.prototype,e),s&&_defineProperties(t,s),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var s,i=_getPrototypeOf(t);if(e){var a=_getPrototypeOf(this).constructor;s=Reflect.construct(i,arguments,a)}else s=i.apply(this,arguments);return _possibleConstructorReturn(this,s)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[86,71,75,77,89,113,121,172],{"4k0m":function(t,e,s){"use strict";s.d(e,"a",(function(){return h}));var i=s("Do2H"),a=s("ScVY"),n=s("EQd/"),r=s("0/4Q"),h=function(t){_inherits(s,t);var e=_createSuper(s);function s(t,a,r,h){var o;return _classCallCheck(this,s),(o=e.call(this)).Remarks=new n.c(0),o.CostCenterID=0,o.NodeID=0,o.Parent=null,o.retValWeb=0,o.IsUpdated=!1,o.CostCenterID=t,o.NodeID=a,o.Parent=h,o.ScreenObject=r,o.Remarks.Label=i.a.GetResource("Remarks"),o}return _createClass(s,[{key:"SaveStatus",value:function(t,e,s){!(arguments.length>3&&void 0!==arguments[3])||arguments[3];var i=!1,a=null;"MonthlyPayrollViewModel"==this.Parent.ClassName?(null!=(a=this.Parent.SetDocStatus(t,e,s,new Date,this.Remarks.Text,!0,""))&&a.Tables.length>0&&a.Tables[0].length>0&&a.Columns[0].Contains("status")&&(this.Parent.DocStatus="["+a.Tables[0][0].status.toString()+"]",i=!0),null!=a&&a.Tables.length>0&&a.Tables[a.Tables.length-1].length>0&&a.Columns[a.Tables.length-1].Contains("ErrorMessage")&&(this.Parent.this.DisplayMessage=a.Tables[a.Tables.length-1][0].ErrorMessage.toString()),this.Parent.this.MessageVisibility=!0,i&&this.Parent.btnClear_Click()):"FinalSettlementViewModel"==this.Parent.ClassName&&(null!=(a=this.Parent.SetDocStatus(t,e,s,new Date,this.Remarks.Text,!0,""))&&a.Tables.length>0&&a.Tables[0].length>0&&a.Columns[0].Contains("status")&&(this.Parent.DocStatus="["+a.Tables[0][0].status.toString()+"]",i=!0),null!=a&&a.Tables.length>0&&a.Tables[a.Tables.length-1].length>0&&a.Columns[a.Tables.length-1].Contains("ErrorMessage")&&(this.Parent.this.DisplayMessage=a.Tables[a.Tables.length-1][0].ErrorMessage.toString()),this.Parent.this.MessageVisibility=!0,i&&this.Parent.Button_Click("Clear"))}},{key:"onButtonClick",value:function(t){var e=0;if(40054==this.CostCenterID)"Approve"==t?i.a.SessionManager.IsActionAssigned(this.CostCenterID,"Edit")?this.Parent.btnPost_Click():this.SaveStatus(369,parseInt(this.Parent.oCMP.arrLstOthMPFields[0].dvPayProcessed[0].WorkFlowID),""):"Reject"==t&&this.SaveStatus(372,0,""),i.a.page.HideDialog();else if(40095==this.CostCenterID)"Approve"==t?i.a.SessionManager.IsActionAssigned(this.CostCenterID,"Edit")?(this.Parent.sCmdParameter="Approve",this.Parent.Button_Click("Save")):this.SaveStatus(369,this.Parent.WID,""):"Reject"==t&&this.SaveStatus(372,0,""),i.a.page.HideDialog();else{var s=this.ScreenObject.CurrentStatus;if("Approve"==t){if(!this.IsSaveValidated())return;var a=i.a.common.ApproveCostCenter(this.CostCenterID,this.NodeID,s,this.Remarks.Text,!1,0);this.DisplayMessage=a.Message,(e=a.RetValue)>0&&(this.IsUpdated||(this.ScreenObject.ButtonApproveVisible=!1,this.UpdateStatusID(e),null!=this.ScreenObject.drpStatus&&(null==this.ScreenObject.drpStatus.Items.find((function(t){return t.Value==e.toString()}))&&("1001"==e.toString()?this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Un Approved","1001")):"1002"==e.toString()?this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Approved","1002")):this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Rejected","1003"))),this.ScreenObject.drpStatus.SelectedValue=e.toString(),this.ScreenObject.drpStatus.SetSelectedItem(e.toString())),i.a.SessionManager.IsWebApplication&&(this.retValWeb=e)),i.a.page.HideDialog())}else if("Reject"==t){if(!this.IsSaveValidated())return;var n=i.a.common.ApproveCostCenter(this.CostCenterID,this.NodeID,s,this.Remarks.Text,!0,0);this.DisplayMessage=n.Message,(e=n.RetValue)>0&&(this.IsUpdated||(this.UpdateStatusID(e),null!=this.ScreenObject.drpStatus&&(null==this.ScreenObject.drpStatus.Items.find((function(t){return t.Value==e.toString()}))&&("1001"==e.toString()?this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Un Approved","1001")):"1002"==e.toString()?this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Approved","1002")):this.ScreenObject.drpStatus.Items.push(r.d.ComboBoxItems_2("Rejected","1003"))),this.ScreenObject.drpStatus.SelectedValue=e.toString(),this.ScreenObject.drpStatus.SetSelectedItem(e.toString())),i.a.SessionManager.IsWebApplication&&(this.retValWeb=e)),i.a.page.HideDialog())}else i.a.page.HideDialog()}}},{key:"UpdateStatusID",value:function(t){this.ScreenObject.CurrentStatus=t,"QuickAddAccountScreenViewModel"==this.Parent.ClassName||"AddEditAccountScreenViewModel"==this.Parent.ClassName?this.Parent.obj.StatusID=t:"QuickAddProductViewModel"==this.Parent.ClassName?this.Parent.objProduct.ProductStatus=t:"AddProductScreenViewModel"==this.Parent.ClassName?this.Parent.oProduct.ProductStatus=t:"QuickAddCostCenterViewModel"==this.Parent.ClassName||"AddCostCenterViewModel"==this.Parent.ClassName?this.Parent.objCostCenter.Status=t:"AddEditEmpMasterViewModel"==this.Parent.ClassName&&(this.Parent.objEmp.StatusID=t)}},{key:"IsSaveValidated",value:function(){if(this.IsUpdated=!1,"QuickAddAccountScreenViewModel"==this.Parent.ClassName){var t=this.Parent;if(t.ButtonSave.Visible&&t.ButtonSave.Enable){if(t.SaveMethod("APPROVE_CALL"),0!=t.AccountID)return this.DisplayMessage=t.DisplayMessage,t.DisplayMessage="",!1;this.IsUpdated=!0,t.DisplayMessage=""}}else if("AddEditAccountScreenViewModel"==this.Parent.ClassName){var e=this.Parent;if(e.ButtonSave.Visible&&e.ButtonSave.Enable){if(e.OnSaveAccount("APPROVE_CALL"),0!=e.AccountID)return this.DisplayMessage=e.DisplayMessage,e.DisplayMessage="",!1;this.IsUpdated=!0,e.DisplayMessage=""}}else if("QuickAddProductViewModel"==this.Parent.ClassName){var s=this.Parent;if(s.ButtonSave.Visible&&s.ButtonSave.Enable){if(s.onSaveProduct("APPROVE_CALL"),0!=s.objProduct.ProductID)return this.DisplayMessage=s.DisplayMessage,s.DisplayMessage="",!1;this.IsUpdated=!0,s.DisplayMessage=""}}else if("AddProductScreenViewModel"==this.Parent.ClassName){var i=this.Parent;if(i.ButtonSave.Visible&&i.ButtonSave.Enable){if(i.OnSaveProduct("APPROVE_CALL"),0!=i.ProductID)return this.DisplayMessage=i.DisplayMessage,i.DisplayMessage="",!1;this.IsUpdated=!0,i.DisplayMessage=""}}else if("QuickAddCostCenterViewModel"==this.Parent.ClassName){var a=this.Parent;if(a.ButtonSave.Visible&&a.ButtonSave.Enable){if(a.SaveMethod(),0!=a.NodeID)return this.DisplayMessage=a.DisplayMessage,a.DisplayMessage="",!1;this.IsUpdated=!0,a.DisplayMessage=""}}else if("AddCostCenterViewModel"==this.Parent.ClassName){var n=this.Parent;if(n.ButtonSave.Visible&&n.ButtonSave.Enable){if(n.OnSaveCostCenter("Save"),0!=n.NodeID)return this.DisplayMessage=n.DisplayMessage,n.DisplayMessage="",!1;this.IsUpdated=!0,n.DisplayMessage=""}}else if("AddEditEmpMasterViewModel"==this.Parent.ClassName){var r=this.Parent;if(r.ButtonSave.Visible&&r.ButtonSave.Enable){if(r.OnSaveEmployee("Save"),0!=r.NodeID)return this.DisplayMessage=r.DisplayMessage,r.DisplayMessage="",!1;this.IsUpdated=!0,r.DisplayMessage=""}}return!0}}]),s}(a.b)},EggS:function(t,e,s){"use strict";s.d(e,"a",(function(){return r}));var i=s("Do2H"),a=s("Lp6j"),n=s("eQJW"),r=function(){function t(){_classCallCheck(this,t),this.CustomerID=0,this.CustomerTypeID=0,this.StatusID=0,this.AccountID=0,this.ParentID=0,this.SelectedNodeID=0,this.CodeNumber=0,this.IsGroup=!1,this.CreditDays=0,this.CreditLimit=0,this.DebitDays=0,this.Debitlimit=0,this.IsCode=!1,this.ActivityXml="",this.CCXML=""}return _createClass(t,[{key:"SaveCustomerQuick",value:function(){try{var t=[];return t.push(this.CustomerID),t.push(null!=this.CustomerCode?this.CustomerCode:""),t.push(null!=this.CustomerName?this.CustomerName:""),t.push(this.StatusID),t.push(this.CodePrefix),t.push(this.CodeNumber),t.push(this.StaticFieldsQuery),t.push(this.CustomFieldsQuery),t.push(this.CustomCostCenterFieldsQuery),t.push(i.a.SessionManager.CompanyGUID),t.push(this.GUID),t.push(""),t.push(i.a.SessionManager.UserName),t.push(i.a.SessionManager.RoleID),t.push(i.a.SessionManager.LanguageID),i.a.crmService.SetCustomerQuick(t)}catch(e){return Logger.ErrorLog("Account:: SaveAccountQuick"+e.stack),""}}},{key:"SaveCustomer",value:function(){Logger.InfoLog("Customer:: Inside SaveCustomer");try{0==this.CustomerID&&(this.GUID=a.e.NewGuid());var t=[];return t.push(this.CustomerID),t.push(null!=this.CustomerCode?this.CustomerCode:""),t.push(null!=this.CustomerName?this.CustomerName:""),t.push(null!=this.AliasName?this.AliasName:""),t.push(this.CustomerTypeID),t.push(this.StatusID),t.push(this.AccountID),t.push(this.SelectedNodeID),t.push(this.IsGroup),t.push(this.CreditDays),t.push(this.CreditLimit),t.push(null!=this.UserName?this.UserName:""),t.push(null!=this.Password?this.Password:""),t.push(null!=this.OnlineCustType?this.OnlineCustType:""),t.push(i.a.SessionManager.CompanyGUID),t.push(null!=this.GUID?this.GUID:"GUID"),t.push(""),t.push(i.a.SessionManager.UserName),t.push(this.CustomFieldsQuery),t.push(this.CustomCostCenterFieldsQuery),t.push(this.ContactsXML),t.push(this.AttachmetsXML),t.push(this.NotesXML),t.push(this.AddressXML),t.push(this.ActivityXml),t.push(this.CCXML),t.push(!1),t.push(null==this.PrimaryContactQuery?"":this.PrimaryContactQuery),t.push(i.a.SessionManager.RoleID),t.push(i.a.SessionManager.LanguageID),t.push(null!=this.CodePrefix?this.CodePrefix:""),t.push(this.CodeNumber),t.push(this.IsCode),i.a.crmService.SaveCustomer(t)}catch(e){return Logger.ErrorLog("Customer:: SaveCustomer"+e.stack),""}}},{key:"GetCustomerDetails",value:function(){var t=i.a.crmService.GetCustomerInfo("?UserID="+i.a.SessionManager.UserID+"&RoleID="+i.a.SessionManager.RoleID+"&LangID="+i.a.SessionManager.LangID+"&CustomerID="+this.CustomerID);return!t.Columns[0].Contains("ErrorMessage")&&t.Tables.length>0&&t.Tables[0].length>0&&(this.CustomerID=parseInt(t.Tables[0][0].CustomerID),this.CustomerCode=a.e.String(t.Tables[0][0].CustomerCode),this.CustomerName=a.e.String(t.Tables[0][0].CustomerName),this.AliasName=a.e.String(t.Tables[0][0].AliasName),a.e.IsEmpty(t.Tables[0][0].CustomerTypeID)||(this.CustomerTypeID=parseInt(t.Tables[0][0].CustomerTypeID)),this.StatusID=parseInt(t.Tables[0][0].StatusID),a.e.IsEmpty(t.Tables[0][0].AccountID)||(this.AccountID=parseInt(t.Tables[0][0].AccountID)),this.IsGroup=Object(n.j)(t.Tables[0][0].IsGroup),a.e.IsEmpty(t.Tables[0][0].CreditDays)||(this.CreditDays=parseInt(t.Tables[0][0].CreditDays)),a.e.IsEmpty(t.Tables[0][0].CreditLimit)||(this.CreditLimit=parseFloat(t.Tables[0][0].CreditLimit)),this.ParentID=parseInt(t.Tables[0][0].ParentID),this.GUID=a.e.String(t.Tables[0][0].GUID),this.Description=a.e.String(t.Tables[0][0].Description),this.CodePrefix=a.e.String(t.Tables[0][0].CodePrefix),this.UserName=a.e.String(t.Tables[0][0].UserName),this.OnlineCustType=a.e.String(t.Tables[0][0].OnlineCustType),this.Password=a.e.String(t.Tables[0][0].Password),a.e.IsEmpty(t.Tables[0][0].CodeNumber)||(this.CodeNumber=parseInt(t.Tables[0][0].CodeNumber))),t}},{key:"DeleteCustomer",value:function(t,e){try{var s=[];return s.push(t),s.push(e),s.push(i.a.SessionManager.RoleID),s.push(i.a.SessionManager.LanguageID),Logger.InfoLog("Customer:: Success: DBH.DeleteCustomer "+t.toString()),i.a.crmService.RemoveCustomer(s)}catch(a){return Logger.ErrorLog("LEAD::DeleteLead"+a.stack),""}}}]),t}()},NM0h:function(t,e,s){"use strict";s.d(e,"a",(function(){return n}));var i=s("Do2H"),a=s("Lp6j"),n=function(){function t(){_classCallCheck(this,t),this.ChangeValueXML=null,this.DetailsXML=null,this.AMCode=null,this.AMName=null,this.AMPurchaseValue=null,this.HistoryXML=null,this.DocNo=null,this.XML=null,this.DocSave=null,this.CodePrefix=null,this.Sno=null,this.AssetClassID=0,this.DeprBookID=0,this.AcqnCostACCID=0,this.AccumDeprACCID=0,this.AcqnCostDispACCID=0,this.AccumDeprDispACCID=0,this.GainsDispACCID=0,this.LossDispACCID=0,this.MaintExpenseACCID=0,this.DeprExpenseACCID=0,this.PostingGroupID=0,this.AMStatusID=0,this.CodeNumber=0,this.AMAssetID=0,this.AMParentAssetID=0,this.IsGroup=!1,this.Post=!1,this.StatusID=0,this.DeprBookMethod=0,this.DeprBookMethodBasedOn=0,this.AveragingMethodID=0,this.DeprScheduleID=0,this.DeprTypeID=0,this.AssetClassCode=null,this.AssetClassName=null,this.GUID=null,this.DeprBookCode=null,this.DeprBookName=null,this.PostGroupCode=null,this.PostGroupName=null,this.AMGUID=null,this.RecordType=null,this.AMGroup=!1,this.IsIncreaseAssetValue=!1,this.EmpName=null,this.EmpCode=null,this.EmpID=0,this.SelectedNodeID=0,this.PostCCID=0,this.PostAssetID=0,this.ScheduleID=0,this.LocationID=0,this.AddressXML=null,this.NotesXML=null,this.ContactsXML=null,this.CustomCostCenterFieldsQuery=null,this.CustomFieldsQuery=null,this.PrimaryContactQuery=null,this.AttachmetsXML=null,this.DepreciationXML=null,this.JVXML=null,this.Description=null,this.DeprStartValue=0,this.ChangeVal=0,this.AssetNetValueChange=0,this.DeprBookMethodBasedOnValue=0,this.TotalYears=0}return _createClass(t,[{key:"SaveAssetClass",value:function(){0==this.AssetClassID&&(this.GUID=a.e.NewGuid());var t=[];return t.push(this.AssetClassID),t.push(null!=this.AssetClassCode?this.AssetClassCode:""),t.push(null!=this.AssetClassName?this.AssetClassName:""),t.push(this.PostingGroupID),t.push(this.DeprBookID),t.push(this.DeprTypeID),t.push(this.TotalYears),t.push(this.StatusID),t.push(i.a.SessionManager.CompanyGUID),t.push(this.GUID),t.push(""),t.push(i.a.SessionManager.UserName),t.push(i.a.SessionManager.UserID),t.push(i.a.SessionManager.LanguageID),i.a.accounting.SetAssetClass(t)}},{key:"PostJVvoucher",value:function(){this.GUID=a.e.NewGuid();var t=[];return t.push(this.PostAssetID),t.push(this.PostCCID),t.push(this.JVXML),t.push(this.Post),t.push(this.DeprTypeID),t.push(this.DocXML),t.push(this.DocSave),t.push(this.DepreciationXML),t.push(this.RecordType),t.push(i.a.SessionManager.CompanyGUID),t.push(this.GUID),t.push(i.a.SessionManager.UserName),t.push(i.a.SessionManager.UserID),t.push(i.a.SessionManager.LanguageID),i.a.accounting.GetPostJvVoucher(t)}},{key:"SetAssetDispose",value:function(t){this.GUID=a.e.NewGuid();var e=[];return e.push(this.PostAssetID),e.push(t.ToString("dd/MMM/yyyy")),e.push(this.PostCCID),e.push(this.JVXML),e.push(this.Post),e.push(this.DeprTypeID),e.push(this.DocXML),e.push(this.DocSave),e.push(this.DepreciationXML),e.push(this.RecordType),e.push(i.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(i.a.SessionManager.UserName),e.push(i.a.SessionManager.UserID),e.push(i.a.SessionManager.LanguageID),i.a.accounting.SetAssetDispose(e)}},{key:"SaveDeprBook",value:function(t,e,s){0==this.DeprBookID&&(this.GUID=a.e.NewGuid());var n=[];return n.push(this.DeprBookID),n.push(this.DeprBookCode),n.push(this.DeprBookName),n.push(this.DeprBookMethod),n.push(this.DeprBookMethodBasedOn),n.push(this.DeprBookMethodBasedOnValue),n.push(this.StatusID),n.push(this.AveragingMethodID),n.push(t),n.push(e),n.push(s),n.push(i.a.SessionManager.CompanyGUID),n.push(this.GUID),n.push(""),n.push(i.a.SessionManager.UserName),n.push(i.a.SessionManager.UserID),n.push(i.a.SessionManager.LanguageID),i.a.accounting.SetDeprBook(n)}},{key:"SaveFAPostingGroup",value:function(){0==this.PostingGroupID&&(this.GUID=a.e.NewGuid());var t=[];return t.push(this.PostingGroupID),t.push(this.PostGroupCode),t.push(this.PostGroupName),t.push(this.AcqnCostACCID),t.push(this.AccumDeprACCID),t.push(this.AcqnCostDispACCID),t.push(this.AccumDeprDispACCID),t.push(this.GainsDispACCID),t.push(this.LossDispACCID),t.push(this.MaintExpenseACCID),t.push(this.DeprExpenseACCID),t.push(this.StatusID),t.push(0),t.push(this.IsGroup),t.push(i.a.SessionManager.CompanyGUID),t.push(this.GUID),t.push(i.a.SessionManager.UserName),t.push(i.a.SessionManager.UserID),t.push(i.a.SessionManager.LanguageID),i.a.accounting.SetPostingGroup(t)}},{key:"SetAssetManagementDetails",value:function(){var t=[];return t.push(this.AMAssetID),t.push(this.AMCode),t.push(this.AMName),t.push(this.AMStatusID),t.push(this.AMPurchaseValue),t.push(this.AMParentAssetID),t.push(this.AMGroup),t.push(this.CodePrefix),t.push(this.CodeNumber),t.push(this.Sno),t.push(this.DetailsXML),t.push(this.ChangeValueXML),t.push(this.CustomFieldsQuery),t.push(this.CustomCostCenterFieldsQuery),t.push(this.DepreciationXML),t.push(this.HistoryXML),t.push(this.NotesXML),t.push(this.AttachmetsXML),t.push(i.a.SessionManager.CompanyGUID),t.push(this.AMGUID),t.push(i.a.SessionManager.UserName),t.push(i.a.SessionManager.UserID),t.push(i.a.SessionManager.LanguageID),i.a.accounting.SetAssetManagementDetails(t).toPromise()}},{key:"PostDeprJV",value:function(){this.GUID=a.e.NewGuid();var t=[];return t.push(this.PostCCID),t.push(this.JVXML),t.push(this.Post),t.push(i.a.SessionManager.CompanyGUID),t.push(this.GUID),t.push(i.a.SessionManager.UserName),t.push(i.a.SessionManager.UserID),t.push(i.a.SessionManager.LanguageID),t.push(i.a.SessionManager.RoleID),i.a.accounting.PostDeprJV(t)}},{key:"PostDeprJVSummary",value:function(t,e,s,n,r){this.GUID=a.e.NewGuid();var h=[];return h.push(t),h.push(e),h.push(s),h.push(n),h.push(r),h.push(i.a.SessionManager.CompanyGUID),h.push(i.a.SessionManager.UserName),h.push(i.a.SessionManager.UserID),h.push(i.a.SessionManager.LanguageID),i.a.accounting.SetDeprPostingJVSummary(h).toPromise()}},{key:"ChangeValue",value:function(t,e){this.GUID=a.e.NewGuid();var s=[];return s.push(this.PostAssetID),s.push(t),s.push(this.ChangeVal),s.push(this.AssetNetValueChange),s.push(e.ToString("dd/MMM/yyyy")),s.push(this.Description),s.push(this.DepreciationXML),s.push(this.ChangeValueXML),s.push(this.HistoryXML),s.push(this.LocationID),s.push(this.IsIncreaseAssetValue),s.push(this.JVXML),s.push(this.ChangeValueTypeID),s.push(i.a.SessionManager.CompanyGUID),s.push(this.GUID),s.push(i.a.SessionManager.UserName),s.push(i.a.SessionManager.UserID),s.push(i.a.SessionManager.LanguageID),i.a.accounting.SetAssetChangeValue(s)}},{key:"DisposeReverse",value:function(t){var e=[];return e.push(t),e.push(i.a.SessionManager.UserName),e.push(i.a.SessionManager.UserID),e.push(i.a.SessionManager.LanguageID),i.a.accounting.DisposeReverse(e)}}],[{key:"GetAssetClassDetails",value:function(t){var e=[];return e.push(t),e.push(i.a.SessionManager.UserID),e.push(i.a.SessionManager.LanguageID),i.a.accounting.GetAssetClassDetails(e)}},{key:"GetPostingGroupDetails",value:function(t){var e=[];return e.push(t),e.push(i.a.SessionManager.UserID),e.push(i.a.SessionManager.LanguageID),i.a.accounting.GetPostingGroupDetails(e)}},{key:"GetDeprBookDetails",value:function(t){var e=[];return e.push(t),e.push(i.a.SessionManager.UserID),e.push(i.a.SessionManager.LanguageID),i.a.accounting.GetDeprBookDetails(e)}},{key:"GetAssetManagementDetails",value:function(t){var e=[];return e.push(t),e.push(i.a.SessionManager.UserID),e.push(i.a.SessionManager.LanguageID),i.a.accounting.GetAssetManagementDetails(e)}},{key:"GetAssetDeprSchDetails",value:function(t){var e=[];return e.push(t),e.push(i.a.SessionManager.UserID),e.push(i.a.SessionManager.LanguageID),i.a.accounting.GetAssetDeprSchDetails(e)}},{key:"DeleteAsset",value:function(t){var e=[];return e.push(t),e.push(i.a.SessionManager.UserID),e.push(i.a.SessionManager.RoleID),i.a.accounting.DeleteAsset(e)}},{key:"DeleteAssetDeprSchedule",value:function(t){var e=[];return e.push(t),e.push(i.a.SessionManager.RoleID),e.push(i.a.SessionManager.LanguageID),i.a.accounting.DeleteAssetDeprSchedule(e)}},{key:"DeleteAssetRefDoc",value:function(t,e){var s=[];return s.push(t),s.push(e),s.push(i.a.SessionManager.UserID),i.a.accounting.DeleteAssetRefDoc(s)}},{key:"SetsPostDeprReverseJV",value:function(t,e,s){var a=[];return a.push(t),a.push(e),a.push(s),a.push(i.a.SessionManager.CompanyGUID),a.push(i.a.SessionManager.UserName),a.push(i.a.SessionManager.UserID),a.push(i.a.SessionManager.LanguageID),i.a.accounting.SetsPostDeprReverseJV(a)}}]),t}()},wJuo:function(t,e,s){"use strict";s.d(e,"a",(function(){return u}));var i=s("Do2H"),a=s("Lp6j"),n=s("eQJW"),r=s("4HhE"),h=s("OvA8"),o=s("xnJf"),u=function(){function t(){_classCallCheck(this,t),this.parent=null,this.SubmitClick=new r.b,this._AttachmentVisibility=!1,this.ClassName="PopupAttachmentsViewModel"}return _createClass(t,[{key:"OnShowAttachment",value:function(){Logger.InfoLog("AddProductViewModel::Entering OnShowAttachment"),Logger.InfoLog("AddProductViewModel::Exiting OnShowAttachment")}},{key:"OnAddAttachment",value:function(){Logger.InfoLog("AddProductViewModel::Entering AddAttachment"),this.Attachment=new o.AddAttachmentViewModel,this.Attachment.AddAttachmentViewModel_2(this),Logger.InfoLog("AddProductViewModel::Entering AddAttachment")}},{key:"PopupAttachmentsViewModel_1",value:function(t,e,s){var i,r,u,l=this;this.parent=s,this.AttachmentVisibility=!0,this.OnAddAttachment(),this.CostCenterID=t,this.NID=e,this._ViewAttachments=new h.ViewAttachmentViewModel(this),this.SubmitClick.Subscribe(this,"ListAttachments");var p=0,c="",d="";if("AddProductScreenViewModel"==(null===(i=this.parent)||void 0===i?void 0:i.ClassName)?(p=s.FileID,c=s.ProductPhoto,d=s.FileDescription):"AddEditAccountViewModel"==(null===(r=this.parent)||void 0===r?void 0:r.ClassName)||"AddUsersViewModel"==(null===(u=this.parent)||void 0===u?void 0:u.ClassName)?(p=s.FileID,c=s.AccountPhoto):(p=this.parent.FileID,c=this.parent.AccountPhoto,d=this.parent.FileDescription),null!=s){if(!a.e.IsEmpty(c)){var m=new o.AddAttachmentViewModel;if(m.AddAttachmentViewModel_2(this),m.AttachmentID=p,p>0){var D=null;"AddProductScreenViewModel"==this.parent.ClassName||"AddEditAccountViewModel"==this.parent.ClassName?D=s.ds.Tables[4].filter((function(t){return t.FileID==p})):"AddUsersViewModel"==this.parent.ClassName||"AddCostCenterViewModel"==this.parent.ClassName?D=this.parent.ds.Tables[3].filter((function(t){return t.FileID==p})):"AddEditEmpMasterViewModel"==this.parent.ClassName?D=this.parent.dsEdit.Tables[3].filter((function(t){return t.FileID==p})):"AddEditPropertyViewModel"==s.ClassName?D=s.ds.Tables[18].filter((function(t){return t.FileID==p})):"AddEditUnitsViewModel"==s.ClassName?D=s.ds.Tables[6].filter((function(t){return t.FileID==p})):"AddEditTenantViewModel"==s.ClassName&&(D=s.Dset.Tables[4].filter((function(t){return t.FileID==p}))),D.length>0&&(m.ActualFileName=D[0].ActualFileName.toString(),m.FileExtension=D[0].FileExtension.toString(),m.FileDescription=D[0].FileDescription.toString(),m.FilePath="",m.Guid=D[0].GUID.toString(),m.RelativeFileName=D[0].RelativeFileName.toString(),m.MainFilePath=D[0].FilePath.toString(),m.IsProductImage=!0,m.IsDefaultImage=!0,m.IsDefaultImageVisible=!0,m.CancelVisible=!1,m.Guid=D[0].GUID.toString(),a.e.hasprop(D[0],"HasThumb")&&(m.HasThumb=Object(n.j)(D[0].HasThumb)))}else{m.FilePath=c,m.MainFilePath=c,m.RelativeFileName=c,m.ActualFileName=m.FilePath.substr(m.FilePath.lastIndexOf("\\")+1);var g=m.FilePath.split("."),I="";g.length>1&&(I=g[g.length-1]),m.FileExtension=I,m.FileDescription=d,m.IsProductImage=!0,m.IsDefaultImage=!0,m.IsDefaultImageVisible=!0,m.CancelVisible=!1,m.Guid=this.parent.guid}this.ViewAttachments.AttachmentsList.push(m)}var A=[];(a.e.IsType(s,"IAttachment")||a.e.hasprop(s,"ViewAttachments"))&&(A=this.parent.ViewAttachments.AttachmentsList),A.forEach((function(t){if(t.IsProductImage){var e=new o.AddAttachmentViewModel;e.AddAttachmentViewModel_2(l),e.AttachmentID=t.AttachmentID,e.ActualFileName=t.ActualFileName,e.FileExtension=t.FileExtension,e.FileDescription=t.FileDescription,e.MainFilePath=t.MainFilePath,e.FilePath=t.FilePath,e.Guid=t.guid,e.RelativeFileName=t.RelativeFileName,e.IsProductImage=t.IsProductImage,e.IsDefaultImage=t.IsDefaultImage,e.IsDefaultImageVisible=!0,e.HasThumb=t.HasThumb,l.ViewAttachments.AttachmentsList.push(e)}}))}}},{key:"ListAttachments",value:function(t){var e=this;if("Submit"==t.toString()){if("AddProductScreenViewModel"==this.parent.ClassName){var s=0;this.ViewAttachments.AttachmentsList.forEach((function(t){var i=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.RelativeFileName==t.RelativeFileName}));t.IsDefaultImage?(s++,null!=i&&i.length>0&&e.parent.ViewAttachments.AttachmentsList.Remove(i),(a.e.IsEmpty(t.FilePath)||e.parent.ProductPhoto==t.FilePath)&&e.parent.ProductPhoto.Contains(a.e.GetPath(t.guid+"."+t.FileExtension))||(e.parent.FileID=t.AttachmentID,e.parent.ProductPhoto=a.e.IsEmpty(t.guid)?t.FilePath:a.e.GetPath(t.guid+"."+t.FileExtension),e.parent.ActualFileName=t.ActualFileName,e.parent.ThumbnailPhoto=t.ThumbnailPhoto,e.parent.guid=t.guid,e.parent.Guid=t.guid,e.parent.FileExtension=t.FileExtension,e.parent.IsPhotoChanged=!0,e.parent.PhotoTextVisibility=!1,e.parent.DisplayMessage="",e.parent.MessageVisibility=!1,e.parent.FileDescription=t.FileDescription),t.IsModified=!0):null==i||0==i.length?(t.AttachmentID>0?(t.IsModified=!0,null!=(i=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.AttachmentID==t.AttachmentID})))&&e.parent.ViewAttachments.AttachmentsList.Remove(i)):(t.IsModified=!1,t._Flg=!0),e.parent.ViewAttachments.AttachmentsList.push(t)):(i.FileDescription=t.FileDescription,i.IsModified=!0)})),0==s&&(this.parent.ProductPhoto="",this.parent.ActualFileName="",this.parent.ThumbnailPhoto="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.DialogResult=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage="",this.parent.FileDescription=""),this.ViewAttachments.DeletedAttachments.forEach((function(t){e.parent.ViewAttachments.DeletedAttachments.push(t);var s=e.parent.ViewAttachments.AttachmentsList.find((function(e){return e.AttachmentID==t.AttachmentID}));null!=s&&e.parent.ViewAttachments.AttachmentsList.Remove(s)}))}else if("AddEditAccountViewModel"==this.parent.ClassName){var n=0;this.ViewAttachments.AttachmentsList.forEach((function(t){var s=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.RelativeFileName==t.RelativeFileName}));t.IsDefaultImage?(n++,null!=s&&s.length>0&&e.parent.ViewAttachments.AttachmentsList.Remove(s),(a.e.IsEmpty(t.FilePath)||e.parent.AccountPhoto==t.FilePath)&&e.parent.AccountPhoto.Contains(a.e.GetPath(t.guid+"."+t.FileExtension))||(e.parent.FileID=t.AttachmentID,e.parent.AccountPhoto=a.e.IsEmpty(t.guid)?t.FilePath:a.e.GetPath(t.guid+"."+t.FileExtension),e.parent.ActualFileName=t.ActualFileName,e.parent.guid=t.guid,e.parent.Guid=t.guid,e.parent.FileExtension=t.FileExtension,e.parent.IsPhotoChanged=!0,e.parent.PhotoTextVisibility=!1,e.parent.DisplayMessage="",e.parent.MessageVisibility=!1),t.IsModified=!0):null==s||0==s.length?(t.AttachmentID>0?(t.IsModified=!0,null!=(s=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.AttachmentID==t.AttachmentID})))&&e.parent.ViewAttachments.AttachmentsList.Remove(s)):(t.IsModified=!1,t._Flg=!0),e.parent.ViewAttachments.AttachmentsList.push(t)):(s.FileDescription=t.FileDescription,s.IsModified=!0)})),0==n&&(this.parent.AccountPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage=""),this.ViewAttachments.DeletedAttachments.forEach((function(t){e.parent.ViewAttachments.DeletedAttachments.push(t);var s=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.AttachmentID==t.AttachmentID}));null!=s&&e.parent.ViewAttachments.AttachmentsList.Remove(s)}))}else if("AddUsersViewModel"==this.parent.ClassName){var r=0;this.ViewAttachments.AttachmentsList.forEach((function(t){var s=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.RelativeFileName==t.RelativeFileName}));t.IsDefaultImage?(r++,null!=s&&s.length>0&&e.parent.ViewAttachments.AttachmentsList.Remove(s),(a.e.IsEmpty(t.FilePath)||e.parent.AccountPhoto==t.FilePath)&&e.parent.AccountPhoto.Contains(a.e.GetPath(t.guid+"."+t.FileExtension))||(e.parent.FileID=t.AttachmentID,e.parent.AccountPhoto=a.e.IsEmpty(t.guid)?t.FilePath:a.e.GetPath(t.guid+"."+t.FileExtension),e.parent.ActualFileName=t.ActualFileName,e.parent.IsPhotoChanged=!0,e.parent.PhotoTextVisibility=!1,e.parent.DisplayMessage="",e.parent.MessageVisibility=!1),t.IsModified=!0):null==s||0==s.length?(t.AttachmentID>0?(t.IsModified=!0,null!=(s=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.AttachmentID==t.AttachmentID})))&&e.parent.ViewAttachments.AttachmentsList.Remove(s)):(t.IsModified=!1,t._Flg=!0),e.parent.ViewAttachments.AttachmentsList.push(t)):(s.FileDescription=t.FileDescription,s.IsModified=!0)})),0==r&&(this.parent.AccountPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.DialogResult=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage=""),this.ViewAttachments.DeletedAttachments.forEach((function(t){e.parent.ViewAttachments.DeletedAttachments.push(t);var s=e.parent.ViewAttachments.AttachmentsList.find((function(e){return e.AttachmentID==t.AttachmentID}));s&&e.parent.ViewAttachments.AttachmentsList.Remove(s)}))}else if("AddCostCenterViewModel"==this.parent.ClassName){var h=0;this.ViewAttachments.AttachmentsList.forEach((function(t){var s=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.RelativeFileName==t.RelativeFileName}));t.IsDefaultImage?(h++,null!=s&&s.length>0&&e.parent.ViewAttachments.AttachmentsList.Remove(s),(a.e.IsEmpty(t.FilePath)||e.parent.AccountPhoto==t.FilePath)&&e.parent.AccountPhoto.Contains(a.e.GetPath(t.guid))||(e.parent.FileID=t.AttachmentID,e.parent.AccountPhoto=a.e.IsEmpty(t.guid)?t.FilePath:a.e.GetPath(t.guid),e.parent.ThumbnailPhoto=t.ThumbnailPhoto,e.parent.ActualFileName=t.ActualFileName,e.parent.guid=t.guid,e.parent.Guid=t.guid,e.parent.FileExtension=t.FileExtension,e.parent.IsPhotoChanged=!0,e.parent.PhotoTextVisibility=!1,e.parent.DisplayMessage="",e.parent.MessageVisibility=!1),t.IsModified=!0):null==s||0==s.length?(t.AttachmentID>0?(t.IsModified=!0,null!=(s=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.AttachmentID==t.AttachmentID})))&&e.parent.ViewAttachments.AttachmentsList.Remove(s)):(t.IsModified=!1,t._Flg=!0),e.parent.ViewAttachments.AttachmentsList.push(t)):(s.FileDescription=t.FileDescription,s.IsModified=!0)})),0==h&&(this.parent.AccountPhoto="",this.parent.ThumbnailPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage=""),this.ViewAttachments.DeletedAttachments.forEach((function(t){e.parent.ViewAttachments.DeletedAttachments.push(t);var s=e.parent.ViewAttachments.AttachmentsList.find((function(e){return e.AttachmentID==t.AttachmentID}));s&&e.parent.ViewAttachments.AttachmentsList.Remove(s)}))}else if("AddEditEmpMasterViewModel"==this.parent.ClassName||"AddEditPropertyViewModel"==this.parent.ClassName||"AddEditUnitsViewModel"==this.parent.ClassName||"AddEditTenantViewModel"==this.parent.ClassName){var o=0;this.ViewAttachments.AttachmentsList.forEach((function(t){var s=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.RelativeFileName==t.RelativeFileName}));t.IsDefaultImage?(o++,null!=s&&e.parent.ViewAttachments.AttachmentsList.Remove(s),(a.e.IsEmpty(t.FilePath)||e.parent.AccountPhoto==t.FilePath)&&e.parent.AccountPhoto.Contains(a.e.GetPath(t.guid+"."+t.FileExtension))||(e.parent.FileID=t.AttachmentID,e.parent.AccountPhoto=a.e.IsEmpty(t.guid)?t.FilePath:a.e.GetPath(t.guid+"."+t.FileExtension),e.parent.ActualFileName=t.ActualFileName,e.parent.IsPhotoChanged=!0,e.parent.PhotoTextVisibility=!1,e.parent.EmpAttachmentguid=t.guid.toString(),e.parent.DisplayMessage="",e.parent.FileExtension=t.FileExtension,e.parent.MessageVisibility=!1,e.parent.FileDescription=t.FileDescription),t.IsModified=!0):null==s||0==s.length?(t.AttachmentID>0?(t.IsModified=!0,null!=(s=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.AttachmentID==t.AttachmentID})))&&e.parent.ViewAttachments.AttachmentsList.Remove(s)):(t.IsModified=!1,t._Flg=!0),e.parent.ViewAttachments.AttachmentsList.push(t)):(s.FileDescription=t.FileDescription,s.IsModified=!0)})),0==o&&(this.parent.AccountPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage="",this.parent.FileDescription=""),this.ViewAttachments.DeletedAttachments.forEach((function(t){e.parent.ViewAttachments.DeletedAttachments.push(t);var s=e.parent.ViewAttachments.AttachmentsList.filter((function(e){return e.AttachmentID==t.AttachmentID}));null!=s&&e.parent.ViewAttachments.AttachmentsList.Remove(s)}))}i.a.page.HideDialog()}else i.a.page.HideDialog()}},{key:"ProductPhoto",get:function(){return this._ProductPhoto},set:function(t){t!=this._ProductPhoto&&(this._ProductPhoto=t)}},{key:"AttachmentVisibility",get:function(){return this._AttachmentVisibility},set:function(t){t!=this._AttachmentVisibility&&(this._AttachmentVisibility=t)}},{key:"Attachment",get:function(){return this._Attachment},set:function(t){t!=this._Attachment&&(this._Attachment=t)}},{key:"ViewAttachments",get:function(){return this._ViewAttachments},set:function(t){t!=this._ViewAttachments&&(this._ViewAttachments=t)}}]),t}()}}]);