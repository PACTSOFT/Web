(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{pCsl:function(e,s,t){"use strict";t.r(s),t.d(s,"FAPostingGroupViewModel",(function(){return r}));var i=t("Do2H"),o=t("ScVY"),a=t("EQd/"),l=t("n56n"),c=t("VxiT"),n=t("NM0h"),h=t("0/4Q");class r extends o.b{constructor(e){super(),this.Status=new h.e(23815),this.PostGroupCode=new a.d(23803),this.PostGroupName=new a.d(23804),this.AcqnCostACCID=new l.b(23807),this.AccumDeprACCID=new l.b(23809),this.AcquisitionClearingAcc=new l.b(23811),this.DisposalClearingAcc=new l.b(23810),this.DisposalGainAcc=new l.b(23812),this.DisposalLossAcc=new l.b(23813),this.MinorAssetExpenseAcc=new l.b(23814),this.DeprExpenseACCID=new l.b(23808),this._PostingGroupID=0,this.ScreenObject=new c.a,this.obj=new n.a,this.RetValue=0,this.Fields=[],this.PostingGroupID=e,this.LoadData(),0==this.PostingGroupID?this.Title=i.a.GetResource("AddPostingGroup"):(this.obj.PostingGroupID=this.PostingGroupID,this.Title=i.a.GetResource("EditPostingGroup"),this.OnLoadData())}get PostingGroupID(){return this._PostingGroupID}set PostingGroupID(e){e!=this._PostingGroupID&&(this._PostingGroupID=e,this.obj.PostingGroupID=this._PostingGroupID)}LoadData(){this.ScreenObject.LoadScreen_2(this,77),this.PostGroupCode.Label=i.a.GetResource("Code"),this.PostGroupName.Label=i.a.GetResource("Name"),this.Fields.push(this.PostGroupCode),this.Fields.push(this.PostGroupName),this.Fields.push(this.Status),this.Fields.push(this.AcqnCostACCID),this.Fields.push(this.AccumDeprACCID),this.Fields.push(this.DeprExpenseACCID),this.Fields.push(this.AcquisitionClearingAcc),this.Fields.push(this.DisposalClearingAcc),this.Fields.push(this.DisposalGainAcc),this.Fields.push(this.DisposalLossAcc),this.Fields.push(this.MinorAssetExpenseAcc),this.ScreenObject.Data.Tables.length>0&&null!=this.ScreenObject.Data&&(this.ScreenObject.Data.Tables[3].forEach(e=>{this.Status.Items.push(h.d.ComboBoxItems_2(e.Status.toString(),e.StatusID.toString()))}),this.Status.SelectedValue="385")}OnLoadData(){let e=n.a.GetPostingGroupDetails(this.obj.PostingGroupID);null!=e&&e.Tables.length>0&&e.Tables[0].length>0&&(this.PostGroupCode.Text=e.Tables[0][0].PostGroupCode.toString(),this.PostGroupName.Text=e.Tables[0][0].PostGroupName.toString(),this.AcqnCostACCID.SelectedValue=parseInt(e.Tables[0][0].AcqnCostACCID.toString()),this.AccumDeprACCID.SelectedValue=parseInt(e.Tables[0][0].AccumDeprACCID.toString()),this.DeprExpenseACCID.SelectedValue=parseInt(e.Tables[0][0].DeprExpenseACCID.toString()),this.AcquisitionClearingAcc.SelectedValue=parseInt(e.Tables[0][0].AcqnCostDispACCID.toString()),this.DisposalClearingAcc.SelectedValue=parseInt(e.Tables[0][0].AccumDeprDispACCID.toString()),this.DisposalGainAcc.SelectedValue=parseInt(e.Tables[0][0].GainsDispACCID.toString()),this.DisposalLossAcc.SelectedValue=parseInt(e.Tables[0][0].LossDispACCID.toString()),this.MinorAssetExpenseAcc.SelectedValue=parseInt(e.Tables[0][0].MaintExpenseACCID.toString()),this.Status.SelectedValue=e.Tables[0][0].StatusID.toString(),this.obj.GUID=e.Tables[0][0].GUID.toString())}OnSavePostingGroup(e){try{if("Save"==e.toString()){if(null==this.PostGroupCode.Text||""==this.PostGroupCode.Text.Trim())return void(this.DisplayMessage=i.a.GetResource("Enter")+" Code");if(this.obj.PostGroupCode=this.PostGroupCode.Text,null==this.PostGroupName.Text||""==this.PostGroupName.Text.Trim())return void(this.DisplayMessage=i.a.GetResource("Enter")+" Name");if(this.obj.PostGroupName=this.PostGroupName.Text,0==this.AcqnCostACCID.SelectedValue)return void(this.DisplayMessage=i.a.GetResource("Select ")+this.AcqnCostACCID.Label);if(this.obj.AcqnCostACCID=this.AcqnCostACCID.SelectedValue,0==this.AccumDeprACCID.SelectedValue)return this.DisplayMessage=i.a.GetResource("Select ")+this.AccumDeprACCID.Label,void(this.MessageVisibility=!0);if(this.obj.AccumDeprACCID=this.AccumDeprACCID.SelectedValue,0!=this.AcquisitionClearingAcc.SelectedValue&&(this.obj.AcqnCostDispACCID=this.AcquisitionClearingAcc.SelectedValue),0!=this.DisposalClearingAcc.SelectedValue&&(this.obj.AccumDeprDispACCID=this.DisposalClearingAcc.SelectedValue),0!=this.DisposalGainAcc.SelectedValue&&(this.obj.GainsDispACCID=this.DisposalGainAcc.SelectedValue),0!=this.DisposalLossAcc.SelectedValue&&(this.obj.LossDispACCID=this.DisposalLossAcc.SelectedValue),0!=this.MinorAssetExpenseAcc.SelectedValue&&(this.obj.MaintExpenseACCID=this.MinorAssetExpenseAcc.SelectedValue),0==this.DeprExpenseACCID.SelectedValue)return void(this.DisplayMessage=i.a.GetResource("Select ")+this.DeprExpenseACCID.Label);this.obj.DeprExpenseACCID=this.DeprExpenseACCID.SelectedValue,this.obj.StatusID=parseInt(this.Status.SelectedValue),this.obj.SaveFAPostingGroup().subscribe(e=>{this.DisplayMessage=e.Message,this.RetValue=e.RetValue,this.RetValue>0&&(this.PostingGroupID=0,this.PostGroupCode.Text="",this.PostGroupName.Text="",this.AcqnCostACCID.SelectedValue=0,this.AccumDeprACCID.SelectedValue=0,this.DeprExpenseACCID.SelectedValue=0,this.AcquisitionClearingAcc.SelectedValue=0,this.DisposalClearingAcc.SelectedValue=0,this.DisposalGainAcc.SelectedValue=0,this.DisposalLossAcc.SelectedValue=0,this.MinorAssetExpenseAcc.SelectedValue=0,this.Status.SelectedValue="385",null!=this.Parent&&this.Parent.Refresh())})}else i.a.page.HideDialog()}catch(s){Logger.ErrorLog("FAPostingGroupViewModel:: OnSavePostingGroup",s)}}}}}]);