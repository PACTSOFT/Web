(window.webpackJsonp=window.webpackJsonp||[]).push([[210,75,77,89,113,121,150],{EggS:function(e,s,t){"use strict";t.d(s,"a",(function(){return h}));var a=t("Do2H"),i=t("Lp6j"),r=t("eQJW");class h{constructor(){this.CustomerID=0,this.CustomerTypeID=0,this.StatusID=0,this.AccountID=0,this.ParentID=0,this.SelectedNodeID=0,this.CodeNumber=0,this.IsGroup=!1,this.CreditDays=0,this.CreditLimit=0,this.DebitDays=0,this.Debitlimit=0,this.IsCode=!1,this.ActivityXml="",this.CCXML=""}SaveCustomerQuick(){try{let e=[];return e.push(this.CustomerID),e.push(null!=this.CustomerCode?this.CustomerCode:""),e.push(null!=this.CustomerName?this.CustomerName:""),e.push(this.StatusID),e.push(this.CodePrefix),e.push(this.CodeNumber),e.push(this.StaticFieldsQuery),e.push(this.CustomFieldsQuery),e.push(this.CustomCostCenterFieldsQuery),e.push(a.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(""),e.push(a.a.SessionManager.UserName),e.push(a.a.SessionManager.RoleID),e.push(a.a.SessionManager.LanguageID),a.a.crmService.SetCustomerQuick(e)}catch(e){return Logger.ErrorLog("Account:: SaveAccountQuick"+e.stack),""}}SaveCustomer(){Logger.InfoLog("Customer:: Inside SaveCustomer");try{0==this.CustomerID&&(this.GUID=i.e.NewGuid());let e=[];return e.push(this.CustomerID),e.push(null!=this.CustomerCode?this.CustomerCode:""),e.push(null!=this.CustomerName?this.CustomerName:""),e.push(null!=this.AliasName?this.AliasName:""),e.push(this.CustomerTypeID),e.push(this.StatusID),e.push(this.AccountID),e.push(this.SelectedNodeID),e.push(this.IsGroup),e.push(this.CreditDays),e.push(this.CreditLimit),e.push(null!=this.UserName?this.UserName:""),e.push(null!=this.Password?this.Password:""),e.push(null!=this.OnlineCustType?this.OnlineCustType:""),e.push(a.a.SessionManager.CompanyGUID),e.push(null!=this.GUID?this.GUID:"GUID"),e.push(""),e.push(a.a.SessionManager.UserName),e.push(this.CustomFieldsQuery),e.push(this.CustomCostCenterFieldsQuery),e.push(this.ContactsXML),e.push(this.AttachmetsXML),e.push(this.NotesXML),e.push(this.AddressXML),e.push(this.ActivityXml),e.push(this.CCXML),e.push(!1),e.push(null==this.PrimaryContactQuery?"":this.PrimaryContactQuery),e.push(a.a.SessionManager.RoleID),e.push(a.a.SessionManager.LanguageID),e.push(null!=this.CodePrefix?this.CodePrefix:""),e.push(this.CodeNumber),e.push(this.IsCode),a.a.crmService.SaveCustomer(e)}catch(e){return Logger.ErrorLog("Customer:: SaveCustomer"+e.stack),""}}GetCustomerDetails(){let e=a.a.crmService.GetCustomerInfo("?UserID="+a.a.SessionManager.UserID+"&RoleID="+a.a.SessionManager.RoleID+"&LangID="+a.a.SessionManager.LangID+"&CustomerID="+this.CustomerID);return!e.Columns[0].Contains("ErrorMessage")&&e.Tables.length>0&&e.Tables[0].length>0&&(this.CustomerID=parseInt(e.Tables[0][0].CustomerID),this.CustomerCode=i.e.String(e.Tables[0][0].CustomerCode),this.CustomerName=i.e.String(e.Tables[0][0].CustomerName),this.AliasName=i.e.String(e.Tables[0][0].AliasName),i.e.IsEmpty(e.Tables[0][0].CustomerTypeID)||(this.CustomerTypeID=parseInt(e.Tables[0][0].CustomerTypeID)),this.StatusID=parseInt(e.Tables[0][0].StatusID),i.e.IsEmpty(e.Tables[0][0].AccountID)||(this.AccountID=parseInt(e.Tables[0][0].AccountID)),this.IsGroup=Object(r.j)(e.Tables[0][0].IsGroup),i.e.IsEmpty(e.Tables[0][0].CreditDays)||(this.CreditDays=parseInt(e.Tables[0][0].CreditDays)),i.e.IsEmpty(e.Tables[0][0].CreditLimit)||(this.CreditLimit=parseFloat(e.Tables[0][0].CreditLimit)),this.ParentID=parseInt(e.Tables[0][0].ParentID),this.GUID=i.e.String(e.Tables[0][0].GUID),this.Description=i.e.String(e.Tables[0][0].Description),this.CodePrefix=i.e.String(e.Tables[0][0].CodePrefix),this.UserName=i.e.String(e.Tables[0][0].UserName),this.OnlineCustType=i.e.String(e.Tables[0][0].OnlineCustType),this.Password=i.e.String(e.Tables[0][0].Password),i.e.IsEmpty(e.Tables[0][0].CodeNumber)||(this.CodeNumber=parseInt(e.Tables[0][0].CodeNumber))),e}DeleteCustomer(e,s){try{let t=[];return t.push(e),t.push(s),t.push(a.a.SessionManager.RoleID),t.push(a.a.SessionManager.LanguageID),Logger.InfoLog("Customer:: Success: DBH.DeleteCustomer "+e.toString()),a.a.crmService.RemoveCustomer(t)}catch(t){return Logger.ErrorLog("LEAD::DeleteLead"+t.stack),""}}}},NM0h:function(e,s,t){"use strict";t.d(s,"a",(function(){return r}));var a=t("Do2H"),i=t("Lp6j");class r{constructor(){this.ChangeValueXML=null,this.DetailsXML=null,this.AMCode=null,this.AMName=null,this.AMPurchaseValue=null,this.HistoryXML=null,this.DocNo=null,this.XML=null,this.DocSave=null,this.CodePrefix=null,this.Sno=null,this.AssetClassID=0,this.DeprBookID=0,this.AcqnCostACCID=0,this.AccumDeprACCID=0,this.AcqnCostDispACCID=0,this.AccumDeprDispACCID=0,this.GainsDispACCID=0,this.LossDispACCID=0,this.MaintExpenseACCID=0,this.DeprExpenseACCID=0,this.PostingGroupID=0,this.AMStatusID=0,this.CodeNumber=0,this.AMAssetID=0,this.AMParentAssetID=0,this.IsGroup=!1,this.Post=!1,this.StatusID=0,this.DeprBookMethod=0,this.DeprBookMethodBasedOn=0,this.AveragingMethodID=0,this.DeprScheduleID=0,this.DeprTypeID=0,this.AssetClassCode=null,this.AssetClassName=null,this.GUID=null,this.DeprBookCode=null,this.DeprBookName=null,this.PostGroupCode=null,this.PostGroupName=null,this.AMGUID=null,this.RecordType=null,this.AMGroup=!1,this.IsIncreaseAssetValue=!1,this.EmpName=null,this.EmpCode=null,this.EmpID=0,this.SelectedNodeID=0,this.PostCCID=0,this.PostAssetID=0,this.ScheduleID=0,this.LocationID=0,this.AddressXML=null,this.NotesXML=null,this.ContactsXML=null,this.CustomCostCenterFieldsQuery=null,this.CustomFieldsQuery=null,this.PrimaryContactQuery=null,this.AttachmetsXML=null,this.DepreciationXML=null,this.JVXML=null,this.Description=null,this.DeprStartValue=0,this.ChangeVal=0,this.AssetNetValueChange=0,this.DeprBookMethodBasedOnValue=0,this.TotalYears=0}static GetAssetClassDetails(e){let s=[];return s.push(e),s.push(a.a.SessionManager.UserID),s.push(a.a.SessionManager.LanguageID),a.a.accounting.GetAssetClassDetails(s)}static GetPostingGroupDetails(e){let s=[];return s.push(e),s.push(a.a.SessionManager.UserID),s.push(a.a.SessionManager.LanguageID),a.a.accounting.GetPostingGroupDetails(s)}SaveAssetClass(){0==this.AssetClassID&&(this.GUID=i.e.NewGuid());let e=[];return e.push(this.AssetClassID),e.push(null!=this.AssetClassCode?this.AssetClassCode:""),e.push(null!=this.AssetClassName?this.AssetClassName:""),e.push(this.PostingGroupID),e.push(this.DeprBookID),e.push(this.DeprTypeID),e.push(this.TotalYears),e.push(this.StatusID),e.push(a.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(""),e.push(a.a.SessionManager.UserName),e.push(a.a.SessionManager.UserID),e.push(a.a.SessionManager.LanguageID),a.a.accounting.SetAssetClass(e)}static GetDeprBookDetails(e){let s=[];return s.push(e),s.push(a.a.SessionManager.UserID),s.push(a.a.SessionManager.LanguageID),a.a.accounting.GetDeprBookDetails(s)}PostJVvoucher(){this.GUID=i.e.NewGuid();let e=[];return e.push(this.PostAssetID),e.push(this.PostCCID),e.push(this.JVXML),e.push(this.Post),e.push(this.DeprTypeID),e.push(this.DocXML),e.push(this.DocSave),e.push(this.DepreciationXML),e.push(this.RecordType),e.push(a.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(a.a.SessionManager.UserName),e.push(a.a.SessionManager.UserID),e.push(a.a.SessionManager.LanguageID),a.a.accounting.GetPostJvVoucher(e)}SetAssetDispose(e){this.GUID=i.e.NewGuid();let s=[];return s.push(this.PostAssetID),s.push(e.ToString("dd/MMM/yyyy")),s.push(this.PostCCID),s.push(this.JVXML),s.push(this.Post),s.push(this.DeprTypeID),s.push(this.DocXML),s.push(this.DocSave),s.push(this.DepreciationXML),s.push(this.RecordType),s.push(a.a.SessionManager.CompanyGUID),s.push(this.GUID),s.push(a.a.SessionManager.UserName),s.push(a.a.SessionManager.UserID),s.push(a.a.SessionManager.LanguageID),a.a.accounting.SetAssetDispose(s)}SaveDeprBook(e,s,t){0==this.DeprBookID&&(this.GUID=i.e.NewGuid());let r=[];return r.push(this.DeprBookID),r.push(this.DeprBookCode),r.push(this.DeprBookName),r.push(this.DeprBookMethod),r.push(this.DeprBookMethodBasedOn),r.push(this.DeprBookMethodBasedOnValue),r.push(this.StatusID),r.push(this.AveragingMethodID),r.push(e),r.push(s),r.push(t),r.push(a.a.SessionManager.CompanyGUID),r.push(this.GUID),r.push(""),r.push(a.a.SessionManager.UserName),r.push(a.a.SessionManager.UserID),r.push(a.a.SessionManager.LanguageID),a.a.accounting.SetDeprBook(r)}SaveFAPostingGroup(){0==this.PostingGroupID&&(this.GUID=i.e.NewGuid());let e=[];return e.push(this.PostingGroupID),e.push(this.PostGroupCode),e.push(this.PostGroupName),e.push(this.AcqnCostACCID),e.push(this.AccumDeprACCID),e.push(this.AcqnCostDispACCID),e.push(this.AccumDeprDispACCID),e.push(this.GainsDispACCID),e.push(this.LossDispACCID),e.push(this.MaintExpenseACCID),e.push(this.DeprExpenseACCID),e.push(this.StatusID),e.push(0),e.push(this.IsGroup),e.push(a.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(a.a.SessionManager.UserName),e.push(a.a.SessionManager.UserID),e.push(a.a.SessionManager.LanguageID),a.a.accounting.SetPostingGroup(e)}static GetAssetManagementDetails(e){let s=[];return s.push(e),s.push(a.a.SessionManager.UserID),s.push(a.a.SessionManager.LanguageID),a.a.accounting.GetAssetManagementDetails(s)}static GetAssetDeprSchDetails(e){let s=[];return s.push(e),s.push(a.a.SessionManager.UserID),s.push(a.a.SessionManager.LanguageID),a.a.accounting.GetAssetDeprSchDetails(s)}SetAssetManagementDetails(){let e=[];return e.push(this.AMAssetID),e.push(this.AMCode),e.push(this.AMName),e.push(this.AMStatusID),e.push(this.AMPurchaseValue),e.push(this.AMParentAssetID),e.push(this.AMGroup),e.push(this.CodePrefix),e.push(this.CodeNumber),e.push(this.Sno),e.push(this.DetailsXML),e.push(this.ChangeValueXML),e.push(this.CustomFieldsQuery),e.push(this.CustomCostCenterFieldsQuery),e.push(this.DepreciationXML),e.push(this.HistoryXML),e.push(this.NotesXML),e.push(this.AttachmetsXML),e.push(a.a.SessionManager.CompanyGUID),e.push(this.AMGUID),e.push(a.a.SessionManager.UserName),e.push(a.a.SessionManager.UserID),e.push(a.a.SessionManager.LanguageID),a.a.accounting.SetAssetManagementDetails(e).toPromise()}static DeleteAsset(e){let s=[];return s.push(e),s.push(a.a.SessionManager.UserID),s.push(a.a.SessionManager.RoleID),a.a.accounting.DeleteAsset(s)}static DeleteAssetDeprSchedule(e){let s=[];return s.push(e),s.push(a.a.SessionManager.RoleID),s.push(a.a.SessionManager.LanguageID),a.a.accounting.DeleteAssetDeprSchedule(s)}static DeleteAssetRefDoc(e,s){let t=[];return t.push(e),t.push(s),t.push(a.a.SessionManager.UserID),a.a.accounting.DeleteAssetRefDoc(t)}PostDeprJV(){this.GUID=i.e.NewGuid();let e=[];return e.push(this.PostCCID),e.push(this.JVXML),e.push(this.Post),e.push(a.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(a.a.SessionManager.UserName),e.push(a.a.SessionManager.UserID),e.push(a.a.SessionManager.LanguageID),e.push(a.a.SessionManager.RoleID),a.a.accounting.PostDeprJV(e)}PostDeprJVSummary(e,s,t,r,h){this.GUID=i.e.NewGuid();let n=[];return n.push(e),n.push(s),n.push(t),n.push(r),n.push(h),n.push(a.a.SessionManager.CompanyGUID),n.push(a.a.SessionManager.UserName),n.push(a.a.SessionManager.UserID),n.push(a.a.SessionManager.LanguageID),a.a.accounting.SetDeprPostingJVSummary(n).toPromise()}static SetsPostDeprReverseJV(e,s,t){let i=[];return i.push(e),i.push(s),i.push(t),i.push(a.a.SessionManager.CompanyGUID),i.push(a.a.SessionManager.UserName),i.push(a.a.SessionManager.UserID),i.push(a.a.SessionManager.LanguageID),a.a.accounting.SetsPostDeprReverseJV(i)}ChangeValue(e,s){this.GUID=i.e.NewGuid();let t=[];return t.push(this.PostAssetID),t.push(e),t.push(this.ChangeVal),t.push(this.AssetNetValueChange),t.push(s.ToString("dd/MMM/yyyy")),t.push(this.Description),t.push(this.DepreciationXML),t.push(this.ChangeValueXML),t.push(this.HistoryXML),t.push(this.LocationID),t.push(this.IsIncreaseAssetValue),t.push(this.JVXML),t.push(this.ChangeValueTypeID),t.push(a.a.SessionManager.CompanyGUID),t.push(this.GUID),t.push(a.a.SessionManager.UserName),t.push(a.a.SessionManager.UserID),t.push(a.a.SessionManager.LanguageID),a.a.accounting.SetAssetChangeValue(t)}DisposeReverse(e){let s=[];return s.push(e),s.push(a.a.SessionManager.UserName),s.push(a.a.SessionManager.UserID),s.push(a.a.SessionManager.LanguageID),a.a.accounting.DisposeReverse(s)}}},ouML:function(e,s,t){"use strict";t.r(s),t.d(s,"DocumentDraftsViewModel",(function(){return p}));var a=t("mrSG"),i=t("Do2H"),r=t("Lp6j"),h=t("ScVY"),n=t("8B8H"),o=t("ockk"),u=t("rJVx"),l=t("CUWK");class p extends h.b{constructor(e,s,t=0){if(super(),this.Grid=new n.a,this.IsFromDocs=!1,this.PopupWidth=0,this.ReportType=0,this.Parent=null,this.CCID=0,this.WID=0,this.LevelID=0,this.PactGridVisible=!1,this.CCID=t,this.Parent=e,this.ReportType=s,this.Parent instanceof u.GeneralDashboardViewModel||"DashAddOnsViewModel"==this.Parent.ClassName)1==s&&(this.ColSource=u.GeneralDashboardViewModel.InitColumns("Document Drafts_DashBoardCustomize"));else{let e;1==s?this.DisplayName="Drafts":2==s?this.DisplayName="Hold Documents":3==s?this.DisplayName="Approval History":4==s&&(this.DisplayName="Level Info",this.PactGrid=new n.a),this.Title=this.DisplayName,this.IsFromDocs=!0,this.FillGrid(),this.Grid.OnLinkClick.Subscribe(this,"GridLinkClick"),this.ColSource=[],1==s?(this.ColSource=u.GeneralDashboardViewModel.InitColumns("Document Drafts_DashBoardCustomize"),this.PopupWidth=22,this.ColSource.forEach(e=>{this.PopupWidth=this.PopupWidth+e.Width})):2==s?(e=new o.a,e.DataType="TextBlock",e.Header="Hold Date",e.DisplayMember="HoldDate_Key",e.Width=100,this.ColSource.push(e),e=new o.a,e.DataType="LINK",e.Header=i.a.GetResource("DocName"),e.DisplayMember="DocName",e.Width=135,this.ColSource.push(e),e=new o.a,e.DataType="TextBlock",e.Header="NetValue",e.DisplayMember="NetValue",e.Width=100,this.ColSource.push(e),e=new o.a,e.DataType="TextBlock",e.Header="NoOfProducts",e.DisplayMember="NoOfProducts",e.Width=50,this.ColSource.push(e),e=new o.a,e.DataType="LINK",e.Header=i.a.GetResource("Delete"),e.DisplayMember="Delete",e.Width=100,this.ColSource.push(e),this.PopupWidth=450):3==s?(e=new o.a,e.DataType="TextBlock",e.Header="User",e.DisplayMember="CreatedBy",e.Width=90,this.ColSource.push(e),e=new o.a,e.DataType="TextBlock",e.Header="FirstName",e.DisplayMember="FirstName",e.Width=90,this.ColSource.push(e),e=new o.a,e.DataType="TextBlock",e.Header="LastName",e.DisplayMember="LastName",e.Width=90,this.ColSource.push(e),e=new o.a,e.DataType="TextBlock",e.Header="Email",e.DisplayMember="Email1",e.Width=150,this.ColSource.push(e),e=new o.a,e.DataType="TextBlock",e.Header=i.a.GetResource("Date"),e.DisplayMember="AppDate",e.Width=128,this.ColSource.push(e),e=new o.a,e.DataType="LINK",e.Header="Level",e.DisplayMember="LevelName",e.Width=93,this.ColSource.push(e),e=new o.a,e.DataType="TextBlock",e.Header="Status",e.DisplayMember="Status",e.Width=80,this.ColSource.push(e),e=new o.a,e.DataType="Format",e.Header="Remarks",e.DisplayMember="Remarks",e.Width=190,this.ColSource.push(e),this.PopupWidth=950,"AddEditDocumentViewModel"==this.Parent.ClassName&&(e=new o.a,e.Header="WorkFlowName",e.DisplayMember="WorkFlowName",e.Width=200,this.ColSource.push(e)),this.PopupWidth=950):4==s&&(e=new o.a,e.DataType="TextBlock",e.ReadOnly=!0,e.Header="User Name",e.DisplayMember="UserName",e.Width=120,this.ColSource.push(e),e=new o.a,e.DataType="TextBlock",e.ReadOnly=!0,e.Header="First Name",e.DisplayMember="FirstName",e.Width=120,this.ColSource.push(e),e=new o.a,e.DataType="TextBlock",e.ReadOnly=!0,e.Header="Last Name",e.DisplayMember="LastName",e.Width=120,this.ColSource.push(e),this.PactGrid.Columns=this.ColSource,this.PopupWidth=400)}}get Table(){return this.Grid.Table}set Table(e){this.Grid.Table=e}get TableColumns(){return this.Grid.TableColumns}set TableColumns(e){this.Grid.TableColumns=e}get ColSource(){return this.Grid.Columns}set ColSource(e){this.Grid.Columns=e}get SelectedRow(){return this.Grid.SelectedItem}set SelectedRow(e){this.Grid.SelectedItem=e}onClick(e){event.preventDefault(),null!=this.SelectedRow&&this.LoadDraft(this.SelectedRow)}FillGrid(){let e=0,s=null;if(r.e.IsType(this.Parent,"AddEditDocumentViewModel")?(s=this.Parent,e=0==this.CCID?s.CostCenterID:this.CCID):r.e.IsEmpty(this.Parent.ClassName)||"AddEditRenContractViewModel"!=this.Parent.ClassName||(e=this.CCID),1==this.ReportType||2==this.ReportType){let t;t=r.e.IsEmpty(this.Parent.ClassName)||"AddEditRenContractViewModel"!=this.Parent.ClassName?null==s||38!=s.ScreenObject.DocumentType&&39!=s.ScreenObject.DocumentType?i.a.document.GetDocumentDrafts(0,e,this.ReportType,!1):i.a.document.GetDocumentDrafts(s.ScreenObject.RegisterNodeID,e,this.ReportType,!1,!0):i.a.document.GetDocumentDrafts(0,this.Parent.CostCenterID,this.ReportType,!1),t.subscribe(e=>{this.Table=e.Tables[0],this.Grid.TableColumns.Contains("Date_Text")||(this.Grid.TableColumns.push("Date_Text"),this.Grid.TableColumns.push("Delete")),this.Grid.TableColumns.Contains("HoldDate_Key")||this.Grid.TableColumns.push("HoldDate_Key"),this.Table.forEach(e=>{e.Delete="Delete",e.id=i.a.slick.rowid,e.Date_Text=new Date(e.Date).ToString(i.a.SessionManager.Preferences["Date Format"]+" hh:mm a"),null!=e.HoldDate&&(e.HoldDate_Key=new Date(e.HoldDate).ToString(i.a.SessionManager.Preferences["Date Format"]))})})}else if(3==this.ReportType){let s=null;if(r.e.IsType(this.Parent,"AddEditDocumentViewModel")?(s=this.Parent.ScreenObject.GetDocStatusHistory(),s.Tables.length>1&&s.Tables[1].length>0&&s.Columns[1].Contains("WID")&&(this.WID=parseInt(s.Tables[1][0].WID))):r.e.IsEmpty(this.Parent.ClassName)||"AddEditRenContractViewModel"!=this.Parent.ClassName?r.e.IsEmpty(this.Parent.ClassName)||"AddEditCasesViewModel"!=this.Parent.ClassName||(s=this.GetDocStatusHistory(73,this.Parent.CaseID,!1)):s=i.a.rental.GetHistory(e,this.Parent.ContractID),null!=s&&s.Tables.length>0){this.Table=s.Tables[0],this.Grid.TableColumns.push("AppDate");for(let s=0;s<this.Table.length;s++)""!=this.Table[s].Date.toString()&&(this.Table[s].AppDate=new Date(this.Table[s].Date.toString()).ToString(i.a.SessionManager.Preferences["Date Format"]+" hh:mm a"));let e=0,t=0;this.Table.length>0&&(e=r.e.IntTryParse(this.Table[this.Table.length-1].WorkFlowLevel.toString()),t=r.e.IntTryParse(this.Table[this.Table.length-1].StatusID.toString())),369!=t&&(s.Tables[1]=s.Tables[1].filter(s=>s.levelID>e),s.Tables[1].forEach(e=>{let s=this.Grid.NewRow();s.LevelName=e.LevelName,s.Status="Pending",s.WorkFlowLevel=e.LevelID,this.Grid.addRow(s)}));for(let s=this.Table.length;s<7;s++)this.Grid.addEmptyRow()}}else if(4==this.ReportType){let e=null;if("WFLevelDoc"==this.Parent.ClassName?e=i.a.SessionManager.Preferences.ContainsKey("CanApproveFunction")&&"True"==i.a.SessionManager.Preferences.CanApproveFunction?i.a.report.GetExtWFDet(this.Parent.WID,this.Parent.LevelID,this.Parent.ccid,this.Parent.DOcId):i.a.report.GetWorkFlowLevelDetails(this.Parent.WID,this.Parent.LevelID,this.Parent.ccDate):this.Parent instanceof p&&(i.a.SessionManager.Preferences.ContainsKey("CanApproveFunction")&&"True"==i.a.SessionManager.Preferences.CanApproveFunction?"AddEditDocumentViewModel"==this.Parent.Parent.ClassName?e=i.a.report.GetExtWFDet(this.Parent.WID,this.Parent.LevelID,this.Parent.Parent.CostCenterID,this.Parent.Parent.ScreenObject.DocID):"ReportViewModel"==this.Parent.Parent.ClassName&&"INV_ComparisonReport"==this.Parent.Parent.StaticReportObject&&(e=i.a.report.GetExtWFDet(this.Parent.WID,this.Parent.LevelID,this.Parent.Parent.StaticReportObject.QuotationDocument,this.Parent.Parent.StatusDocID)):e=i.a.report.GetWorkFlowLevelDetails(this.Parent.WID,this.Parent.LevelID,"AddEditDocumentViewModel"==this.Parent.Parent.ClassName?this.Parent.Parent.ScreenObject.DocDate.Date:Date.Today())),null!=e){for(let s=e.Tables[0].length;s<8;s++)e.Tables[0].push();this.PactGrid.Table=e.Tables[0]}this.PactGrid.Width="",this.PactGrid.SearchVisible=!0,this.PactGrid.SearchCols.Width="85",this.PactGrid.SearchOptions.Width="90",this.PactGrid.SearchText.Width="110",this.PactGridVisible=!0}}GetDocStatusHistory(e,s,t){Logger.InfoLog("DocumentDraftsViewModel:: Inside GetDocStatusHistory");let a=[];a.push(e),a.push(s),a.push(t),a.push(i.a.SessionManager.UserID),a.push(i.a.SessionManager.LanguageID);let r=i.a.document.GetDocStatusHistory(a);return Logger.InfoLog("DocumentDraftsViewModel:: Exiting GetDocStatusHistory"),r}OnButtonClick(e){"Cancel"==e.toString()&&(r.e.IsType(this.Parent,"AddEditDocumentViewModel")&&this.CCID>0&&(this.Parent.res="No"),i.a.page.HideDialog())}DeleteDraft(e){let s;s=r.e.IsEmpty(this.Parent.ClassName)||"AddEditRenContractViewModel"!=this.Parent.ClassName?i.a.document.DeleteDocumentDraft(parseInt(e.DraftID)):i.a.rental.DeleteQuotation(parseInt(e.CostCenterID),parseInt(e.DraftID)),s.RetValue>0&&this.Grid.removeRow(e)}LoadDraft(e){return Object(a.b)(this,void 0,void 0,(function*(){if(r.e.IsEmpty(this.Parent.ClassName)||"AddEditRenContractViewModel"!=this.Parent.ClassName){const{AddEditDocumentViewModel:s}=yield Promise.all([t.e(2),t.e(1),t.e(3),t.e(5),t.e(4),t.e(6),t.e(7),t.e(10),t.e(9),t.e(12),t.e(11),t.e(13),t.e(19),t.e(15),t.e(21),t.e(20),t.e(16),t.e(14),t.e(18),t.e(17),t.e(22),t.e(89)]).then(t.bind(null,"1Cra")),{AddEditDocumentComponent:a}=yield Promise.all([t.e(4),t.e(6)]).then(t.bind(null,"MCKn"));let r,h;h=i.a.document.GetDocumentDrafts(parseInt(e.DraftID),0,1,!1),h.subscribe(t=>{if(r=t.Tables[0],null!=r&&r.length>0)if("AddEditDocumentViewModel"==this.Parent.ClassName||"POSDocumentViewModel"==this.Parent.ClassName)this.CCID>0||(this.Parent.clear(1),this.Parent.LoadDraftXML(r[0]),i.a.page.HideDialog(),this.Parent.ScreenObject.GridDataObj.RefreshGridView());else{let t=1==this.ReportType,h=new s(parseInt(e.CostCenterID),e.Type.toString(),t);i.a.page.addNewTab({component:a,params:{obj:h}}),h.LoadDraftXML(r[0],t)}})}else l.RibbonExtViewModel.LoadDraftRentalContract(this.Parent,parseInt(e.DraftID)),i.a.page.HideDialog()}))}GridLinkClick(e,s,t){event.preventDefault(),"Delete"==s?this.DeleteDraft(e):"Date_Text"!=s&&"DocName"!=s||this.LoadDraft(e)}}}}]);