(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{c6GQ:function(e,t,i){"use strict";i.r(t),i.d(t,"AddEditUnitsViewModel",(function(){return G}));var s=i("mrSG"),n=i("Do2H"),a=i("Lp6j"),o=i("eQJW"),l=i("n56n"),c=i("EQd/"),r=i("0/4Q"),h=i("Jnyl"),d=i("4HhE"),u=i("NkMH"),b=i("xnJf"),S=i("OvA8"),m=i("VxiT"),T=i("OljK"),g=i("JIg3"),D=i("jgdN"),p=i("tCvu"),A=i("3Pt+"),C=i("ScVY");class I extends C.b{constructor(e){super(),this.Module="RENT",this.ClassName="AddEditUnitRateViewModel",this.UnitRateID=0,this.AddressTypes=[],this.AddressTypeEnabled=!0,this.SelectedAddressType="",this.AnnualRent=new c.d(0),this.Amount=new c.d(0),this.Discount=new c.d(0),this.UnitRateDate=new g.a(0),this.RentAmount="",this.Address2="",this.Address3="",this.City="",this.State="",this.Country="",this.Pin="",this.Phone1="",this.Phone2="",this.Fax="",this.Email1="",this.Email2="",this.URL="",this.UnitRateVisibility=!1,this.IsModified=!1,this.FeatureID=0,this.FeaturePK=0,this.AddressType=1,this.form=new A.j({}),Logger.InfoLog("AddAddressViewModel::Entering AddAddressViewModel with Parent="+e),this.Parent=e,this.InitCombo(),this.Amount.Label=n.a.GetResource("BillWise_AmountPaid"),this.Discount.Label=n.a.GetResource("BillWise_Discount"),this.AnnualRent.Label=n.a.GetResource("Com_RenAnnualRent"),this.UnitRateDate.Label=n.a.GetResource("Com_WithEffectFrom"),this.Amount.LostFocusCommand.Subscribe(this,"OnSerialNo_LostFoucs"),this.Discount.LostFocusCommand.Subscribe(this,"OnSerialNo_LostFoucs"),this.AmountTypes.SelectionChangedCommand.Subscribe(this,"OnSerialNo_LostFoucs"),this.DiscountTypes.SelectionChangedCommand.Subscribe(this,"OnSerialNo_LostFoucs"),Logger.InfoLog("AddAddressViewModel::Exiting AddAddressViewModel")}get SelectedAddressTypeName(){return""!=this.SelectedAddressType&&null!=this.AddressTypes.find(e=>e.Value==this.SelectedAddressType)?this.AddressTypes.find(e=>e.Value==this.SelectedAddressType).Name:""}AddEditUnitRateViewModel_3(e,t,i){this.FeatureID=e,this.FeaturePK=t,this.AddressType=i,this.InitCombo(),this.SelectedAddressType=i.toString(),this.AddressTypeEnabled=!1}InitCombo(){this.DiscountTypes=new r.e(0),this.AmountTypes=new r.e(0),this.AmountTypes.Items.push(r.d.ComboBoxItems_2(n.a.GetResource("Annual"),"1")),this.AmountTypes.Items.push(r.d.ComboBoxItems_2(n.a.GetResource("Monthly"),"2")),this.AmountTypes.Items.push(r.d.ComboBoxItems_2(n.a.GetResource("Sq Ft"),"3")),this.AmountTypes.Items.push(r.d.ComboBoxItems_2(n.a.GetResource("Daily"),"4")),this.AmountTypes.Items.push(r.d.ComboBoxItems_2(n.a.GetResource("Quarterly"),"5")),this.AmountTypes.Items.push(r.d.ComboBoxItems_2(n.a.GetResource("Halfyearly"),"6")),this.DiscountTypes.Items.push(r.d.ComboBoxItems_2(n.a.GetResource("Value"),"1")),this.DiscountTypes.Items.push(r.d.ComboBoxItems_2(n.a.GetResource("Percentage"),"2")),this.AmountTypes.SelectedValue="1",this.DiscountTypes.SelectedValue="1",this.SelectedAddressType="1"}OnSerialNo_LostFoucs(e){Logger.InfoLog("AddEditUnitsViewModel:: OnDiscount_LostFoucs Begin"),this.CalculateAmount(),Logger.InfoLog("AddEditUnitsViewModel:: OnDiscount_LostFoucs End")}CalculateAmount(){Logger.InfoLog("AddEditUnitsViewModel:: CalculateAmount Begin");try{let e="";if(""==this.Discount.Text&&(this.Discount.Text="0"),a.e.ValidateDouble(this.Discount.Text)&&a.e.ValidateDouble(this.Amount.Text)){let t=parseFloat(this.Amount.Text),i=parseFloat(this.Discount.Text);"1"==this.AmountTypes.SelectedValue?this.AnnualRent.Text="2"==this.DiscountTypes.SelectedValue?(t-t*i/100).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()):(t-i).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()):"2"==this.AmountTypes.SelectedValue?(e="2"==this.DiscountTypes.SelectedValue?(t-t*i/100).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()):(t-i).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()),this.AnnualRent.Text=(12*parseFloat(e)).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString())):"4"==this.AmountTypes.SelectedValue?(e="2"==this.DiscountTypes.SelectedValue?(30*(t-t*i/100)).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()):(30*(t-i)).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()),this.AnnualRent.Text=(365*parseFloat(e)).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString())):"5"==this.AmountTypes.SelectedValue?(e="2"==this.DiscountTypes.SelectedValue?((t-t*i/100)/3).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()):((t-i)/3).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()),this.AnnualRent.Text=(12*parseFloat(e)).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString())):"6"==this.AmountTypes.SelectedValue&&(e="2"==this.DiscountTypes.SelectedValue?((t-t*i/100)/6).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()):((t-i)/6).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()),this.AnnualRent.Text=(12*parseFloat(e)).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()))}}catch(e){Logger.ErrorLog("AddEditUnitsRatesViewModel::CalculateAmount"+e.stack)}Logger.InfoLog("AddEditUnitsViewModel:: CalculateAmount End")}OnSaveUnitRate(e){if(null!=e&&"Cancel"==e.toString())this.Parent.UnitRateVisibility=!1,n.a.page.HideDialog();else{if(Logger.InfoLog("OnSaveUnitRate::Entering OnSaveUnitRate"),this.UnitRateID>0&&(this.IsModified=!0),""==this.Amount.Text.Trim())return void alert(n.a.GetResource("Ren_AmtMsg"));if(this.UnitRateVisibility=!1,!this.Parent.ViewUnitRate.UnitRateList.Contains(this)){if(this.Amount.Text.Trim().length>0)for(let t=0;t<this.Parent.ViewUnitRate.UnitRateList.length;t++)if(this.Amount==this.Parent.ViewUnitRate.UnitRateList[t].Amount)return void alert(n.a.GetResource("Ren_AmtMsgExists"));this.Parent.ViewUnitRate.UnitRateList.push(this);let e=this.Parent.ViewUnitRate.UnitRateGridObj.NewRow();e.Amount=c.d.GetValidXml(this.Amount.Text),e.Discount=c.d.GetValidXml(this.Discount.Text),e.AnnualRent=parseFloat(c.d.GetValidXml(this.AnnualRent.Text)),e.UnitRateDate=this.UnitRateDate.Date,this.Parent.ViewUnitRate.UnitRateGridObj.addRow(e)}this.Parent.OnAddUnitRate(),Logger.InfoLog("AddContactViewModel::Exiting OnSaveUnitRate")}}OnSaveUnitRateByDialog(e){if(this.DisplayMessage="",null!=e&&"Cancel"==e.toString())n.a.page.HideDialog();else{if(Logger.InfoLog("AddContactViewModel::Entering OnSaveUnitRateByDialog"),this.UnitRateID>0&&(this.IsModified=!0),""==this.Amount.Text)return;let e="";e+='<AddressXML><Row Action="NEW"',e+=' AddressID="0"',e+=' Amount="'+c.d.GetValidXml(this.Amount.Text)+'"',e+=' Discount="'+c.d.GetValidXml(this.Discount.Text)+'"',e+=' UnitRateDate="'+this.UnitRateDate.Date+'"',e+="/></AddressXML>";let t="",i=0,s={};s.AccountID=this.FeatureID,s.WID=this.FeaturePK,s.CCMapXML=e.toString(),n.a.rental.SaveUnitRate(s,"SaveUnitRate").subscribe(e=>{t=e.Message,i=e.RetValue,i>0||i<-1e4?(this.UnitRateID=i,n.a.page.HideDialog()):this.DisplayMessage=t},e=>{console.log("Save Add Edit Unit Rate : "+JSON.stringify(e))}),Logger.InfoLog("AddContactViewModel::Exiting OnSaveUnitRateByDialog")}}}var R=i("ockk"),f=i("8B8H"),y=i("pV49");class V{constructor(e){this.Module="RENT",this.ClassName="ViewUnitRateViewModel",this.Visible=!0,this.contextVisible=!0,this.UnitRateList=[],this.DeletedContacts=[],this.ButtonAdd=new u.a,this.ButtonUpdate=new u.a,this.ButtonDelete=new u.a,this.ColumnSpan="4",this.UnitRateGridObj=new f.a,n.a.SessionManager.HideUnathorizedAccess?this.ButtonAdd.Visible=n.a.SessionManager.IsActionAssigned(e.CostCenterID,"UnitRate_Create"):this.ButtonAdd.Enable=n.a.SessionManager.IsActionAssigned(e.CostCenterID,"UnitRate_Create"),n.a.SessionManager.HideUnathorizedAccess?this.ButtonUpdate.Visible=n.a.SessionManager.IsActionAssigned(e.CostCenterID,"UnitRate_Update"):this.ButtonUpdate.Enable=n.a.SessionManager.IsActionAssigned(e.CostCenterID,"UnitRate_Update"),n.a.SessionManager.HideUnathorizedAccess?this.ButtonDelete.Visible=n.a.SessionManager.IsActionAssigned(e.CostCenterID,"UnitRate_Delete"):this.ButtonDelete.Enable=n.a.SessionManager.IsActionAssigned(e.CostCenterID,"UnitRate_Delete"),this.ButtonUpdate.Visible||this.ButtonDelete.Visible||(this.contextVisible=!1),this.Parent=e,this.InitGrid()}get angularGrid(){return this.UnitRateGridObj.angularGrid}get UnitRateGrid(){return this.UnitRateGridObj.Table}get ColumnSource(){return this.UnitRateGridObj.Columns}get UnitRateColumns(){return this.UnitRateGridObj.TableColumns}OnCmnItem_Click(e){switch(e){case"EDIT":null!=this.SelectedContact&&(this.Parent.UnitRate=this.SelectedContact,this.Parent.UnitRateVisibility=!0);break;case"DELETE":null!=this.SelectedContact&&(this.SelectedContact.UnitRateID>0&&this.DeletedContacts.push(this.SelectedContact),this.UnitRateList.Remove(this.SelectedContact))}}onCanCmnItem_Click(e){return!0}GetXML(){Logger.InfoLog("ViewContactViewModel::Entering GetXML");let e="";for(let t=0;t<this.UnitRateList.length;t++){if(0==this.UnitRateList[t].UnitRateID)e+='<Row Action="NEW"';else{if(!this.UnitRateList[t].IsModified)continue;e+='<Row Action="MODIFY"'}e+=' UnitRateID="'+this.UnitRateList[t].UnitRateID+'"',e+=' Amount="'+c.d.GetValidXml(this.UnitRateList[t].Amount.Text)+'"',e+=' Discount="'+c.d.GetValidXml(this.UnitRateList[t].Discount.Text)+'"',e+=' AnnualRent="'+parseFloat(c.d.GetValidXml(this.UnitRateList[t].AnnualRent.Text))+'"',e+=' WithEffFrom="'+this.UnitRateList[t].UnitRateDate.Date.ToString("dd/MMM/yyyy")+'"',e+="/>"}for(let t=0;t<this.DeletedContacts.length;t++)e+='<Row Action="DELETE"',e+=' UnitRateID="'+this.DeletedContacts[t].UnitRateID+'"/>';return e.length>0&&(e="<UnitRateXML>"+e+"</UnitRateXML>"),Logger.InfoLog("ViewContactViewModel::Exiting GetXML which returns XML="+e),e.toString()}OnShowNewUnitRate(e){try{this.ButtonAdd.Enable&&this.ButtonAdd.Visible&&(this.Parent.UnitRate=new I(this.Parent),this.Parent.UnitRateVisibility=!0,this.Parent.OnShowUnitRate(),n.a.page.ShowDialog(this.Parent.UnitRate,y.a,{Title:n.a.GetResource("AddUnitRate")}))}catch(t){Logger.ErrorLog("ViewContactViewModel:: OnShowNewContact"+t.stack)}}LoadUnitRates(e){let t;this.UnitRateList.Clear(),this.UnitRateGridObj.Clear();for(let i=0;i<e.length;i++){t=new I(this.Parent),t.UnitRateID=parseInt(e[i].UnitRateID),t.Amount.Text=e[i].Amount.toString(),t.Discount.Text=e[i].Discount.toString(),t.AnnualRent.Text=e[i].AnnualRent.toString(),t.UnitRateDate.Date=new Date(e[i].WithEffectFrom),t.UnitRateDate.Text=new Date(e[i].WithEffectFrom).ToString(n.a.SessionManager.Preferences["Date Format"]),this.UnitRateList.push(t);let s=this.UnitRateGridObj.NewRow();s.Amount=t.Amount.Text,s.Discount=t.Discount.Text,s.AnnualRent=t.AnnualRent.Text,s.UnitRateDate=t.UnitRateDate.Text,this.UnitRateGridObj.addRow(s)}}InitGrid(){this.UnitRateGridObj=new f.a;let e=new R.a;e=new R.a,e.DisplayMember="Amount",e.Header="Amount",e.DataType="TextBlock",e.Width=150,e.ReadOnly=!0,e.IsVisible=!0,this.ColumnSource.push(e),e=new R.a,e.DisplayMember="Discount",e.Header="Discount",e.DataType="TextBlock",e.Width=150,e.ReadOnly=!0,e.IsVisible=!0,this.ColumnSource.push(e),e=new R.a,e.DisplayMember="AnnualRent",e.Header="Annual Rent",e.DataType="TextBlock",e.Width=150,e.ReadOnly=!0,e.IsVisible=!0,this.ColumnSource.push(e),e=new R.a,e.DisplayMember="UnitRateDate",e.Header="With Effect from",e.DataType="TextBlock",e.Width=150,e.ReadOnly=!0,e.IsVisible=!0,this.ColumnSource.push(e)}}var P=i("Q01V"),U=i("4k0m"),L=i("++IR"),x=i("wlFP");class O extends C.b{constructor(e){super(),this.Property=new l.b(0),this.Fields=[],this.Search=new d.b,this.lstCols=null,this.Search.Subscribe(this,"OnSearch");let t=0,i=0,s=null;this.Parent=e,n.a.SessionManager.PersonalSettings.ContainsKey("UntProCopyTabs")&&(s=n.a.SessionManager.PersonalSettings.UntProCopyTabs.split(",")),this.oPactCheck=new x.a(-1),this.oPactCheck.CheckedChangedCommand.Subscribe(this,"OnCheckedChangedCommand"),this.oPactCheck.Label="Unit Fields",this.oPactCheck.Row=t,this.oPactCheck.Column=i,this.oPactCheck.FeatureID=0,3==i?(t+=1,i=0):i+=1,(null==s||s.Contains("-1"))&&(this.oPactCheck.IsChecked=!0),this.Fields.push(this.oPactCheck);let a=[961,1013];for(let n=0;n<this.Parent.ScreenObject.CustomTab.Pages.length;n++){const e=this.Parent.ScreenObject.CustomTab.Pages[n];a.Contains(e.DBColumnID)||e.Visible&&(this.oPactCheck=new x.a(e.DBColumnID),this.oPactCheck.CheckedChangedCommand.Subscribe(this,"OnCheckedChangedCommand"),this.oPactCheck.Label=e.Name,this.oPactCheck.Row=t,this.oPactCheck.Column=i,this.oPactCheck.FeatureID=e.QuickViewCCID,3==i?(t+=1,i=0):i+=1,(null==s||s.Contains(e.DBColumnID.toString()))&&(this.oPactCheck.IsChecked=!0),this.Fields.push(this.oPactCheck))}this.Property.CCID=this.Parent.Property.CCID,this.Property.Label="Copy "+this.Parent.Property.Label,this.Property.TypeID=this.Parent.Property.TypeID,this.Property.SelectedValue=this.Parent.Property.SelectedValue,this.Property.IsReadOnly=!0}CopyDataViewModel(){}OnCheckedChangedCommand(e){let t="";for(let i=0;i<this.Fields.length;i++){const e=this.Fields[i];e.IsChecked&&(t.length>0&&(t+=","),t+=e.DBColumnID.toString())}null!=this.Parent&&a.e.SetPersonalize("UntProCopyTabs",t)}OnSearch(e){"OK"==e.toString()?(this.SelectProperty(),n.a.page.HideDialog()):"Cancel"==e.toString()&&n.a.page.HideDialog()}SelectProperty(){let e=n.a.rental.GetProperty(this.Property.SelectedValue,0);this.Fields.forEach(t=>{if(-1==t.DBColumnID&&t.IsChecked)this.Parent.RentalIncomeAcc.SelectedValue=parseInt(e.Tables[2][0].RentalIncomeAccountID),this.Parent.LocationUnit instanceof l.b?this.Parent.LocationUnit.SelectedValue=parseInt(e.Tables[2][0].LocationID):this.Parent.LocationUnit instanceof l.a&&this.Parent.LocationUnit.SetValue(parseInt(e.Tables[2][0].LocationID)),this.Parent.Landlord instanceof l.b?this.Parent.Landlord.SelectedValue=parseInt(e.Tables[2][0].LandLordID):this.Parent.Landlord instanceof l.a&&this.Parent.Landlord.SetValue(parseInt(e.Tables[2][0].LandLordID));else if(909==t.DBColumnID&&t.IsChecked)this.Parent.PropertyDeposits.Load(e.Tables[8]);else if(1004==t.DBColumnID&&t.IsChecked)e.Tables.length>18&&e.Tables[18].length>0&&(e.Tables[18].Columns.FileID.Expression="0"),this.Parent.ViewAttachments.LoadAttachments(e.Tables[18]),this.Parent.ViewAttachments.LoadAttachmentsCopy();else if(t.IsChecked){let i=this.Parent.ScreenObject.CustomTab.Pages.find(e=>e.DBColumnID==t.DBColumnID);null!=i&&null!=i&&(this.LoadFieldsData(i,e.Tables[13],e.Tables[15]),this.LoadStaticFieldsTabData(i,e.Tables[2]))}})}LoadFieldsData(e,t,i){let s;for(let n=0;n<e.Fields.length;n++){const o=e.Fields[n];if(s=o||null,null==s||null==this.lstCols||this.lstCols.Contains(s.DBColumnID))if(null!=s&&null!=s.DBColumnName&&null!=t[0][s.DBColumnName]&&s.DBColumnName.toLowerCase().Contains("alpha")){if(o instanceof c.d)o.Text=t[0][s.DBColumnName].toString();else if(o instanceof r.e)o.SelectedValue=t[0][s.DBColumnName].toString();else if(o instanceof c.c)o.Text=t[0][s.DBColumnName].toString();else if(o instanceof g.c){let e;""!=t[0][s.DBColumnName].toString()&&a.e.isValidDate(new Date(t[0][s.DBColumnName].toString()))&&(e=new Date(t[0][s.DBColumnName].toString()),o.Date=e)}else if(o instanceof g.b){let e;""!=t[0][s.DBColumnName].toString()&&a.e.isValidDate(new Date(t[0][s.DBColumnName].toString()))&&(e=new Date(t[0][s.DBColumnName].toString()),o.Date=e)}else if(o instanceof g.a){let e;""!=t[0][s.DBColumnName].toString()&&a.e.isValidDate(new Date(t[0][s.DBColumnName].toString()))&&(e=new Date(t[0][s.DBColumnName].toString()),o.Date=e)}else if(o instanceof D.a)o.Text=t[0][s.DBColumnName].toString();else if(o instanceof l.b){let e;a.e.IntTryParse(t[0][s.DBColumnName].toString())&&(e=t[0][s.DBColumnName].toString(),o.SelectedValue=e)}}else o instanceof l.b&&null!=o.DBColumnName&&a.e.hasprop(i[0],o.DBColumnName.toLowerCase())&&!a.e.IsEmpty(i[0][o.DBColumnName])&&(o.SelectedValue=parseInt(i[0][o.DBColumnName].toString()))}}LoadStaticFieldsTabData(e,t){let i;for(let s=0;s<e.Fields.length;s++){const n=e.Fields[s];if(i=n||null,(null==i||null==this.lstCols||this.lstCols.Contains(i.DBColumnID))&&null!=i&&null!=i.DBColumnName&&a.e.hasprop(t[0],i.DBColumnName.toLowerCase()))if(n instanceof c.d)n.Text=t[0][i.DBColumnName].toString();else if(n instanceof r.e)n.SelectedValue=t[0][i.DBColumnName]instanceof Boolean&&a.e.IntTryParse(n.Items[0].Value)?parseInt(t[0][i.DBColumnName]).toString():t[0][i.DBColumnName].toString();else if(n instanceof c.c)n.Text=t[0][i.DBColumnName].toString();else if(n instanceof l.b)null!=t[0][i.DBColumnName]&&(n.SelectedValue=parseInt(t[0][i.DBColumnName]));else if(n instanceof g.c){let e;""!=t[0][i.DBColumnName].toString()&&a.e.isValidDate(new Date(t[0][i.DBColumnName].toString()))&&(e=new Date(t[0][i.DBColumnName].toString()),n.Date=e)}else if(n instanceof g.b){let e;""!=t[0][i.DBColumnName].toString()&&a.e.isValidDate(new Date(t[0][i.DBColumnName].toString()))&&(e=new Date(t[0][i.DBColumnName].toString()),n.Date=e)}else if(n instanceof g.a){let e;""!=t[0][i.DBColumnName].toString()&&a.e.isValidDate(new Date(t[0][i.DBColumnName].toString()))&&(n.Date=e)}else n instanceof D.a&&(n.Text=t[0][i.DBColumnName].toString())}}}var w=i("ls7+"),N=i("bgvB"),B=i("wJuo"),M=i("x68t"),F=i("Huqd"),E=i("bwbx"),v=i("c6C+"),j=i("RJs6");class G extends C.b{constructor(e,t,i,s){if(super(),this.CostCenterID=0,this.AttachmentVisibility=!1,this.Unitsmodel={},this.UnitID=0,this.parentid=0,this.selectedNode=0,this.group=!1,this._ReportInfoVisibility=!0,this.ReportsList=[],this.PenaltyAcc=new l.b,this.RentalIncomeAcc=new l.b,this.RentalReceivableAcc=new l.b,this.AdvanceRentAcc=new l.b,this.AdvReceivableCloseAcc=new l.b,this.BankAcc=new l.b,this.BankLoanAcc=new l.b,this.AdvanceReceivableAcc=new l.b,this.ProvisionAccountID=new l.b,this.RentAcc=new l.b,this.RentPayableAcc=new l.b,this.AdvanceRentPaid=new l.b,this.TenantID=new l.b,this.ScreenName="",this.Title="",this.DetailButtonVisibility=!0,this.RightRegionVisibility=!0,this.UnitCode=new c.a(25624),this.PostIncome=new r.e(54207),this.BasedOn=new r.e(54205),this.UnitName=new c.d(25625),this.TermsConditions=new c.c(26150),this.RentArea=new c.d(25627),this.BuildArea=new c.d(25628),this.NoOfBathrooms=new c.d(25631),this.NoOfParkings=new c.d(25632),this.ElectricityCode=new c.d(25633),this.AmountType=new r.e(0),this.DiscountType=new r.e(0),this.Amount=new h.a(25638),this.Discount=new h.a(25640),this.AnnualRent=new c.d(25641),this.MonthlyRent=new c.d(25642),this.RentSQFT=new c.d(25643),this.Tenant=new c.d(25897),this.StartDate=new c.d(25898),this.EndDate=new c.d(25899),this.Electricity=new c.d(25634),this.Floor=new l.b(25629),this.View=new l.b(25630),this.UnitType=new r.e(25772),this.Status=new r.e(25626),this.UnitStatus=new l.a(26442),this.TypeofUnit=new l.b(25635),this.Property=new l.b(25623),this.Group=new l.b(25721),this.IsPhotoDelete=!1,this.ActualFileName="",this.NoteVisibility=!1,this.RetValue=0,this.ScreenObject=new m.a,this.ds=null,this.DefaultPropertyID=0,this.PickPayables=!0,this.LocAccountant=!1,this.LocLandLord=!1,this.LocSalesman=!1,this.ErrorMessage="Missing Report Parameter ' ",this.UnitstatusHistory=null,this.CodePrefix="",this.CodeNumber=0,this.GroupSeqNoLength=0,this.IsLocationAv=!1,this.UnitRateVisibility=!1,this.ClassName="AddEditUnitsViewModel",Logger.InfoLog("AddEditUnitsViewModel:: AddEditUnitsViewModel Begin"),this.ButtonSave=new u.a,this.ButtonCustomize=new u.a,this.ButtonCopy=new u.a,0==s?n.a.SessionManager.HideUnathorizedAccess?this.ButtonSave.Visible=n.a.SessionManager.IsActionAssigned(93,"Create"):this.ButtonSave.Enable=n.a.SessionManager.IsActionAssigned(93,"Create"):n.a.SessionManager.HideUnathorizedAccess?this.ButtonSave.Visible=n.a.SessionManager.IsActionAssigned(93,"Update"):this.ButtonSave.Enable=n.a.SessionManager.IsActionAssigned(93,"Update"),n.a.SessionManager.HideUnathorizedAccess?this.ButtonCustomize.Visible=n.a.SessionManager.IsActionAssigned(93,"Customize"):this.ButtonCustomize.Enable=n.a.SessionManager.IsActionAssigned(93,"Customize"),n.a.SessionManager.HideUnathorizedAccess?this.ButtonCopy.Visible=n.a.SessionManager.IsActionAssigned(93,"Copy"):this.ButtonCopy.Enable=n.a.SessionManager.IsActionAssigned(93,"Copy"),this.ScreenObject=new m.a,this.UnitID=e,this.CostCenterID=93,this.Property.SelectionChangedCommand.Subscribe(this,"onListSelectedChanged"),this.UnitStatus.ClickCommand.Subscribe(this,"OnUnitstatusClick"),this.selectedNode=s,this.group=t,this.Amount.TextBox.Align="Right",this.Discount.TextBox.Align="Right",this.Amount.ComboBox=this.AmountType,this.Discount.ComboBox=this.DiscountType,this.ScreenObject.SkipFields=[26431,26430,53524,26429],this.ScreenObject.LoadScreen_2(this,93),this.LoadImageDimensions(),this.PhotoTextVisibility=!0,this.Salesman=this.GetControl("26431"),this.Landlord=this.GetControl("26430"),this.LocationUnit=this.GetControl("53524"),this.Accountant=this.GetControl("26429"),this.ScreenObject.Data.Tables.length>4){if(this.ScreenObject.Data.Tables[4].length>0){let e=this.ScreenObject.Data.Tables[4].filter(e=>"Salesman"==e.Name);e.length>0&&parseInt(e[0].Value)>0&&(this.Salesman instanceof l.b||this.Salesman instanceof l.a)&&(this.Salesman.CCID=parseInt(e[0].Value)),e=this.ScreenObject.Data.Tables[4].filter(e=>"Accountant"==e.Name),e.length>0&&parseInt(e[0].Value)>0&&(this.Accountant instanceof l.b||this.Accountant instanceof l.a)&&(this.Accountant.CCID=parseInt(e[0].Value)),e=this.ScreenObject.Data.Tables[4].filter(e=>"Landlord"==e.Name),e.length>0&&parseInt(e[0].Value)>0&&(this.Landlord instanceof l.b||this.Landlord instanceof l.a)&&(this.Landlord.CCID=parseInt(e[0].Value)),e=this.ScreenObject.Data.Tables[4].filter(e=>"LocAccountant"==e.Name),e.length>0&&(this.LocAccountant=Object(o.j)(e[0].Value)),e=this.ScreenObject.Data.Tables[4].filter(e=>"LocLandLord"==e.Name),e.length>0&&(this.LocLandLord=Object(o.j)(e[0].Value)),e=this.ScreenObject.Data.Tables[4].filter(e=>"LocSalesman"==e.Name),e.length>0&&(this.LocSalesman=Object(o.j)(e[0].Value)),(this.Accountant instanceof l.b||this.Accountant instanceof l.a)&&(this.Accountant.TypeID=1),(this.Landlord instanceof l.b||this.Landlord instanceof l.a)&&(this.Landlord.TypeID=1),(this.Salesman instanceof l.b||this.Salesman instanceof l.a)&&(this.Salesman.TypeID=1)}if(this.ScreenObject.Data.Tables[5].length>0){let e=this.ScreenObject.Data.Tables[5].filter(e=>"GetPayable"==e.Name);e.length>0&&(this.PickPayables=Object(o.j)(e[0].Value))}}if(null!=this.ScreenObject.Data&&this.ScreenObject.Data.Tables.length>6&&this.ScreenObject.Data.Columns[6].Contains("IsParentCodeInherited")&&this.ScreenObject.Data.Tables[6].length>0&&this.ScreenObject.InitAutoCode(this.ScreenObject.Data.Tables[6],t),this.ViewAttachments=new S.ViewAttachmentViewModel(this,n.a.SessionManager,n.a.admin),this.ViewUnitRate=new V(this),this.ViewNotes=new j.a(this,n.a.SessionManager,n.a.admin),this.LoadTabs(),this.RentArea.LostFocusCommand.Subscribe(this,"OnSerialNo_LostFoucs"),this.RentSQFT.LostFocusCommand.Subscribe(this,"OnSerialNo_LostFoucs"),this.Amount.TextBox.LostFocusCommand.Subscribe(this,"OnSerialNo_LostFoucs"),this.Amount.ComboBox.SelectionChangedCommand.Subscribe(this,"OnSerialNo_LostFoucs"),this.Discount.TextBox.LostFocusCommand.Subscribe(this,"OnSerialNo_LostFoucs"),this.Discount.ComboBox.SelectionChangedCommand.Subscribe(this,"OnSerialNo_LostFoucs"),this.PropertyDeposits=new p.a(this,0,93),null!=this.PropertyDeposits&&null!=this.PropertyDeposits.ds&&this.PropertyDeposits.ds.Tables.length>0&&this.PropertyDeposits.ds.Tables[1].length>0)for(let n=0;n<this.PropertyDeposits.ds.Tables[1].length;n++)this.UnitType.Items.push(r.d.ComboBoxItems_2(this.PropertyDeposits.ds.Tables[1][n].Type.toString(),this.PropertyDeposits.ds.Tables[1][n].NodeID.toString()));if(null!=this.ScreenObject.Data&&this.ScreenObject.Data.Tables.length>0&&this.ScreenObject.Data.Tables[0].length>0){let e=this.ScreenObject.Data.Tables[0].filter(e=>54205==e.CostCenterColID);if(e.length>0){let t=e[0].UserProbableValues.toString().Trim().split(";");for(let e=0;e<t.length;e++)this.BasedOn.Items.push(r.d.ComboBoxItems_2(t[e].replace("''","'"),t[e].replace("''","'")));this.BasedOn.SelectedValue=e[0].UserDefaultValue.toString()}}this.PostIncome.Items.push(r.d.ComboBoxItems_2(n.a.GetResource("Com_Yes"),"1")),this.PostIncome.Items.push(r.d.ComboBoxItems_2(n.a.GetResource("Com_No"),"0")),this.PostIncome.SelectedValue="1",this.ScreenObject.StaticFields.sort((e,t)=>e.Row>t.Row||e.Row==t.Row&&e.Column>t.Column?1:-1),this.ScreenObject.HeaderFields.sort((e,t)=>e.Row>t.Row||e.Row==t.Row&&e.Column>t.Column?1:-1),this.OnLoad(),this.Property.CCID=92,this.Property.TypeID=2,this.TypeofUnit.CCID=44,this.TypeofUnit.TypeID=6,(this.LocationUnit instanceof l.b||this.LocationUnit instanceof l.a)&&(this.LocationUnit.CCID=50002),(this.LocationUnit instanceof l.b||this.LocationUnit instanceof l.a)&&(this.LocationUnit.TypeID=1),this.Group.CCID=93,this.Group.TypeID=1,this.Group.SelectionChangedCommand.Subscribe(this,"OnGroupSelectionChanged"),this.parentid=i,0==this.UnitID?(this.Title=n.a.GetResource("REN_UnitsAdd"),this.Unitsmodel.GUID="GUID",this.Group.SelectedValue=i,this.AutoGenerateCode(),this.LoadParentData()):(this.Title=n.a.GetResource("REN_UnitsEdit"),this.ScreenObject.NodeID=this.UnitID,this.ds=n.a.rental.GetUnitDetails(this.UnitID),this.LoadEditData(),this.ScreenObject.IsAutoCode&&(this.UnitCode.Enable=parseInt(this.ds.Tables[0][0].Depth)<=1&&!this.ScreenObject.IsRootAutoCode)),this.Unitsmodel.UnitID=this.UnitID,n.a.SessionManager.LocationID>0&&this.IsLocationAv&&(this.LocAccountant&&(this.Accountant instanceof l.b||this.Accountant instanceof l.a)&&(this.Accountant.CustomWhere="   CC.CCNID2 IN ("+n.a.SessionManager.LocationID+") "),this.LocSalesman&&(this.Salesman instanceof l.b?this.Salesman.CustomWhere="  CC.CCNID2 IN ("+n.a.SessionManager.LocationID+") ":this.Salesman instanceof l.a&&(this.Salesman.CustomWhere="   CC.CCNID2 IN ("+n.a.SessionManager.LocationID+") "))),this.RentSQFT.Enable=!1,this.ReportView(),this.Amount.ComboBox.Visible=!0,this.Discount.ComboBox.Visible=!0,Logger.InfoLog("AddEditUnitsViewModel:: AddEditUnitsViewModel End")}GetXML(){Logger.InfoLog("AddEditUnitsViewModel::Entering GetXML"),Logger.InfoLog("AddEditUnitsViewModel::Exiting GetXML")}get ReportInfoVisibility(){return this._ReportInfoVisibility}set ReportInfoVisibility(e){e!=this._ReportInfoVisibility&&(this._ReportInfoVisibility=e)}OnShowNote(){}OnAddNote(){this.Note=new v.AddNoteViewModel,this.Note.AddNoteViewModel_2(this)}OnShowAttachment(){Logger.InfoLog("AddEditAccountScreenViewModel::Entering OnShowAttachment"),Logger.InfoLog("AddEditAccountScreenViewModel::Exiting OnShowAttachment")}OnAddAttachment(){Logger.InfoLog("AddEditAccountScreenViewModel::Entering AddAttachment"),this.Attachment=new b.AddAttachmentViewModel,this.Attachment.AddAttachmentViewModel_2(this),Logger.InfoLog("AddEditAccountScreenViewModel::Exiting AddAttachment")}AddEditUnitsViewModel_1(){}ReportView(){this.ReportDimension=new l.b(0),this.ReportDimension.CCID=this.CostCenterID,this.ReportDimension.TypeID=1,this.ReportDimension.SelectedValue=this.UnitID,this.ReportsList=[],this.ReportDimension.OnPactListBoxValueChanged.Subscribe(this,"OnReportsLinkClick");let e=[];null!=this.ScreenObject.Data&&this.ScreenObject.Data.Tables.length>7&&this.ScreenObject.Data.Tables[7].forEach(t=>{let i=new u.a;i.DBColumnID=parseInt(t.ReportID),i.Label=t.ReportName.toString(),this.ScreenObject.Data.Columns[7].Contains("Shortcut")&&(i.KeyTip=t.Shortcut.toString()),this.ScreenObject.Data.Columns[7].Contains("DisplayAsPopup")&&""!=t.DisplayAsPopup.toString()&&(i.Dependantinuse="1"==t.DisplayAsPopup.toString()),this.ScreenObject.Data.Columns[7].Contains("Width")&&""!=t.Width.toString()&&(i.Width=t.Width.toString()),this.ScreenObject.Data.Columns[7].Contains("Height")&&""!=t.Height.toString()&&(i.Length=t.Height.toString()),this.ScreenObject.Data.Columns[7].Contains("DocumentField")&&""!=t.DocumentField.toString()&&(i.Formula=t.DocumentField.toString()),this.ScreenObject.Data.Columns[7].Contains("mapxml")&&""!=t.mapxml.toString()&&(i.ToolTipDescription=t.mapxml.toString()),e.Contains(parseInt(t.ReportID))||(e.push(parseInt(t.ReportID)),this.ReportsList.push(i))})}OnReportsLinkClick(e){return Object(s.b)(this,void 0,void 0,(function*(){const{ReportViewModel:t}=yield Promise.all([i.e(2),i.e(1),i.e(3),i.e(5),i.e(4),i.e(6),i.e(7),i.e(10),i.e(9),i.e(8),i.e(12),i.e(11),i.e(13),i.e(19),i.e(15),i.e(21),i.e(20),i.e(16),i.e(14),i.e(18),i.e(17),i.e(22),i.e(23),i.e(24),i.e(25),i.e(28),i.e(30),i.e(29),i.e(32),i.e(31),i.e(27),i.e(26),i.e(35),i.e(37),i.e(38),i.e(36),i.e(33),i.e(34),i.e(39),i.e(40),i.e(41),i.e(212)]).then(i.bind(null,"ThYU")),{ReportViewComponent:s}=yield Promise.all([i.e(32),i.e(37)]).then(i.bind(null,"YU11"));let o,l={strXML:""},c=new t;if(this.ReportDimension.SelectedValue=this.UnitID,this.DisplayMessage=this.GetReportFilterXML(e,l),o=l.strXML,0==this.DisplayMessage.length){var r=this.ReportsList.find(t=>t.DBColumnID==parseInt(e));if(null!=r&&r.Dependantinuse)c.ReportViewModel_Document(this.CostCenterID,o,parseInt(e),!0,null,null),!a.e.IsEmpty(r.Width)&&parseFloat(r.Width)>0&&(c.RptWidth=parseFloat(r.Width)),!a.e.IsEmpty(r.length)&&parseFloat(r.length)>0&&(c.RptHeight=parseFloat(r.length)),c.DocumentObject=this,n.a.page.HideDialog(),n.a.page.ShowDialog(c,s,{Title:"",HideClose:!0,ShowCenter:!0});else{let i=new t;i.ReportViewModel_Document(this.CostCenterID,o,parseInt(e),!1,null,null),i.DocumentObject=this,n.a.page.HideDialog(),n.a.page.addNewTab({component:s,params:{obj:i}})}}}))}GetReportFilterXML(e,t){let i="";t.strXML="";let s=this.ScreenObject.Data.Tables[7];s=s.filter(t=>t.ReportID==e);let n,a=!1;s.forEach(e=>{Object(o.j)(e.GroupLevel)&&(a=!0)}),i+="<XML",a&&(i+=' GroupLevel="1"'),i+=" >";for(let o=0;o<s.length;o++){n=s[o].ReportField.toString(),i+="<Row ",i+='ColID ="'+n+'" ';for(let e=0;e<this.ScreenObject.StaticFields.length;e++)if(this.ScreenObject.StaticFields[e].DBColumnID==parseInt(s[o].DocumentField.toString()))if(this.ScreenObject.StaticFields[e]instanceof c.d){if(""==this.ScreenObject.StaticFields[e].Text)return alert(this.ErrorMessage+this.ScreenObject.StaticFields[e].Label+" '"),"Empty Value";"SNO"==s[o].SysColumnName.toString()?i+='Value ="'+this.ReportDimension.SelectedValue+'" ':i+='Value ="'+this.ScreenObject.StaticFields[e].Text+'" '}else if(this.ScreenObject.StaticFields[e]instanceof h.a){if(""==this.ScreenObject.StaticFields[e].TextBox.Text||""==this.ScreenObject.StaticFields[e].ComboBox.SelectedValue)return alert(this.ErrorMessage+this.ScreenObject.StaticFields[e].Label+" '"),"Empty Value";i+='Value ="'+this.ScreenObject.StaticFields[e].ComboBox.SelectedValue+'" '}else if(this.ScreenObject.StaticFields[e]instanceof c.c){if(""==this.ScreenObject.StaticFields[e].Text)return alert(this.ErrorMessage+this.ScreenObject.StaticFields[e].Label+" '"),"Empty Value";i+='Value ="'+this.ScreenObject.StaticFields[e].Text+'" '}else if(this.ScreenObject.StaticFields[e]instanceof g.a||this.ScreenObject.StaticFields[e]instanceof g.d||this.ScreenObject.StaticFields[e]instanceof g.c){if(this.ScreenObject.StaticFields[e]instanceof g.a||this.ScreenObject.StaticFields[e]instanceof g.d){if(""==this.ScreenObject.StaticFields[e].Text)return alert(this.ErrorMessage+this.ScreenObject.StaticFields[e].Label+" '"),"Empty Value";i+='Value ="'+this.ScreenObject.StaticFields[e].Date.ToString("dd/MMM/yyyy")+'" '}else if(this.ScreenObject.StaticFields[e]instanceof g.c){if(!this.ScreenObject.StaticFields[e].Date)return alert(this.ErrorMessage+this.ScreenObject.StaticFields[e].Label+" '"),"Empty Value";i+='Value ="'+this.ScreenObject.StaticFields[e].Date.ToString("dd/MMM/yyyy")+'" '}}else if(this.ScreenObject.StaticFields[e]instanceof l.b){if(""==this.ScreenObject.StaticFields[e].Text)return alert(this.ErrorMessage+this.ScreenObject.StaticFields[e].Label+" '"),"Empty Value";i+='Value ="'+this.ScreenObject.StaticFields[e].SelectedValue+'" '}else if(this.ScreenObject.StaticFields[e]instanceof F.a){if(""==this.ScreenObject.StaticFields[e].Text)return alert(this.ErrorMessage+this.ScreenObject.StaticFields[e].Label+" '"),"Empty Value";i+='Value ="'+this.ScreenObject.StaticFields[e].SelectedValue+'" '}this.ScreenObject.CustomTab.Pages.forEach(e=>{e.Fields.forEach(e=>{if(null!=e&&(e instanceof c.d||e instanceof h.a||e instanceof c.c||e instanceof g.a||e instanceof g.d||e instanceof g.c||e instanceof l.b||e instanceof F.a)&&e.DBColumnID==parseInt(s[o].DocumentField.toString()))if(e instanceof c.d){if(""==e.Text)return alert(this.ErrorMessage+e.Label+" '"),"Empty Value";i+='Value ="'+e.Text+'" '}else if(e instanceof h.a){if(""==e.TextBox.Text||""==e.ComboBox.SelectedValue)return alert(this.ErrorMessage+e.Label+" '"),"Empty Value";i+='Value ="'+e.TextBox.Text+'" '}else if(e instanceof c.c){if(""==e.Text)return alert(this.ErrorMessage+e.Label+" '"),"Empty Value";i+='Value ="'+e.Text+'" '}else if(e instanceof g.a||e instanceof g.d||e instanceof g.c){if(e||e){if(""==e.Text)return alert(this.ErrorMessage+e.Label+" '"),"Empty Value";i+='Value ="'+e.Date.ToString("dd/MMM/yyyy")+'" '}else if(e instanceof g.c){if(!e.Date)return alert(this.ErrorMessage+e.Label+" '"),"Empty Value";i+='Value ="'+e.Date.ToString("dd/MMM/yyyy")+'" '}}else if(e instanceof l.b){if(""==e.Text&&0==e.SelectedValue)return alert(this.ErrorMessage+e.Label+" '"),"Empty Value";i+='Value ="'+e.SelectedValue+'" '}else if(e instanceof F.a){if(""==e.Text)return alert(this.ErrorMessage+e.Label+" '"),"Empty Value";i+='Value ="'+e.SelectedValue+'" '}})}),i+=" />"}return i+="</XML>",t.strXML=i.toString(),""}OnGroupSelectionChanged(e){null!=e&&("Group"==e.toString()||"PACT.COMMON.PactListBoxData"==e.toString()&&"IsGroup"==e.DBColumnName)&&this.Group.SelectedValue>0&&this.parentid!=this.Group.SelectedValue&&(this.parentid=this.Group.SelectedValue,this.Group.DefaultValue=this.Group.SelectedValue.toString(),this.AutoGenerateCode(),this.LoadParentData())}LoadParentData(){if(0!=this.UnitID||0==this.Group.SelectedValue||this.group)return;let e=this.ScreenObject.Data.Tables[5].filter(e=>"Copygroupdatatonode"==e.Name);if(0==e.length||""==e[0].Value.toString()||!Object(o.j)(e[0].Value))return;let t=n.a.rental.GetUnitDetails(this.Group.SelectedValue);if(0==t.Tables.length||0==t.Tables[0].length)return;let i=null,s=null,a=null;if(t.Tables.length>0&&t.Tables[0].length>0&&(i=t.Tables[0][0]),t.Tables.length>2&&t.Tables[2].length>0&&(s=t.Tables[2][0]),t.Tables.length>4&&t.Tables[4].length>0&&(a=t.Tables[4][0]),this.ScreenObject.FillParentData(i,s,a,["Code","Name","Group","IsGroup"]),e=this.ScreenObject.Data.Tables[5].filter(e=>"CopyGroupTabs"==e.Name),e.length>0&&""!=e[0].Value.toString()){let i=e[0].Value.toString().split(";");if(null!=i&&i.length>0)for(let s=0;s<i.length;s++)if(e=this.ScreenObject.Data.Tables[this.ScreenObject.Data.Tables.length-1].filter(e=>e.CCTabID==i[s]),e.length>0&&""!=e[0].CCTabName.toString())switch(e[0].CCTabName.toString()){case"Particulars":this.PropertyDeposits.Load(t.Tables[1]);break;case"Share Holder":case"Units":case"Parkings":break;case"Attachments":this.ViewAttachments.LoadAttachments(t.Tables[6])}}}LoadImageDimensions(){let e=new N.b;e.Column=3,e.RowSpan=4}GetControl(e){let t=null;var i=this.ScreenObject.Data.Tables[0].filter(t=>t.CostCenterColID==e);if(i.length>0)if(a.e.StringIsNullOrEmpty(i[0].UserProbableValues)||"H"!=i[0].UserProbableValues.toString().toUpperCase()&&"HISTORY"!=i[0].UserProbableValues.toString().toUpperCase()?(t=new l.b(parseInt(i[0].CostCenterColID)),a.e.IsEmpty(i[0].ColumnCostCenterID)||"0"==i[0].ColumnCostCenterID.toString()||(t.CCID=parseInt(i[0].ColumnCostCenterID)),t.TypeID=0==i[0].ColumnCCListViewTypeID.toString().Trim().length?1:parseInt(i[0].ColumnCCListViewTypeID),t.OnPactListBoxValueChanged.Subscribe(this.ScreenObject,"OnGetReference"),t.AccDimInUse=!1):(t=new l.a(parseInt(i[0].CostCenterColID)),a.e.IsEmpty(i[0].ColumnCostCenterID)||"0"==i[0].ColumnCostCenterID.toString()||(t.CCID=parseInt(i[0].ColumnCostCenterID)),t.TypeID=0==i[0].ColumnCCListViewTypeID.toString().Trim().length||"0"==i[0].ColumnCCListViewTypeID.toString()?1:parseInt(i[0].ColumnCCListViewTypeID),t.ParentCostCenterID=this.CostCenterID,t.ClickCommand.Subscribe(this,"OnHistoryButtonClick"),t.AccDimInUse=!0),a.e.StringIsNullOrEmpty(i[0].Sectionid))this.ScreenObject.HeaderFields.push(t);else{var s=this.ScreenObject.CustomTab.Pages.find(e=>e.DBColumnID==parseInt(i[0].Sectionid.toString()));null!=s&&null!=s&&s.Fields.push(t)}return this.ScreenObject.StaticFields.push(t),this.ScreenObject.SetProperties_Static(t),t}OnSerialNo_LostFoucs(e){Logger.InfoLog("AddEditUnitsViewModel:: OnDiscount_LostFoucs Begin"),this.CalculateAmount(e),Logger.InfoLog("AddEditUnitsViewModel:: OnDiscount_LostFoucs End")}OnUnitstatusClick(e){this.DisplayMessage="",null==this.UnitstatusHistory&&(this.UnitstatusHistory=new T.a(e),this.UnitID>0&&this.ds.Tables.length>9&&this.UnitstatusHistory.LoadEditData(this.ds.Tables[9],this.ds.Columns[9])),n.a.page.ShowDialog(this.UnitstatusHistory,P.a,{ShowCenter:!0,Title:n.a.GetResource("History")}).subscribe(e=>{})}OnHistoryButtonClick(e){this.ScreenObject.OnHistoryButtonClick(e)}onListSelectedChanged(e){Logger.InfoLog("AddEditRenContractViewModel ::Entering onListSelectedChanged");try{if(null!=e&&("Property"==e.toString()||e==this.Property)&&this.Property.SelectedValue>0){this.TermsConditions.Text="";let e=n.a.rental.GetProperty(this.Property.SelectedValue,0);var t;if(null!=e&&null!=e&&e.Tables.length>2&&e.Tables[2].length>0)null!=e.Tables[2][0].TermsConditions&&""!=e.Tables[2][0].TermsConditions.toString()&&(this.TermsConditions.Text=e.Tables[2][0].TermsConditions.toString()),null!=e.Tables[2][0].RentalIncomeAccountID&&""!=e.Tables[2][0].RentalIncomeAccountID.toString()&&(this.RentalIncomeAcc.SelectedValue=parseInt(e.Tables[2][0].RentalIncomeAccountID)),null!=e.Tables[2][0].PenaltyAccountID&&""!=e.Tables[2][0].PenaltyAccountID.toString()&&(this.PenaltyAcc.SelectedValue=parseInt(e.Tables[2][0].PenaltyAccountID)),null!=e.Tables[2][0].RentalReceivableAccountID&&""!=e.Tables[2][0].RentalReceivableAccountID.toString()&&(this.RentalReceivableAcc.SelectedValue=parseInt(e.Tables[2][0].RentalReceivableAccountID)),null!=e.Tables[2][0].ProvisionAccountID&&""!=e.Tables[2][0].ProvisionAccountID.toString()&&(this.ProvisionAccountID.SelectedValue=parseInt(e.Tables[2][0].ProvisionAccountID)),null!=e.Tables[2][0].AdvanceReceivableAccountID&&""!=e.Tables[2][0].AdvanceReceivableAccountID.toString()&&(this.AdvanceReceivableAcc.SelectedValue=parseInt(e.Tables[2][0].AdvanceReceivableAccountID)),null!=e.Tables[2][0].AdvanceRentAccountID&&""!=e.Tables[2][0].AdvanceRentAccountID.toString()&&(this.AdvanceRentAcc.SelectedValue=parseInt(e.Tables[2][0].AdvanceRentAccountID)),null!=e.Tables[2][0].AdvReceivableCloseAccID&&""!=e.Tables[2][0].AdvReceivableCloseAccID.toString()&&(this.AdvReceivableCloseAcc.SelectedValue=parseInt(e.Tables[2][0].AdvReceivableCloseAccID)),null!=e.Tables[2][0].BankAccount&&""!=e.Tables[2][0].BankAccount.toString()&&(this.BankAcc.SelectedValue=parseInt(e.Tables[2][0].BankAccount)),null!=e.Tables[2][0].BankLoanAccount&&""!=e.Tables[2][0].BankLoanAccount.toString()&&(this.BankLoanAcc.SelectedValue=parseInt(e.Tables[2][0].BankLoanAccount)),e.Tables[15].length>0&&(e.Columns[15].Contains("ccnid58")&&null!=e.Tables[15][0].ccnid58&&""!=e.Tables[15][0].ccnid58.toString()&&null!=(t=this.ScreenObject.GetExtrFieldByName("ccnid58"))&&null!=t&&t instanceof l.b&&(t.SelectedValue=parseInt(e.Tables[15][0].ccnid58.toString())),e.Columns[15].Contains("ccnid70")&&null!=e.Tables[15][0].ccnid70&&""!=e.Tables[15][0].ccnid70.toString()&&null!=(t=this.ScreenObject.GetExtrFieldByName("ccnid70"))&&null!=t&&t instanceof l.b&&(t.SelectedValue=parseInt(e.Tables[15][0].ccnid70.toString())),e.Columns[15].Contains("ccnid59")&&null!=e.Tables[15][0].ccnid59&&""!=e.Tables[15][0].ccnid59.toString()&&null!=(t=this.ScreenObject.GetExtrFieldByName("ccnid59"))&&null!=t&&t instanceof l.b&&(t.SelectedValue=parseInt(e.Tables[15][0].ccnid59.toString())),e.Columns[15].Contains("ccnid61")&&null!=e.Tables[15][0].ccnid61&&""!=e.Tables[15][0].ccnid61.toString()&&null!=(t=this.ScreenObject.GetExtrFieldByName("ccnid61"))&&null!=t&&t instanceof l.b&&(t.SelectedValue=parseInt(e.Tables[15][0].ccnid61.toString())),e.Columns[15].Contains("ccnid62")&&null!=e.Tables[15][0].ccnid62&&""!=e.Tables[15][0].ccnid62.toString()&&null!=(t=this.ScreenObject.GetExtrFieldByName("ccnid62"))&&null!=t&&t instanceof l.b&&(t.SelectedValue=parseInt(e.Tables[15][0].ccnid62.toString()))),null!=e.Tables[2][0].LocationID&&"0"!=e.Tables[2][0].LocationID.toString()&&(this.LocationUnit instanceof l.b?this.LocationUnit.SelectedValue=parseInt(e.Tables[2][0].LocationID):this.LocationUnit instanceof l.a&&this.LocationUnit.SetValue(parseInt(e.Tables[2][0].LocationID))),null!=e.Tables[2][0].LandLordID&&"0"!=e.Tables[2][0].LandLordID.toString()&&(this.Landlord instanceof l.b?this.Landlord.SelectedValue=parseInt(e.Tables[2][0].LandLordID):this.Landlord instanceof l.a&&this.Landlord.SetValue(parseInt(e.Tables[2][0].LandLordID))),this.PickPayables&&(null!=e.Tables[2][0].RentalAccount&&""!=e.Tables[2][0].RentalAccount.toString()&&(this.RentAcc.SelectedValue=parseInt(e.Tables[2][0].RentalAccount)),null!=e.Tables[2][0].RentPayableAccount&&""!=e.Tables[2][0].RentPayableAccount.toString()&&(this.RentPayableAcc.SelectedValue=parseInt(e.Tables[2][0].RentPayableAccount)),null!=e.Tables[2][0].AdvanceRentPaid&&""!=e.Tables[2][0].AdvanceRentPaid.toString()&&(this.AdvanceRentPaid.SelectedValue=parseInt(e.Tables[2][0].AdvanceRentPaid)));null!=e&&e.Tables.length>8&&this.PropertyDeposits.PropertyID!=this.Property.SelectedValue&&(this.PropertyDeposits.PropertyID=this.Property.SelectedValue,this.PropertyDeposits.Load(e.Tables[8])),this.ScreenObject.OnGetReference(this.Property)}}catch(i){}}CalculateAmount(e){Logger.InfoLog("AddEditUnitsViewModel:: CalculateAmount Begin");try{if(this.RentSQFT.Enable=!1,""==this.Discount.TextBox.Text&&(this.Discount.TextBox.Text="0"),""==this.RentArea.Text&&(this.RentArea.Text="0"),a.e.ValidateDouble(this.Discount.TextBox.Text)&&a.e.ValidateDouble(this.Amount.TextBox.Text)){let t=0,i=0;t=parseFloat(this.Amount.TextBox.Text),i=parseFloat(this.Discount.TextBox.Text),"1"==this.AmountType.SelectedValue?(this.AnnualRent.Text="2"==this.DiscountType.SelectedValue?(t-t*i/100).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()):(t-i).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()),this.MonthlyRent.Text=(parseFloat(this.AnnualRent.Text)/12).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()),this.RentSQFT.Text=a.e.ValidateDouble(this.RentArea.Text)&&parseFloat(this.RentArea.Text)>0?(parseFloat(this.AnnualRent.Text)/parseFloat(this.RentArea.Text)).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()):(parseFloat(this.AnnualRent.Text)/1).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString())):"2"==this.AmountType.SelectedValue?(this.MonthlyRent.Text="2"==this.DiscountType.SelectedValue?(t-t*i/100).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()):(t-i).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()),this.AnnualRent.Text=(12*parseFloat(this.MonthlyRent.Text)).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()),this.RentSQFT.Text=a.e.ValidateDouble(this.RentArea.Text)&&parseFloat(this.RentArea.Text)>0?(parseFloat(this.MonthlyRent.Text)/parseFloat(this.RentArea.Text)).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()):(parseFloat(this.MonthlyRent.Text)/1).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString())):"3"==this.AmountType.SelectedValue?(this.RentSQFT.Text="2"==this.DiscountType.SelectedValue&&parseFloat(this.RentArea.Text)>0?((t-t*i/100)/parseFloat(this.RentArea.Text)).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()):parseFloat(this.RentArea.Text)>0?(t-i/parseFloat(this.RentArea.Text)).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()):(t-i/1).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()),this.AnnualRent.Text=(365*parseFloat(this.RentSQFT.Text)).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()),this.MonthlyRent.Text=(30*parseFloat(this.RentSQFT.Text)).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString())):"4"==this.AmountType.SelectedValue&&(null!=e&&e==this.RentSQFT?(this.RentSQFT.Enable=!0,this.MonthlyRent.Text="",this.AnnualRent.Text="",a.e.ValidateDouble(this.RentSQFT.Text)&&parseFloat(this.RentSQFT.Text)>0&&parseFloat(this.RentArea.Text)>0&&(this.Amount.TextBox.Text=(parseFloat(this.RentSQFT.Text)*parseFloat(this.RentArea.Text)).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString())),t=parseFloat(this.Amount.TextBox.Text),i=parseFloat(this.Discount.TextBox.Text),this.MonthlyRent.Text="2"==this.DiscountType.SelectedValue?(30*(t-t*i/100)).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()):(30*(t-i)).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString()),this.AnnualRent.Text=(12*parseFloat(this.MonthlyRent.Text)).ToString("N"+n.a.SessionManager.Preferences.DecimalsinRate.toString())):null==e&&(this.RentSQFT.Enable=!0,this.MonthlyRent.Text="",this.AnnualRent.Text="",this.RentSQFT.Text="",this.Amount.TextBox.Text="0"))}}catch(t){}Logger.InfoLog("AddEditUnitsViewModel:: CalculateAmount End")}LoadEditData(){if(null!=this.ds&&this.ds.Tables.length>4&&this.ds.Tables[0].length>0){if(this.CodePrefix="",this.CodeNumber=0,this.GroupSeqNoLength=0,a.e.StringIsNullOrEmpty(this.ds.Tables[0][0].GUID)||(this.Unitsmodel.GUID=this.ds.Tables[0][0].GUID.toString()),a.e.StringIsNullOrEmpty(this.ds.Tables[0][0].Code)||(this.UnitCode.Text=this.ds.Tables[0][0].Code.toString()),a.e.StringIsNullOrEmpty(this.ds.Tables[0][0].Name)||(this.UnitName.Text=this.ds.Tables[0][0].Name.toString()),this.UnitType.SelectedValue=a.e.StringValue(this.ds.Tables[0][0].NodeID),this.ds.Columns[0].Contains("UnitType")&&!a.e.StringIsNullOrEmpty(this.ds.Tables[0][0].UnitType)&&(this.TypeofUnit.SelectedValue=parseInt(this.ds.Tables[0][0].UnitType.toString())),null!=this.ds.Tables[0][0].Status&&""!=this.ds.Tables[0][0].Status.toString()&&(this.Status.SelectedValue=this.ds.Tables[0][0].Status.toString()),this.Group.SelectedValue=parseInt(this.ds.Tables[0][0].ParentID),a.e.StringIsNullOrEmpty(this.ds.Tables[0][0].CodePrefix)||(this.CodePrefix=this.ds.Tables[0][0].CodePrefix.toString()),a.e.StringIsNullOrEmpty(this.ds.Tables[0][0].CodeNumber)||(this.CodeNumber=parseInt(this.ds.Tables[0][0].CodeNumber)),a.e.StringIsNullOrEmpty(this.ds.Tables[0][0].GroupSeqNoLength)||(this.GroupSeqNoLength=parseInt(this.ds.Tables[0][0].GroupSeqNoLength.toString())),null!=this.ds.Tables[0][0].PropertyID&&""!=this.ds.Tables[0][0].PropertyID.toString()&&(this.Property.SelectedValue=parseInt(this.ds.Tables[0][0].PropertyID)),null!=this.ds.Tables[0][0].FloorLookUpID&&""!=this.ds.Tables[0][0].FloorLookUpID.toString()&&(this.Floor.SelectedValue=this.ds.Tables[0][0].FloorLookUpID.toString()),a.e.StringIsNullOrEmpty(this.ds.Tables[0][0].UnitStatus))this.UnitStatus.Text="";else{let e="";a.e.StringIsNullOrEmpty(this.ds.Tables[0][0].UnitStatusName)||(e=this.ds.Tables[0][0].UnitStatusName.toString()),this.UnitStatus.SetValue_2(parseInt(this.ds.Tables[0][0].UnitStatus),e)}if(a.e.StringIsNullOrEmpty(this.ds.Tables[0][0].BasedOn)||(this.BasedOn.SelectedValue=this.ds.Tables[0][0].BasedOn.toString()),this.ds.Columns[0].Contains("PostIncome")&&!a.e.StringIsNullOrEmpty(this.ds.Tables[0][0].PostIncome)&&(this.PostIncome.SelectedValue="true"==this.ds.Tables[0][0].PostIncome.toString().toLowerCase()||"1"==this.ds.Tables[0][0].PostIncome.toString()?"1":"0"),null!=this.ds.Tables[0][0].LocationID&&"0"!=this.ds.Tables[0][0].LocationID.toString()&&(this.LocationUnit instanceof l.b?this.LocationUnit.SelectedValue=parseInt(this.ds.Tables[0][0].LocationID.toString()):this.LocationUnit instanceof l.a&&this.LocationUnit.SetValue(parseInt(this.ds.Tables[0][0].LocationID.toString()))),null!=this.ds.Tables[0][0].ViewLookUpID&&""!=this.ds.Tables[0][0].ViewLookUpID.toString()&&(this.View.SelectedValue=this.ds.Tables[0][0].ViewLookUpID.toString()),null!=this.ds.Tables[0][0].RentableArea&&""!=this.ds.Tables[0][0].RentableArea.toString()&&(this.RentArea.Text=this.ds.Tables[0][0].RentableArea.toString()),null!=this.ds.Tables[0][0].BuildUpArea&&""!=this.ds.Tables[0][0].BuildUpArea.toString()&&(this.BuildArea.Text=this.ds.Tables[0][0].BuildUpArea.toString()),null!=this.ds.Tables[0][0].NoOfBathrooms&&""!=this.ds.Tables[0][0].NoOfBathrooms.toString()&&(this.NoOfBathrooms.Text=this.ds.Tables[0][0].NoOfBathrooms.toString()),null!=this.ds.Tables[0][0].NoOfParkings&&""!=this.ds.Tables[0][0].NoOfParkings.toString()&&(this.NoOfParkings.Text=this.ds.Tables[0][0].NoOfParkings.toString()),null!=this.ds.Tables[0][0].ElectricityCode&&""!=this.ds.Tables[0][0].ElectricityCode.toString()&&(this.ElectricityCode.Text=this.ds.Tables[0][0].ElectricityCode.toString()),null!=this.ds.Tables[0][0].ElectricityKW&&""!=this.ds.Tables[0][0].ElectricityKW.toString()&&(this.Electricity.Text=this.ds.Tables[0][0].ElectricityKW.toString()),null!=this.ds.Tables[0][0].Rent&&""!=this.ds.Tables[0][0].Rent.toString()&&(this.Amount.TextBox.Text=this.ds.Tables[0][0].Rent.toString()),null!=this.ds.Tables[0][0].RentTypeID&&""!=this.ds.Tables[0][0].RentTypeID.toString()&&parseInt(this.ds.Tables[0][0].RentTypeID.toString())>0&&(this.AmountType.SelectedValue=this.ds.Tables[0][0].RentTypeID.toString()),null!=this.ds.Tables[0][0].AccountantID&&""!=this.ds.Tables[0][0].AccountantID.toString()&&(this.Accountant instanceof l.b?this.Accountant.SelectedValue=parseInt(this.ds.Tables[0][0].AccountantID.toString()):this.Accountant instanceof l.a&&this.Accountant.SetValue(parseInt(this.ds.Tables[0][0].AccountantID.toString()))),null!=this.ds.Tables[0][0].SalesmanID&&""!=this.ds.Tables[0][0].SalesmanID.toString()&&(this.Salesman instanceof l.b?this.Salesman.SelectedValue=parseInt(this.ds.Tables[0][0].SalesmanID.toString()):this.Salesman instanceof l.a&&this.Salesman.SetValue(parseInt(this.ds.Tables[0][0].SalesmanID.toString()))),null!=this.ds.Tables[0][0].LandlordID&&""!=this.ds.Tables[0][0].LandlordID.toString()&&(this.Landlord instanceof l.b?this.Landlord.SelectedValue=parseInt(this.ds.Tables[0][0].LandlordID.toString()):this.Landlord instanceof l.a&&this.Landlord.SetValue(parseInt(this.ds.Tables[0][0].LandlordID.toString()))),null!=this.ds.Tables[0][0].DiscountAmount&&""!=this.ds.Tables[0][0].DiscountAmount.toString()&&("-100"!=this.ds.Tables[0][0].DiscountAmount.toString()?(this.DiscountType.SelectedValue="1",this.Discount.TextBox.Text=this.ds.Tables[0][0].DiscountAmount.toString()):(this.DiscountType.SelectedValue="2",this.Discount.TextBox.Text=this.ds.Tables[0][0].DiscountPercentage.toString())),null!=this.ds.Tables[0][0].AnnualRent&&""!=this.ds.Tables[0][0].AnnualRent.toString()&&(this.AnnualRent.Text=this.ds.Tables[0][0].AnnualRent.toString()),null!=this.ds.Tables[0][0].MonthlyRent&&""!=this.ds.Tables[0][0].MonthlyRent.toString()&&(this.MonthlyRent.Text=this.ds.Tables[0][0].MonthlyRent.toString()),null!=this.ds.Tables[0][0].RentPerSQFT&&""!=this.ds.Tables[0][0].RentPerSQFT.toString()&&(this.RentSQFT.Text=this.ds.Tables[0][0].RentPerSQFT.toString()),null!=this.ds.Tables[0][0].TermsConditions&&""!=this.ds.Tables[0][0].TermsConditions.toString()&&(this.TermsConditions.Text=this.ds.Tables[0][0].TermsConditions.toString()),null!=this.ds.Tables[0][0].PenaltyAccountID&&""!=this.ds.Tables[0][0].PenaltyAccountID.toString()&&(this.PenaltyAcc.SelectedValue=parseInt(this.ds.Tables[0][0].PenaltyAccountID)),null!=this.ds.Tables[0][0].RentalIncomeAccountID&&""!=this.ds.Tables[0][0].RentalIncomeAccountID.toString()&&(this.RentalIncomeAcc.SelectedValue=parseInt(this.ds.Tables[0][0].RentalIncomeAccountID)),null!=this.ds.Tables[0][0].RentalReceivableAccountID&&""!=this.ds.Tables[0][0].RentalReceivableAccountID.toString()&&(this.RentalReceivableAcc.SelectedValue=parseInt(this.ds.Tables[0][0].RentalReceivableAccountID)),null!=this.ds.Tables[0][0].AdvanceReceivableAccountID&&""!=this.ds.Tables[0][0].AdvanceReceivableAccountID.toString()&&(this.AdvanceReceivableAcc.SelectedValue=parseInt(this.ds.Tables[0][0].AdvanceReceivableAccountID)),null!=this.ds.Tables[0][0].ProvisionAccountID&&""!=this.ds.Tables[0][0].ProvisionAccountID.toString()&&(this.ProvisionAccountID.SelectedValue=parseInt(this.ds.Tables[0][0].ProvisionAccountID)),null!=this.ds.Tables[0][0].AdvanceRentAccountID&&""!=this.ds.Tables[0][0].AdvanceRentAccountID.toString()&&(this.AdvanceRentAcc.SelectedValue=parseInt(this.ds.Tables[0][0].AdvanceRentAccountID)),null!=this.ds.Tables[0][0].AdvReceivableCloseAccID&&""!=this.ds.Tables[0][0].AdvReceivableCloseAccID.toString()&&(this.AdvReceivableCloseAcc.SelectedValue=parseInt(this.ds.Tables[0][0].AdvReceivableCloseAccID)),null!=this.ds.Tables[0][0].BankAccount&&""!=this.ds.Tables[0][0].BankAccount.toString()&&(this.BankAcc.SelectedValue=parseInt(this.ds.Tables[0][0].BankAccount)),null!=this.ds.Tables[0][0].BankLoanAccount&&""!=this.ds.Tables[0][0].BankLoanAccount.toString()&&(this.BankLoanAcc.SelectedValue=parseInt(this.ds.Tables[0][0].BankLoanAccount)),null!=this.ds.Tables[0][0].RentalAccount&&""!=this.ds.Tables[0][0].RentalAccount.toString()&&(this.RentAcc.SelectedValue=parseInt(this.ds.Tables[0][0].RentalAccount)),null!=this.ds.Tables[0][0].RentPayableAccount&&""!=this.ds.Tables[0][0].RentPayableAccount.toString()&&(this.RentPayableAcc.SelectedValue=parseInt(this.ds.Tables[0][0].RentPayableAccount)),null!=this.ds.Tables[0][0].AdvanceRentPaid&&""!=this.ds.Tables[0][0].AdvanceRentPaid.toString()&&(this.AdvanceRentPaid.SelectedValue=parseInt(this.ds.Tables[0][0].AdvanceRentPaid)),null!=this.ds.Tables[0][0].TenantID&&""!=this.ds.Tables[0][0].TenantID.toString()&&(this.TenantID.SelectedValue=parseInt(this.ds.Tables[0][0].TenantID)),this.ds.Tables.length>2&&this.ScreenObject.LoadCustomFieldsData(this.ds.Tables[2]),this.ds.Tables.length>1&&(this.PropertyDeposits.PropertyID=this.Property.SelectedValue,this.PropertyDeposits.Load(this.ds.Tables[1])),this.ds.Tables.length>3&&this.LoadCustomFieldsData(this.ds.Tables[3]),this.ds.Tables.length>4&&this.ScreenObject.LoadCustomFieldsCCData(this.ds.Tables[4]),this.ds.Tables.length>6){this.ViewAttachments.LoadAttachments(this.ds.Tables[6]);let e=this.ds.Tables[6].filter(e=>1==e.IsProductImage);e.length>0?(this.PhotoTextVisibility=!1,this.FileID=parseInt(e[0].FileID),this.AccountPhoto=a.e.GetPath(e[0].GUID.toString()+"."+e[0].FileExtension.toString()),this.ActualFileName=e[0].ActualFileName.toString()):(this.FileID=0,this.PhotoTextVisibility=!0)}this.ds.Tables.length>7&&this.ViewUnitRate.LoadUnitRates(this.ds.Tables[7]),this.ScreenObject.CanApprove(this.ds.Tables[0][0],this.ds.Tables[8][0],this.ButtonSave)}}AutoGenerateCode(){if(0==this.UnitID&&null!=this.ScreenObject.Data&&this.ScreenObject.Data.Tables.length>6&&(this.ScreenObject.SetAutoCode(this.UnitCode,this.group,this.Group.SelectedValue,this.ScreenObject.Data.Tables[6]),this.ScreenObject.IsAutoName)){this.ScreenObject.IsNameAutoGenerate=!0,this.UnitName.Enable=!1;let e=this.ScreenObject.Data.Tables[6];e=e.filter(e=>1==e.IsName),this.ScreenObject.IsName=!0,e.length>0&&(this.UnitName.Text=this.ScreenObject.SetAutoCodeParams_1(this.UnitName,this.Group.SelectedValue,e))}this.NoOfParkings.Text="0",this.NoOfBathrooms.Text="0",this.BuildArea.Text="0",this.RentArea.Text="1",this.RentSQFT.Text="0",this.Discount.TextBox.Text="0",this.Amount.TextBox.Text="0",this.Electricity.Text="0"}AssignRowColumns(){let e;e=this.ScreenObject.CustomFields.length;for(let t=0;t<e;t++)this.ScreenObject.CustomFields[t].Row=t/4,this.ScreenObject.CustomFields[t].Column=t%4}OnLoad(){this.lstPropertyIDs=new Array,null!=this.ScreenObject.Data&&this.ScreenObject.Data.Tables.length>3&&(this.ScreenObject.Data.Tables[3].forEach(e=>{this.Status.Items.push(r.d.ComboBoxItems_2(e.Status.toString(),e.StatusID.toString()))}),this.Status.SelectedValue="424"),this.AmountType.Items.push(r.d.ComboBoxItems_2(n.a.GetResource("Annual"),"1")),this.AmountType.Items.push(r.d.ComboBoxItems_2(n.a.GetResource("Monthly"),"2")),this.AmountType.Items.push(r.d.ComboBoxItems_2(n.a.GetResource("Daily"),"4")),this.DiscountType.Items.push(r.d.ComboBoxItems_2(n.a.GetResource("Value"),"1")),this.DiscountType.Items.push(r.d.ComboBoxItems_2(n.a.GetResource("Percentage"),"2")),this.DiscountType.SelectedValue="1",this.AmountType.SelectedValue="1",this.AssignRowColumns();for(let e=this.ScreenObject.CustomTab.Pages.length-1;e>=0;e--){let t=this.ScreenObject.CustomTab.Pages[e];switch(t.Name){case"Particulars":t.Fields.push(this.PropertyDeposits)}}this.ScreenObject.CustomTab.Pages.forEach(e=>{e.Fields.forEach(e=>{e instanceof l.b&&"RentalIncomeAccountID"==e.DBColumnName?this.RentalIncomeAcc=e:e instanceof l.b&&"PenaltyAccountID"==e.DBColumnName?this.PenaltyAcc=e:e instanceof l.b&&"RentalReceivableAccountID"==e.DBColumnName?this.RentalReceivableAcc=e:e instanceof l.b&&"ProvisionAccountID"==e.DBColumnName?this.ProvisionAccountID=e:e instanceof l.b&&"AdvanceReceivableAccountID"==e.DBColumnName?this.AdvanceReceivableAcc=e:e instanceof l.b&&"AdvanceRentAccountID"==e.DBColumnName?this.AdvanceRentAcc=e:e instanceof l.b&&"AdvReceivableCloseAccID"==e.DBColumnName?this.AdvReceivableCloseAcc=e:e instanceof l.b&&"BankAccount"==e.DBColumnName?this.BankAcc=e:e instanceof l.b&&"BankLoanAccount"==e.DBColumnName?this.BankLoanAcc=e:e instanceof l.b&&"RentalAccount"==e.DBColumnName?this.RentAcc=e:e instanceof l.b&&"RentPayableAccount"==e.DBColumnName?this.RentPayableAcc=e:e instanceof l.b&&"AdvanceRentPaid"==e.DBColumnName?this.AdvanceRentPaid=e:e instanceof l.b&&"TenantID"==e.DBColumnName&&(this.TenantID=e)})}),n.a.SessionManager.Preferences.ContainsKey("EnableLocationWise")&&"true"==n.a.SessionManager.Preferences.EnableLocationWise.toString().toLowerCase()&&n.a.SessionManager.Preferences.ContainsKey("LW Units")&&"true"==n.a.SessionManager.Preferences["LW Units"].toString().toLowerCase()&&(this.Property.CustomWhere=" a.LocationID in ("+n.a.SessionManager.LocationWhere+")")}ValidateFloatFields(){return 0==a.e.ValidateDouble(this.BuildArea.Text)?"Please enter valid Build Area":0==a.e.ValidateDouble(this.RentArea.Text)?"Please enter valid Rent Area":0==a.e.ValidateDouble(this.NoOfBathrooms.Text)?"Please enter valid NoOfBathrooms":0==a.e.ValidateDouble(this.NoOfParkings.Text)?"Please enter valid NoOfParkings":0==a.e.ValidateDouble(this.Discount.TextBox.Text)?"Please enter valid Discount":0==a.e.ValidateDouble(this.Amount.TextBox.Text)?"Please enter valid Amount":0==a.e.ValidateDouble(this.Electricity.Text)?"Please enter valid Electricity":""}OnSave(e){if("Customize"==e);else if("ShowApprove"==e.toString()){let e=new U.a(93,this.Unitsmodel.UnitID,this.ScreenObject,this);n.a.page.ShowDialog(e,L.a,{ShowCenter:!0,Title:n.a.GetResource("ApproveReject")})}else if("Copy"==e.toString())if(0!=this.Property.SelectedValue){let e=new O(this);n.a.page.ShowDialog(e,w.a,{ShowCenter:!0,HideHeader:!0})}else this.DisplayMessage="Select "+this.Property.Label+" to Copy",this.MessageVisibility=!0;else if("Report"==e.toString())this.ReportInfoVisibility=!0,n.a.page.ShowDialog(this,E.a,{Title:"Reports"});else if("DeletePhoto"==e.toString())this.IsPhotoDelete=!0,this.AccountPhoto="",this.ActualFileName="",this.IsPhotoChanged=!1,this.PhotoTextVisibility=!0,this.DisplayMessage="";else if("PopUp"==e.toString()){let e="";null!=this.ds&&this.ds.Tables[6].filter(e=>"jpg"==e.FileExtension||"png"==e.FileExtension).forEach(t=>{e+=a.e.GetPath(t.GUID.toString()+"."+t.FileExtension.toString())+";"})}else if("UploadPhoto"==e.toString()){let e=new B.a;e.PopupAttachmentsViewModel_1(93,this.UnitID,this),n.a.page.ShowDialog(e,M.a,{ShowCenter:!0,Title:"Add Images"})}else if("MouseDown"==e.toString()){let e=new B.a;e.PopupAttachmentsViewModel_1(2,this.AccountPhoto,this),n.a.page.ShowDialog(e,M.a,{ShowCenter:!0,Title:"Add Images"})}else if("Save"==e.toString()){Logger.InfoLog("SaveUnitViewModel:: OnSave");try{if(0==this.ValidateFloatFields().length){let e,s,o=this.ScreenObject.ValidateData();if(!a.e.StringIsNullOrEmpty(o))return this.DisplayMessage=o,void(this.MessageVisibility=!0);if(null==this.UnitName.Text.Trim()||""==this.UnitName.Text.Trim())return this.DisplayMessage="Enter Unit Name",void(this.MessageVisibility=!0);for(let t=0;t<this.PropertyDeposits.DepositsGrid1Obj.Table.length;t++){if(!a.e.StringIsNullOrEmpty(this.PropertyDeposits.DepositsGrid1Obj.Table[t].Particulars_Key)&&!a.e.StringIsNullOrEmpty(this.PropertyDeposits.DepositsGrid1Obj.Table[t].Advance_Key)&&parseInt(this.PropertyDeposits.DepositsGrid1Obj.Table[t].Advance_Key.toString())>0&&"1"==this.PropertyDeposits.DepositsGrid1Obj.Table[t].Refund.toString())return this.DisplayMessage="Can not select full refund at row no:"+(t+1),void(this.MessageVisibility=!0);if(""!=a.e.StringValue(this.PropertyDeposits.DepositsGrid1Obj.Table[t].PostDebit)&&"1"==a.e.String(this.PropertyDeposits.DepositsGrid1Obj.Table[t].PostDebit)&&a.e.IsEmpty(this.PropertyDeposits.DepositsGrid1Obj.Table[t].DebitAccount.toString()))return this.DisplayMessage="Please select debit account at row no:"+(t+1),void(this.MessageVisibility=!0)}if(this.Unitsmodel.UnitID=this.UnitID,0==this.UnitID){let e=this.ScreenObject.Data.Tables[6];e=e.filter(e=>0==e.IsName);let t={StrCode:this.Unitsmodel.Code,CodePrefix:this.Unitsmodel.CodePrefix,CodeNumber:this.Unitsmodel.CodeNumber};if(this.DisplayMessage=this.ScreenObject.SetAutoCodeParams_3(this.UnitCode,this.Group.SelectedValue,e,t),this.Unitsmodel.Code=t.StrCode,this.Unitsmodel.CodePrefix=t.CodePrefix,this.Unitsmodel.CodeNumber=t.CodeNumber,this.DisplayMessage.length>0)return}else this.Unitsmodel.Code=this.UnitCode.Text,this.Unitsmodel.CodePrefix=this.CodePrefix,this.Unitsmodel.CodeNumber=this.CodeNumber,this.Unitsmodel.GroupSeqNoLength=this.GroupSeqNoLength;s=a.e.IntTryParse(this.Status.SelectedValue),this.Unitsmodel.StatusID=""!=this.Status.SelectedValue?s:0,this.UnitName.Enable?this.Unitsmodel.Name=this.UnitName.Text:this.UnitName.Visible&&this.UnitName.Enable||(this.Unitsmodel.Name=this.UnitCode.Text),s=a.e.DoubleTryParse(this.UnitType.SelectedValue),this.Unitsmodel.UnitType=this.UnitType.Enable&&""!=this.UnitType.SelectedValue?s:this.UnitType.Enable||""==this.UnitType.SelectedValue?1:parseInt(this.UnitType.SelectedValue),this.Unitsmodel.TypeofUnit=this.TypeofUnit.SelectedValue>0?this.TypeofUnit.SelectedValue:999,this.Unitsmodel.UnitStatus=this.UnitStatus.SelectedValue,this.Unitsmodel.IsGroup=this.group,this.Unitsmodel.Property=this.Property.SelectedValue,this.Unitsmodel.SelectedNodeID=this.selectedNode,e=a.e.DoubleTryParse(this.RentArea.Text),this.Unitsmodel.RentalArea=""!=this.RentArea.Text?e:0,e=a.e.DoubleTryParse(this.BuildArea.Text),this.Unitsmodel.BuildUpArea=""!=this.BuildArea.Text?e:0,this.Unitsmodel.Floor=a.e.IntTryParse(this.Floor.SelectedValue),this.Unitsmodel.View=a.e.IntTryParse(this.View.SelectedValue),e=a.e.DoubleTryParse(this.NoOfBathrooms.Text),this.Unitsmodel.NoOfBathrooms=""!=this.NoOfBathrooms.Text?e:0,e=a.e.DoubleTryParse(this.NoOfParkings.Text),this.Unitsmodel.NoOfParkings=""!=this.NoOfParkings.Text?e:0,this.Unitsmodel.ElectricityCode=""!=this.ElectricityCode.Text?this.ElectricityCode.Text:"",e=a.e.DoubleTryParse(this.Electricity.Text),this.Unitsmodel.Electricity=""!=this.Electricity.Text?e:0,e=a.e.DoubleTryParse(this.Amount.TextBox.Text),this.Unitsmodel.Amount=""!=this.Amount.TextBox.Text?e:0,this.Unitsmodel.TermsConditions=""!=this.TermsConditions.Text&&null!=this.TermsConditions.Text?this.TermsConditions.Text:"",s=a.e.IntTryParse(this.AmountType.SelectedValue),this.Unitsmodel.AmountType=""!=this.AmountType.SelectedValue?s:0,"1"==this.DiscountType.SelectedValue?(this.Unitsmodel.DiscountPercentage=-100,e=a.e.DoubleTryParse(this.Discount.TextBox.Text),this.Unitsmodel.Discount=""!=this.Discount.TextBox.Text?e:0):(this.Unitsmodel.Discount=-100,e=a.e.DoubleTryParse(this.Discount.TextBox.Text),this.Unitsmodel.DiscountPercentage=""!=this.Discount.TextBox.Text?e:0),e=a.e.DoubleTryParse(this.AnnualRent.Text),this.Unitsmodel.AnnaulRent=""!=this.AnnualRent.Text?e:0,e=a.e.DoubleTryParse(this.MonthlyRent.Text),this.Unitsmodel.MonthlyRent=""!=this.MonthlyRent.Text?e:0,e=a.e.DoubleTryParse(this.RentSQFT.Text),this.Unitsmodel.RentperSqft=""!=this.RentSQFT.Text?e:0,this.Unitsmodel.Accountant=this.Accountant instanceof l.b&&this.Accountant.SelectedValue>0||this.Accountant instanceof l.a&&this.Accountant.SelectedValue>0?this.Accountant.SelectedValue:0,this.Unitsmodel.Salesman=this.Salesman instanceof l.b&&this.Salesman.SelectedValue>0||this.Salesman instanceof l.a&&this.Salesman.SelectedValue>0?this.Salesman.SelectedValue:0,this.Unitsmodel.Landlord=this.Landlord instanceof l.b&&this.Landlord.SelectedValue>0||this.Landlord instanceof l.a&&this.Landlord.SelectedValue>0?this.Landlord.SelectedValue:0,this.Unitsmodel.PenaltyAcc=0!=this.PenaltyAcc.SelectedValue?this.PenaltyAcc.SelectedValue:0,this.Unitsmodel.RentalIncomeAcc=0!=this.RentalIncomeAcc.SelectedValue?this.RentalIncomeAcc.SelectedValue:0,this.Unitsmodel.RentalReceivableAcc=0!=this.RentalReceivableAcc.SelectedValue?this.RentalReceivableAcc.SelectedValue:0,this.Unitsmodel.AdvanceReceivableAcc=0!=this.AdvanceReceivableAcc.SelectedValue?this.AdvanceReceivableAcc.SelectedValue:0,this.Unitsmodel.ProvisionAccountID=0!=this.ProvisionAccountID.SelectedValue?this.ProvisionAccountID.SelectedValue:0,this.Unitsmodel.AdvanceRentAcc=0!=this.AdvanceRentAcc.SelectedValue?this.AdvanceRentAcc.SelectedValue:0,this.Unitsmodel.AdvReceivableCloseAcc=0!=this.AdvReceivableCloseAcc.SelectedValue?this.AdvReceivableCloseAcc.SelectedValue:0,this.Unitsmodel.BankAcc=0!=this.BankAcc.SelectedValue?this.BankAcc.SelectedValue:0,this.Unitsmodel.BankLoanAcc=0!=this.BankLoanAcc.SelectedValue?this.BankLoanAcc.SelectedValue:0,this.Unitsmodel.RentAcc=0!=this.RentAcc.SelectedValue?this.RentAcc.SelectedValue:0,this.Unitsmodel.RentPayableAcc=0!=this.RentPayableAcc.SelectedValue?this.RentPayableAcc.SelectedValue:0,this.Unitsmodel.AdvanceRentPaid=0!=this.AdvanceRentPaid.SelectedValue?this.AdvanceRentPaid.SelectedValue:0,this.Unitsmodel.TenantID=0!=this.TenantID.SelectedValue?this.TenantID.SelectedValue:0,this.Unitsmodel.BasedOn=""!=this.BasedOn.SelectedValue?this.BasedOn.SelectedValue:"Monthly",this.Unitsmodel.PostIncome=a.e.StringIsNullOrEmpty(this.PostIncome.SelectedValue)?"1":this.PostIncome.SelectedValue,this.Unitsmodel.LocationID=this.LocationUnit instanceof l.b&&this.LocationUnit.SelectedValue>0||this.LocationUnit instanceof l.a&&this.LocationUnit.SelectedValue>0?this.LocationUnit.SelectedValue:0,this.Unitsmodel.CustomFieldsQuery=this.ScreenObject.GetCustomFieldsQuery(),this.Unitsmodel.CustomCCQuery=this.ScreenObject.GetCustomCostCenterFieldsQuery(),null!=this.LocationUnit&&this.LocationUnit.Visible&&this.Unitsmodel.LocationID>0&&(this.Unitsmodel.CustomCCQuery+="CCNID2="+this.Unitsmodel.LocationID+","),this.Unitsmodel.DetailsXML=this.PropertyDeposits.GetXML(),this.Unitsmodel.UnitRateHistoryXML=this.ViewUnitRate.GetXML(),this.Unitsmodel.HistoryXML=this.ScreenObject.HistoryCCXML,this.Unitsmodel.NotesXML=this.ViewNotes.GetXML();try{this.Unitsmodel.AttachmetsXML=this.ViewAttachments.GetXML();let e="";if(this.IsPhotoChanged&&!a.e.IsEmpty(this.AccountPhoto))if(e+=0==this.FileID?'<Row Action="NEW"':'<Row Action="MODIFY"',n.a.SessionManager.IsWebApplication)e+=' AttachmentID="'+this.FileID+'"',e+=' FilePath="'+this.AccountPhoto+'"',e+=' ActualFileName="'+this.AccountPhoto.substr(this.AccountPhoto.lastIndexOf("\\")+1)+'"',e+=' RelativeFileName="'+this.AccountPhoto+'"',e+=' FileExtension="'+this.FileExtension+'"',e+=' FileDescription="'+c.d.GetValidXml(this.FileDescription)+'"',e+=' IsProductImage="1"',e+=' IsDefaultImage="1"',e+=' GUID="'+this.guid+'"',e+="/>";else{let t=a.e.GetPath(this.AccountPhoto);this.guid=t.guid,this.FileExtension=t.FileExtension,e+=' AttachmentID="'+this.FileID+'"',e+=' FilePath="'+this.AccountPhoto+'"',e+=' ActualFileName="'+this.ActualFileName+'"',e+=' RelativeFileName="'+this.AccountPhoto+'"',e+=' FileExtension="'+this.FileExtension+'"',e+=' FileDescription="'+c.d.GetValidXml(this.FileDescription)+'"',e+=' IsProductImage="1"',e+=' IsDefaultImage="1"',e+=' GUID="'+this.guid+'"',e+="/>"}else this.IsPhotoDelete&&this.FileID>0&&(e+='<Row Action="DELETE"',e+=' AttachmentID="'+this.FileID+'"/>');e.length>0&&(e="<AttachmentsXML>"+e+"</AttachmentsXML>",this.Unitsmodel.AttachmetsXML=this.Unitsmodel.AttachmetsXML+e.toString())}catch(t){return this.DisplayMessage=n.a.GetResource("Upload_Path_notExists"),void(this.MessageVisibility=!0)}try{this.Unitsmodel.AttachmetsXML=this.ViewAttachments.GetXML()}catch(i){return this.DisplayMessage=n.a.GetResource("Upload_Path_notExists"),void(this.MessageVisibility=!0)}this.Unitsmodel.WID=this.ScreenObject.CheckWorkFlow(),n.a.rental.SaveUnits(this.Unitsmodel,"SaveUnits").subscribe(e=>{this.DisplayMessage=e.Message,this.MessageVisibility=!0,this.RetValue=e.RetValue,this.RetValue>0&&(this.Unitsmodel.UnitID=0,this.UnitID=0,this.UnitCode.Text="",this.UnitName.Text="",this.Status.SelectedValue="424",this.BuildArea.Text="0",this.RentArea.Text="0",this.Floor.SelectedIndex=0,this.View.SelectedIndex=0,this.Amount.TextBox.Text="0",this.AmountType.SelectedValue="1",this.MonthlyRent.Text="0",this.AnnualRent.Text="0",this.UnitstatusHistory=null,this.Property.SelectedValue=this.DefaultPropertyID>0?this.DefaultPropertyID:1,this.UnitType.SelectedIndex=0,this.RentSQFT.Text="0",this.ElectricityCode.Text="",this.Discount.TextBox.Text="0",this.Electricity.Text="0",this.NoOfBathrooms.Text="0",this.NoOfParkings.Text="0",this.AutoGenerateCode(),this.Group.SelectedValue=this.parentid,this.PropertyDeposits.ClearData(),this.ViewAttachments.AttachmentsListObj.Clear(),this.ViewUnitRate.UnitRateList.Clear(),this.ViewNotes.NotesList.Clear(),this.ViewNotes.DeletedNotes.Clear(),this.AccountPhoto="",this.ActualFileName="",this.PhotoTextVisibility=!0,this.ViewUnitRate.UnitRateGridObj.Clear(),this.TenantID.SelectedValue=0,this.CodePrefix="",this.CodeNumber=0,this.GroupSeqNoLength=0)},e=>{console.log(" Unit Save : "+JSON.stringify(e))})}else this.DisplayMessage=this.ValidateFloatFields(),this.MessageVisibility=!0;Logger.InfoLog("SaveUnitViewModel:: OnSave")}catch(s){Logger.ErrorLog("SaveUnitViewModel:: OnSave"+s.stack)}}}LoadCustomFieldsData(e){if(Logger.InfoLog("AddEditTenantViewModel:: Entering LoadCustomFieldsData"),null!=e&&null!=e&&e.length>0){try{this.ScreenObject.CustomTab.Pages.forEach(t=>{t.Fields.forEach(t=>{if(t instanceof d.c&&null!=t.DBColumnName&&null!=e[0][t.DBColumnName])if(t instanceof c.d)t.Text="Tenant"==t.DBColumnName?e[0][t.DBColumnName]:new Date(e[0][t.DBColumnName]).ToString(n.a.SessionManager.Preferences["Date Format"]);else if(t instanceof r.e)t.SelectedValue=e[0][t.DBColumnName].toString();else if(t instanceof g.a)!a.e.StringIsNullOrEmpty(e[0][t.DBColumnName])&&a.e.isValidDate(e[0][t.DBColumnName].toString())&&(t.Date=new Date(e[0][t.DBColumnName]));else if(t instanceof D.a)t.Text=e[0][t.DBColumnName].toString();else if(t instanceof l.b){let i=a.e.IntTryParse(e[0][t.DBColumnName]);!a.e.StringIsNullOrEmpty(e[0][t.DBColumnName])&&i>0&&(t.SelectedValue=parseInt(e[0][t.DBColumnName].toString()))}else t instanceof c.c&&"TermsConditions"==t.DBColumnName&&(this.TermsConditions=t)})})}catch(t){Logger.ErrorLog("AddEditTenantViewModel:: LoadCustomFieldsData : "+t.stack)}Logger.InfoLog("AddEditTenantViewModel:: Exiting LoadCustomFieldsData")}}LoadTabs(){for(let e=this.ScreenObject.CustomTab.Pages.length-1;e>=0;e--){let t=this.ScreenObject.CustomTab.Pages[e];switch(t.Name){case"Attachments":t.Fields.push(this.ViewAttachments);break;case"UnitRate":t.Fields.push(this.ViewUnitRate)}}this.ScreenObject.CustomTab.Pages.forEach(e=>{e.Fields.forEach(e=>{e instanceof c.c&&"TermsConditions"==e.DBColumnName&&(this.TermsConditions=e),e instanceof l.b&&50002==e.CCID&&(this.Location=e,this.IsLocationAv=!0)})})}OnShowUnitRate(){}OnAddUnitRate(){this.UnitRate=new I(this)}}},"ls7+":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var s=i("3Pt+"),n=i("fXoL"),a=i("sYmb");function o(e,t){if(1&e&&(n.Zb(0,"div",11),n.Wc(1,"\n            "),n.Vb(2,12),n.Wc(3,"\n        "),n.Yb()),2&e){const e=n.lc();n.Db(2),n.tc("obj",e.obj.Property)("group",e.form)}}function l(e,t){if(1&e&&(n.Zb(0,"div",14),n.Wc(1,"\n                "),n.Vb(2,12),n.Wc(3,"\n            "),n.Yb()),2&e){const e=n.lc().$implicit,t=n.lc();n.Db(2),n.tc("obj",e)("group",t.form)}}function c(e,t){if(1&e&&(n.Xb(0),n.Wc(1,"\n            "),n.Uc(2,l,4,2,"div",13),n.Wc(3,"\n        "),n.Wb()),2&e){const e=t.$implicit;n.Db(2),n.tc("ngIf",e.Visible)}}let r=(()=>{class e{constructor(e){this.translate=e,this.form=new s.j({})}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(n.Tb(a.e))},e.\u0275cmp=n.Nb({type:e,selectors:[["app-copy-data"]],inputs:{obj:"obj"},decls:31,vars:10,consts:[[1,"pactdailog"],[1,"PactdailogHeader"],[1,"card-title"],[1,"row"],[1,"primary-btn-wicon",3,"click"],[1,"fa-light","fa-circle-check"],[1,"secondary-btn-wicon",3,"click"],[1,"fa-light","fa-rectangle-xmark"],[1,"row","form-row"],["style","margin-top: 4px;",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"margin-top","4px"],["FieldDirective","",3,"obj","group"],["class","form-group col PACTControl",4,"ngIf"],[1,"form-group","col","PACTControl"]],template:function(e,t){1&e&&(n.Zb(0,"div",0),n.Wc(1,"\n    "),n.Zb(2,"div",1),n.Wc(3,"\n        "),n.Zb(4,"h5",2),n.Wc(5,"Copy"),n.Yb(),n.Wc(6,"\n        "),n.Zb(7,"div",3),n.Wc(8,"\n            "),n.Zb(9,"button",4),n.hc("click",(function(){return t.obj.OnSearch("OK")})),n.Ub(10,"i",5),n.Wc(11),n.mc(12,"translate"),n.Yb(),n.Wc(13,"\n            "),n.Zb(14,"button",6),n.hc("click",(function(){return t.obj.OnSearch("Cancel")})),n.Ub(15,"i",7),n.Wc(16),n.mc(17,"translate"),n.Yb(),n.Wc(18,"\n        "),n.Yb(),n.Wc(19,"\n    "),n.Yb(),n.Wc(20,"\n    "),n.Zb(21,"div",8),n.Wc(22,"\n        "),n.Uc(23,o,4,2,"div",9),n.Wc(24,"\n    "),n.Yb(),n.Wc(25,"\n    "),n.Zb(26,"div",8),n.Wc(27,"\n        "),n.Uc(28,c,4,1,"ng-container",10),n.Wc(29,"\n    "),n.Yb(),n.Wc(30,"\n"),n.Yb()),2&e&&(n.Sc("width",t.obj.IsMobile?"unset":"800px"),n.Db(11),n.Xc(n.nc(12,6,"Com_OK")),n.Db(5),n.Xc(n.nc(17,8,"Cancel")),n.Db(7),n.tc("ngIf",t.obj.Property.Visible),n.Db(5),n.tc("ngForOf",t.obj.Fields))},encapsulation:2}),e})()},pV49:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var s=i("vfbs"),n=i("fXoL");let a=(()=>{class e extends s.a{constructor(){super()}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Nb({type:e,selectors:[["app-add-edit-unit-rate"]],features:[n.Ab],decls:59,vars:19,consts:[[1,"master-screen",3,"formGroup"],[1,"PACTHeaderFields","dialogSubBody"],[1,"row","form-row"],[1,"form-group","col-xl-6","col-md-6","col-sm-6","col-xs-6","PACTControl"],["FieldDirective","",3,"obj","group"],[1,"form-group","col-xl-12","col-md-12","col-sm-12","col-xs-12","PACTControl"],[1,"Pactdailogfooter"],[1,"primary-btn-wicon",3,"click"],[1,"fa-light","fa-floppy-disk"],[1,"secondary-btn-wicon",3,"click"],[1,"fa-light","fa-rectangle-xmark"]],template:function(e,t){1&e&&(n.Wc(0,"\n"),n.Zb(1,"div",0),n.Wc(2,"\n    "),n.Zb(3,"div",1),n.Wc(4,"\n        "),n.Zb(5,"div",2),n.Wc(6,"\n            "),n.Zb(7,"div",3),n.Wc(8,"\n                "),n.Vb(9,4),n.Wc(10,"\n            "),n.Yb(),n.Wc(11,"\n            "),n.Zb(12,"div",3),n.Wc(13,"\n                "),n.Vb(14,4),n.Wc(15,"\n            "),n.Yb(),n.Wc(16,"\n        "),n.Yb(),n.Wc(17,"\n        "),n.Zb(18,"div",2),n.Wc(19,"\n            "),n.Zb(20,"div",3),n.Wc(21,"\n                "),n.Vb(22,4),n.Wc(23,"\n            "),n.Yb(),n.Wc(24,"\n            "),n.Zb(25,"div",3),n.Wc(26,"\n                "),n.Vb(27,4),n.Wc(28,"\n            "),n.Yb(),n.Wc(29,"\n        "),n.Yb(),n.Wc(30,"\n        "),n.Zb(31,"div",5),n.Wc(32,"\n            "),n.Vb(33,4),n.Wc(34,"\n        "),n.Yb(),n.Wc(35,"\n        "),n.Zb(36,"div",5),n.Wc(37,"\n            "),n.Vb(38,4),n.Wc(39,"\n        "),n.Yb(),n.Wc(40,"\n        \n      \n  "),n.Yb(),n.Wc(41,"\n  "),n.Zb(42,"div",6),n.Wc(43,"\n    "),n.Zb(44,"div"),n.Wc(45,"\n        "),n.Zb(46,"button",7),n.hc("click",(function(){return t.obj.OnSaveUnitRate("Save")})),n.Ub(47,"i",8),n.Wc(48),n.mc(49,"translate"),n.Yb(),n.Wc(50,"\n        "),n.Zb(51,"button",9),n.hc("click",(function(){return t.obj.OnSaveUnitRate("Cancel")})),n.Ub(52,"i",10),n.Wc(53),n.mc(54,"translate"),n.Yb(),n.Wc(55,"\n    "),n.Yb(),n.Wc(56,"      \n  "),n.Yb(),n.Wc(57,"\n"),n.Yb(),n.Wc(58,"\n\n")),2&e&&(n.Db(1),n.tc("formGroup",t.obj.form),n.Db(8),n.tc("obj",t.obj.Amount)("group",t.obj.form),n.Db(5),n.tc("obj",t.obj.AmountTypes)("group",t.obj.form),n.Db(8),n.tc("obj",t.obj.Discount)("group",t.obj.form),n.Db(5),n.tc("obj",t.obj.DiscountTypes)("group",t.obj.form),n.Db(6),n.tc("obj",t.obj.AnnualRent)("group",t.obj.form),n.Db(5),n.tc("obj",t.obj.UnitRateDate)("group",t.obj.form),n.Db(10),n.Xc(n.nc(49,15,"Save")),n.Db(5),n.Xc(n.nc(54,17,"Cancel")))},encapsulation:2}),e})()}}]);