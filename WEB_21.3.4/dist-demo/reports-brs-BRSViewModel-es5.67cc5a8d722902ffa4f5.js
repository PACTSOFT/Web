function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var a,s=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[208,75,77,89,113,121,141,148,150,160,210,212],{EggS:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var s=a("Do2H"),i=a("Lp6j"),n=a("eQJW"),r=function(){function e(){_classCallCheck(this,e),this.CustomerID=0,this.CustomerTypeID=0,this.StatusID=0,this.AccountID=0,this.ParentID=0,this.SelectedNodeID=0,this.CodeNumber=0,this.IsGroup=!1,this.CreditDays=0,this.CreditLimit=0,this.DebitDays=0,this.Debitlimit=0,this.IsCode=!1,this.ActivityXml="",this.CCXML=""}return _createClass(e,[{key:"SaveCustomerQuick",value:function(){try{var e=[];return e.push(this.CustomerID),e.push(null!=this.CustomerCode?this.CustomerCode:""),e.push(null!=this.CustomerName?this.CustomerName:""),e.push(this.StatusID),e.push(this.CodePrefix),e.push(this.CodeNumber),e.push(this.StaticFieldsQuery),e.push(this.CustomFieldsQuery),e.push(this.CustomCostCenterFieldsQuery),e.push(s.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(""),e.push(s.a.SessionManager.UserName),e.push(s.a.SessionManager.RoleID),e.push(s.a.SessionManager.LanguageID),s.a.crmService.SetCustomerQuick(e)}catch(t){return Logger.ErrorLog("Account:: SaveAccountQuick"+t.stack),""}}},{key:"SaveCustomer",value:function(){Logger.InfoLog("Customer:: Inside SaveCustomer");try{0==this.CustomerID&&(this.GUID=i.e.NewGuid());var e=[];return e.push(this.CustomerID),e.push(null!=this.CustomerCode?this.CustomerCode:""),e.push(null!=this.CustomerName?this.CustomerName:""),e.push(null!=this.AliasName?this.AliasName:""),e.push(this.CustomerTypeID),e.push(this.StatusID),e.push(this.AccountID),e.push(this.SelectedNodeID),e.push(this.IsGroup),e.push(this.CreditDays),e.push(this.CreditLimit),e.push(null!=this.UserName?this.UserName:""),e.push(null!=this.Password?this.Password:""),e.push(null!=this.OnlineCustType?this.OnlineCustType:""),e.push(s.a.SessionManager.CompanyGUID),e.push(null!=this.GUID?this.GUID:"GUID"),e.push(""),e.push(s.a.SessionManager.UserName),e.push(this.CustomFieldsQuery),e.push(this.CustomCostCenterFieldsQuery),e.push(this.ContactsXML),e.push(this.AttachmetsXML),e.push(this.NotesXML),e.push(this.AddressXML),e.push(this.ActivityXml),e.push(this.CCXML),e.push(!1),e.push(null==this.PrimaryContactQuery?"":this.PrimaryContactQuery),e.push(s.a.SessionManager.RoleID),e.push(s.a.SessionManager.LanguageID),e.push(null!=this.CodePrefix?this.CodePrefix:""),e.push(this.CodeNumber),e.push(this.IsCode),s.a.crmService.SaveCustomer(e)}catch(t){return Logger.ErrorLog("Customer:: SaveCustomer"+t.stack),""}}},{key:"GetCustomerDetails",value:function(){var e=s.a.crmService.GetCustomerInfo("?UserID="+s.a.SessionManager.UserID+"&RoleID="+s.a.SessionManager.RoleID+"&LangID="+s.a.SessionManager.LangID+"&CustomerID="+this.CustomerID);return!e.Columns[0].Contains("ErrorMessage")&&e.Tables.length>0&&e.Tables[0].length>0&&(this.CustomerID=parseInt(e.Tables[0][0].CustomerID),this.CustomerCode=i.e.String(e.Tables[0][0].CustomerCode),this.CustomerName=i.e.String(e.Tables[0][0].CustomerName),this.AliasName=i.e.String(e.Tables[0][0].AliasName),i.e.IsEmpty(e.Tables[0][0].CustomerTypeID)||(this.CustomerTypeID=parseInt(e.Tables[0][0].CustomerTypeID)),this.StatusID=parseInt(e.Tables[0][0].StatusID),i.e.IsEmpty(e.Tables[0][0].AccountID)||(this.AccountID=parseInt(e.Tables[0][0].AccountID)),this.IsGroup=Object(n.j)(e.Tables[0][0].IsGroup),i.e.IsEmpty(e.Tables[0][0].CreditDays)||(this.CreditDays=parseInt(e.Tables[0][0].CreditDays)),i.e.IsEmpty(e.Tables[0][0].CreditLimit)||(this.CreditLimit=parseFloat(e.Tables[0][0].CreditLimit)),this.ParentID=parseInt(e.Tables[0][0].ParentID),this.GUID=i.e.String(e.Tables[0][0].GUID),this.Description=i.e.String(e.Tables[0][0].Description),this.CodePrefix=i.e.String(e.Tables[0][0].CodePrefix),this.UserName=i.e.String(e.Tables[0][0].UserName),this.OnlineCustType=i.e.String(e.Tables[0][0].OnlineCustType),this.Password=i.e.String(e.Tables[0][0].Password),i.e.IsEmpty(e.Tables[0][0].CodeNumber)||(this.CodeNumber=parseInt(e.Tables[0][0].CodeNumber))),e}},{key:"DeleteCustomer",value:function(e,t){try{var a=[];return a.push(e),a.push(t),a.push(s.a.SessionManager.RoleID),a.push(s.a.SessionManager.LanguageID),Logger.InfoLog("Customer:: Success: DBH.DeleteCustomer "+e.toString()),s.a.crmService.RemoveCustomer(a)}catch(i){return Logger.ErrorLog("LEAD::DeleteLead"+i.stack),""}}}]),e}()},NM0h:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var s=a("Do2H"),i=a("Lp6j"),n=function(){function e(){_classCallCheck(this,e),this.ChangeValueXML=null,this.DetailsXML=null,this.AMCode=null,this.AMName=null,this.AMPurchaseValue=null,this.HistoryXML=null,this.DocNo=null,this.XML=null,this.DocSave=null,this.CodePrefix=null,this.Sno=null,this.AssetClassID=0,this.DeprBookID=0,this.AcqnCostACCID=0,this.AccumDeprACCID=0,this.AcqnCostDispACCID=0,this.AccumDeprDispACCID=0,this.GainsDispACCID=0,this.LossDispACCID=0,this.MaintExpenseACCID=0,this.DeprExpenseACCID=0,this.PostingGroupID=0,this.AMStatusID=0,this.CodeNumber=0,this.AMAssetID=0,this.AMParentAssetID=0,this.IsGroup=!1,this.Post=!1,this.StatusID=0,this.DeprBookMethod=0,this.DeprBookMethodBasedOn=0,this.AveragingMethodID=0,this.DeprScheduleID=0,this.DeprTypeID=0,this.AssetClassCode=null,this.AssetClassName=null,this.GUID=null,this.DeprBookCode=null,this.DeprBookName=null,this.PostGroupCode=null,this.PostGroupName=null,this.AMGUID=null,this.RecordType=null,this.AMGroup=!1,this.IsIncreaseAssetValue=!1,this.EmpName=null,this.EmpCode=null,this.EmpID=0,this.SelectedNodeID=0,this.PostCCID=0,this.PostAssetID=0,this.ScheduleID=0,this.LocationID=0,this.AddressXML=null,this.NotesXML=null,this.ContactsXML=null,this.CustomCostCenterFieldsQuery=null,this.CustomFieldsQuery=null,this.PrimaryContactQuery=null,this.AttachmetsXML=null,this.DepreciationXML=null,this.JVXML=null,this.Description=null,this.DeprStartValue=0,this.ChangeVal=0,this.AssetNetValueChange=0,this.DeprBookMethodBasedOnValue=0,this.TotalYears=0}return _createClass(e,[{key:"SaveAssetClass",value:function(){0==this.AssetClassID&&(this.GUID=i.e.NewGuid());var e=[];return e.push(this.AssetClassID),e.push(null!=this.AssetClassCode?this.AssetClassCode:""),e.push(null!=this.AssetClassName?this.AssetClassName:""),e.push(this.PostingGroupID),e.push(this.DeprBookID),e.push(this.DeprTypeID),e.push(this.TotalYears),e.push(this.StatusID),e.push(s.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(""),e.push(s.a.SessionManager.UserName),e.push(s.a.SessionManager.UserID),e.push(s.a.SessionManager.LanguageID),s.a.accounting.SetAssetClass(e)}},{key:"PostJVvoucher",value:function(){this.GUID=i.e.NewGuid();var e=[];return e.push(this.PostAssetID),e.push(this.PostCCID),e.push(this.JVXML),e.push(this.Post),e.push(this.DeprTypeID),e.push(this.DocXML),e.push(this.DocSave),e.push(this.DepreciationXML),e.push(this.RecordType),e.push(s.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(s.a.SessionManager.UserName),e.push(s.a.SessionManager.UserID),e.push(s.a.SessionManager.LanguageID),s.a.accounting.GetPostJvVoucher(e)}},{key:"SetAssetDispose",value:function(e){this.GUID=i.e.NewGuid();var t=[];return t.push(this.PostAssetID),t.push(e.ToString("dd/MMM/yyyy")),t.push(this.PostCCID),t.push(this.JVXML),t.push(this.Post),t.push(this.DeprTypeID),t.push(this.DocXML),t.push(this.DocSave),t.push(this.DepreciationXML),t.push(this.RecordType),t.push(s.a.SessionManager.CompanyGUID),t.push(this.GUID),t.push(s.a.SessionManager.UserName),t.push(s.a.SessionManager.UserID),t.push(s.a.SessionManager.LanguageID),s.a.accounting.SetAssetDispose(t)}},{key:"SaveDeprBook",value:function(e,t,a){0==this.DeprBookID&&(this.GUID=i.e.NewGuid());var n=[];return n.push(this.DeprBookID),n.push(this.DeprBookCode),n.push(this.DeprBookName),n.push(this.DeprBookMethod),n.push(this.DeprBookMethodBasedOn),n.push(this.DeprBookMethodBasedOnValue),n.push(this.StatusID),n.push(this.AveragingMethodID),n.push(e),n.push(t),n.push(a),n.push(s.a.SessionManager.CompanyGUID),n.push(this.GUID),n.push(""),n.push(s.a.SessionManager.UserName),n.push(s.a.SessionManager.UserID),n.push(s.a.SessionManager.LanguageID),s.a.accounting.SetDeprBook(n)}},{key:"SaveFAPostingGroup",value:function(){0==this.PostingGroupID&&(this.GUID=i.e.NewGuid());var e=[];return e.push(this.PostingGroupID),e.push(this.PostGroupCode),e.push(this.PostGroupName),e.push(this.AcqnCostACCID),e.push(this.AccumDeprACCID),e.push(this.AcqnCostDispACCID),e.push(this.AccumDeprDispACCID),e.push(this.GainsDispACCID),e.push(this.LossDispACCID),e.push(this.MaintExpenseACCID),e.push(this.DeprExpenseACCID),e.push(this.StatusID),e.push(0),e.push(this.IsGroup),e.push(s.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(s.a.SessionManager.UserName),e.push(s.a.SessionManager.UserID),e.push(s.a.SessionManager.LanguageID),s.a.accounting.SetPostingGroup(e)}},{key:"SetAssetManagementDetails",value:function(){var e=[];return e.push(this.AMAssetID),e.push(this.AMCode),e.push(this.AMName),e.push(this.AMStatusID),e.push(this.AMPurchaseValue),e.push(this.AMParentAssetID),e.push(this.AMGroup),e.push(this.CodePrefix),e.push(this.CodeNumber),e.push(this.Sno),e.push(this.DetailsXML),e.push(this.ChangeValueXML),e.push(this.CustomFieldsQuery),e.push(this.CustomCostCenterFieldsQuery),e.push(this.DepreciationXML),e.push(this.HistoryXML),e.push(this.NotesXML),e.push(this.AttachmetsXML),e.push(s.a.SessionManager.CompanyGUID),e.push(this.AMGUID),e.push(s.a.SessionManager.UserName),e.push(s.a.SessionManager.UserID),e.push(s.a.SessionManager.LanguageID),s.a.accounting.SetAssetManagementDetails(e).toPromise()}},{key:"PostDeprJV",value:function(){this.GUID=i.e.NewGuid();var e=[];return e.push(this.PostCCID),e.push(this.JVXML),e.push(this.Post),e.push(s.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(s.a.SessionManager.UserName),e.push(s.a.SessionManager.UserID),e.push(s.a.SessionManager.LanguageID),e.push(s.a.SessionManager.RoleID),s.a.accounting.PostDeprJV(e)}},{key:"PostDeprJVSummary",value:function(e,t,a,n,r){this.GUID=i.e.NewGuid();var o=[];return o.push(e),o.push(t),o.push(a),o.push(n),o.push(r),o.push(s.a.SessionManager.CompanyGUID),o.push(s.a.SessionManager.UserName),o.push(s.a.SessionManager.UserID),o.push(s.a.SessionManager.LanguageID),s.a.accounting.SetDeprPostingJVSummary(o).toPromise()}},{key:"ChangeValue",value:function(e,t){this.GUID=i.e.NewGuid();var a=[];return a.push(this.PostAssetID),a.push(e),a.push(this.ChangeVal),a.push(this.AssetNetValueChange),a.push(t.ToString("dd/MMM/yyyy")),a.push(this.Description),a.push(this.DepreciationXML),a.push(this.ChangeValueXML),a.push(this.HistoryXML),a.push(this.LocationID),a.push(this.IsIncreaseAssetValue),a.push(this.JVXML),a.push(this.ChangeValueTypeID),a.push(s.a.SessionManager.CompanyGUID),a.push(this.GUID),a.push(s.a.SessionManager.UserName),a.push(s.a.SessionManager.UserID),a.push(s.a.SessionManager.LanguageID),s.a.accounting.SetAssetChangeValue(a)}},{key:"DisposeReverse",value:function(e){var t=[];return t.push(e),t.push(s.a.SessionManager.UserName),t.push(s.a.SessionManager.UserID),t.push(s.a.SessionManager.LanguageID),s.a.accounting.DisposeReverse(t)}}],[{key:"GetAssetClassDetails",value:function(e){var t=[];return t.push(e),t.push(s.a.SessionManager.UserID),t.push(s.a.SessionManager.LanguageID),s.a.accounting.GetAssetClassDetails(t)}},{key:"GetPostingGroupDetails",value:function(e){var t=[];return t.push(e),t.push(s.a.SessionManager.UserID),t.push(s.a.SessionManager.LanguageID),s.a.accounting.GetPostingGroupDetails(t)}},{key:"GetDeprBookDetails",value:function(e){var t=[];return t.push(e),t.push(s.a.SessionManager.UserID),t.push(s.a.SessionManager.LanguageID),s.a.accounting.GetDeprBookDetails(t)}},{key:"GetAssetManagementDetails",value:function(e){var t=[];return t.push(e),t.push(s.a.SessionManager.UserID),t.push(s.a.SessionManager.LanguageID),s.a.accounting.GetAssetManagementDetails(t)}},{key:"GetAssetDeprSchDetails",value:function(e){var t=[];return t.push(e),t.push(s.a.SessionManager.UserID),t.push(s.a.SessionManager.LanguageID),s.a.accounting.GetAssetDeprSchDetails(t)}},{key:"DeleteAsset",value:function(e){var t=[];return t.push(e),t.push(s.a.SessionManager.UserID),t.push(s.a.SessionManager.RoleID),s.a.accounting.DeleteAsset(t)}},{key:"DeleteAssetDeprSchedule",value:function(e){var t=[];return t.push(e),t.push(s.a.SessionManager.RoleID),t.push(s.a.SessionManager.LanguageID),s.a.accounting.DeleteAssetDeprSchedule(t)}},{key:"DeleteAssetRefDoc",value:function(e,t){var a=[];return a.push(e),a.push(t),a.push(s.a.SessionManager.UserID),s.a.accounting.DeleteAssetRefDoc(a)}},{key:"SetsPostDeprReverseJV",value:function(e,t,a){var i=[];return i.push(e),i.push(t),i.push(a),i.push(s.a.SessionManager.CompanyGUID),i.push(s.a.SessionManager.UserName),i.push(s.a.SessionManager.UserID),i.push(s.a.SessionManager.LanguageID),s.a.accounting.SetsPostDeprReverseJV(i)}}]),e}()},arqc:function(e,t,a){"use strict";a.r(t),a.d(t,"BRSViewModel",(function(){return T})),a.d(t,"BRSMatchViewModel",(function(){return v}));var s=a("Do2H"),i=a("Lp6j"),n=a("ScVY"),r=a("JIg3"),o=a("0/4Q"),l=a("8B8H"),u=a("ThYU"),h=a("Agar"),c=a("4HhE"),D=a("ockk"),d=a("eQJW"),p=a("n56n"),C=a("PDNK"),m=a("AGpa"),g=a("EQd/"),S=a("w8Sz"),y=function(e){_inherits(a,e);var t=_createSuper(a);function a(){var e;return _classCallCheck(this,a),(e=t.call(this))._PstBalances=new l.a,e.ButtonClick=new c.b,e.LocationCheckedChanged=new c.b,e.IsQuit=!0,e.IsOK=!1,e.LockCheckedChanged=!1,e._BankAccounts=new p.b(0),e._FromDate=new r.a(0),e._ToDate=new r.a(0),e._rdoNone=!0,e._rdoChequeNo=!1,e._rdoVoucherNo=!1,e._BankBalance=new g.d,e.ClassName="BRSDialogViewModel",e}return _createClass(a,[{key:"BRSDialogViewModel",value:function(){var e,t=this;if(Logger.InfoLog("BRSDialogViewModel:: Entering BRSDialogViewModel"),this.BankBalance.Label=s.a.GetResource("BRSBankBalance"),this.BankAccounts.Label=s.a.GetResource("Reports_BankName"),this.BankAccounts.OnPactListBoxValueChanged.Subscribe(this,"onListBoxValueChanged"),this.BankAccounts.CustomWhere="a.AccountTypeID in (2,3)",this.BankAccounts.CCID=2,this.BankAccounts.TypeID=2,this.BankAccounts.Refresh(),this.BankAccounts.SetTimeToZero(500),this.ToDate.SelectedDateChanged.Subscribe(this,"OnDateChanged"),this.FromDate.Label=s.a.GetResource("Reports_LblFromDate"),this.ToDate.Label=s.a.GetResource("Reports_LblToDate"),this.FromDate.Date=s.a.SessionManager.ReportsFromDate,this.DateRanges=S.a.getDateRanges(),this.DateRanges.SelectionChangedCommand.Subscribe(this,"OnDateRangesSelectionChanged"),this.InitGrid(),this.ForeignCurrency=new m.a,s.a.common.GetDataSet("PDDVM01","").Tables[0].forEach((function(e){t.ForeignCurrency.ComboBox.Items.push(o.d.ComboBoxItems_2(e.Name.toString(),e.CurrencyID.toString())),t.ForeignCurrency.ComboBox.Items.length>0&&(t.ForeignCurrency.ComboBox.SelectedValue=t.ForeignCurrency.ComboBox.Items[0].Value)})),this.ForeignCurrency.ComboBox.Enable=!1,this.ForeignCurrency.CheckBox.CheckedChangedCommand.Subscribe(this,"OnForeignCurrencySelectionChanged"),this.ForeignCurrency.CheckBox.Label="Foreign Currency",this.LocationCheckedChanged.Subscribe(this,"OnLocationCheckedChanged"),this.Location=new o.b(0),this.Location.Items.push(o.c.CheckedListBoxItem_6("All","All",!1,50002)),this.Location.Visible="True"==s.a.SessionManager.Preferences.EnableLocationWise.toString(),this.Location.Visible){var a=s.a.admin.getLocationRoles(["50002",s.a.SessionManager.LangID]),n=s.a.SessionManager.LocationWhere.split(",");if(null!=a&&a.Tables.length>0&&a.Tables[0].length>0)for(var r=0;r<a.Tables[0].length;r++)Object(d.j)(a.Tables[0][r].IsGroup.toString())||n.length>0&&n.Contains(a.Tables[0][r][a.Columns[0][0]].toString())&&(this.Location.Items.push(o.c.CheckedListBoxItem_6(a.Tables[0][r][a.Columns[0][2]].toString(),a.Tables[0][r][a.Columns[0][0]].toString(),!0,50002)),parseInt(this.Location.Items[this.Location.Items.length-1].Value)==s.a.SessionManager.LocationID&&(this.Location.Items[this.Location.Items.length-1].IsChecked=!0))}this.Filter=new C.b("Filter"),(e=new C.a("All",-1,"Filter")).Group=this.Filter,e.Label=s.a.GetResource("ComLanguageAll"),this.Filter.Items.push(e),(e=new C.a("Cleared",1,"Filter")).Group=this.Filter,e.Label=s.a.GetResource("Reports_Cleared"),this.Filter.Items.push(e),(e=new C.a("Outstanding",0,"Filter")).Group=this.Filter,e.IsChecked=!0,e.Label=s.a.GetResource("Reports_Outstanding"),this.Filter.Items.push(e),this.Filter.IsHorizontalOrientation=!0,this.SortOn=new o.e,this.SortOn.Label=s.a.GetResource("Reports_LblSortOn"),this.SortOn.Items.push(o.d.ComboBoxItems_2("Date","Date")),this.SortOn.Items.push(o.d.ComboBoxItems_2("Account","Account")),this.SortOn.Items.push(o.d.ComboBoxItems_2("ChequeNo","ChequeNo")),this.SortOn.Items.push(o.d.ComboBoxItems_2("ChequeDate","ChequeDate")),this.SortOn.SelectedValue="Date",this.ButtonClick.Subscribe(this,"OnButtonClick");var l=s.a.admin.GetDefaultPDC(3),u=[];if(l.Tables.length>0&&(u=l.Tables[0]),null!=u&&u.length>0&&!i.e.IsEmpty(u[0].LastValueVouchers)){var h=new i.f;h.LoadXml(u[0].LastValueVouchers.toString()),h.SelectNodes("XML/Row").forEach((function(e){if(t.BankAccounts.SelectedValue=parseInt(e.attributes.Bank.value),null!=e.attributes.FromDate&&(t.FromDate.Date=new Date(e.attributes.FromDate.value)),null!=e.attributes.ToDate&&(t.ToDate.Date=new Date(e.attributes.ToDate.value)),t.BankAccounts.SelectedValue>0&&t.onListBoxValueChanged(null),null!=e.attributes.FCChecked&&(t.ForeignCurrency.CheckBox.IsChecked=Object(d.j)(e.attributes.FCChecked.value),t.ForeignCurrency.ComboBox.SelectedValue=e.attributes.FCID.value),"-1"==e.attributes.Filter.value?t.Filter.Items[parseInt(e.attributes.Filter.value)+1].IsChecked=!0:"0"==e.attributes.Filter.value?t.Filter.Items[parseInt(e.attributes.Filter.value)+2].IsChecked=!0:t.Filter.Items[parseInt(e.attributes.Filter.value)].IsChecked=!0,"CHK"==e.attributes.Group.value?(t.rdoNone=!1,t.rdoChequeNo=!0,t.rdoVoucherNo=!1):"VNO"==e.attributes.Group.value?(t.rdoNone=!1,t.rdoChequeNo=!1,t.rdoVoucherNo=!0):(t.rdoNone=!0,t.rdoChequeNo=!1,t.rdoVoucherNo=!1),t.SortOn.SelectedValue=e.attributes.SortOn.value,t.Location.Visible)for(var a=e.attributes.Locations.value.toString().split(","),s=0;s<t.Location.Items.length;s++)for(var i=0;i<a.length;i++)t.Location.Items[s].Value.toString()==a[i].toString()&&(t.Location.Items[s].IsChecked=!0)}))}Logger.InfoLog("BRSDialogViewModel:: Entering BRSDialogViewModel")}},{key:"InitGrid",value:function(){this.PstBalances.CanUserAddRows=!0,this.PstBalances.CanUserDeleteRows=!0,this.PstBalances.Width="",this.PstBalances.Table=[],this.PstBalances.TableColumns.push("Month"),this.PstBalances.TableColumns.push("Year"),this.PstBalances.TableColumns.push("ID"),this.PstBalances.DataTypes.Int.push("ID"),this.PstBalances.TableColumns.push("Balance"),this.PstBalances.DataTypes.Double.push("Balance"),this.PstBalances.TableColumns.push("Status"),this.PstBalances.Columns=[];var e=new D.a;e.Header=s.a.GetResource("BRSMonth"),e.ValueBinding="Month",e.Width=70,e.DataType="ComboBox",e.DisplayMember="Name",e.ValueMember="Value";var t=[];t.push(o.d.ComboBoxItems_2("JAN","1")),t.push(o.d.ComboBoxItems_2("FEB","2")),t.push(o.d.ComboBoxItems_2("MAR","3")),t.push(o.d.ComboBoxItems_2("APR","4")),t.push(o.d.ComboBoxItems_2("MAY","5")),t.push(o.d.ComboBoxItems_2("JUN","6")),t.push(o.d.ComboBoxItems_2("JUL","7")),t.push(o.d.ComboBoxItems_2("AUG","8")),t.push(o.d.ComboBoxItems_2("SEP","9")),t.push(o.d.ComboBoxItems_2("OCT","10")),t.push(o.d.ComboBoxItems_2("NOV","11")),t.push(o.d.ComboBoxItems_2("DEC","12")),e.ComboData=t,this.PstBalances.Columns.push(e),(e=new D.a).Header=s.a.GetResource("BRSYear"),e.ValueBinding="Year",e.Width=70,e.DataType="ComboBox",e.DisplayMember="Name",e.ValueMember="Value",t=[];for(var a=s.a.SessionManager.AccountingDate.getFullYear();a<s.a.SessionManager.AccountingDate.getFullYear()+40;a++)t.push(o.d.ComboBoxItems_2(a.toString(),a.toString()));e.ComboData=t,this.PstBalances.Columns.push(e),(e=new D.a).Header=s.a.GetResource("BRSBalance"),e.DisplayMember="Balance",e.Width=150,e.DataType="FLOAT",e.DecimalPoints=s.a.SessionManager.Preferences.DecimalsinAmount,this.PstBalances.Columns.push(e),(e=new D.a).Header=s.a.GetResource("BRSStatus"),e.ValueBinding="Status",e.Width=70,e.DataType="ComboBox",e.DisplayMember="Name",e.ValueMember="Value",(t=[]).push(o.d.ComboBoxItems_2("Open","0")),t.push(o.d.ComboBoxItems_2("Close","1")),e.ComboData=t,this.PstBalances.Columns.push(e);var i=this.PstBalances.NewRow();this.PstBalances.addRow(i)}},{key:"OnDateChanged",value:function(e){var t=this,a=this.PstBalances.Table.filter((function(e){return e.Year==t.ToDate.Date.getFullYear()&&e.Month==t.ToDate.Date.getMonth()}));a.length>0?this.BankBalance.Text=a[0].Balance.toString():this.PstBalances.Table.length>0&&this.PstBalances.Table.find((function(e){return e.ID>0}))&&(this.BankBalance.Text="0")}},{key:"onListBoxValueChanged",value:function(e){this.PstBalances.Table.Clear();var t=s.a.admin.BankStmtBalance(this.BankAccounts.SelectedValue,"",2,void 0);if(null!=t&&t.Tables.length>0)for(var a=0;a<t.Tables[0].length;a++){var i=this.PstBalances.NewRow();i.ID=t.Tables[0][a].ID.toString(),i.Month=t.Tables[0][a].Month.toString(),i.Year=t.Tables[0][a].Year.toString(),i.Balance=t.Tables[0][a].Balance.toString(),i.Status=t.Tables[0][a].Status.toString(),this.PstBalances.addRow(i)}this.OnDateChanged(null);for(var n=this.PstBalances.Table.length;n<25;n++){var r=this.PstBalances.NewRow();this.PstBalances.addRow(r)}}},{key:"OnLocationCheckedChanged",value:function(e){if(!this.LockCheckedChanged&&e.item instanceof o.c){var t,a=e.item;if(t=this.Location,"All"==a.Value){this.LockCheckedChanged=!0;for(var s=1;s<t.Items.length;s++)t.Items[s].IsChecked=a.IsChecked;this.LockCheckedChanged=!1}else{if(this.LockCheckedChanged=!0,a.IsChecked){t.Items[0].IsChecked=!0;for(var i=1;i<t.Items.length;i++)if(!t.Items[i].IsChecked){t.Items[0].IsChecked=!1;break}}else t.Items[0].IsChecked=!1;this.LockCheckedChanged=!1}this.LockCheckedChanged=!1}}},{key:"GetLocation",value:function(e,t){var a="";if(e.Visible){for(var i=1;i<e.Items.length;i++)e.Items[i].IsChecked&&(a.length>0&&(a+=","),a+=e.Items[i].Value);t&&(a.length>0?e.Items[0].IsChecked&&"1"==s.a.SessionManager.RoleID&&(a=""):a="-100")}return a}},{key:"OnButtonClick",value:function(e){if("Cancel"==e.toString())s.a.page.HideDialog();else if("CancelSave"==e.toString())this.BalancesVisiblity=!1;else if("ShowBalances"==e.toString())this.BalancesVisiblity=!0;else if("Save"==e.toString()){if(0==this.BankAccounts.SelectedValue)return this.DisplayMessage=s.a.GetResource("SelectBankAccount"),void(this.MessageVisibility=!0);for(var t="",a=0;a<this.PstBalances.Table.length;a++)i.e.IsEmpty(this.PstBalances.Table[a].Month)||i.e.IsEmpty(this.PstBalances.Table[a].Year)||i.e.IsEmpty(this.PstBalances.Table[a].Balance)||(t+='<ROW ID="',i.e.IsEmpty(this.PstBalances.Table[a].ID)?t+='0" ':t+=this.PstBalances.Table[a].ID.toString()+'" ',t+='Month="'+this.PstBalances.Table[a].Month.toString()+'" ',t+='Year="'+this.PstBalances.Table[a].Year.toString()+'" ',t+='Status="'+this.PstBalances.Table[a].Status.toString()+'" ',t+='Balance="'+this.PstBalances.Table[a].Balance.toString()+'" />');if(t.length>0){t="<XML>"+t,t+="</XML>";var n=s.a.admin.BankStmtBalance(this.BankAccounts.SelectedValue,t.toString(),1,void 0);n.Tables.length>0&&n.Columns[0].Contains("ErrorMessage")&&n.Tables[0].length>0&&(this.DisplayMessage=n.Tables[0][0].ErrorMessage.toString()),this.MessageVisibility=!0}}else if("SetAsDefault"==e.toString()){var r="";r+="<XML>",r+="<Row ",r+='Bank="'+this.BankAccounts.SelectedValue+'" ',r+='FromDate="'+this.FromDate.Date.ToString("dd/MMM/yyyy")+'" ',r+='ToDate="'+this.ToDate.Date.ToString("dd/MMM/yyyy")+'" ',null!=this.ForeignCurrency&&(r+='FCChecked="'+this.ForeignCurrency.CheckBox.IsChecked+'" ',r+='FCID="'+(i.e.IsEmpty(this.ForeignCurrency.ComboBox.SelectedValue)?"0":this.ForeignCurrency.ComboBox.SelectedValue)+'" '),r+='Filter="'+this.Filter.CheckedItem.FeatureID+'" ',r+=this.rdoNone?'Group="" ':this.rdoChequeNo?'Group="CHK" ':'Group="VNO" ',r+='Locations="'+this.GetLocation(Location,!1)+'" ',r+='SortOn="'+this.SortOn.SelectedValue+'" ',r+="/>",r+="</XML>";s.a.admin.SetDefaultPDC(r.toString(),!0,3,0)}else if("Reset"==e.toString())s.a.admin.SetDefaultPDC("",!0,3,0),this.BankAccounts.SelectedValue=0,this.Location.Items.length>0&&this.Location.Items.forEach((function(e){e.IsChecked=!1}));else if("OK"==e.toString())try{if(0==this.BankAccounts.SelectedValue)return this.DisplayMessage=s.a.GetResource("SelectBankAccount"),void(this.MessageVisibility=!0);if(this.DisplayMessage=this.BankBalance.ValidateData(),""!=this.DisplayMessage)return void(this.MessageVisibility=!0);this.DisplayMessage="",this.MessageVisibility=!1,this.IsQuit=!1,this.IsOK=!0,this.GroupByColumn=this.rdoNone?"":this.rdoChequeNo?"CHK":"VNO",s.a.page.HideDialog()}catch(o){}}},{key:"OnDateRangesSelectionChanged",value:function(e){null!=this.DateRanges.SelectedValue&&S.a.SetDateRanges(this.DateRanges.SelectedValue,this.FromDate,this.ToDate)}},{key:"OnForeignCurrencySelectionChanged",value:function(e){this.ForeignCurrency.ComboBox.Enable=!this.ForeignCurrency.ComboBox.Enable}},{key:"PstBalances",get:function(){return this._PstBalances}},{key:"Location",get:function(){return this._Location},set:function(e){this._Location!=e&&(this._Location=e)}},{key:"BankAccounts",get:function(){return this._BankAccounts},set:function(e){e!=this._BankAccounts&&(this._BankAccounts=e)}},{key:"FromDate",get:function(){return this._FromDate},set:function(e){e!=this._FromDate&&(this._FromDate=e)}},{key:"ToDate",get:function(){return this._ToDate},set:function(e){e!=this._ToDate&&(this._ToDate=e)}},{key:"Filter",get:function(){return this._Filter},set:function(e){e!=this._Filter&&(this._Filter=e)}},{key:"rdoNone",get:function(){return this._rdoNone},set:function(e){e!=this._rdoNone&&(e&&(this.rdoChequeNo=!1,this.rdoVoucherNo=!1),this._rdoNone=e)}},{key:"rdoChequeNo",get:function(){return this._rdoChequeNo},set:function(e){e!=this._rdoChequeNo&&(e&&(this.rdoNone=!1,this.rdoVoucherNo=!1),this._rdoChequeNo=e)}},{key:"rdoVoucherNo",get:function(){return this._rdoVoucherNo},set:function(e){e!=this._rdoVoucherNo&&(e&&(this.rdoNone=!1,this.rdoChequeNo=!1),this._rdoVoucherNo=e)}},{key:"BankBalance",get:function(){return this._BankBalance},set:function(e){e!=this._BankBalance&&(this._BankBalance=e)}},{key:"SortOn",get:function(){return this._SortOn},set:function(e){e!=this._SortOn&&(this._SortOn=e)}},{key:"BalancesVisiblity",get:function(){return this._BalancesVisiblity},set:function(e){e!=this._BalancesVisiblity&&(this._BalancesVisiblity=e)}}]),a}(n.b),I=a("QXvR"),f=a("CUWK"),b=a("YU11"),M=a("ZDA+"),B=a("8mzQ"),R=a("Iab2"),T=function(e){_inherits(a,e);var t=_createSuper(a);function a(e){var s;return _classCallCheck(this,a),(s=t.call(this)).ButtonClick=new c.b,s.ClearanceInfo=new c.b,s._DetailsVisibility=!0,s._CanClick=!0,s._ClearanceVisibility=!1,s._ClearanceDate=new r.a(0),s._Status=new o.e,s.oReportViewModel=null,s.GroupChequeNos=!1,s.dvStatus=null,s.Locations="",s.tempcol=[],s.workerloadData=new c.a,s.DontPopulateClearanceDate=!1,s.NetClearedBalance=0,s.outdr=0,s.outcr=0,s.Netcr=0,s.Netdr=0,s.LockWhere="",s.ClassName="BRSViewModel",s.Title=s.ScreenName=e,s.Title=s.ScreenName,s.BRSViewModel(e),s}return _createClass(a,[{key:"BRSViewModel",value:function(e){var t=this;Logger.InfoLog("BRSViewModel::Entering BRSViewModel"),s.a.SessionManager.IsWebApplication&&(this.BRDDialog=new y,this.BRDDialog.BRSDialogViewModel(),s.a.page.ShowDialog(this.BRDDialog,I.a,{ShowCenter:!s.a.IsMobile,NoWidth:!0,Title:s.a.GetResource("Reports_BankReconciliation")}).subscribe((function(){t.BRDDialog.IsOK&&(t.DetailsVisibility=!0,t.Title=t.ScreenName=e,t.MessageVisibility=!1,t.DisplayMessage="",t.ButtonClick.Subscribe(t,"OnButtonClick"),t.ClearanceInfo.Subscribe(t,"onClearanceInfo"),t.Title=t.ScreenName,t.DisplayName=t.ScreenName,t.ClearanceDate.Label="Clearance Date",t.InitControls())}))),Logger.InfoLog("BRSViewModel::Exiting BRSViewModel")}},{key:"onClick",value:function(){null==this.BRSGrid.SelectedItem||i.e.IsEmpty(this.BRSGrid.SelectedItem.CostCenterID)||f.RibbonExtViewModel.LoadDocument(this.BRSGrid.SelectedItem)}},{key:"InitControls",value:function(){var e;this.NetBalance=new h.a,this.OutStandingDr=new h.a,this.OutStandingCr=new h.a,this.NetClearBalance=new h.a,this.Difference=new h.a,this.BankBalance=new h.a,this.NetBalance.Label="Ledger Balance",this.OutStandingDr.Label=s.a.GetResource("Reports_OutStandingDr"),this.OutStandingCr.Label=s.a.GetResource("Reports_OutStandingCr"),this.NetClearBalance.Label="Reconciled Bank Balance",this.Difference.Label="Variance",this.BankBalance.Label="Entered Statement Balance",this.BRSGrid=new l.a,this.BRSGrid.Columns=[],this.BRSGrid.BeginEdit.Subscribe(this,"OnBeginEdit"),this.BRSGrid.CanUserSortColumns=!1,this.BRSGrid.CellEditEnding.Subscribe(this,"OnCellEditEnding"),this.BRSGrid.Width="810",this.BRSGrid.CalcTotalsOnDataView=!0,this.BRSGrid.Height=void 0,this.tempcol=[];if(s.a.SessionManager.Preferences.ContainsKey("BRS Screen Widths")&&""!=s.a.SessionManager.Preferences["BRS Screen Widths"]){var t=new i.f;t.LoadXml(s.a.SessionManager.Preferences["BRS Screen Widths"]);for(var a=0;a<t.DocumentElement.childNodes.length;a++){var n=t.DocumentElement.children[a];"CHECKBOX"==n.attributes.Header.value?"DontPopulateClearanceDate"==n.attributes.Name.value&&(this.DontPopulateClearanceDate=1==parseInt(n.attributes.WIDTH.value)):((e=new D.a).Header=n.attributes.Header.value,e.DisplayMember=n.attributes.Name.value,e.DisplayIndex=parseInt(n.attributes.index.value),e.Width=parseInt(n.attributes.WIDTH.value),this.tempcol.push(e))}}(e=new D.a).Header=s.a.GetResource("Service_Sno"),e.DisplayMember="sno",e.ReadOnly=!0,e.Width=45;var r=this.tempcol.find((function(t){return t.DisplayMember==e.DisplayMember}));null!=r?(e.DisplayIndex=r.DisplayIndex,e.Width=r.Width):this.tempcol.length>0&&(e.IsVisible=!1),this.BRSGrid.Columns.push(e),(e=new D.a).Header=s.a.GetResource("Service_Date"),e.DisplayMember="CDate",e.DataType="DATE",e.ReadOnly=!0,e.Width=85,null!=(r=this.tempcol.find((function(t){return t.DisplayMember==e.DisplayMember})))?(e.DisplayIndex=r.DisplayIndex,e.Width=r.Width):this.tempcol.length>0&&(e.IsVisible=!1),this.BRSGrid.Columns.push(e),(e=new D.a).DisplayMember="VoucherNo",e.Header=s.a.GetResource("VPDesigner_VNo"),e.DataType="LINK",e.Click.Subscribe(this,"onClick"),e.Width=160,e.ReadOnly=!0,e.IsVisible=!0,null!=(r=this.tempcol.find((function(t){return t.DisplayMember==e.DisplayMember})))?(e.DisplayIndex=r.DisplayIndex,e.Width=r.Width):this.tempcol.length>0&&(e.IsVisible=!1),this.BRSGrid.Columns.push(e),(e=new D.a).Header=s.a.GetResource("Ticket_Account"),e.DisplayMember="Account",e.ReadOnly=!0,e.Width=160,null!=(r=this.tempcol.find((function(t){return t.DisplayMember==e.DisplayMember})))?(e.DisplayIndex=r.DisplayIndex,e.Width=r.Width):this.tempcol.length>0&&(e.IsVisible=!1),this.BRSGrid.Columns.push(e),(e=new D.a).Header="Narration",e.DisplayMember="CommonNarration",e.ReadOnly=!0,e.Width=160,null!=(r=this.tempcol.find((function(t){return t.DisplayMember==e.DisplayMember})))?(e.DisplayIndex=r.DisplayIndex,e.Width=r.Width):this.tempcol.length>0&&(e.IsVisible=!1),this.BRSGrid.Columns.push(e),(e=new D.a).Header=s.a.GetResource("Service_ChequeNo"),e.DisplayMember="ChequeNo",e.ReadOnly=!0,e.Width=90,null!=(r=this.tempcol.find((function(t){return t.DisplayMember==e.DisplayMember})))?(e.DisplayIndex=r.DisplayIndex,e.Width=r.Width):this.tempcol.length>0&&(e.IsVisible=!1),this.BRSGrid.Columns.push(e),(e=new D.a).Header=s.a.GetResource("Service_ChequeDate"),e.DisplayMember="ChqDate",e.DataType="DATE",e.ReadOnly=!0,e.Width=90,null!=(r=this.tempcol.find((function(t){return t.DisplayMember==e.DisplayMember})))?(e.DisplayIndex=r.DisplayIndex,e.Width=r.Width):this.tempcol.length>0&&(e.IsVisible=!1),this.BRSGrid.Columns.push(e),(e=new D.a).Header=s.a.GetResource("Amount_Dr"),e.DisplayMember="Dr",e.ReadOnly=!0,e.DataType="FLOAT",e.IsCalculated=1,e.ShowTotal=!0,e.Width=100,e.DecimalPoints=s.a.SessionManager.Preferences.DecimalsinAmount,null!=(r=this.tempcol.find((function(t){return t.DisplayMember==e.DisplayMember})))?(e.DisplayIndex=r.DisplayIndex,e.Width=r.Width):this.tempcol.length>0&&(e.IsVisible=!1),this.BRSGrid.Columns.push(e),(e=new D.a).Header=s.a.GetResource("Amount_Cr"),e.DisplayMember="Cr",e.ReadOnly=!0,e.DataType="FLOAT",e.IsCalculated=1,e.ShowTotal=!0,e.DecimalPoints=s.a.SessionManager.Preferences.DecimalsinAmount,e.Width=100,null!=(r=this.tempcol.find((function(t){return t.DisplayMember==e.DisplayMember})))?(e.DisplayIndex=r.DisplayIndex,e.Width=r.Width):this.tempcol.length>0&&(e.IsVisible=!1),this.BRSGrid.Columns.push(e);var o=[];o.Columns=[],o.Columns.push("Name"),o.Columns.push("Value"),o.Columns.push("Status");var u=[];u.Name=s.a.GetResource("Reports_Outstanding"),u.Value=0,o.push(u),(u=[]).Name=s.a.GetResource("Reports_Cleared"),u.Value=1,o.push(u),(u=[]).Name=s.a.GetResource("Reports_AlreadyCleared"),u.Value=2,o.push(u),this.dvStatus=o,(e=new D.a).Header=s.a.GetResource("Document_Status"),e.ValueBinding="Status",e.DataType="PactComboBox",e.DisplayMember="Name",e.ValueMember="Value",e.Width=90,e.ComboData=o,null!=(r=this.tempcol.find((function(t){return t.DisplayMember==e.ValueBinding})))?(e.DisplayIndex=r.DisplayIndex,e.Width=r.Width):this.tempcol.length>0&&(e.IsVisible=!1),this.BRSGrid.Columns.push(e),(e=new D.a).Header=s.a.GetResource("Reports_ClearanceDate"),e.DisplayMember="clrDate",e.ValueMember="clrDate_Key",e.DataType="DATE",e.ReadOnly=!1,e.Width=105,null!=(r=this.tempcol.find((function(t){return t.DisplayMember==e.DisplayMember})))?(e.DisplayIndex=r.DisplayIndex,e.Width=r.Width):this.tempcol.length>0&&(e.IsVisible=!1),this.BRSGrid.Columns.push(e),this.LoadData(!0),this.BRSGrid.Columns.sort((function(e,t){return e.DisplayIndex-t.DisplayIndex})),this.BRSGrid.SearchVisible=!0,this.BRSGrid.FilterVisible=!0,this.BRSGrid.AddSearchCols()}},{key:"OnBeginEdit",value:function(e){var t=e.args.item;if(s.a.SessionManager.Preferences.ContainsKey("BRSFromDate")&&""!=s.a.SessionManager.Preferences.BRSFromDate&&s.a.SessionManager.Preferences.ContainsKey("BRSToDate")&&""!=s.a.SessionManager.Preferences.BRSToDate&&""!=t.CDate_Key.toString()&&new Date(t.CDate_Key)>=new Date(s.a.SessionManager.Preferences.BRSFromDate)&&new Date(t.CDate_Key)<=new Date(s.a.SessionManager.Preferences.BRSToDate))e.args.Cancel=!0;else{if(""!=t.ClearanceDate.toString()&&this.BRDDialog.PstBalances.Table.filter((function(e){return 1==e.Status&&e.Month==new Date(t.ClearanceDate).iMonth()&&e.Year==new Date(t.ClearanceDate).getFullYear()})).length>0)return void(e.args.Cancel=!0);if("DataGridPactComboBoxColumn"==e.args.column.className){if("Status"==e.args.column.field){if("3"==t.BRS_Status.toString()||"1"==t.IsLock.toString())return void(e.args.Cancel=!0);e.Column.ItemsSource.RowFilter=!i.e.IsEmpty(t.ClearanceDate)&&new Date(t.ClearanceDate)>this.BRDDialog.ToDate.Date&&"1"==t.BRS_Status.toString()?"Value=2":"Value=1 or Value=0"}}else if(!("DataGridDateColumn"!=e.args.column.className&&"DataGridDateTimeColumn"!=e.args.column.className||"3"!=t.BRS_Status.toString()&&"1"!=t.IsLock.toString()))return void(e.args.Cancel=!0)}}},{key:"Setselectedrow",value:function(e){this.BRSGrid.SelectedItem=this.BRSGrid.Table[e]}},{key:"OnButtonClick",value:function(e){var t=this;if(this.DisplayMessage="",e instanceof KeyboardEvent){if(e.keyCode==d.g.SPACE&&"PACT.VIEW.PactGridView"==e.toString()&&null!=this.BRSGrid.SelectedItem&&"2"!=this.BRSGrid.SelectedItem.Status_Key.toString()&&"1"!=this.BRSGrid.SelectedItem.IsLock.toString()){if(s.a.SessionManager.Preferences.ContainsKey("BRSFromDate")&&""!=s.a.SessionManager.Preferences.BRSFromDate&&s.a.SessionManager.Preferences.ContainsKey("BRSToDate")&&""!=s.a.SessionManager.Preferences.BRSToDate&&""!=this.BRSGrid.SelectedItem.CDate_Key.toString()&&new Date(this.BRSGrid.SelectedItem.CDate_Key)>=new Date(s.a.SessionManager.Preferences.BRSFromDate)&&new Date(this.BRSGrid.SelectedItem.CDate_Key)<=new Date(s.a.SessionManager.Preferences.BRSToDate))return;if(""!=this.BRSGrid.SelectedItem.ClearanceDate.toString()&&this.BRDDialog.PstBalances.Table.filter((function(e){return 1==e.Status&&e.Month==new Date(t.BRSGrid.SelectedItem.ClearanceDate).iMonth()&&e.Year==new Date(t.BRSGrid.SelectedItem.ClearanceDate).getFullYear()})).length>0)return;"1"==this.BRSGrid.SelectedItem.Status.toString()?(this.BRSGrid.SelectedItem.Status=0,this.BRSGrid.SelectedItem.Status_Key=s.a.GetResource("Reports_Outstanding")):(this.BRSGrid.SelectedItem.Status=1,this.BRSGrid.SelectedItem.Status_Key=s.a.GetResource("Reports_Cleared")),this.BRSGrid.updateRow(this.BRSGrid.SelectedItem)}}else{var a=e.toString();if("Save"==a.toString())this.Save();else if("Set"==a)this.Status.Items.Clear(),this.Status.Label="Status",this.Status.Items.push(o.d.ComboBoxItems_2(s.a.GetResource("Reports_Outstanding"),"0")),this.Status.Items.push(o.d.ComboBoxItems_2(s.a.GetResource("Reports_Cleared"),"1")),this.Status.Items.push(o.d.ComboBoxItems_2(s.a.GetResource("Reports_AlreadyCleared"),"2")),this.Status.SelectedValue=this.Status.Items[0].Value,this.DetailsVisibility=!1,this.ClearanceVisibility=!0;else if("DELETE"==a);else if("CLEAR"==a)this.BRSGrid.Table.forEach((function(e){e!=t.BRSGrid.Table[0]&&(""!=e.Status.toString()&&"0"!=e.Status.toString()||(e.Status="1",e.Status_Key=s.a.GetResource("Reports_Cleared"),e.clrDate_Key=e.Date,e.clrDate=new Date(e.Date).ToString(s.a.SessionManager.Preferences["Date Format"]),t.BRSGrid.updateRow(e)))}));else if("Report"==a||"Preview"==a){null==this.oReportViewModel?(this.oReportViewModel=new u.ReportViewModel,this.oReportViewModel.ReportViewModel_1(72),s.a.page.addNewTab({component:b.ReportViewComponent,params:{obj:this.oReportViewModel}})):s.a.page.addNewTab({component:b.ReportViewComponent,params:{obj:this.oReportViewModel}}),this.oReportViewModel.oReportDialog.FromDate.Date=this.BRDDialog.FromDate.Date,this.oReportViewModel.oReportDialog.ToDate.Date=this.BRDDialog.ToDate.Date,this.oReportViewModel.FromDatePicker=this.BRDDialog.FromDate,this.oReportViewModel.ToDatePicker=this.BRDDialog.ToDate,this.oReportViewModel.DateFilter=this.SubTitle,this.oReportViewModel.oReportDialog.DefaultProperties.forEach((function(e){e instanceof p.b?e.SelectedValue=t.BRDDialog.BankAccounts.SelectedValue:"ForeignCurrency"==e.DBColumnName&&(e.CheckBox.IsChecked=t.BRDDialog.ForeignCurrency.CheckBox.IsChecked,e.ComboBox.SelectedValue=t.BRDDialog.ForeignCurrency.ComboBox.SelectedValue)})),this.BRDDialog.Location.Visible&&this.oReportViewModel.oReportDialog.Locations.Visible&&50002==this.oReportViewModel.oReportDialog.Locations.DBColumnID&&this.oReportViewModel.oReportDialog.Locations.Items.forEach((function(e){e.IsChecked=null!=t.BRDDialog.Location.Items.filter((function(t){return t.Value==e.Value&&t.IsChecked}))}));var n=new B.ACC_BRSReport(this.oReportViewModel);n.BankID=this.BRDDialog.BankAccounts.SelectedValue,n.DateWiseDrCr=!1;var r=0;this.BRDDialog.ForeignCurrency.CheckBox.IsChecked&&(r=i.e.IsEmpty(this.BRDDialog.ForeignCurrency.ComboBox.SelectedValue)?0:parseInt(this.BRDDialog.ForeignCurrency.ComboBox.SelectedValue)),this.oReportViewModel.ShowReport=!0;var l=new i.d;l.Enabled=!0,n.ViewModel.Preferences.ContainsKey("GroupBy")?n.ViewModel.Preferences.GroupBy=this.BRDDialog.GroupByColumn:n.ViewModel.Preferences.push("GroupBy",this.BRDDialog.GroupByColumn),n.ViewModel.Preferences.ContainsKey("Preview")&&n.ViewModel.Preferences.Remove("Preview"),"Preview"==a?(this.oReportViewModel.RefreshVisibility=!1,n.ViewModel.Preferences.push("Preview","true"),n.dtpreview=this.BRSGrid.Table.Copy()):n.ViewModel.Preferences.push("Preview","false");var h=n.ViewModel.oReportDialog.CostCenterFilters.find((function(e){return 2==e.CostCenterID}));if(h){h.SelectedNodes.Clear();var c=null;n.ViewModel.oReportDialog.tree.length>0&&2==n.ViewModel.oReportDialog.tree[0].CostCenterID&&(c=n.ViewModel.oReportDialog.tree[0].AllNodes.find((function(e){return e.Id==n.BankID}))),c||((c=new M.a).Id=n.BankID,c.Text=[],c.Text.push("[FILTER]")),h.SelectedNodes.push(c),h.RefreshSelectedNodesText()}n.LoadReportFromData(n.BankID,r),this.oReportViewModel.StaticReportObject=n,l.Enabled=!1,Logger.InfoLog("OnButtonClick::Report::"+l.Elapsed.toString())}else if("Regenerate"==a)this.BRDDialog.IsOK=!1,this.DetailsVisibility=!0,this.BRDDialog=new y,this.BRDDialog.BRSDialogViewModel(),s.a.page.ShowDialog(this.BRDDialog,I.a,{ShowCenter:!s.a.IsMobile,NoWidth:!0,Title:s.a.GetResource("Reports_BankReconciliation")}).subscribe((function(){t.BRDDialog.IsOK&&t.LoadData(!1)}));else if("Refresh"==a)this.LoadData(!1);else if("Read"==a)this.onReadFile();else if("Export"==a){this.MessageVisibility=!0,this.DisplayMessage="Exporting data please wait...";var D=this.GetExportHTML(!1),C=new Blob([D],{type:"text/plain;charser=utf-8"});R.saveAs(C,this.ScreenName+"_XlsExport_"+(new Date).getTime()+".xls")}}}},{key:"onReadFile",value:function(){}},{key:"OnCellEditEnding",value:function(e,t,a){if(t=e.column.field,e=e.item,("Status_Key"==t||i.e.hasprop(e,"Status_Key"))&&!i.e.IsEmpty(e.Status))if(0==parseInt(e.Status.toString())||this.DontPopulateClearanceDate){if(null!=e.clrDate_Key&&null!=e.clrDate_Key)return;e.clrDate_Key=null,e.clrDate=""}else 1==parseInt(e.Status.toString())&&i.e.IsEmpty(e.clrDate_Key)&&(e.clrDate_Key=e.Date,e.clrDate=new Date(e.Date).ToString(s.a.SessionManager.Preferences["Date Format"]));this.RefreshBalances()}},{key:"onClearanceInfo",value:function(e){if(null!=e)if("Clearance"==e.toString()){if(null!=this.BRSGrid.SelectedRows&&this.BRSGrid.SelectedRows.length>1)for(var t=0;t<this.BRSGrid.SelectedRows.length;t++){var a=this.BRSGrid.SelectedRows[t];if(null!=a){var i=a.Row;if("2"!=i.Status.toString()){i.Status=this.Status.SelectedValue;var n=parseInt(this.Status.SelectedValue);i.Status_Key=this.Status.Items[n].Name,i.clrDate_Key=this.ClearanceDate.Date,i.clrDate=new Date(this.ClearanceDate.Date).ToString(s.a.SessionManager.Preferences["Date Format"]),this.BRSGrid.updateRow(i),this.RefreshBalances()}}}this.DetailsVisibility=!0}else this.DetailsVisibility=!0}},{key:"workerloadData_RunWorkerCompleted",value:function(e,t){this.DisplayName=this.Title,this.CanClick=!0}},{key:"LoadData",value:function(e){var t=this;if(!s.a.SessionManager.IsActionAssigned(43,"Override BRS Lock")&&""==this.LockWhere&&"true"==s.a.SessionManager.Preferences.UseDimWiseLock.toLowerCase()&&""!=s.a.SessionManager.Preferences["DimensionWiseLockData Customize Screen"]&&"<XML></XML>"!=s.a.SessionManager.Preferences["DimensionWiseLockData Customize Screen"]){var a=0,n=new i.f;n.LoadXml(s.a.SessionManager.Preferences["DimensionWiseLockData Customize Screen"]);for(var r=0;r<n.SelectNodes("XML/Row").length;r++){var o=n.SelectNodes("XML/Row")[r];if(null!=o.attributes.ID&&!i.e.IsEmpty(o.attributes.ID.Value))if((a=parseInt(o.attributes.ID.Value))>5e4)this.LockWhere+=" and (CC.dcCCNID"+(a-5e4)+"=c.CCNID"+(a-5e4)+" or c.CCNID"+(a-5e4)+"=1)";else{if(3==a)continue;2==a?this.LockWhere+=" and (D.DebitAccount=c.AccountID or D.CreditAccount=c.AccountID or c.AccountID=1)":400==a&&(this.LockWhere+=" and (D.CostCenterID=c.DocumentID or c.DocumentID=1)")}}}this.NetClearedBalance=0,this.outdr=0,this.outcr=0,this.Netcr=0,this.Netdr=0;var l=[];l.push(this.BRDDialog.BankAccounts.SelectedValue),l.push(i.e.String(this.BRDDialog.Filter.CheckedItem.FeatureID)),l.push(this.BRDDialog.FromDate.Date.ToString("dd/MMM/yyyy")),l.push(this.BRDDialog.ToDate.Date.ToString("dd/MMM/yyyy")),i.e.String(this.BRDDialog.Location.Visible)?l.push(this.BRDDialog.GetLocation(this.BRDDialog.Location,!1)):l.push(""),l.push(this.BRDDialog.ForeignCurrency.CheckBox.IsChecked?i.e.IsEmpty(this.BRDDialog.ForeignCurrency.ComboBox.SelectedValue)?0:parseInt(this.BRDDialog.ForeignCurrency.ComboBox.SelectedValue):0),l.push(0),l.push(this.LockWhere),l.push(this.BRDDialog.SortOn.SelectedValue),s.a.report.GetBRSVouchers(l).then((function(a){t.ds=a,t.SubTitle=t.BRDDialog.FromDate.Date.ToString(s.a.SessionManager.Preferences["Date Format"]),t.SubTitle+="  to  "+t.BRDDialog.ToDate.Date.ToString(s.a.SessionManager.Preferences["Date Format"]),null!=t.ds&&t.ds.Tables.length>3&&t.ds.Tables[3].length>0&&(t.SubTitle+=" ["+t.ds.Tables[3][0].AccountName.toString()+"]");var n=[];if(null!=t.ds&&t.ds.Tables.length>0&&t.ds.Tables.length>0&&t.ds.Columns[0].Contains("VoucherNo")){if(n=t.ds.Tables[0],e&&null!=t.ds&&t.ds.Tables.length>0&&t.ds.Columns[0].length>16)for(var r=function(e){var a=new D.a;a.Header=t.ds.Tables[0][0][t.ds.Columns[0][e]],a.DisplayMember=t.ds.Tables[0][0][t.ds.Columns[0][e]],a.ReadOnly=!0,a.Width=160,t.ds.Columns[0][e].Contains("~")?(a.Header=t.ds.Columns[0][e].split("~")[1],null!=(l=t.tempcol.find((function(a){return a.DisplayMember==t.ds.Columns[0][e].split("~")[0]})))?(a.DisplayIndex=l.DisplayIndex,a.Width=l.Width):t.tempcol.length>0&&(a.IsVisible=!1)):(a.Header=t.ds.Columns[0][e],null!=(l=t.tempcol.find((function(e){return e.DisplayMember==a.DisplayMember})))?(a.DisplayIndex=l.DisplayIndex,a.Width=l.Width):t.tempcol.length>0&&(a.IsVisible=!1)),t.BRSGrid.Columns.push(a)},o=17;o<t.ds.Columns[0].length;o++){var l;r(o)}if(null!=t.ds&&t.ds.Tables.length>0&&t.ds.Tables.length>1&&t.ds.Columns[1].Contains("Bal")&&t.ds.Tables[1].length>0&&""!=i.e.StringValue(t.ds.Tables[1][0])){var u=parseFloat(t.ds.Tables[1][0][t.ds.Columns[1][0]]);t.NetBalance.Text=u>=0?u.Commas("N"+s.a.SessionManager.Preferences.DecimalsinAmount)+" "+s.a.GetResource("Dr"):(-u).Commas("N"+s.a.SessionManager.Preferences.DecimalsinAmount)+" "+s.a.GetResource("Cr")}t.NetClearedBalance=null!=t.ds&&t.ds.Tables.length>0&&t.ds.Tables.length>2&&t.ds.Columns[2].Contains("Bal")&&t.ds.Tables[2].length>0&&!i.e.IsEmpty(t.ds.Tables[2][0][t.ds.Columns[2][0]])?i.e.DoubleTryParse(t.ds.Tables[2][0][t.ds.Columns[2][0]]):0,n.Columns=[],n.Columns.push("StyleIsBold"),n.Columns.push("CDate"),n.Columns.push("ChqDate"),n.Columns.push("ChqDate_Key"),n.Columns.push("sno"),n.Columns.push("Status"),n.Columns.push("Status_Key"),n.Columns.push("clrDate"),n.Columns.push("clrDate_Key"),n.Columns.push("DBStatus"),n.Columns.push("GroupIDs");for(var h=0;h<n.length;h++)if(new Date(n[h].ClearanceDate).Date()>t.BRDDialog.ToDate.Date.Date()&&"1"==n[h].BRS_Status.toString()?(n[h].sno=h+1,n[h].CDate=new Date(n[h].Date).ToString(s.a.SessionManager.Preferences["Date Format"]),n[h].CDate_Key=new Date(n[h].Date),null!=n[h].ChequeDate&&(n[h].ChqDate=new Date(n[h].ChequeDate).ToString(s.a.SessionManager.Preferences["Date Format"]),n[h].ChqDate_Key=new Date(n[h].ChequeDate)),n[h].Status=2,n[h].Status_Key=s.a.GetResource("Reports_AlreadyCleared"),n[h].clrDate=new Date(n[h].ClearanceDate).ToString(s.a.SessionManager.Preferences["Date Format"]),n[h].clrDate_Key=new Date(n[h].ClearanceDate),n[h].DBStatus=1):(n[h].DBStatus=0,n[h].sno=h+1,n[h].CDate=new Date(n[h].Date).ToString(s.a.SessionManager.Preferences["Date Format"]),n[h].CDate_Key=new Date(n[h].Date),null!=n[h].ChequeDate&&(n[h].ChqDate=new Date(n[h].ChequeDate).ToString(s.a.SessionManager.Preferences["Date Format"]),n[h].ChqDate_Key=new Date(n[h].ChequeDate)),n[h].Status=n[h].BRS_Status,"1"==n[h].BRS_Status.toString()?n[h].Status_Key=s.a.GetResource("Reports_Cleared"):"0"==n[h].BRS_Status.toString()&&(n[h].Status_Key=s.a.GetResource("Reports_Outstanding"))),1900!=new Date(n[h].ClearanceDate).getFullYear()&&"1"==n[h].Status.toString()){n[h].clrDate_Key=new Date(n[h].ClearanceDate);try{n[h].clrDate=s.a.SessionManager.Preferences.ContainsKey("Date Format")&&""!=s.a.SessionManager.Preferences["Date Format"]?new Date(n[h].ClearanceDate).ToString(s.a.SessionManager.Preferences["Date Format"]):new Date(n[h].ClearanceDate).ToString("dd/MMM/yyyy")}catch(T){}}if(-1!=t.BRDDialog.Filter.CheckedItem.FeatureID)for(var c=n.length-1;c>=0;c--)if(t.BRDDialog.Filter.CheckedItem.FeatureID!=parseInt(n[c].Status.toString())){var d=i.e.StringValue(n[c].Dr).length>0?parseFloat(n[c].Dr):0,p=i.e.StringValue(n[c].Cr).length>0?parseFloat(n[c].Cr):0;i.e.IsEmpty(n[c].ClearanceDate)&&t.BRDDialog.ToDate.Date.Date()<new Date(n[c].ClearanceDate).Date()||0==parseInt(n[c].Status)?(t.outcr+=p,t.outdr+=d):1==parseInt(n[c].Status)&&(t.Netcr+=p,t.Netdr+=d),0==t.BRDDialog.Filter.CheckedItem.FeatureID&&2==parseInt(n[c].Status)||n.RemoveAt(c)}if(!t.BRDDialog.rdoNone){for(var C=[],m=0;m<n.length;m++)if(!C.Contains(n[m])&&!t.BRDDialog.rdoNone){var g=void 0,S=0,y=0,I="",f="";if(t.BRDDialog.rdoChequeNo&&(i.e.IsEmpty(n[m].ChequeNo)||(f="ChequeNo='"+n[m].ChequeNo.toString().Replace("'","''")+"' and ")),f+="VoucherNo='"+n[m].VoucherNo.toString().Replace("'","''")+"' and BRS_Status="+n[m].BRS_Status.toString(),(g=n.filter(f)).length>1){for(var b=1;b<g.length;b++)i.e.IsEmpty(g[b].Dr)||(y+=parseFloat(g[b].Dr.toString())),i.e.IsEmpty(g[b].Cr)||(S+=parseFloat(g[b].Cr.toString())),I+=g[b].AccDocDetailsID.toString()+",",C.push(g[b]);g[0].GroupIDs=I,i.e.IsEmpty(g[0].Cr)||(S=parseFloat(g[0].Cr.toString())+S),i.e.IsEmpty(g[0].Dr)||(y=parseFloat(g[0].Dr.toString())+y),S>y?(g[0].Dr=null,g[0].Cr=S-y):(g[0].Cr=null,g[0].Dr=y-S)}}for(var M=0;M<C.length;M++)n.Remove(C[M])}t.BRSGrid.Table=n,1==t.BRDDialog.Filter.CheckedItem.FeatureID&&t.BRSGrid.Table.sort((function(e,t){return e.clrDate_Key>t.clrDate_Key?1:-1})),t.RefreshBalances();var B=[];B.Status=3,B.BRS_Status=3,t.NetClearedBalance>0?(B.Dr=t.NetClearedBalance.Commas("N"+s.a.SessionManager.Preferences.DecimalsinAmount),B.Cr=0):(B.Dr=0,B.Cr=t.NetClearedBalance.Commas("N"+s.a.SessionManager.Preferences.DecimalsinAmount)),B.VoucherNo="Opening",B.StyleIsBold="1",t.BRSGrid.Table.InsertAt(B,0);for(var R=0;R<t.BRSGrid.Table.length;R++)t.BRSGrid.Table[R].sno=R+1,t.BRSGrid.Table[R].id=R+1;n=[]}}))}},{key:"Save",value:function(){this.DisplayMessage="";for(var e,t,a="",n=0,r=0;r<this.BRSGrid.Table.length;r++){var o=this.BRSGrid.Table[r];if(""!=i.e.String(o.ClearanceDate)){if(n++,1==parseInt(i.e.String(o.Status))&&i.e.IsEmpty(o.clrDate_Key))return this.DisplayMessage="Clearance Date Mandatory when the Status is Cleared. Check at RowNo : "+n,void(this.MessageVisibility=!0);if(t=new Date(o.ClearanceDate),""==i.e.String(o.clrDate))e=t;else{if(e=new Date(o.clrDate_Key),!i.e.IsEmpty(o.ChqDate_Key)&&new Date(o.clrDate_Key)<new Date(o.ChqDate_Key))return this.DisplayMessage="Clearance Date is less than Cheque Date at RowNo : "+n,void(this.MessageVisibility=!0);if(new Date(o.clrDate_Key)<new Date(o.CDate_Key))return this.DisplayMessage="Clearance Date is less than Doc Date at RowNo : "+n,void(this.MessageVisibility=!0)}if(parseInt(o.BRS_Status)!=parseInt(o.Status)||t!=e){if("2"==i.e.String(o.Status))continue;if("0"!=i.e.String(o.DBStatus)&&"1"!=i.e.String(o.Status)||(a+='<Row ID="'+o.AccDocDetailsID.toString()+'" Status="'+o.Status.toString()+'" Date="'+e.ToString("dd MMM yyyy")+'"/>'),!i.e.IsEmpty(o.GroupIDs)&&!this.BRDDialog.rdoNone)for(var l=o.GroupIDs.toString().split(","),u=0;u<l.length-1;u++)a+='<Row ID="'+l[u]+'" Status="'+o.Status.toString()+'" Date="'+e.ToString("dd MMM yyyy")+'"/>'}}}if(a.length>0){a="<XML>"+a,a+="</XML>";var h=[];h.push(a.toString());var c=s.a.report.SetBRSVouchers(h);this.DisplayMessage=c.Message}}},{key:"RefreshBalances",value:function(){var e,t,a=this,n=this.outcr,r=this.outdr,o=this.Netcr,l=this.Netdr;null!=this.BRSGrid.Table&&this.BRSGrid.Table.forEach((function(s){e=i.e.StringValue(s.Dr).length>0?parseFloat(s.Dr):0,t=i.e.StringValue(s.Cr).length>0?parseFloat(s.Cr):0,i.e.IsEmpty(s.clrDate_Key)&&a.BRDDialog.ToDate.Date.Date()<new Date(s.clrDate_Key)||0==parseInt(s.Status)?(r+=e,n+=t):1==parseInt(s.Status)&&(l+=e,o+=t)})),this.OutStandingDr.Text=r.Commas("N"+s.a.SessionManager.Preferences.DecimalsinAmount),this.OutStandingCr.Text=n.Commas("N"+s.a.SessionManager.Preferences.DecimalsinAmount);var u=0;i.e.IsEmpty(this.BRDDialog.BankBalance.Text)||(u=parseFloat(this.BRDDialog.BankBalance.Text)),this.BankBalance.Text=u>0?u.Commas("N"+s.a.SessionManager.Preferences.DecimalsinAmount)+" "+s.a.GetResource("Dr"):(-u).Commas("N"+s.a.SessionManager.Preferences.DecimalsinAmount)+" "+s.a.GetResource("Cr"),l=this.NetClearedBalance+l-o,this.Difference.Text=u-l>0?(u-l).Commas("N"+s.a.SessionManager.Preferences.DecimalsinAmount)+" "+s.a.GetResource("Dr"):(l-u).Commas("N"+s.a.SessionManager.Preferences.DecimalsinAmount)+" "+s.a.GetResource("Cr"),this.NetClearBalance.Text=l>=0?l.Commas("N"+s.a.SessionManager.Preferences.DecimalsinAmount)+" "+s.a.GetResource("Dr"):(-l).Commas("N"+s.a.SessionManager.Preferences.DecimalsinAmount)+" "+s.a.GetResource("Cr"),this.BRSGrid.UpdateTotals()}},{key:"GetExportHTML",value:function(e){var t=this,a="",n="";a+="<html><meta charset='utf-8' /><body style='color:blac;background-color:white;'>",n+=".hdr{text-align:cente; padding:5px; background-color:#4F81BD;color:white;font-family:Arial;font-size:11pt} ",n+=".grp{padding:2p; background-color:#87CEEB; color:#FFFCF7;font-family:arial; font-size:10pt;}",n+=".tot{background-color:whit; color:red;font-family:arial; font-weight:bold; font-size:8pt;}",n+=".alt{background-color:whitesmok; color:black; font-family:arial; font-size:9pt; align:right;}",e||(a+="<style>"+n.toString()+"</style>");for(var r=0,o=this.BRSGrid.Table,l=this.BRSGrid.Columns,u=0;u<l.length;u++)l[u].IsVisible&&l[u].Width>20&&(r+=l[u].Width);a+="<table>",a+="\r\n<tr><td align='center'><h2>",a+=s.a.SessionManager.CompanyName,a+="</h2></td></tr>",a+="\r\n<tr><td align='center'><h3 style='vertical-align:middl;'>",a+="Bank Reconciliation",a+="</h3></td></tr>",a+="\r\n<tr><td align='center'>",a+=" &nbsp;&nbsp;&nbsp;DATE :  "+(new Date).ToString(s.a.SessionManager.Preferences["Date Format"]),a+="</td></tr>",a+="<tr><td style='padding-top:10p;'><table border=1 width='"+r+"' style='border-collapse:collapse;  font-family:arial; font-size:9pt;' >",a+="<COLGROUP>";for(var h=0;h<l.length;h++)l[h].IsVisible&&l[h].Width>20&&(a+="FLOAT"==l[h].DataType?"<COL style='text-align:righ;'>":"<COL style=''>");a+="</COLGROUP>",a+="<tr style=''>";for(var c=0;c<l.length;c++)l[c].IsVisible&&l[c].Width>20&&(a+="<th class='hdr' width='"+l[c].Width,a+=e?"' >":"px' >",a+=l[c].Header,a+="</th>");a+="</tr>";for(var D=function(e){a+="<tr",e%2==1&&(a+=" class=alt"),a+=">";for(var s=function(s){l[s].IsVisible&&l[s].Width>20&&(a+="<td",a+="FLOAT"==l[s].DataType?" align='right'":" align='left'",a+=">",null!=l[s].ComboData&&"Status"==l[s].ValueBinding?(t.dvStatus.filter((function(t){return t.Value==o[e][l[s].ValueBinding].toString()})),t.dvStatus.length>0&&(a+=i.e.String(t.dvStatus[0][l[s].DisplayMember]))):a+=i.e.String(o[e][l[s].DisplayMember]),a+="</td>")},n=0;n<l.length;n++)s(n);a+="</tr>"},d=0;d<o.length;d++)D(d);return a+="</table>",a+="</td></tr></table>",a+="</body><html>"}},{key:"DetailsVisibility",get:function(){return this._DetailsVisibility},set:function(e){e!=this._DetailsVisibility&&(this._DetailsVisibility=e,this.ClearanceVisibility=!e)}},{key:"CanClick",get:function(){return this._CanClick},set:function(e){e!=this._CanClick&&(this._CanClick=e)}},{key:"ClearanceVisibility",get:function(){return this._ClearanceVisibility},set:function(e){e!=this._ClearanceVisibility&&(this._ClearanceVisibility=e)}},{key:"ClearanceDate",get:function(){return this._ClearanceDate},set:function(e){e!=this._ClearanceDate&&(this._ClearanceDate=e)}},{key:"Status",get:function(){return this._Status},set:function(e){e!=this._Status&&(this._Status=e)}},{key:"SelectedVoucher",get:function(){return this._SelectedVoucher},set:function(e){e!=this._SelectedVoucher&&(this._SelectedVoucher=e)}},{key:"Title",get:function(){return this._Title},set:function(e){e!=this._Title&&(this._Title=e)}},{key:"SubTitle",get:function(){return this._SubTitle},set:function(e){e!=this._SubTitle&&(this._SubTitle=e)}},{key:"Table",get:function(){return this._Table},set:function(e){e!=this._Table&&(this._Table=e)}}]),a}(n.b),v=function(e){_inherits(a,e);var t=_createSuper(a);function a(){return _classCallCheck(this,a),t.apply(this,arguments)}return _createClass(a,[{key:"BRSMatchViewModel",value:function(e){this.BRSMatchGrid=new l.a,this.initgrid(),this.BRSMatchGrid.SearchVisible=!0,this.BRSMatchGrid.AddSearchCols(),this.LoadGrid(),this.ButtonClick.Subscribe(this,"OnButtonClick")}},{key:"OnButtonClick",value:function(e){"Regenerate"!=e&&"Refresh"!=e||this.LoadGrid()}},{key:"initgrid",value:function(){this.BRSGrid.TableColumns.push("RefNo"),this.BRSGrid.TableColumns.push("UniqueNo"),this.BRSMatchGrid.Table=[],this.BRSMatchGrid.TableColumns.push("sno"),this.BRSMatchGrid.TableColumns.push("VoucherNo"),this.BRSMatchGrid.TableColumns.push("Account"),this.BRSMatchGrid.TableColumns.push("ChequeNo"),this.BRSMatchGrid.TableColumns.push("DocDate"),this.BRSMatchGrid.TableColumns.push("DocDate_Key"),this.BRSMatchGrid.TableColumns.push("ChequeDate"),this.BRSMatchGrid.TableColumns.push("Cr"),this.BRSMatchGrid.TableColumns.push("Dr"),this.BRSMatchGrid.TableColumns.push("CommonNarration"),this.BRSMatchGrid.TableColumns.push("DocID"),this.BRSMatchGrid.TableColumns.push("CostCenterID"),this.BRSMatchGrid.TableColumns.push("AccDocDetailsID"),this.BRSMatchGrid.TableColumns.push("ChequeDate_Key"),this.BRSMatchGrid.TableColumns.push("RefNo"),this.BRSMatchGrid.TableColumns.push("UniqueNo"),this.BRSMatchGrid.Columns=[];var e=new D.a;e.Header=s.a.GetResource("Service_Sno"),e.DisplayMember="sno",e.ReadOnly=!0,e.Width=45,this.BRSMatchGrid.Columns.push(e),(e=new D.a).Header="VoucherNo",e.DisplayMember="VoucherNo",e.ReadOnly=!0,e.Width=100,this.BRSMatchGrid.Columns.push(e),(e=new D.a).Header="Date",e.DisplayMember="DocDate",e.ReadOnly=!0,e.Width=100,this.BRSMatchGrid.Columns.push(e),(e=new D.a).Header="Account",e.DisplayMember="Account",e.ReadOnly=!0,e.Width=150,this.BRSMatchGrid.Columns.push(e),(e=new D.a).Header="ChequeNo",e.DisplayMember="ChequeNo",e.ReadOnly=!0,e.Width=100,this.BRSMatchGrid.Columns.push(e),(e=new D.a).Header="ChequeDate",e.DisplayMember="ChequeDate",e.ReadOnly=!0,e.Width=100,this.BRSMatchGrid.Columns.push(e),(e=new D.a).Header=s.a.GetResource("Amount_Cr"),e.DisplayMember="Cr",e.ReadOnly=!0,e.DataType="FLOAT",e.ShowTotal=!0,e.DecimalPoints=s.a.SessionManager.Preferences.DecimalsinAmount,e.Width=100,e.ShowTotal=!0,e.IsCalculated=1,this.BRSMatchGrid.Columns.push(e),(e=new D.a).Header=s.a.GetResource("Amount_Dr"),e.DisplayMember="Dr",e.ReadOnly=!0,e.DataType="FLOAT",e.ShowTotal=!0,e.DecimalPoints=s.a.SessionManager.Preferences.DecimalsinAmount,e.Width=100,e.ShowTotal=!0,this.BRSMatchGrid.Columns.push(e),(e=new D.a).Header="Narration",e.DisplayMember="CommonNarration",e.ReadOnly=!0,e.Width=160,this.BRSMatchGrid.Columns.push(e)}},{key:"LoadGrid",value:function(){for(var e=this.ds.Tables[this.ds.Tables.length-1],t=0;t<e.length;t++){var a=this.BRSMatchGrid.NewRow();a.sno=t+1,i.e.IsEmpty(e[t].ChequeDate)||(a.ChequeDate=new Date(e[t].ChequeDate).ToString(s.a.SessionManager.Preferences["Date Format"]),a.ChequeDate_Key=new Date(e[t].ChequeDate)),a.Cr=e[t].Cr,a.Dr=e[t].Dr,a.AccDocDetailsID=e[t].AccDocDetailsID,a.VoucherNo=e[t].VoucherNo,a.CommonNarration=e[t].CommonNarration,a.ChequeNo=e[t].ChequeNo,i.e.IsEmpty(e[t].DocDate)||(a.DocDate=new Date(e[t].DocDate),a.DocDate_Key=new Date(e[t].DocDate).ToString(s.a.SessionManager.Preferences["Date Format"])),a.Account=e[t].Account,a.DocID=e[t].DocID,a.CostCenterID=e[t].CostCenterID,this.BRSMatchGrid.addRow(a)}}}]),a}(T)},ouML:function(e,t,a){"use strict";a.r(t),a.d(t,"DocumentDraftsViewModel",(function(){return c}));var s=a("mrSG"),i=a("Do2H"),n=a("Lp6j"),r=a("ScVY"),o=a("8B8H"),l=a("ockk"),u=a("rJVx"),h=a("CUWK"),c=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,a){var s,n,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(_classCallCheck(this,r),(s=t.call(this)).Grid=new o.a,s.IsFromDocs=!1,s.PopupWidth=0,s.ReportType=0,s.Parent=null,s.CCID=0,s.WID=0,s.LevelID=0,s.PactGridVisible=!1,s.CCID=h,s.Parent=e,s.ReportType=a,s.Parent instanceof u.GeneralDashboardViewModel||"DashAddOnsViewModel"==s.Parent.ClassName)?1==a&&(s.ColSource=u.GeneralDashboardViewModel.InitColumns("Document Drafts_DashBoardCustomize")):(1==a?s.DisplayName="Drafts":2==a?s.DisplayName="Hold Documents":3==a?s.DisplayName="Approval History":4==a&&(s.DisplayName="Level Info",s.PactGrid=new o.a),s.Title=s.DisplayName,s.IsFromDocs=!0,s.FillGrid(),s.Grid.OnLinkClick.Subscribe(_assertThisInitialized(s),"GridLinkClick"),s.ColSource=[],1==a?(s.ColSource=u.GeneralDashboardViewModel.InitColumns("Document Drafts_DashBoardCustomize"),s.PopupWidth=22,s.ColSource.forEach((function(e){s.PopupWidth=s.PopupWidth+e.Width}))):2==a?((n=new l.a).DataType="TextBlock",n.Header="Hold Date",n.DisplayMember="HoldDate_Key",n.Width=100,s.ColSource.push(n),(n=new l.a).DataType="LINK",n.Header=i.a.GetResource("DocName"),n.DisplayMember="DocName",n.Width=135,s.ColSource.push(n),(n=new l.a).DataType="TextBlock",n.Header="NetValue",n.DisplayMember="NetValue",n.Width=100,s.ColSource.push(n),(n=new l.a).DataType="TextBlock",n.Header="NoOfProducts",n.DisplayMember="NoOfProducts",n.Width=50,s.ColSource.push(n),(n=new l.a).DataType="LINK",n.Header=i.a.GetResource("Delete"),n.DisplayMember="Delete",n.Width=100,s.ColSource.push(n),s.PopupWidth=450):3==a?((n=new l.a).DataType="TextBlock",n.Header="User",n.DisplayMember="CreatedBy",n.Width=90,s.ColSource.push(n),(n=new l.a).DataType="TextBlock",n.Header="FirstName",n.DisplayMember="FirstName",n.Width=90,s.ColSource.push(n),(n=new l.a).DataType="TextBlock",n.Header="LastName",n.DisplayMember="LastName",n.Width=90,s.ColSource.push(n),(n=new l.a).DataType="TextBlock",n.Header="Email",n.DisplayMember="Email1",n.Width=150,s.ColSource.push(n),(n=new l.a).DataType="TextBlock",n.Header=i.a.GetResource("Date"),n.DisplayMember="AppDate",n.Width=128,s.ColSource.push(n),(n=new l.a).DataType="LINK",n.Header="Level",n.DisplayMember="LevelName",n.Width=93,s.ColSource.push(n),(n=new l.a).DataType="TextBlock",n.Header="Status",n.DisplayMember="Status",n.Width=80,s.ColSource.push(n),(n=new l.a).DataType="Format",n.Header="Remarks",n.DisplayMember="Remarks",n.Width=190,s.ColSource.push(n),s.PopupWidth=950,"AddEditDocumentViewModel"==s.Parent.ClassName&&((n=new l.a).Header="WorkFlowName",n.DisplayMember="WorkFlowName",n.Width=200,s.ColSource.push(n)),s.PopupWidth=950):4==a&&((n=new l.a).DataType="TextBlock",n.ReadOnly=!0,n.Header="User Name",n.DisplayMember="UserName",n.Width=120,s.ColSource.push(n),(n=new l.a).DataType="TextBlock",n.ReadOnly=!0,n.Header="First Name",n.DisplayMember="FirstName",n.Width=120,s.ColSource.push(n),(n=new l.a).DataType="TextBlock",n.ReadOnly=!0,n.Header="Last Name",n.DisplayMember="LastName",n.Width=120,s.ColSource.push(n),s.PactGrid.Columns=s.ColSource,s.PopupWidth=400));return _possibleConstructorReturn(s)}return _createClass(r,[{key:"onClick",value:function(e){event.preventDefault(),null!=this.SelectedRow&&this.LoadDraft(this.SelectedRow)}},{key:"FillGrid",value:function(){var e=this,t=0,a=null;if(n.e.IsType(this.Parent,"AddEditDocumentViewModel")?(a=this.Parent,t=0==this.CCID?a.CostCenterID:this.CCID):n.e.IsEmpty(this.Parent.ClassName)||"AddEditRenContractViewModel"!=this.Parent.ClassName||(t=this.CCID),1==this.ReportType||2==this.ReportType)(n.e.IsEmpty(this.Parent.ClassName)||"AddEditRenContractViewModel"!=this.Parent.ClassName?null==a||38!=a.ScreenObject.DocumentType&&39!=a.ScreenObject.DocumentType?i.a.document.GetDocumentDrafts(0,t,this.ReportType,!1):i.a.document.GetDocumentDrafts(a.ScreenObject.RegisterNodeID,t,this.ReportType,!1,!0):i.a.document.GetDocumentDrafts(0,this.Parent.CostCenterID,this.ReportType,!1)).subscribe((function(t){e.Table=t.Tables[0],e.Grid.TableColumns.Contains("Date_Text")||(e.Grid.TableColumns.push("Date_Text"),e.Grid.TableColumns.push("Delete")),e.Grid.TableColumns.Contains("HoldDate_Key")||e.Grid.TableColumns.push("HoldDate_Key"),e.Table.forEach((function(e){e.Delete="Delete",e.id=i.a.slick.rowid,e.Date_Text=new Date(e.Date).ToString(i.a.SessionManager.Preferences["Date Format"]+" hh:mm a"),null!=e.HoldDate&&(e.HoldDate_Key=new Date(e.HoldDate).ToString(i.a.SessionManager.Preferences["Date Format"]))}))}));else if(3==this.ReportType){var s=null;if(n.e.IsType(this.Parent,"AddEditDocumentViewModel")?(s=this.Parent.ScreenObject.GetDocStatusHistory()).Tables.length>1&&s.Tables[1].length>0&&s.Columns[1].Contains("WID")&&(this.WID=parseInt(s.Tables[1][0].WID)):n.e.IsEmpty(this.Parent.ClassName)||"AddEditRenContractViewModel"!=this.Parent.ClassName?n.e.IsEmpty(this.Parent.ClassName)||"AddEditCasesViewModel"!=this.Parent.ClassName||(s=this.GetDocStatusHistory(73,this.Parent.CaseID,!1)):s=i.a.rental.GetHistory(t,this.Parent.ContractID),null!=s&&s.Tables.length>0){this.Table=s.Tables[0],this.Grid.TableColumns.push("AppDate");for(var o=0;o<this.Table.length;o++)""!=this.Table[o].Date.toString()&&(this.Table[o].AppDate=new Date(this.Table[o].Date.toString()).ToString(i.a.SessionManager.Preferences["Date Format"]+" hh:mm a"));var l=0,u=0;this.Table.length>0&&(l=n.e.IntTryParse(this.Table[this.Table.length-1].WorkFlowLevel.toString()),u=n.e.IntTryParse(this.Table[this.Table.length-1].StatusID.toString())),369!=u&&(s.Tables[1]=s.Tables[1].filter((function(e){return e.levelID>l})),s.Tables[1].forEach((function(t){var a=e.Grid.NewRow();a.LevelName=t.LevelName,a.Status="Pending",a.WorkFlowLevel=t.LevelID,e.Grid.addRow(a)})));for(var h=this.Table.length;h<7;h++)this.Grid.addEmptyRow()}}else if(4==this.ReportType){var c=null;if("WFLevelDoc"==this.Parent.ClassName?c=i.a.SessionManager.Preferences.ContainsKey("CanApproveFunction")&&"True"==i.a.SessionManager.Preferences.CanApproveFunction?i.a.report.GetExtWFDet(this.Parent.WID,this.Parent.LevelID,this.Parent.ccid,this.Parent.DOcId):i.a.report.GetWorkFlowLevelDetails(this.Parent.WID,this.Parent.LevelID,this.Parent.ccDate):this.Parent instanceof r&&(i.a.SessionManager.Preferences.ContainsKey("CanApproveFunction")&&"True"==i.a.SessionManager.Preferences.CanApproveFunction?"AddEditDocumentViewModel"==this.Parent.Parent.ClassName?c=i.a.report.GetExtWFDet(this.Parent.WID,this.Parent.LevelID,this.Parent.Parent.CostCenterID,this.Parent.Parent.ScreenObject.DocID):"ReportViewModel"==this.Parent.Parent.ClassName&&"INV_ComparisonReport"==this.Parent.Parent.StaticReportObject&&(c=i.a.report.GetExtWFDet(this.Parent.WID,this.Parent.LevelID,this.Parent.Parent.StaticReportObject.QuotationDocument,this.Parent.Parent.StatusDocID)):c=i.a.report.GetWorkFlowLevelDetails(this.Parent.WID,this.Parent.LevelID,"AddEditDocumentViewModel"==this.Parent.Parent.ClassName?this.Parent.Parent.ScreenObject.DocDate.Date:Date.Today())),null!=c){for(var D=c.Tables[0].length;D<8;D++)c.Tables[0].push();this.PactGrid.Table=c.Tables[0]}this.PactGrid.Width="",this.PactGrid.SearchVisible=!0,this.PactGrid.SearchCols.Width="85",this.PactGrid.SearchOptions.Width="90",this.PactGrid.SearchText.Width="110",this.PactGridVisible=!0}}},{key:"GetDocStatusHistory",value:function(e,t,a){Logger.InfoLog("DocumentDraftsViewModel:: Inside GetDocStatusHistory");var s=[];s.push(e),s.push(t),s.push(a),s.push(i.a.SessionManager.UserID),s.push(i.a.SessionManager.LanguageID);var n=i.a.document.GetDocStatusHistory(s);return Logger.InfoLog("DocumentDraftsViewModel:: Exiting GetDocStatusHistory"),n}},{key:"OnButtonClick",value:function(e){"Cancel"==e.toString()&&(n.e.IsType(this.Parent,"AddEditDocumentViewModel")&&this.CCID>0&&(this.Parent.res="No"),i.a.page.HideDialog())}},{key:"DeleteDraft",value:function(e){(n.e.IsEmpty(this.Parent.ClassName)||"AddEditRenContractViewModel"!=this.Parent.ClassName?i.a.document.DeleteDocumentDraft(parseInt(e.DraftID)):i.a.rental.DeleteQuotation(parseInt(e.CostCenterID),parseInt(e.DraftID))).RetValue>0&&this.Grid.removeRow(e)}},{key:"LoadDraft",value:function(e){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var s,r,o,l,u,c=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.e.IsEmpty(this.Parent.ClassName)&&"AddEditRenContractViewModel"==this.Parent.ClassName){t.next=12;break}return t.next=3,Promise.all([a.e(2),a.e(1),a.e(3),a.e(5),a.e(4),a.e(6),a.e(7),a.e(10),a.e(9),a.e(12),a.e(11),a.e(13),a.e(19),a.e(15),a.e(21),a.e(20),a.e(16),a.e(14),a.e(18),a.e(17),a.e(22),a.e(89)]).then(a.bind(null,"1Cra"));case 3:return s=t.sent,r=s.AddEditDocumentViewModel,t.next=7,Promise.all([a.e(4),a.e(6)]).then(a.bind(null,"MCKn"));case 7:o=t.sent,l=o.AddEditDocumentComponent,i.a.document.GetDocumentDrafts(parseInt(e.DraftID),0,1,!1).subscribe((function(t){if(null!=(u=t.Tables[0])&&u.length>0)if("AddEditDocumentViewModel"==c.Parent.ClassName||"POSDocumentViewModel"==c.Parent.ClassName)c.CCID>0||(c.Parent.clear(1),c.Parent.LoadDraftXML(u[0]),i.a.page.HideDialog(),c.Parent.ScreenObject.GridDataObj.RefreshGridView());else{var a=1==c.ReportType,s=new r(parseInt(e.CostCenterID),e.Type.toString(),a);i.a.page.addNewTab({component:l,params:{obj:s}}),s.LoadDraftXML(u[0],a)}})),t.next=13;break;case 12:h.RibbonExtViewModel.LoadDraftRentalContract(this.Parent,parseInt(e.DraftID)),i.a.page.HideDialog();case 13:case"end":return t.stop()}}),t,this)})))}},{key:"GridLinkClick",value:function(e,t,a){event.preventDefault(),"Delete"==t?this.DeleteDraft(e):"Date_Text"!=t&&"DocName"!=t||this.LoadDraft(e)}},{key:"Table",get:function(){return this.Grid.Table},set:function(e){this.Grid.Table=e}},{key:"TableColumns",get:function(){return this.Grid.TableColumns},set:function(e){this.Grid.TableColumns=e}},{key:"ColSource",get:function(){return this.Grid.Columns},set:function(e){this.Grid.Columns=e}},{key:"SelectedRow",get:function(){return this.Grid.SelectedItem},set:function(e){this.Grid.SelectedItem=e}}]),r}(r.b)},rJVx:function(e,t,a){"use strict";a.r(t),a.d(t,"GeneralDashboardViewModel",(function(){return h}));var s=a("mrSG"),i=a("Do2H"),n=a("Lp6j"),r=a("ScVY"),o=a("NkMH"),l=a("ockk"),u=a("JIg3"),h=function(e){_inherits(r,e);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.call(this)).ButtonPDC=new o.a,e.timerdashboard=new n.d,e.Date=new u.a(0),e.tdMaximize=new Array(4).fill(!1),Logger.InfoLog("DashboardViewModel::Entering DashboardViewModel"),e.timerdashboard.Enabled=!0,e.timerdashboard.Interval=6e4,i.a.SessionManager.IsWebApplication||e.timerdashboard.Elapsed(_assertThisInitialized(e),"timerdashboard_Elapsed"),e.DisplayName=i.a.GetResource("Dashboard_Maindashboard"),e.loadDrafts(),Logger.InfoLog("DashboardViewModel::Exiting DashboardViewModel"),e}return _createClass(r,[{key:"loadDrafts",value:function(){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,s,i,n,r,o,l=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.e(150).then(a.bind(null,"ouML"));case 2:return t=e.sent,s=t.DocumentDraftsViewModel,this.DocumentDrafts=new s(this,1),setTimeout((function(){l.DocumentDrafts.FillGrid()}),500),e.next=7,a.e(0).then(a.bind(null,"AyOk"));case 7:return i=e.sent,n=i.UnAppDocumentsViewModel,this.UnApprovedDocuments=new n,e.next=12,Promise.all([a.e(2),a.e(1),a.e(5),a.e(26),a.e(42),a.e(0),a.e(73)]).then(a.bind(null,"Wh9R"));case 12:r=e.sent,o=r.DashBoardNotifViewModel,this.NotifEvents=new o(2),this.PDCDocuments=new o(4);case 15:case"end":return e.stop()}}),e,this)})))}},{key:"timerdashboard_Elapsed",value:function(e,t){i.a.page.isActiveTab(this)&&(this.OnButtonClick("RefreshPDC"),this.OnButtonClick("RefreshEvents"),this.NotifEvents.RefreshData(),this.UnApprovedDocuments.OnLoad())}},{key:"OnButtonClick",value:function(e){"PostPDC"==e||("RefreshPDC"==e?(this.PDCDocuments.EventsType=4,this.PDCDocuments.InitColumns()):"PostEvents"==e||("RefreshEvents"==e?this.NotifEvents.RefreshData():"UnApproved"==e?this.UnApprovedDocuments.OnLoad():"Drafts"==e&&this.DocumentDrafts.FillGrid()))}},{key:"OnMessageCallBack",value:function(){this.res="Yes"}}],[{key:"InitColumns",value:function(e){var t,a="",s=[];if(i.a.SessionManager.Preferences.ContainsKey(e)&&(a=i.a.SessionManager.Preferences[e]),a.length>0){var r=new n.f;r.LoadXml(a);for(var o=0;o<r.DocumentElement.children.length;o++){var u=r.DocumentElement.children[o];(t=new l.a).Header=i.a.GetResource(u.attributes.Header.value),t.DisplayMember=u.attributes.ID.value,t.ReadOnly=!0,t.Width=parseInt(u.attributes.Width.value),s.push(t),"Un Approved Documents_DashBoardCustomize"==e?"VoucherNo"==t.DisplayMember?t.DataType="LINK":"Amount"==t.DisplayMember&&(t.DataType="FLOAT",t.DecimalPoints=i.a.SessionManager.Preferences.DecimalsinAmount.toString()):"Document Drafts_DashBoardCustomize"==e?"Date_Text"!=t.DisplayMember&&"Delete"!=t.DisplayMember||(t.DataType="LINK"):"Post Dated Documents_DashBoardCustomize"==e?"VoucherNo"==t.DisplayMember?t.DataType="LINK":"Amount"==t.DisplayMember&&(t.DataType="FLOAT",t.DecimalPoints=i.a.SessionManager.Preferences.DecimalsinAmount.toString()):"Notification Events_DashBoardCustomize"==e&&"VoucherNo"==t.DisplayMember&&(t.DataType="LINK")}}return s}},{key:"IsActionAssigned",value:function(e,t){return i.a.SessionManager.IsActionAssigned(e,t)}}]),r}(r.b)}}]);