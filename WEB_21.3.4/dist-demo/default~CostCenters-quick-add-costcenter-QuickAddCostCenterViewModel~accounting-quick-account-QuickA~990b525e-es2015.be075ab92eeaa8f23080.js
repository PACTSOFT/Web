(window.webpackJsonp=window.webpackJsonp||[]).push([[45,71,75,77,86,89,113,121,172],{"4k0m":function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var i=s("Do2H"),a=s("ScVY"),n=s("EQd/"),h=s("0/4Q");class o extends a.b{constructor(e,t,s,a){super(),this.Remarks=new n.c(0),this.CostCenterID=0,this.NodeID=0,this.Parent=null,this.retValWeb=0,this.IsUpdated=!1,this.CostCenterID=e,this.NodeID=t,this.Parent=a,this.ScreenObject=s,this.Remarks.Label=i.a.GetResource("Remarks")}SaveStatus(e,t,s,i=!0){let a=!1,n=null;"MonthlyPayrollViewModel"==this.Parent.ClassName?(n=this.Parent.SetDocStatus(e,t,s,new Date,this.Remarks.Text,!0,""),null!=n&&n.Tables.length>0&&n.Tables[0].length>0&&n.Columns[0].Contains("status")&&(this.Parent.DocStatus="["+n.Tables[0][0].status.toString()+"]",a=!0),null!=n&&n.Tables.length>0&&n.Tables[n.Tables.length-1].length>0&&n.Columns[n.Tables.length-1].Contains("ErrorMessage")&&(this.Parent.this.DisplayMessage=n.Tables[n.Tables.length-1][0].ErrorMessage.toString()),this.Parent.this.MessageVisibility=!0,a&&this.Parent.btnClear_Click()):"FinalSettlementViewModel"==this.Parent.ClassName&&(n=this.Parent.SetDocStatus(e,t,s,new Date,this.Remarks.Text,!0,""),null!=n&&n.Tables.length>0&&n.Tables[0].length>0&&n.Columns[0].Contains("status")&&(this.Parent.DocStatus="["+n.Tables[0][0].status.toString()+"]",a=!0),null!=n&&n.Tables.length>0&&n.Tables[n.Tables.length-1].length>0&&n.Columns[n.Tables.length-1].Contains("ErrorMessage")&&(this.Parent.this.DisplayMessage=n.Tables[n.Tables.length-1][0].ErrorMessage.toString()),this.Parent.this.MessageVisibility=!0,a&&this.Parent.Button_Click("Clear"))}onButtonClick(e){let t=0;if(40054==this.CostCenterID)"Approve"==e?i.a.SessionManager.IsActionAssigned(this.CostCenterID,"Edit")?this.Parent.btnPost_Click():this.SaveStatus(369,parseInt(this.Parent.oCMP.arrLstOthMPFields[0].dvPayProcessed[0].WorkFlowID),""):"Reject"==e&&this.SaveStatus(372,0,""),i.a.page.HideDialog();else if(40095==this.CostCenterID)"Approve"==e?i.a.SessionManager.IsActionAssigned(this.CostCenterID,"Edit")?(this.Parent.sCmdParameter="Approve",this.Parent.Button_Click("Save")):this.SaveStatus(369,this.Parent.WID,""):"Reject"==e&&this.SaveStatus(372,0,""),i.a.page.HideDialog();else{let s=this.ScreenObject.CurrentStatus;if("Approve"==e){if(!this.IsSaveValidated())return;let e=i.a.common.ApproveCostCenter(this.CostCenterID,this.NodeID,s,this.Remarks.Text,!1,0);this.DisplayMessage=e.Message,t=e.RetValue,t>0&&(this.IsUpdated||(this.ScreenObject.ButtonApproveVisible=!1,this.UpdateStatusID(t),null!=this.ScreenObject.drpStatus&&(null==this.ScreenObject.drpStatus.Items.find(e=>e.Value==t.toString())&&("1001"==t.toString()?this.ScreenObject.drpStatus.Items.push(h.d.ComboBoxItems_2("Un Approved","1001")):"1002"==t.toString()?this.ScreenObject.drpStatus.Items.push(h.d.ComboBoxItems_2("Approved","1002")):this.ScreenObject.drpStatus.Items.push(h.d.ComboBoxItems_2("Rejected","1003"))),this.ScreenObject.drpStatus.SelectedValue=t.toString(),this.ScreenObject.drpStatus.SetSelectedItem(t.toString())),i.a.SessionManager.IsWebApplication&&(this.retValWeb=t)),i.a.page.HideDialog())}else if("Reject"==e){if(!this.IsSaveValidated())return;let e=i.a.common.ApproveCostCenter(this.CostCenterID,this.NodeID,s,this.Remarks.Text,!0,0);this.DisplayMessage=e.Message,t=e.RetValue,t>0&&(this.IsUpdated||(this.UpdateStatusID(t),null!=this.ScreenObject.drpStatus&&(null==this.ScreenObject.drpStatus.Items.find(e=>e.Value==t.toString())&&("1001"==t.toString()?this.ScreenObject.drpStatus.Items.push(h.d.ComboBoxItems_2("Un Approved","1001")):"1002"==t.toString()?this.ScreenObject.drpStatus.Items.push(h.d.ComboBoxItems_2("Approved","1002")):this.ScreenObject.drpStatus.Items.push(h.d.ComboBoxItems_2("Rejected","1003"))),this.ScreenObject.drpStatus.SelectedValue=t.toString(),this.ScreenObject.drpStatus.SetSelectedItem(t.toString())),i.a.SessionManager.IsWebApplication&&(this.retValWeb=t)),i.a.page.HideDialog())}else i.a.page.HideDialog()}}UpdateStatusID(e){this.ScreenObject.CurrentStatus=e,"QuickAddAccountScreenViewModel"==this.Parent.ClassName||"AddEditAccountScreenViewModel"==this.Parent.ClassName?this.Parent.obj.StatusID=e:"QuickAddProductViewModel"==this.Parent.ClassName?this.Parent.objProduct.ProductStatus=e:"AddProductScreenViewModel"==this.Parent.ClassName?this.Parent.oProduct.ProductStatus=e:"QuickAddCostCenterViewModel"==this.Parent.ClassName||"AddCostCenterViewModel"==this.Parent.ClassName?this.Parent.objCostCenter.Status=e:"AddEditEmpMasterViewModel"==this.Parent.ClassName&&(this.Parent.objEmp.StatusID=e)}IsSaveValidated(){if(this.IsUpdated=!1,"QuickAddAccountScreenViewModel"==this.Parent.ClassName){let e=this.Parent;if(e.ButtonSave.Visible&&e.ButtonSave.Enable){if(e.SaveMethod("APPROVE_CALL"),0!=e.AccountID)return this.DisplayMessage=e.DisplayMessage,e.DisplayMessage="",!1;this.IsUpdated=!0,e.DisplayMessage=""}}else if("AddEditAccountScreenViewModel"==this.Parent.ClassName){let e=this.Parent;if(e.ButtonSave.Visible&&e.ButtonSave.Enable){if(e.OnSaveAccount("APPROVE_CALL"),0!=e.AccountID)return this.DisplayMessage=e.DisplayMessage,e.DisplayMessage="",!1;this.IsUpdated=!0,e.DisplayMessage=""}}else if("QuickAddProductViewModel"==this.Parent.ClassName){let e=this.Parent;if(e.ButtonSave.Visible&&e.ButtonSave.Enable){if(e.onSaveProduct("APPROVE_CALL"),0!=e.objProduct.ProductID)return this.DisplayMessage=e.DisplayMessage,e.DisplayMessage="",!1;this.IsUpdated=!0,e.DisplayMessage=""}}else if("AddProductScreenViewModel"==this.Parent.ClassName){let e=this.Parent;if(e.ButtonSave.Visible&&e.ButtonSave.Enable){if(e.OnSaveProduct("APPROVE_CALL"),0!=e.ProductID)return this.DisplayMessage=e.DisplayMessage,e.DisplayMessage="",!1;this.IsUpdated=!0,e.DisplayMessage=""}}else if("QuickAddCostCenterViewModel"==this.Parent.ClassName){let e=this.Parent;if(e.ButtonSave.Visible&&e.ButtonSave.Enable){if(e.SaveMethod(),0!=e.NodeID)return this.DisplayMessage=e.DisplayMessage,e.DisplayMessage="",!1;this.IsUpdated=!0,e.DisplayMessage=""}}else if("AddCostCenterViewModel"==this.Parent.ClassName){let e=this.Parent;if(e.ButtonSave.Visible&&e.ButtonSave.Enable){if(e.OnSaveCostCenter("Save"),0!=e.NodeID)return this.DisplayMessage=e.DisplayMessage,e.DisplayMessage="",!1;this.IsUpdated=!0,e.DisplayMessage=""}}else if("AddEditEmpMasterViewModel"==this.Parent.ClassName){let e=this.Parent;if(e.ButtonSave.Visible&&e.ButtonSave.Enable){if(e.OnSaveEmployee("Save"),0!=e.NodeID)return this.DisplayMessage=e.DisplayMessage,e.DisplayMessage="",!1;this.IsUpdated=!0,e.DisplayMessage=""}}return!0}}},EggS:function(e,t,s){"use strict";s.d(t,"a",(function(){return h}));var i=s("Do2H"),a=s("Lp6j"),n=s("eQJW");class h{constructor(){this.CustomerID=0,this.CustomerTypeID=0,this.StatusID=0,this.AccountID=0,this.ParentID=0,this.SelectedNodeID=0,this.CodeNumber=0,this.IsGroup=!1,this.CreditDays=0,this.CreditLimit=0,this.DebitDays=0,this.Debitlimit=0,this.IsCode=!1,this.ActivityXml="",this.CCXML=""}SaveCustomerQuick(){try{let e=[];return e.push(this.CustomerID),e.push(null!=this.CustomerCode?this.CustomerCode:""),e.push(null!=this.CustomerName?this.CustomerName:""),e.push(this.StatusID),e.push(this.CodePrefix),e.push(this.CodeNumber),e.push(this.StaticFieldsQuery),e.push(this.CustomFieldsQuery),e.push(this.CustomCostCenterFieldsQuery),e.push(i.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(""),e.push(i.a.SessionManager.UserName),e.push(i.a.SessionManager.RoleID),e.push(i.a.SessionManager.LanguageID),i.a.crmService.SetCustomerQuick(e)}catch(e){return Logger.ErrorLog("Account:: SaveAccountQuick"+e.stack),""}}SaveCustomer(){Logger.InfoLog("Customer:: Inside SaveCustomer");try{0==this.CustomerID&&(this.GUID=a.e.NewGuid());let e=[];return e.push(this.CustomerID),e.push(null!=this.CustomerCode?this.CustomerCode:""),e.push(null!=this.CustomerName?this.CustomerName:""),e.push(null!=this.AliasName?this.AliasName:""),e.push(this.CustomerTypeID),e.push(this.StatusID),e.push(this.AccountID),e.push(this.SelectedNodeID),e.push(this.IsGroup),e.push(this.CreditDays),e.push(this.CreditLimit),e.push(null!=this.UserName?this.UserName:""),e.push(null!=this.Password?this.Password:""),e.push(null!=this.OnlineCustType?this.OnlineCustType:""),e.push(i.a.SessionManager.CompanyGUID),e.push(null!=this.GUID?this.GUID:"GUID"),e.push(""),e.push(i.a.SessionManager.UserName),e.push(this.CustomFieldsQuery),e.push(this.CustomCostCenterFieldsQuery),e.push(this.ContactsXML),e.push(this.AttachmetsXML),e.push(this.NotesXML),e.push(this.AddressXML),e.push(this.ActivityXml),e.push(this.CCXML),e.push(!1),e.push(null==this.PrimaryContactQuery?"":this.PrimaryContactQuery),e.push(i.a.SessionManager.RoleID),e.push(i.a.SessionManager.LanguageID),e.push(null!=this.CodePrefix?this.CodePrefix:""),e.push(this.CodeNumber),e.push(this.IsCode),i.a.crmService.SaveCustomer(e)}catch(e){return Logger.ErrorLog("Customer:: SaveCustomer"+e.stack),""}}GetCustomerDetails(){let e=i.a.crmService.GetCustomerInfo("?UserID="+i.a.SessionManager.UserID+"&RoleID="+i.a.SessionManager.RoleID+"&LangID="+i.a.SessionManager.LangID+"&CustomerID="+this.CustomerID);return!e.Columns[0].Contains("ErrorMessage")&&e.Tables.length>0&&e.Tables[0].length>0&&(this.CustomerID=parseInt(e.Tables[0][0].CustomerID),this.CustomerCode=a.e.String(e.Tables[0][0].CustomerCode),this.CustomerName=a.e.String(e.Tables[0][0].CustomerName),this.AliasName=a.e.String(e.Tables[0][0].AliasName),a.e.IsEmpty(e.Tables[0][0].CustomerTypeID)||(this.CustomerTypeID=parseInt(e.Tables[0][0].CustomerTypeID)),this.StatusID=parseInt(e.Tables[0][0].StatusID),a.e.IsEmpty(e.Tables[0][0].AccountID)||(this.AccountID=parseInt(e.Tables[0][0].AccountID)),this.IsGroup=Object(n.j)(e.Tables[0][0].IsGroup),a.e.IsEmpty(e.Tables[0][0].CreditDays)||(this.CreditDays=parseInt(e.Tables[0][0].CreditDays)),a.e.IsEmpty(e.Tables[0][0].CreditLimit)||(this.CreditLimit=parseFloat(e.Tables[0][0].CreditLimit)),this.ParentID=parseInt(e.Tables[0][0].ParentID),this.GUID=a.e.String(e.Tables[0][0].GUID),this.Description=a.e.String(e.Tables[0][0].Description),this.CodePrefix=a.e.String(e.Tables[0][0].CodePrefix),this.UserName=a.e.String(e.Tables[0][0].UserName),this.OnlineCustType=a.e.String(e.Tables[0][0].OnlineCustType),this.Password=a.e.String(e.Tables[0][0].Password),a.e.IsEmpty(e.Tables[0][0].CodeNumber)||(this.CodeNumber=parseInt(e.Tables[0][0].CodeNumber))),e}DeleteCustomer(e,t){try{let s=[];return s.push(e),s.push(t),s.push(i.a.SessionManager.RoleID),s.push(i.a.SessionManager.LanguageID),Logger.InfoLog("Customer:: Success: DBH.DeleteCustomer "+e.toString()),i.a.crmService.RemoveCustomer(s)}catch(s){return Logger.ErrorLog("LEAD::DeleteLead"+s.stack),""}}}},NM0h:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var i=s("Do2H"),a=s("Lp6j");class n{constructor(){this.ChangeValueXML=null,this.DetailsXML=null,this.AMCode=null,this.AMName=null,this.AMPurchaseValue=null,this.HistoryXML=null,this.DocNo=null,this.XML=null,this.DocSave=null,this.CodePrefix=null,this.Sno=null,this.AssetClassID=0,this.DeprBookID=0,this.AcqnCostACCID=0,this.AccumDeprACCID=0,this.AcqnCostDispACCID=0,this.AccumDeprDispACCID=0,this.GainsDispACCID=0,this.LossDispACCID=0,this.MaintExpenseACCID=0,this.DeprExpenseACCID=0,this.PostingGroupID=0,this.AMStatusID=0,this.CodeNumber=0,this.AMAssetID=0,this.AMParentAssetID=0,this.IsGroup=!1,this.Post=!1,this.StatusID=0,this.DeprBookMethod=0,this.DeprBookMethodBasedOn=0,this.AveragingMethodID=0,this.DeprScheduleID=0,this.DeprTypeID=0,this.AssetClassCode=null,this.AssetClassName=null,this.GUID=null,this.DeprBookCode=null,this.DeprBookName=null,this.PostGroupCode=null,this.PostGroupName=null,this.AMGUID=null,this.RecordType=null,this.AMGroup=!1,this.IsIncreaseAssetValue=!1,this.EmpName=null,this.EmpCode=null,this.EmpID=0,this.SelectedNodeID=0,this.PostCCID=0,this.PostAssetID=0,this.ScheduleID=0,this.LocationID=0,this.AddressXML=null,this.NotesXML=null,this.ContactsXML=null,this.CustomCostCenterFieldsQuery=null,this.CustomFieldsQuery=null,this.PrimaryContactQuery=null,this.AttachmetsXML=null,this.DepreciationXML=null,this.JVXML=null,this.Description=null,this.DeprStartValue=0,this.ChangeVal=0,this.AssetNetValueChange=0,this.DeprBookMethodBasedOnValue=0,this.TotalYears=0}static GetAssetClassDetails(e){let t=[];return t.push(e),t.push(i.a.SessionManager.UserID),t.push(i.a.SessionManager.LanguageID),i.a.accounting.GetAssetClassDetails(t)}static GetPostingGroupDetails(e){let t=[];return t.push(e),t.push(i.a.SessionManager.UserID),t.push(i.a.SessionManager.LanguageID),i.a.accounting.GetPostingGroupDetails(t)}SaveAssetClass(){0==this.AssetClassID&&(this.GUID=a.e.NewGuid());let e=[];return e.push(this.AssetClassID),e.push(null!=this.AssetClassCode?this.AssetClassCode:""),e.push(null!=this.AssetClassName?this.AssetClassName:""),e.push(this.PostingGroupID),e.push(this.DeprBookID),e.push(this.DeprTypeID),e.push(this.TotalYears),e.push(this.StatusID),e.push(i.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(""),e.push(i.a.SessionManager.UserName),e.push(i.a.SessionManager.UserID),e.push(i.a.SessionManager.LanguageID),i.a.accounting.SetAssetClass(e)}static GetDeprBookDetails(e){let t=[];return t.push(e),t.push(i.a.SessionManager.UserID),t.push(i.a.SessionManager.LanguageID),i.a.accounting.GetDeprBookDetails(t)}PostJVvoucher(){this.GUID=a.e.NewGuid();let e=[];return e.push(this.PostAssetID),e.push(this.PostCCID),e.push(this.JVXML),e.push(this.Post),e.push(this.DeprTypeID),e.push(this.DocXML),e.push(this.DocSave),e.push(this.DepreciationXML),e.push(this.RecordType),e.push(i.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(i.a.SessionManager.UserName),e.push(i.a.SessionManager.UserID),e.push(i.a.SessionManager.LanguageID),i.a.accounting.GetPostJvVoucher(e)}SetAssetDispose(e){this.GUID=a.e.NewGuid();let t=[];return t.push(this.PostAssetID),t.push(e.ToString("dd/MMM/yyyy")),t.push(this.PostCCID),t.push(this.JVXML),t.push(this.Post),t.push(this.DeprTypeID),t.push(this.DocXML),t.push(this.DocSave),t.push(this.DepreciationXML),t.push(this.RecordType),t.push(i.a.SessionManager.CompanyGUID),t.push(this.GUID),t.push(i.a.SessionManager.UserName),t.push(i.a.SessionManager.UserID),t.push(i.a.SessionManager.LanguageID),i.a.accounting.SetAssetDispose(t)}SaveDeprBook(e,t,s){0==this.DeprBookID&&(this.GUID=a.e.NewGuid());let n=[];return n.push(this.DeprBookID),n.push(this.DeprBookCode),n.push(this.DeprBookName),n.push(this.DeprBookMethod),n.push(this.DeprBookMethodBasedOn),n.push(this.DeprBookMethodBasedOnValue),n.push(this.StatusID),n.push(this.AveragingMethodID),n.push(e),n.push(t),n.push(s),n.push(i.a.SessionManager.CompanyGUID),n.push(this.GUID),n.push(""),n.push(i.a.SessionManager.UserName),n.push(i.a.SessionManager.UserID),n.push(i.a.SessionManager.LanguageID),i.a.accounting.SetDeprBook(n)}SaveFAPostingGroup(){0==this.PostingGroupID&&(this.GUID=a.e.NewGuid());let e=[];return e.push(this.PostingGroupID),e.push(this.PostGroupCode),e.push(this.PostGroupName),e.push(this.AcqnCostACCID),e.push(this.AccumDeprACCID),e.push(this.AcqnCostDispACCID),e.push(this.AccumDeprDispACCID),e.push(this.GainsDispACCID),e.push(this.LossDispACCID),e.push(this.MaintExpenseACCID),e.push(this.DeprExpenseACCID),e.push(this.StatusID),e.push(0),e.push(this.IsGroup),e.push(i.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(i.a.SessionManager.UserName),e.push(i.a.SessionManager.UserID),e.push(i.a.SessionManager.LanguageID),i.a.accounting.SetPostingGroup(e)}static GetAssetManagementDetails(e){let t=[];return t.push(e),t.push(i.a.SessionManager.UserID),t.push(i.a.SessionManager.LanguageID),i.a.accounting.GetAssetManagementDetails(t)}static GetAssetDeprSchDetails(e){let t=[];return t.push(e),t.push(i.a.SessionManager.UserID),t.push(i.a.SessionManager.LanguageID),i.a.accounting.GetAssetDeprSchDetails(t)}SetAssetManagementDetails(){let e=[];return e.push(this.AMAssetID),e.push(this.AMCode),e.push(this.AMName),e.push(this.AMStatusID),e.push(this.AMPurchaseValue),e.push(this.AMParentAssetID),e.push(this.AMGroup),e.push(this.CodePrefix),e.push(this.CodeNumber),e.push(this.Sno),e.push(this.DetailsXML),e.push(this.ChangeValueXML),e.push(this.CustomFieldsQuery),e.push(this.CustomCostCenterFieldsQuery),e.push(this.DepreciationXML),e.push(this.HistoryXML),e.push(this.NotesXML),e.push(this.AttachmetsXML),e.push(i.a.SessionManager.CompanyGUID),e.push(this.AMGUID),e.push(i.a.SessionManager.UserName),e.push(i.a.SessionManager.UserID),e.push(i.a.SessionManager.LanguageID),i.a.accounting.SetAssetManagementDetails(e).toPromise()}static DeleteAsset(e){let t=[];return t.push(e),t.push(i.a.SessionManager.UserID),t.push(i.a.SessionManager.RoleID),i.a.accounting.DeleteAsset(t)}static DeleteAssetDeprSchedule(e){let t=[];return t.push(e),t.push(i.a.SessionManager.RoleID),t.push(i.a.SessionManager.LanguageID),i.a.accounting.DeleteAssetDeprSchedule(t)}static DeleteAssetRefDoc(e,t){let s=[];return s.push(e),s.push(t),s.push(i.a.SessionManager.UserID),i.a.accounting.DeleteAssetRefDoc(s)}PostDeprJV(){this.GUID=a.e.NewGuid();let e=[];return e.push(this.PostCCID),e.push(this.JVXML),e.push(this.Post),e.push(i.a.SessionManager.CompanyGUID),e.push(this.GUID),e.push(i.a.SessionManager.UserName),e.push(i.a.SessionManager.UserID),e.push(i.a.SessionManager.LanguageID),e.push(i.a.SessionManager.RoleID),i.a.accounting.PostDeprJV(e)}PostDeprJVSummary(e,t,s,n,h){this.GUID=a.e.NewGuid();let o=[];return o.push(e),o.push(t),o.push(s),o.push(n),o.push(h),o.push(i.a.SessionManager.CompanyGUID),o.push(i.a.SessionManager.UserName),o.push(i.a.SessionManager.UserID),o.push(i.a.SessionManager.LanguageID),i.a.accounting.SetDeprPostingJVSummary(o).toPromise()}static SetsPostDeprReverseJV(e,t,s){let a=[];return a.push(e),a.push(t),a.push(s),a.push(i.a.SessionManager.CompanyGUID),a.push(i.a.SessionManager.UserName),a.push(i.a.SessionManager.UserID),a.push(i.a.SessionManager.LanguageID),i.a.accounting.SetsPostDeprReverseJV(a)}ChangeValue(e,t){this.GUID=a.e.NewGuid();let s=[];return s.push(this.PostAssetID),s.push(e),s.push(this.ChangeVal),s.push(this.AssetNetValueChange),s.push(t.ToString("dd/MMM/yyyy")),s.push(this.Description),s.push(this.DepreciationXML),s.push(this.ChangeValueXML),s.push(this.HistoryXML),s.push(this.LocationID),s.push(this.IsIncreaseAssetValue),s.push(this.JVXML),s.push(this.ChangeValueTypeID),s.push(i.a.SessionManager.CompanyGUID),s.push(this.GUID),s.push(i.a.SessionManager.UserName),s.push(i.a.SessionManager.UserID),s.push(i.a.SessionManager.LanguageID),i.a.accounting.SetAssetChangeValue(s)}DisposeReverse(e){let t=[];return t.push(e),t.push(i.a.SessionManager.UserName),t.push(i.a.SessionManager.UserID),t.push(i.a.SessionManager.LanguageID),i.a.accounting.DisposeReverse(t)}}},sW9y:function(e,t,s){"use strict";s.d(t,"a",(function(){return l}));var i=s("wlFP"),a=s("8B8H"),n=s("ockk"),h=s("0/4Q"),o=s("Do2H"),r=s("Lp6j");class l{constructor(){this.AssignMapDimension=0,this.IsEdit=!1,this.AssignMapLabel="",this.SelectAll=new i.a(0),this.AssignGridObj=new a.a,this.SelectAllVisible=!1,this.SelectAllData=[],this.SessionManager=o.a.SessionManager}get angularGrid(){return this.AssignGridObj.angularGrid}get AssignGrid(){return this.AssignGridObj.Table}get AssignGridColumns(){return this.AssignGridObj.TableColumns}get AssignGridColumnSource(){return this.AssignGridObj.Columns}QuickAssignGrid_1(e,t,s){this.SessionManager=o.a.SessionManager,this.CostCenterID=e,this.IsGroup=s,this.ScreenData=t,this.InitAssignGrid()}InitAssignGrid(){this.AssignMapVisible=!1;let e=[];if(e=3==this.CostCenterID?this.ScreenData.Tables[10].filter(e=>"EnableAssignMapInQuickAdd"==e.Name):this.ScreenData.Tables[5].filter(e=>"EnableAssignMapInQuickAdd"==e.Name),e.length>0&&e[0].Value.toString().length>0){this.AssignMapLabel="",this.EnableAssign=this.EnableMap=!1;let t=new r.f;if(t.LoadXml(e[0].Value.toString()),"1"==t.DocumentElement.attributes.EnableAssign.value&&(this.AssignMapLabel="Assign",this.EnableAssign=!0),"1"==t.DocumentElement.attributes.EnableMap.value&&(this.AssignMapLabel.length>0&&(this.AssignMapLabel=this.AssignMapLabel+" / "),this.AssignMapLabel=this.AssignMapLabel+"Map",this.EnableMap=!0),this.AssignMapLabel.length>0){let e;this.AssignMapVisible=!0,null!=t.DocumentElement.attributes.Dimension&&(this.AssignMapDimension=parseInt(t.DocumentElement.attributes.Dimension.value)),this.AssignGridObj=new a.a,this.AssignGridObj.Width="",this.AssignGridObj.CanUserAddRows=!0,this.AssignGridObj.CanUserDeleteRows=!0,this.AssignGridObj.Table=[],this.EnableAssign&&this.EnableMap&&this.AssignGridObj.TableColumns.push("Action"),0==this.AssignMapDimension&&this.AssignGridObj.TableColumns.push("CostCenterID"),this.AssignGridObj.TableColumns.push("NodeID"),this.AssignGridObj.TableColumns.push("NodeID_Key"),this.AssignGridObj.TableColumns.push("StyleHeightZero");let s=[];if(this.EnableAssign&&this.EnableMap){e=new n.a,e.Header=this.SessionManager.translate.instant("Service_Action"),e.ValueBinding="Action",e.DataType="ComboBox",e.DisplayMember="Name",e.ValueMember="Value",e.Width=100;let t=[];t.push(h.d.ComboBoxItems_2("Assign","1")),t.push(h.d.ComboBoxItems_2("Map","2")),e.ComboData=t,s.push(e)}if(0==this.AssignMapDimension){let t;e=new n.a,e.Header=this.SessionManager.translate.instant("DocumentDesigner_CostCenter"),e.ValueBinding="CostCenterID",e.DataType="ComboBox",e.DisplayMember="Name",e.ValueMember="Value",e.Width=80;let i=null;i=o.a.common.GetDataSet("QASG001",""),t=i.Tables[0];let a=[];t.forEach(e=>{a.push(h.d.ComboBoxItems_2(e.Name.toString(),e.FeatureID.toString()))}),(!this.IsGroup&&o.a.SessionManager.Preferences.ContainsKey("Dimension List")&&o.a.SessionManager.Preferences["Dimension List"].split(",").Contains(this.CostCenterID.toString())||this.IsGroup&&o.a.SessionManager.Preferences.ContainsKey("DimensionGroup List")&&o.a.SessionManager.Preferences["DimensionGroup List"].split(",").Contains(this.CostCenterID.toString()))&&a.push(h.d.ComboBoxItems_2("Users","7")),e.ComboData=a,s.push(e)}e=new n.a,e.Header="Data",e.DataType="LISTBOX",e.DisplayMember="NodeID",e.TypeID=1,e.CostCenterID=this.AssignMapDimension,e.Width=this.EnableAssign&&this.EnableMap&&0==this.AssignMapDimension?200:this.EnableAssign&&this.EnableMap?255:0==this.AssignMapDimension?225:305,s.push(e),this.AssignGridObj.Columns=s;for(let t=0;t<8;t++)this.AssignGridObj.Table.push({});this.AssignGridObj.BeginEdit.Subscribe(this,"OnBeginEdit"),1==this.AssignGridObj.Columns.length&&this.EnableAssign?(this.SelectAllVisible=!0,this.SelectAll.CheckedChangedCommand.Subscribe(this,"onCheckedChanged"),this.SelectAll.Label="Select All"):this.SelectAllVisible=!1,this.Clear()}}}OnBeginEdit(e){return"DataGridPactListBoxColumn"==e.args.column.className&&this.AssignGridObj.TableColumns.Contains("CostCenterID")&&(""!=e.args.item.CostCenterID.toString()?(e.args.column.internalColumnEditor.collection.CCID=parseInt(e.args.item.CostCenterID.toString()),e.args.column.internalColumnEditor.collection.TypeID=1):e.args.column.internalColumnEditor.collection.CCID=0),!1}onCheckedChanged(e){this.SelectAll.IsChecked&&1==this.AssignGridObj.Columns.length&&this.AssignGridObj.Columns[0].CostCenterID>5e4&&(this.SelectAllData=o.a.common.GetDataSet("QASG002",this.AssignGridObj.Columns[0].CostCenterID.toString()),this.SelectAllData&&(this.AssignGridObj.Table=[],this.SelectAllData.forEach(e=>{let t=o.a.slick.emptyObj();t.NodeID=e.Name,t.NodeID_Key=e.NodeID,this.AssignGridObj.Table.push(t)})))}Clear(){if(this.IsEdit=!1,this.AssignMapVisible){this.AssignGridObj.Table.Clear();for(let t=0;t<10;t++)this.AssignGridObj.addEmptyRow();let e=0;"True"==o.a.SessionManager.Preferences.EnableLocationWise.toString()&&o.a.SessionManager.LocationID>0&&50002!=this.CostCenterID&&(this.EnableAssign&&(2==this.CostCenterID&&"TRUE"==o.a.SessionManager.Preferences["LW Accounts"].toUpperCase()||3==this.CostCenterID&&"TRUE"==o.a.SessionManager.Preferences["LW Products"].toUpperCase()||this.CostCenterID>5e4&&o.a.SessionManager.Preferences.LocationWiseDimension.split(",").Contains(this.CostCenterID.toString()))&&(0!=this.AssignMapDimension&&50002!=this.AssignMapDimension||(0==this.AssignMapDimension&&(this.AssignGridObj.Table[e].CostCenterID=50002),this.AssignGridObj.TableColumns.Contains("Action")&&(this.AssignGridObj.Table[e].Action=1),this.AssignGridObj.Table[e].NodeID_Key=o.a.SessionManager.LocationID,this.AssignGridObj.Table[e].NodeID=o.a.SessionManager.LocationName,e++)),this.EnableMap&&50002==this.AssignMapDimension&&(this.AssignGridObj.TableColumns.Contains("Action")&&(this.AssignGridObj.Table[e].Action=2),this.AssignGridObj.Table[e].NodeID_Key=o.a.SessionManager.LocationID,this.AssignGridObj.Table[e].NodeID=o.a.SessionManager.LocationName,e++)),"True"==o.a.SessionManager.Preferences.EnableDivisionWise.toString()&&o.a.SessionManager.DivisionID>0&&50001!=this.CostCenterID&&(this.EnableAssign&&(2==this.CostCenterID&&"TRUE"==o.a.SessionManager.Preferences["DW Accounts"].toUpperCase()||3==this.CostCenterID&&"TRUE"==o.a.SessionManager.Preferences["DW Products"].toUpperCase()||this.CostCenterID>5e4&&o.a.SessionManager.Preferences.DivisionWiseDimension.split(",").Contains(this.CostCenterID.toString()))&&(0!=this.AssignMapDimension&&50001!=this.AssignMapDimension||(0==this.AssignMapDimension&&(this.AssignGridObj.Table[e].CostCenterID=50001),this.AssignGridObj.TableColumns.Contains("Action")&&(this.AssignGridObj.Table[e].Action=1),this.AssignGridObj.Table[e].NodeID_Key=o.a.SessionManager.DivisionID,this.AssignGridObj.Table[e].NodeID=o.a.SessionManager.DivisionName,e++)),this.EnableMap&&50001==this.AssignMapDimension&&(this.AssignGridObj.TableColumns.Contains("Action")&&(this.AssignGridObj.Table[e].Action=2),this.AssignGridObj.Table[e].NodeID_Key=o.a.SessionManager.DivisionID,this.AssignGridObj.Table[e].NodeID=o.a.SessionManager.DivisionName,e++))}}LoadGrid(e,t){if(this.IsEdit=!0,!this.AssignMapVisible)return;let s="1"==o.a.SessionManager.RoleID||"1"==o.a.SessionManager.UserID||"True"!=o.a.SessionManager.Preferences.EnableLocationWise.toString(),i=o.a.SessionManager.LocationWhere.split(",");if(50002==this.AssignMapDimension&&"True"==o.a.SessionManager.Preferences.EnableLocationWise.toString()&&o.a.SessionManager.LocationID>0&&(this.EnableAssign&&(this.AssignGridObj.TableColumns.Contains("Action")&&(this.AssignGridObj.Table[0].Action=null),this.AssignGridObj.Table[0].NodeID_Key=null,this.AssignGridObj.Table[0].NodeID=null),this.EnableMap)){let e=this.EnableAssign?1:0;this.AssignGridObj.TableColumns.Contains("Action")&&(this.AssignGridObj.Table[e].Action=null),this.AssignGridObj.Table[e].NodeID_Key=null,this.AssignGridObj.Table[e].NodeID=null}let a,n=0;if(this.EnableAssign&&t.forEach(e=>{a=parseInt(e.CostCenterId),0!=this.AssignMapDimension&&a!=this.AssignMapDimension||(this.AssignGridObj.Table.length<=n+2&&this.AssignGridObj.Table.push({}),this.AssignGridObj.TableColumns.Contains("CostCenterID")&&(this.AssignGridObj.Table[n].CostCenterID=e.CostCenterId),this.AssignGridObj.TableColumns.Contains("Action")&&(this.AssignGridObj.Table[n].Action="1"),this.AssignGridObj.Table[n].NodeID_Key=e.NodeID,this.AssignGridObj.Table[n].NodeID=e.Value,50002==a&&(s||i.Contains(e.NodeID.toString())||(this.AssignGridObj.Table[n].StyleHeightZero=1)),n++)}),this.EnableMap){let t=o.a.inventory.GetCostCenterDetails(this.CostCenterID,e,2,this.AssignMapDimension);null!=t&&t.Tables.length>0&&t.Columns[0].Contains("NodeID")&&t.Tables[0].forEach(e=>{a=parseInt(e.CCID),this.AssignGridObj.Table.length<=n+2&&this.AssignGridObj.Table.push({}),this.AssignGridObj.TableColumns.Contains("CostCenterID")&&(this.AssignGridObj.Table[n].CostCenterID=e.CCID),this.AssignGridObj.TableColumns.Contains("Action")&&(this.AssignGridObj.Table[n].Action="2"),this.AssignGridObj.Table[n].NodeID_Key=e.NodeID,this.AssignGridObj.Table[n].NodeID=e.Value,50002==a&&(s||i.Contains(e.NodeID.toString())||(this.AssignGridObj.Table[n].StyleHeightZero=1)),n++})}}GetXML(e){e.strXML="";let t,s="";if(!this.AssignMapVisible){if(!this.IsEdit){if("TRUE"==o.a.SessionManager.Preferences.EnableLocationWise.toUpperCase()&&50002!=this.CostCenterID&&(2==this.CostCenterID&&"TRUE"==o.a.SessionManager.Preferences["LW Accounts"].toUpperCase()||3==this.CostCenterID&&"TRUE"==o.a.SessionManager.Preferences["LW Products"].toUpperCase()||this.CostCenterID>5e4&&o.a.SessionManager.Preferences.LocationWiseDimension.split(",").Contains(this.CostCenterID.toString()))){if(!(o.a.SessionManager.LocationID>0))return"Please login with location to create dimension.";s+="<Row ",s+=' CostCenterId="50002"',s+=' NodeID="'+o.a.SessionManager.LocationID.toString()+'"',s+="/>"}if("TRUE"==o.a.SessionManager.Preferences.EnableDivisionWise.toUpperCase()&&50001!=this.CostCenterID&&(2==this.CostCenterID&&"TRUE"==o.a.SessionManager.Preferences["DW Accounts"].toUpperCase()||3==this.CostCenterID&&"TRUE"==o.a.SessionManager.Preferences["DW Products"].toUpperCase()||this.CostCenterID>5e4&&o.a.SessionManager.Preferences.DivisionWiseDimension.split(",").Contains(this.CostCenterID.toString()))){if(!(o.a.SessionManager.DivisionID>0))return"Please login with division to create dimension.";s+="<Row ",s+=' CostCenterId="50001"',s+=' NodeID="'+o.a.SessionManager.DivisionID.toString()+'"',s+="/>"}"1"!=o.a.SessionManager.UserID&&(this.CostCenterID>5e4||7==this.CostCenterID)&&(!this.IsGroup&&o.a.SessionManager.Preferences["Dimension List"].split(",").Contains(this.CostCenterID.toString())||this.IsGroup&&o.a.SessionManager.Preferences["DimensionGroup List"].split(",").Contains(this.CostCenterID.toString()))&&(s+="<Row ",s+=' CostCenterId="7"',s+=' NodeID="'+o.a.SessionManager.UserID+'"',s+="/>"),s.length>0&&(s="<XML>"+s,s+="</XML>")}return e.strXML=s.toString(),""}if(t=this.EnableAssign&&this.EnableMap?"ASSIGN/MAP":this.EnableAssign?"ASSIGN":"MAP",s+='<ASSIGNMAPXML Dimension="'+this.AssignMapDimension+'" Action="'+t+'">',this.EnableAssign&&this.EnableMap){let e=this.AssignGridObj.Table;e=e.filter(e=>"1"==e.Action),s+="<ASSIGN>",s+=this.GetRowXML(e),"1"!=o.a.SessionManager.UserID&&(this.CostCenterID>5e4||7==this.CostCenterID)&&(!this.IsGroup&&o.a.SessionManager.Preferences["Dimension List"].split(",").Contains(this.CostCenterID.toString())||this.IsGroup&&o.a.SessionManager.Preferences["DimensionGroup List"].split(",").Contains(this.CostCenterID.toString()))&&(e=e.filter(e=>7==e.CostCenterID&&e.NodeID_Key>o.a.SessionManager.UserID),0==e.length&&(s+="<R ",s+=' CCID="7"',s+=' ID="'+o.a.SessionManager.UserID+'"',s+="/>")),s+="</ASSIGN>",e=this.AssignGridObj.Table,e=e.filter(e=>"2"==e.Action),s+="<MAP>",s+=this.GetRowXML(e),s+="</MAP>"}else if(this.EnableAssign){if(s+="<ASSIGN>",s+=this.GetRowXML(this.AssignGridObj.Table),"1"!=o.a.SessionManager.UserID&&(this.CostCenterID>5e4||7==this.CostCenterID)&&(!this.IsGroup&&o.a.SessionManager.Preferences["Dimension List"].split(",").Contains(this.CostCenterID.toString())||this.IsGroup&&o.a.SessionManager.Preferences["DimensionGroup List"].split(",").Contains(this.CostCenterID.toString()))){let e=this.AssignGridObj.Table;e=e.filter(e=>7==e.CostCenterID&&e.NodeID_Key>o.a.SessionManager.UserID),0==e.length&&(s+="<R ",s+=' CCID="7"',s+=' ID="'+o.a.SessionManager.UserID+'"',s+="/>")}s+="</ASSIGN>"}else this.EnableMap&&(s+="<MAP>",s+=this.GetRowXML(this.AssignGridObj.Table),s+="</MAP>");if(s+="</ASSIGNMAPXML>","TRUE"==o.a.SessionManager.Preferences.EnableLocationWise.toUpperCase()&&50002!=this.CostCenterID){let e=[];if(this.EnableAssign&&this.EnableMap?e=this.AssignGridObj.Table.filter(e=>"1"==e.Action&&50002==e.CostCenterID&&null!=e.NodeID_Key&&e.NodeID_Key>0):this.EnableAssign&&(50002==this.AssignMapDimension?e=this.AssignGridObj.Table.filter(e=>null!=e.NodeID_Key&&e.NodeID_Key>0):this.AssignGridObj.TableColumns.Contains("CostCenterID")&&(e=this.AssignGridObj.Table.filter(e=>50002==e.CostCenterID&&null!=e.NodeID_Key&&e.NodeID_Key>0))),(2==this.CostCenterID&&"TRUE"==o.a.SessionManager.Preferences["LW Accounts"].toUpperCase()||3==this.CostCenterID&&"TRUE"==o.a.SessionManager.Preferences["LW Products"].toUpperCase()||this.CostCenterID>5e4&&o.a.SessionManager.Preferences.LocationWiseDimension.split(",").Contains(this.CostCenterID.toString()))&&0==e.length)return"Please Assign atleast one Location"}if("TRUE"==o.a.SessionManager.Preferences.EnableDivisionWise.toUpperCase()&&50001!=this.CostCenterID){let e=[];if(this.EnableAssign&&this.EnableMap?e=this.AssignGridObj.Table.filter(e=>"1"==e.Action&&50001==e.CostCenterID&&null!=e.NodeID_Key&&e.NodeID_Key>0):this.EnableAssign&&(50001==this.AssignMapDimension?e=this.AssignGridObj.Table.filter(e=>null!=e.NodeID_Key&&e.NodeID_Key>0):this.AssignGridObj.TableColumns.Contains("CostCenterID")&&(e=this.AssignGridObj.Table.filter(e=>50001==e.CostCenterID&&null!=e.NodeID_Key&&e.NodeID_Key>0))),(2==this.CostCenterID&&"TRUE"==o.a.SessionManager.Preferences["DW Accounts"].toUpperCase()||3==this.CostCenterID&&"TRUE"==o.a.SessionManager.Preferences["DW Products"].toUpperCase()||this.CostCenterID>5e4&&o.a.SessionManager.Preferences.DivisionWiseDimension.split(",").Contains(this.CostCenterID.toString()))&&0==e.length)return"Please Assign atleast one Division"}return e.strXML=s.toString(),""}GetRowXML(e){let t="",s=e;return s.length>0&&(s=s.ToTable(!0,0==this.AssignMapDimension?["CostCenterId","NodeID","NodeID_Key"]:["NodeID","NodeID_Key"]),s.forEach(e=>{e.NodeID_Key&&e.NodeID_Key.toString().length>0&&(t+='<R CCID="',t+=0==this.AssignMapDimension?e.CostCenterID.toString():this.AssignMapDimension,t+='" ID="'+e.NodeID_Key.toString()+'"/>')})),t.toString()}}},wJuo:function(e,t,s){"use strict";s.d(t,"a",(function(){return l}));var i=s("Do2H"),a=s("Lp6j"),n=s("eQJW"),h=s("4HhE"),o=s("OvA8"),r=s("xnJf");class l{constructor(){this.parent=null,this.SubmitClick=new h.b,this._AttachmentVisibility=!1,this.ClassName="PopupAttachmentsViewModel"}get ProductPhoto(){return this._ProductPhoto}set ProductPhoto(e){e!=this._ProductPhoto&&(this._ProductPhoto=e)}get AttachmentVisibility(){return this._AttachmentVisibility}set AttachmentVisibility(e){e!=this._AttachmentVisibility&&(this._AttachmentVisibility=e)}get Attachment(){return this._Attachment}set Attachment(e){e!=this._Attachment&&(this._Attachment=e)}get ViewAttachments(){return this._ViewAttachments}set ViewAttachments(e){e!=this._ViewAttachments&&(this._ViewAttachments=e)}OnShowAttachment(){Logger.InfoLog("AddProductViewModel::Entering OnShowAttachment"),Logger.InfoLog("AddProductViewModel::Exiting OnShowAttachment")}OnAddAttachment(){Logger.InfoLog("AddProductViewModel::Entering AddAttachment"),this.Attachment=new r.AddAttachmentViewModel,this.Attachment.AddAttachmentViewModel_2(this),Logger.InfoLog("AddProductViewModel::Entering AddAttachment")}PopupAttachmentsViewModel_1(e,t,s){var i,h,l;this.parent=s,this.AttachmentVisibility=!0,this.OnAddAttachment(),this.CostCenterID=e,this.NID=t,this._ViewAttachments=new o.ViewAttachmentViewModel(this),this.SubmitClick.Subscribe(this,"ListAttachments");let u=0,p="",c="";if("AddProductScreenViewModel"==(null===(i=this.parent)||void 0===i?void 0:i.ClassName)?(u=s.FileID,p=s.ProductPhoto,c=s.FileDescription):"AddEditAccountViewModel"==(null===(h=this.parent)||void 0===h?void 0:h.ClassName)||"AddUsersViewModel"==(null===(l=this.parent)||void 0===l?void 0:l.ClassName)?(u=s.FileID,p=s.AccountPhoto):(u=this.parent.FileID,p=this.parent.AccountPhoto,c=this.parent.FileDescription),null!=s){if(!a.e.IsEmpty(p)){let e=new r.AddAttachmentViewModel;if(e.AddAttachmentViewModel_2(this),e.AttachmentID=u,u>0){let t=null;"AddProductScreenViewModel"==this.parent.ClassName||"AddEditAccountViewModel"==this.parent.ClassName?t=s.ds.Tables[4].filter(e=>e.FileID==u):"AddUsersViewModel"==this.parent.ClassName||"AddCostCenterViewModel"==this.parent.ClassName?t=this.parent.ds.Tables[3].filter(e=>e.FileID==u):"AddEditEmpMasterViewModel"==this.parent.ClassName?t=this.parent.dsEdit.Tables[3].filter(e=>e.FileID==u):"AddEditPropertyViewModel"==s.ClassName?t=s.ds.Tables[18].filter(e=>e.FileID==u):"AddEditUnitsViewModel"==s.ClassName?t=s.ds.Tables[6].filter(e=>e.FileID==u):"AddEditTenantViewModel"==s.ClassName&&(t=s.Dset.Tables[4].filter(e=>e.FileID==u)),t.length>0&&(e.ActualFileName=t[0].ActualFileName.toString(),e.FileExtension=t[0].FileExtension.toString(),e.FileDescription=t[0].FileDescription.toString(),e.FilePath="",e.Guid=t[0].GUID.toString(),e.RelativeFileName=t[0].RelativeFileName.toString(),e.MainFilePath=t[0].FilePath.toString(),e.IsProductImage=!0,e.IsDefaultImage=!0,e.IsDefaultImageVisible=!0,e.CancelVisible=!1,e.Guid=t[0].GUID.toString(),a.e.hasprop(t[0],"HasThumb")&&(e.HasThumb=Object(n.j)(t[0].HasThumb)))}else{e.FilePath=p,e.MainFilePath=p,e.RelativeFileName=p,e.ActualFileName=e.FilePath.substr(e.FilePath.lastIndexOf("\\")+1);let t=e.FilePath.split("."),s="";t.length>1&&(s=t[t.length-1]),e.FileExtension=s,e.FileDescription=c,e.IsProductImage=!0,e.IsDefaultImage=!0,e.IsDefaultImageVisible=!0,e.CancelVisible=!1,e.Guid=this.parent.guid}this.ViewAttachments.AttachmentsList.push(e)}let e=[];(a.e.IsType(s,"IAttachment")||a.e.hasprop(s,"ViewAttachments"))&&(e=this.parent.ViewAttachments.AttachmentsList),e.forEach(e=>{if(e.IsProductImage){let t=new r.AddAttachmentViewModel;t.AddAttachmentViewModel_2(this),t.AttachmentID=e.AttachmentID,t.ActualFileName=e.ActualFileName,t.FileExtension=e.FileExtension,t.FileDescription=e.FileDescription,t.MainFilePath=e.MainFilePath,t.FilePath=e.FilePath,t.Guid=e.guid,t.RelativeFileName=e.RelativeFileName,t.IsProductImage=e.IsProductImage,t.IsDefaultImage=e.IsDefaultImage,t.IsDefaultImageVisible=!0,t.HasThumb=e.HasThumb,this.ViewAttachments.AttachmentsList.push(t)}})}}ListAttachments(e){if("Submit"==e.toString()){if("AddProductScreenViewModel"==this.parent.ClassName){let e=0;this.ViewAttachments.AttachmentsList.forEach(t=>{var s=this.parent.ViewAttachments.AttachmentsList.filter(e=>e.RelativeFileName==t.RelativeFileName);t.IsDefaultImage?(e++,null!=s&&s.length>0&&this.parent.ViewAttachments.AttachmentsList.Remove(s),(a.e.IsEmpty(t.FilePath)||this.parent.ProductPhoto==t.FilePath)&&this.parent.ProductPhoto.Contains(a.e.GetPath(t.guid+"."+t.FileExtension))||(this.parent.FileID=t.AttachmentID,this.parent.ProductPhoto=a.e.IsEmpty(t.guid)?t.FilePath:a.e.GetPath(t.guid+"."+t.FileExtension),this.parent.ActualFileName=t.ActualFileName,this.parent.ThumbnailPhoto=t.ThumbnailPhoto,this.parent.guid=t.guid,this.parent.Guid=t.guid,this.parent.FileExtension=t.FileExtension,this.parent.IsPhotoChanged=!0,this.parent.PhotoTextVisibility=!1,this.parent.DisplayMessage="",this.parent.MessageVisibility=!1,this.parent.FileDescription=t.FileDescription),t.IsModified=!0):null==s||0==s.length?(t.AttachmentID>0?(t.IsModified=!0,null!=(s=this.parent.ViewAttachments.AttachmentsList.filter(e=>e.AttachmentID==t.AttachmentID))&&this.parent.ViewAttachments.AttachmentsList.Remove(s)):(t.IsModified=!1,t._Flg=!0),this.parent.ViewAttachments.AttachmentsList.push(t)):(s.FileDescription=t.FileDescription,s.IsModified=!0)}),0==e&&(this.parent.ProductPhoto="",this.parent.ActualFileName="",this.parent.ThumbnailPhoto="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.DialogResult=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage="",this.parent.FileDescription=""),this.ViewAttachments.DeletedAttachments.forEach(e=>{this.parent.ViewAttachments.DeletedAttachments.push(e);let t=this.parent.ViewAttachments.AttachmentsList.find(t=>t.AttachmentID==e.AttachmentID);null!=t&&this.parent.ViewAttachments.AttachmentsList.Remove(t)})}else if("AddEditAccountViewModel"==this.parent.ClassName){let e=0;this.ViewAttachments.AttachmentsList.forEach(t=>{var s=this.parent.ViewAttachments.AttachmentsList.filter(e=>e.RelativeFileName==t.RelativeFileName);t.IsDefaultImage?(e++,null!=s&&s.length>0&&this.parent.ViewAttachments.AttachmentsList.Remove(s),(a.e.IsEmpty(t.FilePath)||this.parent.AccountPhoto==t.FilePath)&&this.parent.AccountPhoto.Contains(a.e.GetPath(t.guid+"."+t.FileExtension))||(this.parent.FileID=t.AttachmentID,this.parent.AccountPhoto=a.e.IsEmpty(t.guid)?t.FilePath:a.e.GetPath(t.guid+"."+t.FileExtension),this.parent.ActualFileName=t.ActualFileName,this.parent.guid=t.guid,this.parent.Guid=t.guid,this.parent.FileExtension=t.FileExtension,this.parent.IsPhotoChanged=!0,this.parent.PhotoTextVisibility=!1,this.parent.DisplayMessage="",this.parent.MessageVisibility=!1),t.IsModified=!0):null==s||0==s.length?(t.AttachmentID>0?(t.IsModified=!0,null!=(s=this.parent.ViewAttachments.AttachmentsList.filter(e=>e.AttachmentID==t.AttachmentID))&&this.parent.ViewAttachments.AttachmentsList.Remove(s)):(t.IsModified=!1,t._Flg=!0),this.parent.ViewAttachments.AttachmentsList.push(t)):(s.FileDescription=t.FileDescription,s.IsModified=!0)}),0==e&&(this.parent.AccountPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage=""),this.ViewAttachments.DeletedAttachments.forEach(e=>{this.parent.ViewAttachments.DeletedAttachments.push(e);let t=this.parent.ViewAttachments.AttachmentsList.filter(t=>t.AttachmentID==e.AttachmentID);null!=t&&this.parent.ViewAttachments.AttachmentsList.Remove(t)})}else if("AddUsersViewModel"==this.parent.ClassName){let e=0;this.ViewAttachments.AttachmentsList.forEach(t=>{var s=this.parent.ViewAttachments.AttachmentsList.filter(e=>e.RelativeFileName==t.RelativeFileName);t.IsDefaultImage?(e++,null!=s&&s.length>0&&this.parent.ViewAttachments.AttachmentsList.Remove(s),(a.e.IsEmpty(t.FilePath)||this.parent.AccountPhoto==t.FilePath)&&this.parent.AccountPhoto.Contains(a.e.GetPath(t.guid+"."+t.FileExtension))||(this.parent.FileID=t.AttachmentID,this.parent.AccountPhoto=a.e.IsEmpty(t.guid)?t.FilePath:a.e.GetPath(t.guid+"."+t.FileExtension),this.parent.ActualFileName=t.ActualFileName,this.parent.IsPhotoChanged=!0,this.parent.PhotoTextVisibility=!1,this.parent.DisplayMessage="",this.parent.MessageVisibility=!1),t.IsModified=!0):null==s||0==s.length?(t.AttachmentID>0?(t.IsModified=!0,null!=(s=this.parent.ViewAttachments.AttachmentsList.filter(e=>e.AttachmentID==t.AttachmentID))&&this.parent.ViewAttachments.AttachmentsList.Remove(s)):(t.IsModified=!1,t._Flg=!0),this.parent.ViewAttachments.AttachmentsList.push(t)):(s.FileDescription=t.FileDescription,s.IsModified=!0)}),0==e&&(this.parent.AccountPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.DialogResult=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage=""),this.ViewAttachments.DeletedAttachments.forEach(e=>{this.parent.ViewAttachments.DeletedAttachments.push(e);let t=this.parent.ViewAttachments.AttachmentsList.find(t=>t.AttachmentID==e.AttachmentID);t&&this.parent.ViewAttachments.AttachmentsList.Remove(t)})}else if("AddCostCenterViewModel"==this.parent.ClassName){let e=0;this.ViewAttachments.AttachmentsList.forEach(t=>{var s=this.parent.ViewAttachments.AttachmentsList.filter(e=>e.RelativeFileName==t.RelativeFileName);t.IsDefaultImage?(e++,null!=s&&s.length>0&&this.parent.ViewAttachments.AttachmentsList.Remove(s),(a.e.IsEmpty(t.FilePath)||this.parent.AccountPhoto==t.FilePath)&&this.parent.AccountPhoto.Contains(a.e.GetPath(t.guid))||(this.parent.FileID=t.AttachmentID,this.parent.AccountPhoto=a.e.IsEmpty(t.guid)?t.FilePath:a.e.GetPath(t.guid),this.parent.ThumbnailPhoto=t.ThumbnailPhoto,this.parent.ActualFileName=t.ActualFileName,this.parent.guid=t.guid,this.parent.Guid=t.guid,this.parent.FileExtension=t.FileExtension,this.parent.IsPhotoChanged=!0,this.parent.PhotoTextVisibility=!1,this.parent.DisplayMessage="",this.parent.MessageVisibility=!1),t.IsModified=!0):null==s||0==s.length?(t.AttachmentID>0?(t.IsModified=!0,null!=(s=this.parent.ViewAttachments.AttachmentsList.filter(e=>e.AttachmentID==t.AttachmentID))&&this.parent.ViewAttachments.AttachmentsList.Remove(s)):(t.IsModified=!1,t._Flg=!0),this.parent.ViewAttachments.AttachmentsList.push(t)):(s.FileDescription=t.FileDescription,s.IsModified=!0)}),0==e&&(this.parent.AccountPhoto="",this.parent.ThumbnailPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage=""),this.ViewAttachments.DeletedAttachments.forEach(e=>{this.parent.ViewAttachments.DeletedAttachments.push(e);let t=this.parent.ViewAttachments.AttachmentsList.find(t=>t.AttachmentID==e.AttachmentID);t&&this.parent.ViewAttachments.AttachmentsList.Remove(t)})}else if("AddEditEmpMasterViewModel"==this.parent.ClassName||"AddEditPropertyViewModel"==this.parent.ClassName||"AddEditUnitsViewModel"==this.parent.ClassName||"AddEditTenantViewModel"==this.parent.ClassName){let e=0;this.ViewAttachments.AttachmentsList.forEach(t=>{var s=this.parent.ViewAttachments.AttachmentsList.filter(e=>e.RelativeFileName==t.RelativeFileName);t.IsDefaultImage?(e++,null!=s&&this.parent.ViewAttachments.AttachmentsList.Remove(s),(a.e.IsEmpty(t.FilePath)||this.parent.AccountPhoto==t.FilePath)&&this.parent.AccountPhoto.Contains(a.e.GetPath(t.guid+"."+t.FileExtension))||(this.parent.FileID=t.AttachmentID,this.parent.AccountPhoto=a.e.IsEmpty(t.guid)?t.FilePath:a.e.GetPath(t.guid+"."+t.FileExtension),this.parent.ActualFileName=t.ActualFileName,this.parent.IsPhotoChanged=!0,this.parent.PhotoTextVisibility=!1,this.parent.EmpAttachmentguid=t.guid.toString(),this.parent.DisplayMessage="",this.parent.FileExtension=t.FileExtension,this.parent.MessageVisibility=!1,this.parent.FileDescription=t.FileDescription),t.IsModified=!0):null==s||0==s.length?(t.AttachmentID>0?(t.IsModified=!0,null!=(s=this.parent.ViewAttachments.AttachmentsList.filter(e=>e.AttachmentID==t.AttachmentID))&&this.parent.ViewAttachments.AttachmentsList.Remove(s)):(t.IsModified=!1,t._Flg=!0),this.parent.ViewAttachments.AttachmentsList.push(t)):(s.FileDescription=t.FileDescription,s.IsModified=!0)}),0==e&&(this.parent.AccountPhoto="",this.parent.ActualFileName="",this.parent.IsPhotoChanged=!1,this.parent.IsPhotoDelete=!1,this.parent.PhotoTextVisibility=!0,this.parent.DisplayMessage="",this.parent.FileDescription=""),this.ViewAttachments.DeletedAttachments.forEach(e=>{this.parent.ViewAttachments.DeletedAttachments.push(e);let t=this.parent.ViewAttachments.AttachmentsList.filter(t=>t.AttachmentID==e.AttachmentID);null!=t&&this.parent.ViewAttachments.AttachmentsList.Remove(t)})}i.a.page.HideDialog()}else i.a.page.HideDialog()}}}}]);